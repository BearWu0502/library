{"remainingRequest":"/home/glenn/下載/enms-20210823T000019Z-001/enms/node_modules/babel-loader/lib/index.js!/home/glenn/下載/enms-20210823T000019Z-001/enms/node_modules/@coreui/vue/dist/coreui-vue.common.js","dependencies":[{"path":"/home/glenn/下載/enms-20210823T000019Z-001/enms/node_modules/@coreui/vue/dist/coreui-vue.common.js","mtime":499162500000},{"path":"/home/glenn/下載/enms-20210823T000019Z-001/enms/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/glenn/下載/enms-20210823T000019Z-001/enms/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7ICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7IGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7IF90eXBlb2YyID0gZnVuY3Rpb24gX3R5cGVvZjIob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mMiA9IGZ1bmN0aW9uIF90eXBlb2YyKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gInN5bWJvbCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mMihvYmopOyB9Cgptb2R1bGUuZXhwb3J0cyA9Ci8qKioqKiovCmZ1bmN0aW9uIChtb2R1bGVzKSB7CiAgLy8gd2VicGFja0Jvb3RzdHJhcAoKICAvKioqKioqLwogIC8vIFRoZSBtb2R1bGUgY2FjaGUKCiAgLyoqKioqKi8KICB2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9OwogIC8qKioqKiovCgogIC8qKioqKiovCiAgLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb24KCiAgLyoqKioqKi8KCiAgZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkgewogICAgLyoqKioqKi8KCiAgICAvKioqKioqLwogICAgLy8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlCgogICAgLyoqKioqKi8KICAgIGlmIChpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkgewogICAgICAvKioqKioqLwogICAgICByZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0czsKICAgICAgLyoqKioqKi8KICAgIH0KICAgIC8qKioqKiovCiAgICAvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKQoKICAgIC8qKioqKiovCgoKICAgIHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHsKICAgICAgLyoqKioqKi8KICAgICAgaTogbW9kdWxlSWQsCgogICAgICAvKioqKioqLwogICAgICBsOiBmYWxzZSwKCiAgICAgIC8qKioqKiovCiAgICAgIGV4cG9ydHM6IHt9CiAgICAgIC8qKioqKiovCgogICAgfTsKICAgIC8qKioqKiovCgogICAgLyoqKioqKi8KICAgIC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvbgoKICAgIC8qKioqKiovCgogICAgbW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7CiAgICAvKioqKioqLwoKICAgIC8qKioqKiovCiAgICAvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkCgogICAgLyoqKioqKi8KCiAgICBtb2R1bGUubCA9IHRydWU7CiAgICAvKioqKioqLwoKICAgIC8qKioqKiovCiAgICAvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZQoKICAgIC8qKioqKiovCgogICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgLyoqKioqKi8KICB9CiAgLyoqKioqKi8KCiAgLyoqKioqKi8KCiAgLyoqKioqKi8KICAvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKQoKICAvKioqKioqLwoKCiAgX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlczsKICAvKioqKioqLwoKICAvKioqKioqLwogIC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlCgogIC8qKioqKiovCgogIF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7CiAgLyoqKioqKi8KCiAgLyoqKioqKi8KICAvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHMKCiAgLyoqKioqKi8KCiAgX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24gKGV4cG9ydHMsIG5hbWUsIGdldHRlcikgewogICAgLyoqKioqKi8KICAgIGlmICghX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7CiAgICAgIC8qKioqKiovCiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7CiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICBnZXQ6IGdldHRlcgogICAgICB9KTsKICAgICAgLyoqKioqKi8KICAgIH0KICAgIC8qKioqKiovCgogIH07CiAgLyoqKioqKi8KCiAgLyoqKioqKi8KICAvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzCgogIC8qKioqKiovCgoKICBfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbiAoZXhwb3J0cykgewogICAgLyoqKioqKi8KICAgIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHsKICAgICAgLyoqKioqKi8KICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgewogICAgICAgIHZhbHVlOiAnTW9kdWxlJwogICAgICB9KTsKICAgICAgLyoqKioqKi8KICAgIH0KICAgIC8qKioqKiovCgoKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsKICAgICAgdmFsdWU6IHRydWUKICAgIH0pOwogICAgLyoqKioqKi8KICB9OwogIC8qKioqKiovCgogIC8qKioqKiovCiAgLy8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0CgogIC8qKioqKiovCiAgLy8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0CgogIC8qKioqKiovCiAgLy8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zCgogIC8qKioqKiovCiAgLy8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0CgogIC8qKioqKiovCiAgLy8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZQoKICAvKioqKioqLwoKCiAgX193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24gKHZhbHVlLCBtb2RlKSB7CiAgICAvKioqKioqLwogICAgaWYgKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpOwogICAgLyoqKioqKi8KCiAgICBpZiAobW9kZSAmIDgpIHJldHVybiB2YWx1ZTsKICAgIC8qKioqKiovCgogICAgaWYgKG1vZGUgJiA0ICYmIF90eXBlb2YyKHZhbHVlKSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlOwogICAgLyoqKioqKi8KCiAgICB2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgLyoqKioqKi8KCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpOwogICAgLyoqKioqKi8KCgogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsKICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgdmFsdWU6IHZhbHVlCiAgICB9KTsKICAgIC8qKioqKiovCgogICAgaWYgKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7CiAgICAgIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgcmV0dXJuIHZhbHVlW2tleV07CiAgICAgIH0uYmluZChudWxsLCBrZXkpKTsKICAgIH0KICAgIC8qKioqKiovCgogICAgcmV0dXJuIG5zOwogICAgLyoqKioqKi8KICB9OwogIC8qKioqKiovCgogIC8qKioqKiovCiAgLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXMKCiAgLyoqKioqKi8KCgogIF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uIChtb2R1bGUpIHsKICAgIC8qKioqKiovCiAgICB2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID8KICAgIC8qKioqKiovCiAgICBmdW5jdGlvbiBnZXREZWZhdWx0KCkgewogICAgICByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107CiAgICB9IDoKICAgIC8qKioqKiovCiAgICBmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgewogICAgICByZXR1cm4gbW9kdWxlOwogICAgfTsKICAgIC8qKioqKiovCgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpOwogICAgLyoqKioqKi8KCgogICAgcmV0dXJuIGdldHRlcjsKICAgIC8qKioqKiovCiAgfTsKICAvKioqKioqLwoKICAvKioqKioqLwogIC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbAoKICAvKioqKioqLwoKCiAgX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24gKG9iamVjdCwgcHJvcGVydHkpIHsKICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7CiAgfTsKICAvKioqKioqLwoKICAvKioqKioqLwogIC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fCgogIC8qKioqKiovCgoKICBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSAiIjsKICAvKioqKioqLwoKICAvKioqKioqLwoKICAvKioqKioqLwogIC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0cwoKICAvKioqKioqLwoKICByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAiZmIxNSIpOwogIC8qKioqKiovCn0oCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgovKioqKioqLwp7CiAgLyoqKi8KICAiMGNkNiI6CiAgLyoqKi8KICBmdW5jdGlvbiBjZDYobW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICAvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8KCiAgICAoZnVuY3Rpb24gKHByb2Nlc3MpIHsKICAgICAgLyogaGFybW9ueSBpbXBvcnQgKi8KICAgICAgdmFyIF9DUHJvZ3Jlc3NCYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyA9IF9fd2VicGFja19yZXF1aXJlX18oIjhmYzEiKTsKICAgICAgLyogaGFybW9ueSBpbXBvcnQgKi8KCgogICAgICB2YXIgX3NoYXJlZF9wcm9wc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygiYjY4MyIpOwoKICAgICAgZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICAgICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgICAgICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICAgICAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgICAgICAgfSk7CiAgICAgICAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4ga2V5czsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgICAgICAgaWYgKGkgJSAyKSB7CiAgICAgICAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICAgIF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0YXJnZXQ7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICAgICAgICBpZiAoa2V5IGluIG9iaikgewogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9ialtrZXldID0gdmFsdWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gb2JqOwogICAgICB9IC8vCiAgICAgIC8vCiAgICAgIC8vCiAgICAgIC8vCiAgICAgIC8vCiAgICAgIC8vCiAgICAgIC8vCiAgICAgIC8vCiAgICAgIC8vCiAgICAgIC8vCiAgICAgIC8vCgoKICAgICAgdmFyIHByb3BzID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfc2hhcmVkX3Byb3BzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19bCiAgICAgIC8qIGRlZmF1bHQgKi8KICAgICAgImEiXSksIHt9LCB7CiAgICAgICAgaGVpZ2h0OiBTdHJpbmcsCiAgICAgICAgc2l6ZTogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsKSB7CiAgICAgICAgICAgIHJldHVybiBbJycsICd4cycsICdzbSddLmluY2x1ZGVzKHZhbCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICAgIF9fd2VicGFja19leHBvcnRzX19bImEiXSA9IHsKICAgICAgICBuYW1lOiAnQ1Byb2dyZXNzJywKICAgICAgICBjb21wb25lbnRzOiB7CiAgICAgICAgICBDUHJvZ3Jlc3NCYXI6IF9DUHJvZ3Jlc3NCYXJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX1sKICAgICAgICAgIC8qIGRlZmF1bHQgKi8KICAgICAgICAgICJhIl0KICAgICAgICB9LAogICAgICAgIHByb3BzOiBwcm9wcywKICAgICAgICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgICAgICAgIGlmICh0aGlzLmhlaWdodCAmJiBwcm9jZXNzICYmIE9iamVjdCh7CiAgICAgICAgICAgICJOT0RFX0VOViI6ICJwcm9kdWN0aW9uIiwKICAgICAgICAgICAgIkJBU0VfVVJMIjogIi8iCiAgICAgICAgICB9KSAmJiAicHJvZHVjdGlvbiIgPT09ICdkZXZlbG9wbWVudCcpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigiQ1Byb2dyZXNzIGNvbXBvbmVudDogJ2hlaWdodCcgcHJvcCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgdmVyc2lvbi4gVXNlICdzaXplJyBwcm9wIGluc3RlYWQgb3IgcGFzcyBjdXN0b20gaGVpZ2h0IGluICdzdHlsZScgYXR0cmlidXRlLiIpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHsKICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgICAgdmFyIHByb2dyZXNzID0ge307CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvZ3Jlc3MsICdwcm9wcycsIHsKICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9wcm9wczsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBwcm9ncmVzczogcHJvZ3Jlc3MKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9OwogICAgICAvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8KICAgIH0pLmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygiNDM2MiIpKTsKICAgIC8qKiovCiAgfSwKCiAgLyoqKi8KICAiMWU3ZSI6CiAgLyoqKi8KICBmdW5jdGlvbiBlN2UobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZwogICAgLy8gbG9hZCB0aGUgc3R5bGVzCiAgICB2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oImNlYWEiKTsKCiAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaSwgY29udGVudCwgJyddXTsKICAgIGlmIChjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FsczsgLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTQoKICAgIHZhciBhZGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKCI0OTllIikuZGVmYXVsdDsKCiAgICB2YXIgdXBkYXRlID0gYWRkKCIyODliMmM3MCIsIGNvbnRlbnQsIHRydWUsIHsKICAgICAgInNvdXJjZU1hcCI6IGZhbHNlLAogICAgICAic2hhZG93TW9kZSI6IGZhbHNlCiAgICB9KTsKICAgIC8qKiovCiAgfSwKCiAgLyoqKi8KICAiMjNlMiI6CiAgLyoqKi8KICBmdW5jdGlvbiBlMihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgIC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnCiAgICAvLyBsb2FkIHRoZSBzdHlsZXMKICAgIHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygiODk4ZiIpOwoKICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pLCBjb250ZW50LCAnJ11dOwogICAgaWYgKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzOyAvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NCgogICAgdmFyIGFkZCA9IF9fd2VicGFja19yZXF1aXJlX18oIjQ5OWUiKS5kZWZhdWx0OwoKICAgIHZhciB1cGRhdGUgPSBhZGQoIjUyZjg1YjRlIiwgY29udGVudCwgdHJ1ZSwgewogICAgICAic291cmNlTWFwIjogZmFsc2UsCiAgICAgICJzaGFkb3dNb2RlIjogZmFsc2UKICAgIH0pOwogICAgLyoqKi8KICB9LAoKICAvKioqLwogICIyNGZiIjoKICAvKioqLwogIGZ1bmN0aW9uIGZiKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgInVzZSBzdHJpY3QiOwogICAgLyoKICAgICAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHAKICAgICAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYQogICAgKi8KICAgIC8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lcwoKICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkgewogICAgICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nCgogICAgICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTsKCiAgICAgICAgICBpZiAoaXRlbVsyXSkgewogICAgICAgICAgICByZXR1cm4gIkBtZWRpYSAiLmNvbmNhdChpdGVtWzJdLCAiIHsiKS5jb25jYXQoY29udGVudCwgIn0iKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gY29udGVudDsKICAgICAgICB9KS5qb2luKCcnKTsKICAgICAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3QKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXMKCgogICAgICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7CiAgICAgICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykgewogICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduCiAgICAgICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dOwogICAgICAgIH0KCiAgICAgICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTsKCiAgICAgICAgaWYgKGRlZHVwZSkgewogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZwogICAgICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdOwoKICAgICAgICAgICAgaWYgKGlkICE9IG51bGwpIHsKICAgICAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykgewogICAgICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pOwoKICAgICAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkgewogICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWUKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKG1lZGlhUXVlcnkpIHsKICAgICAgICAgICAgaWYgKCFpdGVtWzJdKSB7CiAgICAgICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaXRlbVsyXSA9ICIiLmNvbmNhdChtZWRpYVF1ZXJ5LCAiIGFuZCAiKS5jb25jYXQoaXRlbVsyXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBsaXN0LnB1c2goaXRlbSk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgcmV0dXJuIGxpc3Q7CiAgICB9OwoKICAgIGZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7CiAgICAgIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nCgogICAgICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107CgogICAgICBpZiAoIWNzc01hcHBpbmcpIHsKICAgICAgICByZXR1cm4gY29udGVudDsKICAgICAgfQoKICAgICAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpOwogICAgICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7CiAgICAgICAgICByZXR1cm4gIi8qIyBzb3VyY2VVUkw9Ii5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8ICcnKS5jb25jYXQoc291cmNlLCAiICovIik7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXG4nKTsKICAgICAgfQoKICAgICAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcbicpOwogICAgfSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpCgoKICAgIGZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHsKICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmCiAgICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpOwogICAgICB2YXIgZGF0YSA9ICJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwiLmNvbmNhdChiYXNlNjQpOwogICAgICByZXR1cm4gIi8qIyAiLmNvbmNhdChkYXRhLCAiICovIik7CiAgICB9CiAgICAvKioqLwoKICB9LAoKICAvKioqLwogICIyODc3IjoKICAvKioqLwogIGZ1bmN0aW9uIF8obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICAvKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8KCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgImEiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBub3JtYWxpemVDb21wb25lbnQ7CiAgICB9KTsKICAgIC8qIGdsb2JhbHMgX19WVUVfU1NSX0NPTlRFWFRfXyAqLwogICAgLy8gSU1QT1JUQU5UOiBEbyBOT1QgdXNlIEVTMjAxNSBmZWF0dXJlcyBpbiB0aGlzIGZpbGUgKGV4Y2VwdCBmb3IgbW9kdWxlcykuCiAgICAvLyBUaGlzIG1vZHVsZSBpcyBhIHJ1bnRpbWUgdXRpbGl0eSBmb3IgY2xlYW5lciBjb21wb25lbnQgbW9kdWxlIG91dHB1dCBhbmQgd2lsbAogICAgLy8gYmUgaW5jbHVkZWQgaW4gdGhlIGZpbmFsIHdlYnBhY2sgdXNlciBidW5kbGUuCgoKICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUNvbXBvbmVudChzY3JpcHRFeHBvcnRzLCByZW5kZXIsIHN0YXRpY1JlbmRlckZucywgZnVuY3Rpb25hbFRlbXBsYXRlLCBpbmplY3RTdHlsZXMsIHNjb3BlSWQsIG1vZHVsZUlkZW50aWZpZXIsCiAgICAvKiBzZXJ2ZXIgb25seSAqLwogICAgc2hhZG93TW9kZQogICAgLyogdnVlLWNsaSBvbmx5ICovCiAgICApIHsKICAgICAgLy8gVnVlLmV4dGVuZCBjb25zdHJ1Y3RvciBleHBvcnQgaW50ZXJvcAogICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBzY3JpcHRFeHBvcnRzID09PSAnZnVuY3Rpb24nID8gc2NyaXB0RXhwb3J0cy5vcHRpb25zIDogc2NyaXB0RXhwb3J0czsgLy8gcmVuZGVyIGZ1bmN0aW9ucwoKICAgICAgaWYgKHJlbmRlcikgewogICAgICAgIG9wdGlvbnMucmVuZGVyID0gcmVuZGVyOwogICAgICAgIG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zID0gc3RhdGljUmVuZGVyRm5zOwogICAgICAgIG9wdGlvbnMuX2NvbXBpbGVkID0gdHJ1ZTsKICAgICAgfSAvLyBmdW5jdGlvbmFsIHRlbXBsYXRlCgoKICAgICAgaWYgKGZ1bmN0aW9uYWxUZW1wbGF0ZSkgewogICAgICAgIG9wdGlvbnMuZnVuY3Rpb25hbCA9IHRydWU7CiAgICAgIH0gLy8gc2NvcGVkSWQKCgogICAgICBpZiAoc2NvcGVJZCkgewogICAgICAgIG9wdGlvbnMuX3Njb3BlSWQgPSAnZGF0YS12LScgKyBzY29wZUlkOwogICAgICB9CgogICAgICB2YXIgaG9vazsKCiAgICAgIGlmIChtb2R1bGVJZGVudGlmaWVyKSB7CiAgICAgICAgLy8gc2VydmVyIGJ1aWxkCiAgICAgICAgaG9vayA9IGZ1bmN0aW9uIGhvb2soY29udGV4dCkgewogICAgICAgICAgLy8gMi4zIGluamVjdGlvbgogICAgICAgICAgY29udGV4dCA9IGNvbnRleHQgfHwgLy8gY2FjaGVkIGNhbGwKICAgICAgICAgIHRoaXMuJHZub2RlICYmIHRoaXMuJHZub2RlLnNzckNvbnRleHQgfHwgLy8gc3RhdGVmdWwKICAgICAgICAgIHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LiR2bm9kZSAmJiB0aGlzLnBhcmVudC4kdm5vZGUuc3NyQ29udGV4dDsgLy8gZnVuY3Rpb25hbAogICAgICAgICAgLy8gMi4yIHdpdGggcnVuSW5OZXdDb250ZXh0OiB0cnVlCgogICAgICAgICAgaWYgKCFjb250ZXh0ICYmIHR5cGVvZiBfX1ZVRV9TU1JfQ09OVEVYVF9fICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICBjb250ZXh0ID0gX19WVUVfU1NSX0NPTlRFWFRfXzsKICAgICAgICAgIH0gLy8gaW5qZWN0IGNvbXBvbmVudCBzdHlsZXMKCgogICAgICAgICAgaWYgKGluamVjdFN0eWxlcykgewogICAgICAgICAgICBpbmplY3RTdHlsZXMuY2FsbCh0aGlzLCBjb250ZXh0KTsKICAgICAgICAgIH0gLy8gcmVnaXN0ZXIgY29tcG9uZW50IG1vZHVsZSBpZGVudGlmaWVyIGZvciBhc3luYyBjaHVuayBpbmZlcnJlbmNlCgoKICAgICAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuX3JlZ2lzdGVyZWRDb21wb25lbnRzKSB7CiAgICAgICAgICAgIGNvbnRleHQuX3JlZ2lzdGVyZWRDb21wb25lbnRzLmFkZChtb2R1bGVJZGVudGlmaWVyKTsKICAgICAgICAgIH0KICAgICAgICB9OyAvLyB1c2VkIGJ5IHNzciBpbiBjYXNlIGNvbXBvbmVudCBpcyBjYWNoZWQgYW5kIGJlZm9yZUNyZWF0ZQogICAgICAgIC8vIG5ldmVyIGdldHMgY2FsbGVkCgoKICAgICAgICBvcHRpb25zLl9zc3JSZWdpc3RlciA9IGhvb2s7CiAgICAgIH0gZWxzZSBpZiAoaW5qZWN0U3R5bGVzKSB7CiAgICAgICAgaG9vayA9IHNoYWRvd01vZGUgPyBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpbmplY3RTdHlsZXMuY2FsbCh0aGlzLCAob3B0aW9ucy5mdW5jdGlvbmFsID8gdGhpcy5wYXJlbnQgOiB0aGlzKS4kcm9vdC4kb3B0aW9ucy5zaGFkb3dSb290KTsKICAgICAgICB9IDogaW5qZWN0U3R5bGVzOwogICAgICB9CgogICAgICBpZiAoaG9vaykgewogICAgICAgIGlmIChvcHRpb25zLmZ1bmN0aW9uYWwpIHsKICAgICAgICAgIC8vIGZvciB0ZW1wbGF0ZS1vbmx5IGhvdC1yZWxvYWQgYmVjYXVzZSBpbiB0aGF0IGNhc2UgdGhlIHJlbmRlciBmbiBkb2Vzbid0CiAgICAgICAgICAvLyBnbyB0aHJvdWdoIHRoZSBub3JtYWxpemVyCiAgICAgICAgICBvcHRpb25zLl9pbmplY3RTdHlsZXMgPSBob29rOyAvLyByZWdpc3RlciBmb3IgZnVuY3Rpb25hbCBjb21wb25lbnQgaW4gdnVlIGZpbGUKCiAgICAgICAgICB2YXIgb3JpZ2luYWxSZW5kZXIgPSBvcHRpb25zLnJlbmRlcjsKCiAgICAgICAgICBvcHRpb25zLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcldpdGhTdHlsZUluamVjdGlvbihoLCBjb250ZXh0KSB7CiAgICAgICAgICAgIGhvb2suY2FsbChjb250ZXh0KTsKICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsUmVuZGVyKGgsIGNvbnRleHQpOwogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gaW5qZWN0IGNvbXBvbmVudCByZWdpc3RyYXRpb24gYXMgYmVmb3JlQ3JlYXRlIGhvb2sKICAgICAgICAgIHZhciBleGlzdGluZyA9IG9wdGlvbnMuYmVmb3JlQ3JlYXRlOwogICAgICAgICAgb3B0aW9ucy5iZWZvcmVDcmVhdGUgPSBleGlzdGluZyA/IFtdLmNvbmNhdChleGlzdGluZywgaG9vaykgOiBbaG9va107CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGV4cG9ydHM6IHNjcmlwdEV4cG9ydHMsCiAgICAgICAgb3B0aW9uczogb3B0aW9ucwogICAgICB9OwogICAgfQogICAgLyoqKi8KCiAgfSwKCiAgLyoqKi8KICAiMzNjOCI6CiAgLyoqKi8KICBmdW5jdGlvbiBjOChtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLwoKICAgIChmdW5jdGlvbiAocHJvY2VzcykgewogICAgICBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgICAgICAgaWYgKGtleSBpbiBvYmopIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGU6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBvYmpba2V5XSA9IHZhbHVlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG9iajsKICAgICAgfSAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwogICAgICAvLwoKICAgICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICAgIF9fd2VicGFja19leHBvcnRzX19bImEiXSA9IHsKICAgICAgICBuYW1lOiAnQ0ljb24nLAogICAgICAgIHByb3BzOiB7CiAgICAgICAgICBuYW1lOiBTdHJpbmcsCiAgICAgICAgICBjb250ZW50OiBbU3RyaW5nLCBBcnJheV0sCiAgICAgICAgICBzaXplOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3Ioc2l6ZSkgewogICAgICAgICAgICAgIHJldHVybiBbJ2N1c3RvbScsICdjdXN0b20tc2l6ZScsICdzbScsICdsZycsICd4bCcsICcyeGwnLCAnM3hsJywgJzR4bCcsICc1eGwnLCAnNnhsJywgJzd4bCcsICc4eGwnLCAnOXhsJ10uaW5jbHVkZXMoc2l6ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBjdXN0b21DbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XSwKICAgICAgICAgIHNyYzogU3RyaW5nLAogICAgICAgICAgdGl0bGU6IFN0cmluZywKICAgICAgICAgIHVzZTogU3RyaW5nCiAgICAgICAgfSwKICAgICAgICBjb21wdXRlZDogewogICAgICAgICAgaWNvbk5hbWU6IGZ1bmN0aW9uIGljb25OYW1lKCkgewogICAgICAgICAgICB2YXIgaWNvbk5hbWVJc0tlYmFiQ2FzZSA9IHRoaXMubmFtZSAmJiB0aGlzLm5hbWUuaW5jbHVkZXMoJy0nKTsKICAgICAgICAgICAgcmV0dXJuIGljb25OYW1lSXNLZWJhYkNhc2UgPyB0aGlzLnRvQ2FtZWxDYXNlKHRoaXMubmFtZSkgOiB0aGlzLm5hbWU7CiAgICAgICAgICB9LAogICAgICAgICAgdGl0bGVDb2RlOiBmdW5jdGlvbiB0aXRsZUNvZGUoKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnRpdGxlID8gIjx0aXRsZT4iLmNvbmNhdCh0aGlzLnRpdGxlLCAiPC90aXRsZT4iKSA6ICcnOwogICAgICAgICAgfSwKICAgICAgICAgIGNvZGU6IGZ1bmN0aW9uIGNvZGUoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50OwogICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuJHJvb3QuJG9wdGlvbnMuaWNvbnMpIHsKICAgICAgICAgICAgICB2YXIgaWNvbiA9IHRoaXMuJHJvb3QuJG9wdGlvbnMuaWNvbnNbdGhpcy5pY29uTmFtZV07CgogICAgICAgICAgICAgIGlmICghaWNvbiAmJiBwcm9jZXNzICYmIE9iamVjdCh7CiAgICAgICAgICAgICAgICAiTk9ERV9FTlYiOiAicHJvZHVjdGlvbiIsCiAgICAgICAgICAgICAgICAiQkFTRV9VUkwiOiAiLyIKICAgICAgICAgICAgICB9KSAmJiAicHJvZHVjdGlvbiIgPT09ICdkZXZlbG9wbWVudCcpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NJY29uOiAiJyArIHRoaXMuaWNvbk5hbWUgKyAnIiBpcyBub3QgcmVnaXN0ZXJlZCBpbiAkcm9vdC5pY29ucyBvYmplY3QuIEZvciBDSWNvbiBkb2NzIHZpc2l0IGh0dHBzOi8vY29yZXVpLmlvL3Z1ZS9kb2NzL2NvbXBvbmVudHMvaWNvbi5odG1sJyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gaWNvbjsKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGljb25Db2RlOiBmdW5jdGlvbiBpY29uQ29kZSgpIHsKICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGhpcy5jb2RlKSA/IHRoaXMuY29kZVsxXSB8fCB0aGlzLmNvZGVbMF0gOiB0aGlzLmNvZGU7CiAgICAgICAgICB9LAogICAgICAgICAgc2NhbGU6IGZ1bmN0aW9uIHNjYWxlKCkgewogICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh0aGlzLmNvZGUpICYmIHRoaXMuY29kZS5sZW5ndGggPiAxID8gdGhpcy5jb2RlWzBdIDogJzY0IDY0JzsKICAgICAgICAgIH0sCiAgICAgICAgICB2aWV3Qm94OiBmdW5jdGlvbiB2aWV3Qm94KCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kYXR0cnMudmlld0JveCB8fCAiMCAwICIuY29uY2F0KHRoaXMuc2NhbGUpOwogICAgICAgICAgfSwKICAgICAgICAgIGNvbXB1dGVkU2l6ZTogZnVuY3Rpb24gY29tcHV0ZWRTaXplKCkgewogICAgICAgICAgICB2YXIgYWRkQ3VzdG9tID0gIXRoaXMuc2l6ZSAmJiAodGhpcy4kYXR0cnMud2lkdGggfHwgdGhpcy4kYXR0cnMuaGVpZ2h0KTsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZSA9PT0gJ2N1c3RvbScgfHwgYWRkQ3VzdG9tID8gJ2N1c3RvbS1zaXplJyA6IHRoaXMuc2l6ZTsKICAgICAgICAgIH0sCiAgICAgICAgICBjb21wdXRlZENsYXNzZXM6IGZ1bmN0aW9uIGNvbXB1dGVkQ2xhc3NlcygpIHsKICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLmNvbXB1dGVkU2l6ZTsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tQ2xhc3NlcyB8fCBbJ2MtaWNvbicsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgImMtaWNvbi0iLmNvbmNhdChzaXplKSwgc2l6ZSldOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbWV0aG9kczogewogICAgICAgICAgdG9DYW1lbENhc2U6IGZ1bmN0aW9uIHRvQ2FtZWxDYXNlKHN0cikgewogICAgICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbLV9dW2EtejAtOV0pL2lnLCBmdW5jdGlvbiAoJDEpIHsKICAgICAgICAgICAgICByZXR1cm4gJDEudG9VcHBlckNhc2UoKTsKICAgICAgICAgICAgfSkucmVwbGFjZSgvLS9pZywgJycpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgICAgLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovCiAgICB9KS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oIjQzNjIiKSk7CiAgICAvKioqLwogIH0sCgogIC8qKiovCiAgIjM4YzAiOgogIC8qKiovCiAgZnVuY3Rpb24gYzAobW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICAvKiBoYXJtb255IGltcG9ydCAqLwoKICAgIHZhciBfbm9kZV9tb2R1bGVzX3Z1ZV9zdHlsZV9sb2FkZXJfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8wX25vZGVfbW9kdWxlc19jc3NfbG9hZGVyX2Rpc3RfY2pzX2pzX3JlZl82X29uZU9mXzFfMV9ub2RlX21vZHVsZXNfdnVlX2xvYWRlcl9saWJfbG9hZGVyc19zdHlsZVBvc3RMb2FkZXJfanNfbm9kZV9tb2R1bGVzX3Bvc3Rjc3NfbG9hZGVyX3NyY19pbmRleF9qc19yZWZfNl9vbmVPZl8xXzJfbm9kZV9tb2R1bGVzX3Bvc3Rjc3NfbG9hZGVyX3NyY19pbmRleF9qc19yZWZfNl9vbmVPZl8xXzNfbm9kZV9tb2R1bGVzX2NhY2hlX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfMF8wX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9pbmRleF9qc192dWVfbG9hZGVyX29wdGlvbnNfQ1RvYXN0X3Z1ZV92dWVfdHlwZV9zdHlsZV9pbmRleF8wX2lkXzcyMDgxNTJmX3Njb3BlZF90cnVlX2xhbmdfY3NzX19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygiMWU3ZSIpOwogICAgLyogaGFybW9ueSBpbXBvcnQgKi8KCgogICAgdmFyIF9ub2RlX21vZHVsZXNfdnVlX3N0eWxlX2xvYWRlcl9pbmRleF9qc19yZWZfNl9vbmVPZl8xXzBfbm9kZV9tb2R1bGVzX2Nzc19sb2FkZXJfZGlzdF9janNfanNfcmVmXzZfb25lT2ZfMV8xX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc19ub2RlX21vZHVsZXNfcG9zdGNzc19sb2FkZXJfc3JjX2luZGV4X2pzX3JlZl82X29uZU9mXzFfMl9ub2RlX21vZHVsZXNfcG9zdGNzc19sb2FkZXJfc3JjX2luZGV4X2pzX3JlZl82X29uZU9mXzFfM19ub2RlX21vZHVsZXNfY2FjaGVfbG9hZGVyX2Rpc3RfY2pzX2pzX3JlZl8wXzBfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2luZGV4X2pzX3Z1ZV9sb2FkZXJfb3B0aW9uc19DVG9hc3RfdnVlX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzBfaWRfNzIwODE1MmZfc2NvcGVkX3RydWVfbGFuZ19jc3NfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX25vZGVfbW9kdWxlc192dWVfc3R5bGVfbG9hZGVyX2luZGV4X2pzX3JlZl82X29uZU9mXzFfMF9ub2RlX21vZHVsZXNfY3NzX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfNl9vbmVPZl8xXzFfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2xvYWRlcnNfc3R5bGVQb3N0TG9hZGVyX2pzX25vZGVfbW9kdWxlc19wb3N0Y3NzX2xvYWRlcl9zcmNfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8yX25vZGVfbW9kdWxlc19wb3N0Y3NzX2xvYWRlcl9zcmNfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8zX25vZGVfbW9kdWxlc19jYWNoZV9sb2FkZXJfZGlzdF9janNfanNfcmVmXzBfMF9ub2RlX21vZHVsZXNfdnVlX2xvYWRlcl9saWJfaW5kZXhfanNfdnVlX2xvYWRlcl9vcHRpb25zX0NUb2FzdF92dWVfdnVlX3R5cGVfc3R5bGVfaW5kZXhfMF9pZF83MjA4MTUyZl9zY29wZWRfdHJ1ZV9sYW5nX2Nzc19fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7CiAgICAvKiB1bnVzZWQgaGFybW9ueSByZWV4cG9ydCAqICovCgogICAgLyogdW51c2VkIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIF91bnVzZWRfd2VicGFja19kZWZhdWx0X2V4cG9ydCA9IF9ub2RlX21vZHVsZXNfdnVlX3N0eWxlX2xvYWRlcl9pbmRleF9qc19yZWZfNl9vbmVPZl8xXzBfbm9kZV9tb2R1bGVzX2Nzc19sb2FkZXJfZGlzdF9janNfanNfcmVmXzZfb25lT2ZfMV8xX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc19ub2RlX21vZHVsZXNfcG9zdGNzc19sb2FkZXJfc3JjX2luZGV4X2pzX3JlZl82X29uZU9mXzFfMl9ub2RlX21vZHVsZXNfcG9zdGNzc19sb2FkZXJfc3JjX2luZGV4X2pzX3JlZl82X29uZU9mXzFfM19ub2RlX21vZHVsZXNfY2FjaGVfbG9hZGVyX2Rpc3RfY2pzX2pzX3JlZl8wXzBfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2luZGV4X2pzX3Z1ZV9sb2FkZXJfb3B0aW9uc19DVG9hc3RfdnVlX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzBfaWRfNzIwODE1MmZfc2NvcGVkX3RydWVfbGFuZ19jc3NfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hOwogICAgLyoqKi8KICB9LAoKICAvKioqLwogICIzOTlhIjoKICAvKioqLwogIGZ1bmN0aW9uIGEobW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICAvKiBoYXJtb255IGltcG9ydCAqLwoKICAgIHZhciBfdnVlX3N0eWxlX2xvYWRlcl9pbmRleF9qc19yZWZfNl9vbmVPZl8xXzBfY3NzX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfNl9vbmVPZl8xXzFfdnVlX2xvYWRlcl9saWJfbG9hZGVyc19zdHlsZVBvc3RMb2FkZXJfanNfcG9zdGNzc19sb2FkZXJfc3JjX2luZGV4X2pzX3JlZl82X29uZU9mXzFfMl9wb3N0Y3NzX2xvYWRlcl9zcmNfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8zX3BlcmZlY3Rfc2Nyb2xsYmFyX2Nzc192dWVfdHlwZV9zdHlsZV9pbmRleF8wX2lkXzM3MzhiNzIyX3Njb3BlZF90cnVlX2xhbmdfY3NzX19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygiZjljNyIpOwogICAgLyogaGFybW9ueSBpbXBvcnQgKi8KCgogICAgdmFyIF92dWVfc3R5bGVfbG9hZGVyX2luZGV4X2pzX3JlZl82X29uZU9mXzFfMF9jc3NfbG9hZGVyX2Rpc3RfY2pzX2pzX3JlZl82X29uZU9mXzFfMV92dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc19wb3N0Y3NzX2xvYWRlcl9zcmNfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8yX3Bvc3Rjc3NfbG9hZGVyX3NyY19pbmRleF9qc19yZWZfNl9vbmVPZl8xXzNfcGVyZmVjdF9zY3JvbGxiYXJfY3NzX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzBfaWRfMzczOGI3MjJfc2NvcGVkX3RydWVfbGFuZ19jc3NfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX3Z1ZV9zdHlsZV9sb2FkZXJfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8wX2Nzc19sb2FkZXJfZGlzdF9janNfanNfcmVmXzZfb25lT2ZfMV8xX3Z1ZV9sb2FkZXJfbGliX2xvYWRlcnNfc3R5bGVQb3N0TG9hZGVyX2pzX3Bvc3Rjc3NfbG9hZGVyX3NyY19pbmRleF9qc19yZWZfNl9vbmVPZl8xXzJfcG9zdGNzc19sb2FkZXJfc3JjX2luZGV4X2pzX3JlZl82X29uZU9mXzFfM19wZXJmZWN0X3Njcm9sbGJhcl9jc3NfdnVlX3R5cGVfc3R5bGVfaW5kZXhfMF9pZF8zNzM4YjcyMl9zY29wZWRfdHJ1ZV9sYW5nX2Nzc19fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7CiAgICAvKiB1bnVzZWQgaGFybW9ueSByZWV4cG9ydCAqICovCgogICAgLyogdW51c2VkIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIF91bnVzZWRfd2VicGFja19kZWZhdWx0X2V4cG9ydCA9IF92dWVfc3R5bGVfbG9hZGVyX2luZGV4X2pzX3JlZl82X29uZU9mXzFfMF9jc3NfbG9hZGVyX2Rpc3RfY2pzX2pzX3JlZl82X29uZU9mXzFfMV92dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc19wb3N0Y3NzX2xvYWRlcl9zcmNfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8yX3Bvc3Rjc3NfbG9hZGVyX3NyY19pbmRleF9qc19yZWZfNl9vbmVPZl8xXzNfcGVyZmVjdF9zY3JvbGxiYXJfY3NzX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzBfaWRfMzczOGI3MjJfc2NvcGVkX3RydWVfbGFuZ19jc3NfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hOwogICAgLyoqKi8KICB9LAoKICAvKioqLwogICI0MTVjIjoKICAvKioqLwogIGZ1bmN0aW9uIGMobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZwogICAgLy8gbG9hZCB0aGUgc3R5bGVzCiAgICB2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oIjVhOTEiKTsKCiAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaSwgY29udGVudCwgJyddXTsKICAgIGlmIChjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FsczsgLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTQoKICAgIHZhciBhZGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKCI0OTllIikuZGVmYXVsdDsKCiAgICB2YXIgdXBkYXRlID0gYWRkKCI0ZWZiYTM4YiIsIGNvbnRlbnQsIHRydWUsIHsKICAgICAgInNvdXJjZU1hcCI6IGZhbHNlLAogICAgICAic2hhZG93TW9kZSI6IGZhbHNlCiAgICB9KTsKICAgIC8qKiovCiAgfSwKCiAgLyoqKi8KICAiNDE5NCI6CiAgLyoqKi8KICBmdW5jdGlvbiBfKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgInVzZSBzdHJpY3QiOwogICAgLyogaGFybW9ueSBpbXBvcnQgKi8KCiAgICB2YXIgX25vZGVfbW9kdWxlc192dWVfc3R5bGVfbG9hZGVyX2luZGV4X2pzX3JlZl82X29uZU9mXzFfMF9ub2RlX21vZHVsZXNfY3NzX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfNl9vbmVPZl8xXzFfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2xvYWRlcnNfc3R5bGVQb3N0TG9hZGVyX2pzX25vZGVfbW9kdWxlc19wb3N0Y3NzX2xvYWRlcl9zcmNfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8yX25vZGVfbW9kdWxlc19wb3N0Y3NzX2xvYWRlcl9zcmNfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8zX25vZGVfbW9kdWxlc19jYWNoZV9sb2FkZXJfZGlzdF9janNfanNfcmVmXzBfMF9ub2RlX21vZHVsZXNfdnVlX2xvYWRlcl9saWJfaW5kZXhfanNfdnVlX2xvYWRlcl9vcHRpb25zX0NUYWJfdnVlX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzBfaWRfMjk1YjZkOWFfc2NvcGVkX3RydWVfbGFuZ19jc3NfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKCIyM2UyIik7CiAgICAvKiBoYXJtb255IGltcG9ydCAqLwoKCiAgICB2YXIgX25vZGVfbW9kdWxlc192dWVfc3R5bGVfbG9hZGVyX2luZGV4X2pzX3JlZl82X29uZU9mXzFfMF9ub2RlX21vZHVsZXNfY3NzX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfNl9vbmVPZl8xXzFfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2xvYWRlcnNfc3R5bGVQb3N0TG9hZGVyX2pzX25vZGVfbW9kdWxlc19wb3N0Y3NzX2xvYWRlcl9zcmNfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8yX25vZGVfbW9kdWxlc19wb3N0Y3NzX2xvYWRlcl9zcmNfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8zX25vZGVfbW9kdWxlc19jYWNoZV9sb2FkZXJfZGlzdF9janNfanNfcmVmXzBfMF9ub2RlX21vZHVsZXNfdnVlX2xvYWRlcl9saWJfaW5kZXhfanNfdnVlX2xvYWRlcl9vcHRpb25zX0NUYWJfdnVlX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzBfaWRfMjk1YjZkOWFfc2NvcGVkX3RydWVfbGFuZ19jc3NfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX25vZGVfbW9kdWxlc192dWVfc3R5bGVfbG9hZGVyX2luZGV4X2pzX3JlZl82X29uZU9mXzFfMF9ub2RlX21vZHVsZXNfY3NzX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfNl9vbmVPZl8xXzFfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2xvYWRlcnNfc3R5bGVQb3N0TG9hZGVyX2pzX25vZGVfbW9kdWxlc19wb3N0Y3NzX2xvYWRlcl9zcmNfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8yX25vZGVfbW9kdWxlc19wb3N0Y3NzX2xvYWRlcl9zcmNfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8zX25vZGVfbW9kdWxlc19jYWNoZV9sb2FkZXJfZGlzdF9janNfanNfcmVmXzBfMF9ub2RlX21vZHVsZXNfdnVlX2xvYWRlcl9saWJfaW5kZXhfanNfdnVlX2xvYWRlcl9vcHRpb25zX0NUYWJfdnVlX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzBfaWRfMjk1YjZkOWFfc2NvcGVkX3RydWVfbGFuZ19jc3NfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18pOwogICAgLyogdW51c2VkIGhhcm1vbnkgcmVleHBvcnQgKiAqLwoKICAgIC8qIHVudXNlZCBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgoKICAgIHZhciBfdW51c2VkX3dlYnBhY2tfZGVmYXVsdF9leHBvcnQgPSBfbm9kZV9tb2R1bGVzX3Z1ZV9zdHlsZV9sb2FkZXJfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8wX25vZGVfbW9kdWxlc19jc3NfbG9hZGVyX2Rpc3RfY2pzX2pzX3JlZl82X29uZU9mXzFfMV9ub2RlX21vZHVsZXNfdnVlX2xvYWRlcl9saWJfbG9hZGVyc19zdHlsZVBvc3RMb2FkZXJfanNfbm9kZV9tb2R1bGVzX3Bvc3Rjc3NfbG9hZGVyX3NyY19pbmRleF9qc19yZWZfNl9vbmVPZl8xXzJfbm9kZV9tb2R1bGVzX3Bvc3Rjc3NfbG9hZGVyX3NyY19pbmRleF9qc19yZWZfNl9vbmVPZl8xXzNfbm9kZV9tb2R1bGVzX2NhY2hlX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfMF8wX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9pbmRleF9qc192dWVfbG9hZGVyX29wdGlvbnNfQ1RhYl92dWVfdnVlX3R5cGVfc3R5bGVfaW5kZXhfMF9pZF8yOTViNmQ5YV9zY29wZWRfdHJ1ZV9sYW5nX2Nzc19fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0LmE7CiAgICAvKioqLwogIH0sCgogIC8qKiovCiAgIjQzNjIiOgogIC8qKiovCiAgZnVuY3Rpb24gXyhtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgIGV4cG9ydHMubmV4dFRpY2sgPSBmdW5jdGlvbiBuZXh0VGljayhmbikgewogICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CiAgICAgIGFyZ3Muc2hpZnQoKTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7CiAgICAgIH0sIDApOwogICAgfTsKCiAgICBleHBvcnRzLnBsYXRmb3JtID0gZXhwb3J0cy5hcmNoID0gZXhwb3J0cy5leGVjUGF0aCA9IGV4cG9ydHMudGl0bGUgPSAnYnJvd3Nlcic7CiAgICBleHBvcnRzLnBpZCA9IDE7CiAgICBleHBvcnRzLmJyb3dzZXIgPSB0cnVlOwogICAgZXhwb3J0cy5lbnYgPSB7fTsKICAgIGV4cG9ydHMuYXJndiA9IFtdOwoKICAgIGV4cG9ydHMuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gc3VjaCBtb2R1bGUuIChQb3NzaWJseSBub3QgeWV0IGxvYWRlZCknKTsKICAgIH07CgogICAgKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGN3ZCA9ICcvJzsKICAgICAgdmFyIHBhdGg7CgogICAgICBleHBvcnRzLmN3ZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gY3dkOwogICAgICB9OwoKICAgICAgZXhwb3J0cy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHsKICAgICAgICBpZiAoIXBhdGgpIHBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fKCJkZjdjIik7CiAgICAgICAgY3dkID0gcGF0aC5yZXNvbHZlKGRpciwgY3dkKTsKICAgICAgfTsKICAgIH0pKCk7CgogICAgZXhwb3J0cy5leGl0ID0gZXhwb3J0cy5raWxsID0gZXhwb3J0cy51bWFzayA9IGV4cG9ydHMuZGxvcGVuID0gZXhwb3J0cy51cHRpbWUgPSBleHBvcnRzLm1lbW9yeVVzYWdlID0gZXhwb3J0cy51dkNvdW50ZXJzID0gZnVuY3Rpb24gKCkge307CgogICAgZXhwb3J0cy5mZWF0dXJlcyA9IHt9OwogICAgLyoqKi8KICB9LAoKICAvKioqLwogICI0OTllIjoKICAvKioqLwogIGZ1bmN0aW9uIGUobW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7IC8vIEVTTSBDT01QQVQgRkxBRwoKICAgIF9fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKTsgLy8gRVhQT1JUUwoKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgImRlZmF1bHQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogYmluZGluZyAqLwogICAgICAgIGFkZFN0eWxlc0NsaWVudAogICAgICApOwogICAgfSk7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL3Z1ZS1zdHlsZS1sb2FkZXIvbGliL2xpc3RUb1N0eWxlcy5qcwoKICAgIC8qKgogICAgICogVHJhbnNsYXRlcyB0aGUgbGlzdCBmb3JtYXQgcHJvZHVjZWQgYnkgY3NzLWxvYWRlciBpbnRvIHNvbWV0aGluZwogICAgICogZWFzaWVyIHRvIG1hbmlwdWxhdGUuCiAgICAgKi8KCgogICAgZnVuY3Rpb24gbGlzdFRvU3R5bGVzKHBhcmVudElkLCBsaXN0KSB7CiAgICAgIHZhciBzdHlsZXMgPSBbXTsKICAgICAgdmFyIG5ld1N0eWxlcyA9IHt9OwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGl0ZW0gPSBsaXN0W2ldOwogICAgICAgIHZhciBpZCA9IGl0ZW1bMF07CiAgICAgICAgdmFyIGNzcyA9IGl0ZW1bMV07CiAgICAgICAgdmFyIG1lZGlhID0gaXRlbVsyXTsKICAgICAgICB2YXIgc291cmNlTWFwID0gaXRlbVszXTsKICAgICAgICB2YXIgcGFydCA9IHsKICAgICAgICAgIGlkOiBwYXJlbnRJZCArICc6JyArIGksCiAgICAgICAgICBjc3M6IGNzcywKICAgICAgICAgIG1lZGlhOiBtZWRpYSwKICAgICAgICAgIHNvdXJjZU1hcDogc291cmNlTWFwCiAgICAgICAgfTsKCiAgICAgICAgaWYgKCFuZXdTdHlsZXNbaWRdKSB7CiAgICAgICAgICBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0gewogICAgICAgICAgICBpZDogaWQsCiAgICAgICAgICAgIHBhcnRzOiBbcGFydF0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gc3R5bGVzOwogICAgfSAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy92dWUtc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXNDbGllbnQuanMKCiAgICAvKgogICAgICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocAogICAgICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhCiAgICAgIE1vZGlmaWVkIGJ5IEV2YW4gWW91IEB5eXg5OTA4MDMKICAgICovCgoKICAgIHZhciBoYXNEb2N1bWVudCA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7CgogICAgaWYgKHR5cGVvZiBERUJVRyAhPT0gJ3VuZGVmaW5lZCcgJiYgREVCVUcpIHsKICAgICAgaWYgKCFoYXNEb2N1bWVudCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcigndnVlLXN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50LiAnICsgIlVzZSB7IHRhcmdldDogJ25vZGUnIH0gaW4geW91ciBXZWJwYWNrIGNvbmZpZyB0byBpbmRpY2F0ZSBhIHNlcnZlci1yZW5kZXJpbmcgZW52aXJvbm1lbnQuIik7CiAgICAgIH0KICAgIH0KICAgIC8qCiAgICB0eXBlIFN0eWxlT2JqZWN0ID0gewogICAgICBpZDogbnVtYmVyOwogICAgICBwYXJ0czogQXJyYXk8U3R5bGVPYmplY3RQYXJ0PgogICAgfQogICAgCiAgICB0eXBlIFN0eWxlT2JqZWN0UGFydCA9IHsKICAgICAgY3NzOiBzdHJpbmc7CiAgICAgIG1lZGlhOiBzdHJpbmc7CiAgICAgIHNvdXJjZU1hcDogP3N0cmluZwogICAgfQogICAgKi8KCgogICAgdmFyIHN0eWxlc0luRG9tID0gewogICAgICAvKgogICAgICBbaWQ6IG51bWJlcl06IHsKICAgICAgaWQ6IG51bWJlciwKICAgICAgcmVmczogbnVtYmVyLAogICAgICBwYXJ0czogQXJyYXk8KG9iaj86IFN0eWxlT2JqZWN0UGFydCkgPT4gdm9pZD4KICAgICAgfQogICAgICAqLwogICAgfTsKICAgIHZhciBoZWFkID0gaGFzRG9jdW1lbnQgJiYgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXSk7CiAgICB2YXIgc2luZ2xldG9uRWxlbWVudCA9IG51bGw7CiAgICB2YXIgc2luZ2xldG9uQ291bnRlciA9IDA7CiAgICB2YXIgaXNQcm9kdWN0aW9uID0gZmFsc2U7CgogICAgdmFyIG5vb3AgPSBmdW5jdGlvbiBub29wKCkge307CgogICAgdmFyIG9wdGlvbnMgPSBudWxsOwogICAgdmFyIHNzcklkS2V5ID0gJ2RhdGEtdnVlLXNzci1pZCc7IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPgogICAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZQoKICAgIHZhciBpc09sZElFID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgL21zaWUgWzYtOV1cYi8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpOwoKICAgIGZ1bmN0aW9uIGFkZFN0eWxlc0NsaWVudChwYXJlbnRJZCwgbGlzdCwgX2lzUHJvZHVjdGlvbiwgX29wdGlvbnMpIHsKICAgICAgaXNQcm9kdWN0aW9uID0gX2lzUHJvZHVjdGlvbjsKICAgICAgb3B0aW9ucyA9IF9vcHRpb25zIHx8IHt9OwogICAgICB2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKHBhcmVudElkLCBsaXN0KTsKICAgICAgYWRkU3R5bGVzVG9Eb20oc3R5bGVzKTsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7CiAgICAgICAgdmFyIG1heVJlbW92ZSA9IFtdOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIGl0ZW0gPSBzdHlsZXNbaV07CiAgICAgICAgICB2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTsKICAgICAgICAgIGRvbVN0eWxlLnJlZnMtLTsKICAgICAgICAgIG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTsKICAgICAgICB9CgogICAgICAgIGlmIChuZXdMaXN0KSB7CiAgICAgICAgICBzdHlsZXMgPSBsaXN0VG9TdHlsZXMocGFyZW50SWQsIG5ld0xpc3QpOwogICAgICAgICAgYWRkU3R5bGVzVG9Eb20oc3R5bGVzKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3R5bGVzID0gW107CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldOwoKICAgICAgICAgIGlmIChkb21TdHlsZS5yZWZzID09PSAwKSB7CiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICBkb21TdHlsZS5wYXJ0c1tqXSgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgIH0KCiAgICBmdW5jdGlvbiBhZGRTdHlsZXNUb0RvbShzdHlsZXMKICAgIC8qIEFycmF5PFN0eWxlT2JqZWN0PiAqLwogICAgKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGl0ZW0gPSBzdHlsZXNbaV07CiAgICAgICAgdmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07CgogICAgICAgIGlmIChkb21TdHlsZSkgewogICAgICAgICAgZG9tU3R5bGUucmVmcysrOwoKICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7CiAgICAgICAgICB9CgogICAgICAgICAgZm9yICg7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSkpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChkb21TdHlsZS5wYXJ0cy5sZW5ndGggPiBpdGVtLnBhcnRzLmxlbmd0aCkgewogICAgICAgICAgICBkb21TdHlsZS5wYXJ0cy5sZW5ndGggPSBpdGVtLnBhcnRzLmxlbmd0aDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHBhcnRzID0gW107CgogICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgIHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSkpOwogICAgICAgICAgfQoKICAgICAgICAgIHN0eWxlc0luRG9tW2l0ZW0uaWRdID0gewogICAgICAgICAgICBpZDogaXRlbS5pZCwKICAgICAgICAgICAgcmVmczogMSwKICAgICAgICAgICAgcGFydHM6IHBhcnRzCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCgpIHsKICAgICAgdmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICAgIHN0eWxlRWxlbWVudC50eXBlID0gJ3RleHQvY3NzJzsKICAgICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpOwogICAgICByZXR1cm4gc3R5bGVFbGVtZW50OwogICAgfQoKICAgIGZ1bmN0aW9uIGFkZFN0eWxlKG9iagogICAgLyogU3R5bGVPYmplY3RQYXJ0ICovCiAgICApIHsKICAgICAgdmFyIHVwZGF0ZSwgcmVtb3ZlOwogICAgICB2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3R5bGVbJyArIHNzcklkS2V5ICsgJ349IicgKyBvYmouaWQgKyAnIl0nKTsKCiAgICAgIGlmIChzdHlsZUVsZW1lbnQpIHsKICAgICAgICBpZiAoaXNQcm9kdWN0aW9uKSB7CiAgICAgICAgICAvLyBoYXMgU1NSIHN0eWxlcyBhbmQgaW4gcHJvZHVjdGlvbiBtb2RlLgogICAgICAgICAgLy8gc2ltcGx5IGRvIG5vdGhpbmcuCiAgICAgICAgICByZXR1cm4gbm9vcDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gaGFzIFNTUiBzdHlsZXMgYnV0IGluIGRldiBtb2RlLgogICAgICAgICAgLy8gZm9yIHNvbWUgcmVhc29uIENocm9tZSBjYW4ndCBoYW5kbGUgc291cmNlIG1hcCBpbiBzZXJ2ZXItcmVuZGVyZWQKICAgICAgICAgIC8vIHN0eWxlIHRhZ3MgLSBzb3VyY2UgbWFwcyBpbiA8c3R5bGU+IG9ubHkgd29ya3MgaWYgdGhlIHN0eWxlIHRhZyBpcwogICAgICAgICAgLy8gY3JlYXRlZCBhbmQgaW5zZXJ0ZWQgZHluYW1pY2FsbHkuIFNvIHdlIHJlbW92ZSB0aGUgc2VydmVyIHJlbmRlcmVkCiAgICAgICAgICAvLyBzdHlsZXMgYW5kIGluamVjdCBuZXcgb25lcy4KICAgICAgICAgIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoaXNPbGRJRSkgewogICAgICAgIC8vIHVzZSBzaW5nbGV0b24gbW9kZSBmb3IgSUU5LgogICAgICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrOwogICAgICAgIHN0eWxlRWxlbWVudCA9IHNpbmdsZXRvbkVsZW1lbnQgfHwgKHNpbmdsZXRvbkVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQoKSk7CiAgICAgICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpOwogICAgICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIHVzZSBtdWx0aS1zdHlsZS10YWcgbW9kZSBpbiBhbGwgb3RoZXIgY2FzZXMKICAgICAgICBzdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQoKTsKICAgICAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTsKCiAgICAgICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkgewogICAgICAgICAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTsKICAgICAgICB9OwogICAgICB9CgogICAgICB1cGRhdGUob2JqKTsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iagogICAgICAvKiBTdHlsZU9iamVjdFBhcnQgKi8KICAgICAgKSB7CiAgICAgICAgaWYgKG5ld09iaikgewogICAgICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlbW92ZSgpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0KCiAgICB2YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0ZXh0U3RvcmUgPSBbXTsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHsKICAgICAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7CiAgICAgICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXG4nKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICBmdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7CiAgICAgIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5jc3M7CgogICAgICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHsKICAgICAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpOwogICAgICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGVFbGVtZW50LmNoaWxkTm9kZXM7CiAgICAgICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pOwoKICAgICAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHsKICAgICAgICAgIHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikgewogICAgICB2YXIgY3NzID0gb2JqLmNzczsKICAgICAgdmFyIG1lZGlhID0gb2JqLm1lZGlhOwogICAgICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDsKCiAgICAgIGlmIChtZWRpYSkgewogICAgICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpOwogICAgICB9CgogICAgICBpZiAob3B0aW9ucy5zc3JJZCkgewogICAgICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoc3NySWRLZXksIG9iai5pZCk7CiAgICAgIH0KCiAgICAgIGlmIChzb3VyY2VNYXApIHsKICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2RldnRvb2xzL2RvY3MvamF2YXNjcmlwdC1kZWJ1Z2dpbmcKICAgICAgICAvLyB0aGlzIG1ha2VzIHNvdXJjZSBtYXBzIGluc2lkZSBzdHlsZSB0YWdzIHdvcmsgcHJvcGVybHkgaW4gQ2hyb21lCiAgICAgICAgY3NzICs9ICdcbi8qIyBzb3VyY2VVUkw9JyArIHNvdXJjZU1hcC5zb3VyY2VzWzBdICsgJyAqLyc7IC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1CgogICAgICAgIGNzcyArPSAnXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LCcgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgJyAqLyc7CiAgICAgIH0KCiAgICAgIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkgewogICAgICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7CiAgICAgICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpOwogICAgICAgIH0KCiAgICAgICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpOwogICAgICB9CiAgICB9CiAgICAvKioqLwoKICB9LAoKICAvKioqLwogICI1YTkxIjoKICAvKioqLwogIGZ1bmN0aW9uIGE5MShtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgIC8vIEltcG9ydHMKICAgIHZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKCIyNGZiIik7CgogICAgZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7IC8vIE1vZHVsZQoKICAgIGV4cG9ydHMucHVzaChbbW9kdWxlLmksICIudG9vbHRpcC1vbGR7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxMDcwO2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjA7Zm9udC1mYW1pbHk6LWFwcGxlLXN5c3RlbSxCbGlua01hY1N5c3RlbUZvbnQsU2Vnb2UgVUksUm9ib3RvLEhlbHZldGljYSBOZXVlLEFyaWFsLE5vdG8gU2FucyxzYW5zLXNlcmlmLEFwcGxlIENvbG9yIEVtb2ppLFNlZ29lIFVJIEVtb2ppLFNlZ29lIFVJIFN5bWJvbCxOb3RvIENvbG9yIEVtb2ppO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtd2VpZ2h0OjQwMDtsaW5lLWhlaWdodDoxLjU7dGV4dC1hbGlnbjpsZWZ0O3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dGV4dC1zaGFkb3c6bm9uZTt0ZXh0LXRyYW5zZm9ybTpub25lO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLWJyZWFrOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3doaXRlLXNwYWNlOm5vcm1hbDtsaW5lLWJyZWFrOmF1dG87Zm9udC1zaXplOi43NjU2MjVyZW07d29yZC13cmFwOmJyZWFrLXdvcmQ7b3BhY2l0eTowfS50b29sdGlwLW9sZC5zaG93e29wYWNpdHk6Ljl9LnRvb2x0aXAtb2xkIC5hcnJvd3twb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5OmJsb2NrO3dpZHRoOi44cmVtO2hlaWdodDouNHJlbX0udG9vbHRpcC1vbGQgLmFycm93OmJlZm9yZXtwb3NpdGlvbjphYnNvbHV0ZTtjb250ZW50OlwiXCI7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlci1zdHlsZTpzb2xpZH0uYnMtdG9vbHRpcC1vbGQtYXV0b1t4LXBsYWNlbWVudF49dG9wXSwuYnMtdG9vbHRpcC1vbGQtdG9we3BhZGRpbmc6LjRyZW0gMH0uYnMtdG9vbHRpcC1vbGQtYXV0b1t4LXBsYWNlbWVudF49dG9wXSAuYXJyb3csLmJzLXRvb2x0aXAtb2xkLXRvcCAuYXJyb3d7Ym90dG9tOjB9LmJzLXRvb2x0aXAtb2xkLWF1dG9beC1wbGFjZW1lbnRePXRvcF0gLmFycm93OmJlZm9yZSwuYnMtdG9vbHRpcC1vbGQtdG9wIC5hcnJvdzpiZWZvcmV7dG9wOjA7Ym9yZGVyLXdpZHRoOi40cmVtIC40cmVtIDA7Ym9yZGVyLXRvcC1jb2xvcjojMDAwMDE1fS5icy10b29sdGlwLW9sZC1hdXRvW3gtcGxhY2VtZW50Xj1yaWdodF0sLmJzLXRvb2x0aXAtb2xkLXJpZ2h0e3BhZGRpbmc6MCAuNHJlbX0uYnMtdG9vbHRpcC1vbGQtYXV0b1t4LXBsYWNlbWVudF49cmlnaHRdIC5hcnJvdywuYnMtdG9vbHRpcC1vbGQtcmlnaHQgLmFycm93e2xlZnQ6MDt3aWR0aDouNHJlbTtoZWlnaHQ6LjhyZW19LmJzLXRvb2x0aXAtb2xkLWF1dG9beC1wbGFjZW1lbnRePXJpZ2h0XSAuYXJyb3c6YmVmb3JlLC5icy10b29sdGlwLW9sZC1yaWdodCAuYXJyb3c6YmVmb3Jle3JpZ2h0OjA7Ym9yZGVyLXdpZHRoOi40cmVtIC40cmVtIC40cmVtIDA7Ym9yZGVyLXJpZ2h0LWNvbG9yOiMwMDAwMTV9LmJzLXRvb2x0aXAtb2xkLWF1dG9beC1wbGFjZW1lbnRePWJvdHRvbV0sLmJzLXRvb2x0aXAtb2xkLWJvdHRvbXtwYWRkaW5nOi40cmVtIDB9LmJzLXRvb2x0aXAtb2xkLWF1dG9beC1wbGFjZW1lbnRePWJvdHRvbV0gLmFycm93LC5icy10b29sdGlwLW9sZC1ib3R0b20gLmFycm93e3RvcDowfS5icy10b29sdGlwLW9sZC1hdXRvW3gtcGxhY2VtZW50Xj1ib3R0b21dIC5hcnJvdzpiZWZvcmUsLmJzLXRvb2x0aXAtb2xkLWJvdHRvbSAuYXJyb3c6YmVmb3Jle2JvdHRvbTowO2JvcmRlci13aWR0aDowIC40cmVtIC40cmVtO2JvcmRlci1ib3R0b20tY29sb3I6IzAwMDAxNX0uYnMtdG9vbHRpcC1vbGQtYXV0b1t4LXBsYWNlbWVudF49bGVmdF0sLmJzLXRvb2x0aXAtb2xkLWxlZnR7cGFkZGluZzowIC40cmVtfS5icy10b29sdGlwLW9sZC1hdXRvW3gtcGxhY2VtZW50Xj1sZWZ0XSAuYXJyb3csLmJzLXRvb2x0aXAtb2xkLWxlZnQgLmFycm93e3JpZ2h0OjA7d2lkdGg6LjRyZW07aGVpZ2h0Oi44cmVtfS5icy10b29sdGlwLW9sZC1hdXRvW3gtcGxhY2VtZW50Xj1sZWZ0XSAuYXJyb3c6YmVmb3JlLC5icy10b29sdGlwLW9sZC1sZWZ0IC5hcnJvdzpiZWZvcmV7bGVmdDowO2JvcmRlci13aWR0aDouNHJlbSAwIC40cmVtIC40cmVtO2JvcmRlci1sZWZ0LWNvbG9yOiMwMDAwMTV9LnRvb2x0aXAtb2xkLWlubmVye21heC13aWR0aDoyMDBweDtwYWRkaW5nOi4yNXJlbSAuNXJlbTtjb2xvcjojZmZmO3RleHQtYWxpZ246Y2VudGVyO2JhY2tncm91bmQtY29sb3I6IzAwMDAxNTtib3JkZXItcmFkaXVzOi4yNXJlbX0iLCAiIl0pOyAvLyBFeHBvcnRzCgogICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzOwogICAgLyoqKi8KICB9LAoKICAvKioqLwogICI1ZjYzIjoKICAvKioqLwogIGZ1bmN0aW9uIGY2Myhtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgIC8vIEltcG9ydHMKICAgIHZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKCIyNGZiIik7CgogICAgZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7IC8vIE1vZHVsZQoKICAgIGV4cG9ydHMucHVzaChbbW9kdWxlLmksICIuZmFkZS1lbnRlci1hY3RpdmVbZGF0YS12LWM5NWQxZjA4XSwuZmFkZS1sZWF2ZS1hY3RpdmVbZGF0YS12LWM5NWQxZjA4XXstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuM3M7dHJhbnNpdGlvbjpvcGFjaXR5IC4zc30uZmFkZS1lbnRlcltkYXRhLXYtYzk1ZDFmMDhdLC5mYWRlLWxlYXZlLXRvW2RhdGEtdi1jOTVkMWYwOF17b3BhY2l0eTowfSIsICIiXSk7IC8vIEV4cG9ydHMKCiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7CiAgICAvKioqLwogIH0sCgogIC8qKiovCiAgIjYyZTQiOgogIC8qKiovCiAgZnVuY3Rpb24gZTQobW9kdWxlLCBleHBvcnRzKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChtb2R1bGUpIHsKICAgICAgaWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7CiAgICAgICAgbW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uICgpIHt9OwoKICAgICAgICBtb2R1bGUucGF0aHMgPSBbXTsgLy8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0CgogICAgICAgIGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCAibG9hZGVkIiwgewogICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICByZXR1cm4gbW9kdWxlLmw7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgImlkIiwgewogICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICByZXR1cm4gbW9kdWxlLmk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgbW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7CiAgICAgIH0KCiAgICAgIHJldHVybiBtb2R1bGU7CiAgICB9OwogICAgLyoqKi8KCiAgfSwKCiAgLyoqKi8KICAiNjU5ZiI6CiAgLyoqKi8KICBmdW5jdGlvbiBmKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgLy8gSW1wb3J0cwogICAgdmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IF9fd2VicGFja19yZXF1aXJlX18oIjI0ZmIiKTsKCiAgICBleHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTsgLy8gTW9kdWxlCgogICAgZXhwb3J0cy5wdXNoKFttb2R1bGUuaSwgIi5wb3BvdmVyLW9sZHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7ei1pbmRleDoxMDYwO2Rpc3BsYXk6YmxvY2s7bWF4LXdpZHRoOjI3NnB4O2ZvbnQtZmFtaWx5Oi1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LFNlZ29lIFVJLFJvYm90byxIZWx2ZXRpY2EgTmV1ZSxBcmlhbCxOb3RvIFNhbnMsc2Fucy1zZXJpZixBcHBsZSBDb2xvciBFbW9qaSxTZWdvZSBVSSBFbW9qaSxTZWdvZSBVSSBTeW1ib2wsTm90byBDb2xvciBFbW9qaTtmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDo0MDA7bGluZS1oZWlnaHQ6MS41O3RleHQtYWxpZ246bGVmdDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO3RleHQtc2hhZG93Om5vbmU7dGV4dC10cmFuc2Zvcm06bm9uZTtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1icmVhazpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt3aGl0ZS1zcGFjZTpub3JtYWw7bGluZS1icmVhazphdXRvO2ZvbnQtc2l6ZTouNzY1NjI1cmVtO3dvcmQtd3JhcDpicmVhay13b3JkO2JhY2tncm91bmQtY2xpcDpwYWRkaW5nLWJveDtib3JkZXI6MXB4IHNvbGlkO2JvcmRlci1yYWRpdXM6LjNyZW07YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlci1jb2xvcjpyZ2JhKDAsMCwyMSwuMil9LmMtbGVnYWN5LXRoZW1lIC5wb3BvdmVyLW9sZHtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyLWNvbG9yOnJnYmEoMCwwLDAsLjIpfS5jLWRhcmstdGhlbWUgLnBvcG92ZXItb2xke2JhY2tncm91bmQtY29sb3I6IzFlMWUyOTtib3JkZXItY29sb3I6IzE4MTkyNH0ucG9wb3Zlci1vbGQgLmFycm93e3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6YmxvY2s7d2lkdGg6MXJlbTtoZWlnaHQ6LjVyZW07bWFyZ2luOjAgLjNyZW19LnBvcG92ZXItb2xkIC5hcnJvdzphZnRlciwucG9wb3Zlci1vbGQgLmFycm93OmJlZm9yZXtwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5OmJsb2NrO2NvbnRlbnQ6XCJcIjtib3JkZXItY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyLXN0eWxlOnNvbGlkfS5icy1wb3BvdmVyLW9sZC1hdXRvW3gtcGxhY2VtZW50Xj10b3BdLC5icy1wb3BvdmVyLW9sZC10b3B7bWFyZ2luLWJvdHRvbTouNXJlbX0uYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49dG9wXT4uYXJyb3csLmJzLXBvcG92ZXItb2xkLXRvcD4uYXJyb3d7Ym90dG9tOmNhbGMoLS41cmVtIC0gMXB4KX0uYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49dG9wXT4uYXJyb3c6YmVmb3JlLC5icy1wb3BvdmVyLW9sZC10b3A+LmFycm93OmJlZm9yZXtib3R0b206MDtib3JkZXItd2lkdGg6LjVyZW0gLjVyZW0gMDtib3JkZXItdG9wLWNvbG9yOnJnYmEoMCwwLDIxLC4yNSl9LmMtbGVnYWN5LXRoZW1lIC5icy1wb3BvdmVyLW9sZC1hdXRvW3gtcGxhY2VtZW50Xj10b3BdPi5hcnJvdzpiZWZvcmUsLmMtbGVnYWN5LXRoZW1lIC5icy1wb3BvdmVyLW9sZC10b3A+LmFycm93OmJlZm9yZXtib3JkZXItdG9wLWNvbG9yOnJnYmEoMCwwLDAsLjI1KX0uYy1kYXJrLXRoZW1lIC5icy1wb3BvdmVyLW9sZC1hdXRvW3gtcGxhY2VtZW50Xj10b3BdPi5hcnJvdzpiZWZvcmUsLmMtZGFyay10aGVtZSAuYnMtcG9wb3Zlci1vbGQtdG9wPi5hcnJvdzpiZWZvcmV7Ym9yZGVyLXRvcC1jb2xvcjojMTgxOTI0fS5icy1wb3BvdmVyLW9sZC1hdXRvW3gtcGxhY2VtZW50Xj10b3BdPi5hcnJvdzphZnRlciwuYnMtcG9wb3Zlci1vbGQtdG9wPi5hcnJvdzphZnRlcntib3R0b206MXB4O2JvcmRlci13aWR0aDouNXJlbSAuNXJlbSAwO2JvcmRlci10b3AtY29sb3I6I2ZmZn0uYy1sZWdhY3ktdGhlbWUgLmJzLXBvcG92ZXItb2xkLWF1dG9beC1wbGFjZW1lbnRePXRvcF0+LmFycm93OmFmdGVyLC5jLWxlZ2FjeS10aGVtZSAuYnMtcG9wb3Zlci1vbGQtdG9wPi5hcnJvdzphZnRlcntib3JkZXItdG9wLWNvbG9yOiNmZmZ9LmMtZGFyay10aGVtZSAuYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49dG9wXT4uYXJyb3c6YWZ0ZXIsLmMtZGFyay10aGVtZSAuYnMtcG9wb3Zlci1vbGQtdG9wPi5hcnJvdzphZnRlcntib3JkZXItdG9wLWNvbG9yOiMxZTFlMjl9LmJzLXBvcG92ZXItb2xkLWF1dG9beC1wbGFjZW1lbnRePXJpZ2h0XSwuYnMtcG9wb3Zlci1vbGQtcmlnaHR7bWFyZ2luLWxlZnQ6LjVyZW19LmJzLXBvcG92ZXItb2xkLWF1dG9beC1wbGFjZW1lbnRePXJpZ2h0XT4uYXJyb3csLmJzLXBvcG92ZXItb2xkLXJpZ2h0Pi5hcnJvd3tsZWZ0OmNhbGMoLS41cmVtIC0gMXB4KTt3aWR0aDouNXJlbTtoZWlnaHQ6MXJlbTttYXJnaW46LjNyZW0gMH0uYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49cmlnaHRdPi5hcnJvdzpiZWZvcmUsLmJzLXBvcG92ZXItb2xkLXJpZ2h0Pi5hcnJvdzpiZWZvcmV7bGVmdDowO2JvcmRlci13aWR0aDouNXJlbSAuNXJlbSAuNXJlbSAwO2JvcmRlci1yaWdodC1jb2xvcjpyZ2JhKDAsMCwyMSwuMjUpfS5jLWxlZ2FjeS10aGVtZSAuYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49cmlnaHRdPi5hcnJvdzpiZWZvcmUsLmMtbGVnYWN5LXRoZW1lIC5icy1wb3BvdmVyLW9sZC1yaWdodD4uYXJyb3c6YmVmb3Jle2JvcmRlci1yaWdodC1jb2xvcjpyZ2JhKDAsMCwwLC4yNSl9LmMtZGFyay10aGVtZSAuYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49cmlnaHRdPi5hcnJvdzpiZWZvcmUsLmMtZGFyay10aGVtZSAuYnMtcG9wb3Zlci1vbGQtcmlnaHQ+LmFycm93OmJlZm9yZXtib3JkZXItcmlnaHQtY29sb3I6IzE4MTkyNH0uYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49cmlnaHRdPi5hcnJvdzphZnRlciwuYnMtcG9wb3Zlci1vbGQtcmlnaHQ+LmFycm93OmFmdGVye2xlZnQ6MXB4O2JvcmRlci13aWR0aDouNXJlbSAuNXJlbSAuNXJlbSAwO2JvcmRlci1yaWdodC1jb2xvcjojZmZmfS5jLWxlZ2FjeS10aGVtZSAuYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49cmlnaHRdPi5hcnJvdzphZnRlciwuYy1sZWdhY3ktdGhlbWUgLmJzLXBvcG92ZXItb2xkLXJpZ2h0Pi5hcnJvdzphZnRlcntib3JkZXItcmlnaHQtY29sb3I6I2ZmZn0uYy1kYXJrLXRoZW1lIC5icy1wb3BvdmVyLW9sZC1hdXRvW3gtcGxhY2VtZW50Xj1yaWdodF0+LmFycm93OmFmdGVyLC5jLWRhcmstdGhlbWUgLmJzLXBvcG92ZXItb2xkLXJpZ2h0Pi5hcnJvdzphZnRlcntib3JkZXItcmlnaHQtY29sb3I6IzFlMWUyOX0uYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49Ym90dG9tXSwuYnMtcG9wb3Zlci1vbGQtYm90dG9te21hcmdpbi10b3A6LjVyZW19LmJzLXBvcG92ZXItb2xkLWF1dG9beC1wbGFjZW1lbnRePWJvdHRvbV0+LmFycm93LC5icy1wb3BvdmVyLW9sZC1ib3R0b20+LmFycm93e3RvcDpjYWxjKC0uNXJlbSAtIDFweCl9LmJzLXBvcG92ZXItb2xkLWF1dG9beC1wbGFjZW1lbnRePWJvdHRvbV0+LmFycm93OmJlZm9yZSwuYnMtcG9wb3Zlci1vbGQtYm90dG9tPi5hcnJvdzpiZWZvcmV7dG9wOjA7Ym9yZGVyLXdpZHRoOjAgLjVyZW0gLjVyZW0gLjVyZW07Ym9yZGVyLWJvdHRvbS1jb2xvcjpyZ2JhKDAsMCwyMSwuMjUpfS5jLWxlZ2FjeS10aGVtZSAuYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49Ym90dG9tXT4uYXJyb3c6YmVmb3JlLC5jLWxlZ2FjeS10aGVtZSAuYnMtcG9wb3Zlci1vbGQtYm90dG9tPi5hcnJvdzpiZWZvcmV7Ym9yZGVyLWJvdHRvbS1jb2xvcjpyZ2JhKDAsMCwwLC4yNSl9LmMtZGFyay10aGVtZSAuYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49Ym90dG9tXT4uYXJyb3c6YmVmb3JlLC5jLWRhcmstdGhlbWUgLmJzLXBvcG92ZXItb2xkLWJvdHRvbT4uYXJyb3c6YmVmb3Jle2JvcmRlci1ib3R0b20tY29sb3I6IzE4MTkyNH0uYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49Ym90dG9tXT4uYXJyb3c6YWZ0ZXIsLmJzLXBvcG92ZXItb2xkLWJvdHRvbT4uYXJyb3c6YWZ0ZXJ7dG9wOjFweDtib3JkZXItd2lkdGg6MCAuNXJlbSAuNXJlbSAuNXJlbTtib3JkZXItYm90dG9tLWNvbG9yOiNmZmZ9LmMtbGVnYWN5LXRoZW1lIC5icy1wb3BvdmVyLW9sZC1hdXRvW3gtcGxhY2VtZW50Xj1ib3R0b21dPi5hcnJvdzphZnRlciwuYy1sZWdhY3ktdGhlbWUgLmJzLXBvcG92ZXItb2xkLWJvdHRvbT4uYXJyb3c6YWZ0ZXJ7Ym9yZGVyLWJvdHRvbS1jb2xvcjojZmZmfS5jLWRhcmstdGhlbWUgLmJzLXBvcG92ZXItb2xkLWF1dG9beC1wbGFjZW1lbnRePWJvdHRvbV0+LmFycm93OmFmdGVyLC5jLWRhcmstdGhlbWUgLmJzLXBvcG92ZXItb2xkLWJvdHRvbT4uYXJyb3c6YWZ0ZXJ7Ym9yZGVyLWJvdHRvbS1jb2xvcjojMWUxZTI5fS5icy1wb3BvdmVyLW9sZC1hdXRvW3gtcGxhY2VtZW50Xj1ib3R0b21dIC5wb3BvdmVyLW9sZC1oZWFkZXI6YmVmb3JlLC5icy1wb3BvdmVyLW9sZC1ib3R0b20gLnBvcG92ZXItb2xkLWhlYWRlcjpiZWZvcmV7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDo1MCU7ZGlzcGxheTpibG9jazt3aWR0aDoxcmVtO21hcmdpbi1sZWZ0Oi0uNXJlbTtjb250ZW50OlwiXCI7Ym9yZGVyLWJvdHRvbToxcHggc29saWQ7Ym9yZGVyLWJvdHRvbS1jb2xvcjojZjdmN2Y3fS5jLWxlZ2FjeS10aGVtZSAuYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49Ym90dG9tXSAucG9wb3Zlci1vbGQtaGVhZGVyOmJlZm9yZSwuYy1sZWdhY3ktdGhlbWUgLmJzLXBvcG92ZXItb2xkLWJvdHRvbSAucG9wb3Zlci1vbGQtaGVhZGVyOmJlZm9yZXtib3JkZXItYm90dG9tLWNvbG9yOiNmN2Y3Zjd9LmMtZGFyay10aGVtZSAuYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49Ym90dG9tXSAucG9wb3Zlci1vbGQtaGVhZGVyOmJlZm9yZSwuYy1kYXJrLXRoZW1lIC5icy1wb3BvdmVyLW9sZC1ib3R0b20gLnBvcG92ZXItb2xkLWhlYWRlcjpiZWZvcmV7Ym9yZGVyLWJvdHRvbS1jb2xvcjojMTgxOTI0fS5icy1wb3BvdmVyLW9sZC1hdXRvW3gtcGxhY2VtZW50Xj1sZWZ0XSwuYnMtcG9wb3Zlci1vbGQtbGVmdHttYXJnaW4tcmlnaHQ6LjVyZW19LmJzLXBvcG92ZXItb2xkLWF1dG9beC1wbGFjZW1lbnRePWxlZnRdPi5hcnJvdywuYnMtcG9wb3Zlci1vbGQtbGVmdD4uYXJyb3d7cmlnaHQ6Y2FsYygtLjVyZW0gLSAxcHgpO3dpZHRoOi41cmVtO2hlaWdodDoxcmVtO21hcmdpbjouM3JlbSAwfS5icy1wb3BvdmVyLW9sZC1hdXRvW3gtcGxhY2VtZW50Xj1sZWZ0XT4uYXJyb3c6YmVmb3JlLC5icy1wb3BvdmVyLW9sZC1sZWZ0Pi5hcnJvdzpiZWZvcmV7cmlnaHQ6MDtib3JkZXItd2lkdGg6LjVyZW0gMCAuNXJlbSAuNXJlbTtib3JkZXItbGVmdC1jb2xvcjpyZ2JhKDAsMCwyMSwuMjUpfS5jLWxlZ2FjeS10aGVtZSAuYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49bGVmdF0+LmFycm93OmJlZm9yZSwuYy1sZWdhY3ktdGhlbWUgLmJzLXBvcG92ZXItb2xkLWxlZnQ+LmFycm93OmJlZm9yZXtib3JkZXItbGVmdC1jb2xvcjpyZ2JhKDAsMCwwLC4yNSl9LmMtZGFyay10aGVtZSAuYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49bGVmdF0+LmFycm93OmJlZm9yZSwuYy1kYXJrLXRoZW1lIC5icy1wb3BvdmVyLW9sZC1sZWZ0Pi5hcnJvdzpiZWZvcmV7Ym9yZGVyLWxlZnQtY29sb3I6IzE4MTkyNH0uYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49bGVmdF0+LmFycm93OmFmdGVyLC5icy1wb3BvdmVyLW9sZC1sZWZ0Pi5hcnJvdzphZnRlcntyaWdodDoxcHg7Ym9yZGVyLXdpZHRoOi41cmVtIDAgLjVyZW0gLjVyZW07Ym9yZGVyLWxlZnQtY29sb3I6I2ZmZn0uYy1sZWdhY3ktdGhlbWUgLmJzLXBvcG92ZXItb2xkLWF1dG9beC1wbGFjZW1lbnRePWxlZnRdPi5hcnJvdzphZnRlciwuYy1sZWdhY3ktdGhlbWUgLmJzLXBvcG92ZXItb2xkLWxlZnQ+LmFycm93OmFmdGVye2JvcmRlci1sZWZ0LWNvbG9yOiNmZmZ9LmMtZGFyay10aGVtZSAuYnMtcG9wb3Zlci1vbGQtYXV0b1t4LXBsYWNlbWVudF49bGVmdF0+LmFycm93OmFmdGVyLC5jLWRhcmstdGhlbWUgLmJzLXBvcG92ZXItb2xkLWxlZnQ+LmFycm93OmFmdGVye2JvcmRlci1sZWZ0LWNvbG9yOiMxZTFlMjl9LnBvcG92ZXItb2xkLWhlYWRlcntwYWRkaW5nOi41cmVtIC43NXJlbTttYXJnaW4tYm90dG9tOjA7Zm9udC1zaXplOi44NzVyZW07Ym9yZGVyLWJvdHRvbToxcHggc29saWQ7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czpjYWxjKC4zcmVtIC0gMXB4KTtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czpjYWxjKC4zcmVtIC0gMXB4KX0uYy1sZWdhY3ktdGhlbWUgLnBvcG92ZXItb2xkLWhlYWRlciwucG9wb3Zlci1vbGQtaGVhZGVye2JhY2tncm91bmQtY29sb3I6I2Y3ZjdmNztib3JkZXItYm90dG9tLWNvbG9yOiNlYmViZWJ9LmMtZGFyay10aGVtZSAucG9wb3Zlci1vbGQtaGVhZGVye2NvbG9yOiNlMWUxZTE7YmFja2dyb3VuZC1jb2xvcjojMTgxOTI0O2JvcmRlci1ib3R0b20tY29sb3I6IzBlMGUxNX0ucG9wb3Zlci1vbGQtaGVhZGVyOmVtcHR5e2Rpc3BsYXk6bm9uZX0ucG9wb3Zlci1vbGQtYm9keXtwYWRkaW5nOi41cmVtIC43NXJlbTtjb2xvcjojNGY1ZDczfS5jLWxlZ2FjeS10aGVtZSAucG9wb3Zlci1vbGQtYm9keXtjb2xvcjojMjMyODJjfS5jLWRhcmstdGhlbWUgLnBvcG92ZXItb2xkLWJvZHl7Y29sb3I6I2UxZTFlMX0iLCAiIl0pOyAvLyBFeHBvcnRzCgogICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzOwogICAgLyoqKi8KICB9LAoKICAvKioqLwogICI3NDE5IjoKICAvKioqLwogIGZ1bmN0aW9uIF8obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICAvKiBoYXJtb255IGltcG9ydCAqLwoKICAgIHZhciBfbm9kZV9tb2R1bGVzX3Z1ZV9zdHlsZV9sb2FkZXJfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8wX25vZGVfbW9kdWxlc19jc3NfbG9hZGVyX2Rpc3RfY2pzX2pzX3JlZl82X29uZU9mXzFfMV9ub2RlX21vZHVsZXNfdnVlX2xvYWRlcl9saWJfbG9hZGVyc19zdHlsZVBvc3RMb2FkZXJfanNfbm9kZV9tb2R1bGVzX3Bvc3Rjc3NfbG9hZGVyX3NyY19pbmRleF9qc19yZWZfNl9vbmVPZl8xXzJfbm9kZV9tb2R1bGVzX3Bvc3Rjc3NfbG9hZGVyX3NyY19pbmRleF9qc19yZWZfNl9vbmVPZl8xXzNfbm9kZV9tb2R1bGVzX2NhY2hlX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfMF8wX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9pbmRleF9qc192dWVfbG9hZGVyX29wdGlvbnNfQ0FsZXJ0X3Z1ZV92dWVfdHlwZV9zdHlsZV9pbmRleF8wX2lkX2M5NWQxZjA4X3Njb3BlZF90cnVlX2xhbmdfY3NzX19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygiODdiZSIpOwogICAgLyogaGFybW9ueSBpbXBvcnQgKi8KCgogICAgdmFyIF9ub2RlX21vZHVsZXNfdnVlX3N0eWxlX2xvYWRlcl9pbmRleF9qc19yZWZfNl9vbmVPZl8xXzBfbm9kZV9tb2R1bGVzX2Nzc19sb2FkZXJfZGlzdF9janNfanNfcmVmXzZfb25lT2ZfMV8xX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc19ub2RlX21vZHVsZXNfcG9zdGNzc19sb2FkZXJfc3JjX2luZGV4X2pzX3JlZl82X29uZU9mXzFfMl9ub2RlX21vZHVsZXNfcG9zdGNzc19sb2FkZXJfc3JjX2luZGV4X2pzX3JlZl82X29uZU9mXzFfM19ub2RlX21vZHVsZXNfY2FjaGVfbG9hZGVyX2Rpc3RfY2pzX2pzX3JlZl8wXzBfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2luZGV4X2pzX3Z1ZV9sb2FkZXJfb3B0aW9uc19DQWxlcnRfdnVlX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzBfaWRfYzk1ZDFmMDhfc2NvcGVkX3RydWVfbGFuZ19jc3NfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX25vZGVfbW9kdWxlc192dWVfc3R5bGVfbG9hZGVyX2luZGV4X2pzX3JlZl82X29uZU9mXzFfMF9ub2RlX21vZHVsZXNfY3NzX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfNl9vbmVPZl8xXzFfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2xvYWRlcnNfc3R5bGVQb3N0TG9hZGVyX2pzX25vZGVfbW9kdWxlc19wb3N0Y3NzX2xvYWRlcl9zcmNfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8yX25vZGVfbW9kdWxlc19wb3N0Y3NzX2xvYWRlcl9zcmNfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8zX25vZGVfbW9kdWxlc19jYWNoZV9sb2FkZXJfZGlzdF9janNfanNfcmVmXzBfMF9ub2RlX21vZHVsZXNfdnVlX2xvYWRlcl9saWJfaW5kZXhfanNfdnVlX2xvYWRlcl9vcHRpb25zX0NBbGVydF92dWVfdnVlX3R5cGVfc3R5bGVfaW5kZXhfMF9pZF9jOTVkMWYwOF9zY29wZWRfdHJ1ZV9sYW5nX2Nzc19fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyk7CiAgICAvKiB1bnVzZWQgaGFybW9ueSByZWV4cG9ydCAqICovCgogICAgLyogdW51c2VkIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIF91bnVzZWRfd2VicGFja19kZWZhdWx0X2V4cG9ydCA9IF9ub2RlX21vZHVsZXNfdnVlX3N0eWxlX2xvYWRlcl9pbmRleF9qc19yZWZfNl9vbmVPZl8xXzBfbm9kZV9tb2R1bGVzX2Nzc19sb2FkZXJfZGlzdF9janNfanNfcmVmXzZfb25lT2ZfMV8xX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc19ub2RlX21vZHVsZXNfcG9zdGNzc19sb2FkZXJfc3JjX2luZGV4X2pzX3JlZl82X29uZU9mXzFfMl9ub2RlX21vZHVsZXNfcG9zdGNzc19sb2FkZXJfc3JjX2luZGV4X2pzX3JlZl82X29uZU9mXzFfM19ub2RlX21vZHVsZXNfY2FjaGVfbG9hZGVyX2Rpc3RfY2pzX2pzX3JlZl8wXzBfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2luZGV4X2pzX3Z1ZV9sb2FkZXJfb3B0aW9uc19DQWxlcnRfdnVlX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzBfaWRfYzk1ZDFmMDhfc2NvcGVkX3RydWVfbGFuZ19jc3NfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hOwogICAgLyoqKi8KICB9LAoKICAvKioqLwogICI4MGY1IjoKICAvKioqLwogIGZ1bmN0aW9uIGY1KG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgLy8gSW1wb3J0cwogICAgdmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IF9fd2VicGFja19yZXF1aXJlX18oIjI0ZmIiKTsKCiAgICBleHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTsgLy8gTW9kdWxlCgogICAgZXhwb3J0cy5wdXNoKFttb2R1bGUuaSwgIi5wc1tkYXRhLXYtMzczOGI3MjJde292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnQ7b3ZlcmZsb3ctYW5jaG9yOm5vbmU7LW1zLW92ZXJmbG93LXN0eWxlOm5vbmU7dG91Y2gtYWN0aW9uOmF1dG87LW1zLXRvdWNoLWFjdGlvbjphdXRvfS5wc19fcmFpbC14W2RhdGEtdi0zNzM4YjcyMl17aGVpZ2h0OjE1cHg7Ym90dG9tOjB9LnBzX19yYWlsLXhbZGF0YS12LTM3MzhiNzIyXSwucHNfX3JhaWwteVtkYXRhLXYtMzczOGI3MjJde2Rpc3BsYXk6bm9uZTtvcGFjaXR5OjA7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4ycyBsaW5lYXIsb3BhY2l0eSAuMnMgbGluZWFyOy13ZWJraXQtdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4ycyBsaW5lYXIsb3BhY2l0eSAuMnMgbGluZWFyO3Bvc2l0aW9uOmFic29sdXRlfS5wc19fcmFpbC15W2RhdGEtdi0zNzM4YjcyMl17d2lkdGg6MTVweDtyaWdodDowfS5wcy0tYWN0aXZlLXg+LnBzX19yYWlsLXhbZGF0YS12LTM3MzhiNzIyXSwucHMtLWFjdGl2ZS15Pi5wc19fcmFpbC15W2RhdGEtdi0zNzM4YjcyMl17ZGlzcGxheTpibG9jaztiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS5wcy0tZm9jdXM+LnBzX19yYWlsLXhbZGF0YS12LTM3MzhiNzIyXSwucHMtLWZvY3VzPi5wc19fcmFpbC15W2RhdGEtdi0zNzM4YjcyMl0sLnBzLS1zY3JvbGxpbmcteD4ucHNfX3JhaWwteFtkYXRhLXYtMzczOGI3MjJdLC5wcy0tc2Nyb2xsaW5nLXk+LnBzX19yYWlsLXlbZGF0YS12LTM3MzhiNzIyXSwucHM6aG92ZXI+LnBzX19yYWlsLXhbZGF0YS12LTM3MzhiNzIyXSwucHM6aG92ZXI+LnBzX19yYWlsLXlbZGF0YS12LTM3MzhiNzIyXXtvcGFjaXR5Oi42fS5wcyAucHNfX3JhaWwteC5wcy0tY2xpY2tpbmdbZGF0YS12LTM3MzhiNzIyXSwucHMgLnBzX19yYWlsLXhbZGF0YS12LTM3MzhiNzIyXTpmb2N1cywucHMgLnBzX19yYWlsLXhbZGF0YS12LTM3MzhiNzIyXTpob3ZlciwucHMgLnBzX19yYWlsLXkucHMtLWNsaWNraW5nW2RhdGEtdi0zNzM4YjcyMl0sLnBzIC5wc19fcmFpbC15W2RhdGEtdi0zNzM4YjcyMl06Zm9jdXMsLnBzIC5wc19fcmFpbC15W2RhdGEtdi0zNzM4YjcyMl06aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZWVlO29wYWNpdHk6Ljl9LnBzX190aHVtYi14W2RhdGEtdi0zNzM4YjcyMl17dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIC4ycyBsaW5lYXIsaGVpZ2h0IC4ycyBlYXNlLWluLW91dDstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMnMgbGluZWFyLGhlaWdodCAuMnMgZWFzZS1pbi1vdXQ7aGVpZ2h0OjZweDtib3R0b206MnB4fS5wc19fdGh1bWIteFtkYXRhLXYtMzczOGI3MjJdLC5wc19fdGh1bWIteVtkYXRhLXYtMzczOGI3MjJde2JhY2tncm91bmQtY29sb3I6I2FhYTtib3JkZXItcmFkaXVzOjZweDtwb3NpdGlvbjphYnNvbHV0ZX0ucHNfX3RodW1iLXlbZGF0YS12LTM3MzhiNzIyXXt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjJzIGxpbmVhcix3aWR0aCAuMnMgZWFzZS1pbi1vdXQ7LXdlYmtpdC10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgLjJzIGxpbmVhcix3aWR0aCAuMnMgZWFzZS1pbi1vdXQ7d2lkdGg6NnB4O3JpZ2h0OjJweH0ucHNfX3JhaWwteC5wcy0tY2xpY2tpbmcgLnBzX190aHVtYi14W2RhdGEtdi0zNzM4YjcyMl0sLnBzX19yYWlsLXg6Zm9jdXM+LnBzX190aHVtYi14W2RhdGEtdi0zNzM4YjcyMl0sLnBzX19yYWlsLXg6aG92ZXI+LnBzX190aHVtYi14W2RhdGEtdi0zNzM4YjcyMl17YmFja2dyb3VuZC1jb2xvcjojOTk5O2hlaWdodDoxMXB4fS5wc19fcmFpbC15LnBzLS1jbGlja2luZyAucHNfX3RodW1iLXlbZGF0YS12LTM3MzhiNzIyXSwucHNfX3JhaWwteTpmb2N1cz4ucHNfX3RodW1iLXlbZGF0YS12LTM3MzhiNzIyXSwucHNfX3JhaWwteTpob3Zlcj4ucHNfX3RodW1iLXlbZGF0YS12LTM3MzhiNzIyXXtiYWNrZ3JvdW5kLWNvbG9yOiM5OTk7d2lkdGg6MTFweH1Ac3VwcG9ydHMgKC1tcy1vdmVyZmxvdy1zdHlsZTpub25lKXsucHNbZGF0YS12LTM3MzhiNzIyXXtvdmVyZmxvdzphdXRvIWltcG9ydGFudH19QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDpub25lKSxzY3JlZW4gYW5kICgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpey5wc1tkYXRhLXYtMzczOGI3MjJde292ZXJmbG93OmF1dG8haW1wb3J0YW50fX0iLCAiIl0pOyAvLyBFeHBvcnRzCgogICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzOwogICAgLyoqKi8KICB9LAoKICAvKioqLwogICI4N2JlIjoKICAvKioqLwogIGZ1bmN0aW9uIGJlKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWcKICAgIC8vIGxvYWQgdGhlIHN0eWxlcwogICAgdmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKCI1ZjYzIik7CgogICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmksIGNvbnRlbnQsICcnXV07CiAgICBpZiAoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7IC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET00KCiAgICB2YXIgYWRkID0gX193ZWJwYWNrX3JlcXVpcmVfXygiNDk5ZSIpLmRlZmF1bHQ7CgogICAgdmFyIHVwZGF0ZSA9IGFkZCgiNzY3YWU2M2MiLCBjb250ZW50LCB0cnVlLCB7CiAgICAgICJzb3VyY2VNYXAiOiBmYWxzZSwKICAgICAgInNoYWRvd01vZGUiOiBmYWxzZQogICAgfSk7CiAgICAvKioqLwogIH0sCgogIC8qKiovCiAgIjg4NzUiOgogIC8qKiovCiAgZnVuY3Rpb24gXyhtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgIHZhciBfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18sIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fOyAvLyBhZGRhcHRlZCBmcm9tIHRoZSBkb2N1bWVudC5jdXJyZW50U2NyaXB0IHBvbHlmaWxsIGJ5IEFkYW0gTWlsbGVyCiAgICAvLyBNSVQgbGljZW5zZQogICAgLy8gc291cmNlOiBodHRwczovL2dpdGh1Yi5jb20vYW1pbGxlci1naC9jdXJyZW50U2NyaXB0LXBvbHlmaWxsCiAgICAvLyBhZGRlZCBzdXBwb3J0IGZvciBGaXJlZm94IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTE2MjA1MDUKCgogICAgKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7CiAgICAgIGlmICh0cnVlKSB7CiAgICAgICAgIShfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fID0gW10sIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9IGZhY3RvcnksIF9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fID0gdHlwZW9mIF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyA9PT0gJ2Z1bmN0aW9uJyA/IF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXy5hcHBseShleHBvcnRzLCBfX1dFQlBBQ0tfQU1EX0RFRklORV9BUlJBWV9fKSA6IF9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXywgX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18gIT09IHVuZGVmaW5lZCAmJiAobW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXykpOwogICAgICB9IGVsc2Uge30KICAgIH0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbiAoKSB7CiAgICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRTY3JpcHQoKSB7CiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRvY3VtZW50LCAnY3VycmVudFNjcmlwdCcpOyAvLyBmb3IgY2hyb21lCgogICAgICAgIGlmICghZGVzY3JpcHRvciAmJiAnY3VycmVudFNjcmlwdCcgaW4gZG9jdW1lbnQgJiYgZG9jdW1lbnQuY3VycmVudFNjcmlwdCkgewogICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQ7CiAgICAgICAgfSAvLyBmb3Igb3RoZXIgYnJvd3NlcnMgd2l0aCBuYXRpdmUgc3VwcG9ydCBmb3IgY3VycmVudFNjcmlwdAoKCiAgICAgICAgaWYgKGRlc2NyaXB0b3IgJiYgZGVzY3JpcHRvci5nZXQgIT09IGdldEN1cnJlbnRTY3JpcHQgJiYgZG9jdW1lbnQuY3VycmVudFNjcmlwdCkgewogICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQ7CiAgICAgICAgfSAvLyBJRSA4LTEwIHN1cHBvcnQgc2NyaXB0IHJlYWR5U3RhdGUKICAgICAgICAvLyBJRSAxMSsgJiBGaXJlZm94IHN1cHBvcnQgc3RhY2sgdHJhY2UKCgogICAgICAgIHRyeSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTsKICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIC8vIEZpbmQgdGhlIHNlY29uZCBtYXRjaCBmb3IgdGhlICJhdCIgc3RyaW5nIHRvIGdldCBmaWxlIHNyYyB1cmwgZnJvbSBzdGFjay4KICAgICAgICAgIHZhciBpZVN0YWNrUmVnRXhwID0gLy4qYXQgW14oXSpcKCguKik6KC4rKTooLispXCkkL2lnLAogICAgICAgICAgICAgIGZmU3RhY2tSZWdFeHAgPSAvQChbXkBdKik6KFxkKyk6KFxkKylccyokL2lnLAogICAgICAgICAgICAgIHN0YWNrRGV0YWlscyA9IGllU3RhY2tSZWdFeHAuZXhlYyhlcnIuc3RhY2spIHx8IGZmU3RhY2tSZWdFeHAuZXhlYyhlcnIuc3RhY2spLAogICAgICAgICAgICAgIHNjcmlwdExvY2F0aW9uID0gc3RhY2tEZXRhaWxzICYmIHN0YWNrRGV0YWlsc1sxXSB8fCBmYWxzZSwKICAgICAgICAgICAgICBsaW5lID0gc3RhY2tEZXRhaWxzICYmIHN0YWNrRGV0YWlsc1syXSB8fCBmYWxzZSwKICAgICAgICAgICAgICBjdXJyZW50TG9jYXRpb24gPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoZG9jdW1lbnQubG9jYXRpb24uaGFzaCwgJycpLAogICAgICAgICAgICAgIHBhZ2VTb3VyY2UsCiAgICAgICAgICAgICAgaW5saW5lU2NyaXB0U291cmNlUmVnRXhwLAogICAgICAgICAgICAgIGlubGluZVNjcmlwdFNvdXJjZSwKICAgICAgICAgICAgICBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpOyAvLyBMaXZlIE5vZGVMaXN0IGNvbGxlY3Rpb24KCiAgICAgICAgICBpZiAoc2NyaXB0TG9jYXRpb24gPT09IGN1cnJlbnRMb2NhdGlvbikgewogICAgICAgICAgICBwYWdlU291cmNlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTDsKICAgICAgICAgICAgaW5saW5lU2NyaXB0U291cmNlUmVnRXhwID0gbmV3IFJlZ0V4cCgnKD86W15cXG5dKz9cXG4pezAsJyArIChsaW5lIC0gMikgKyAnfVtePF0qPHNjcmlwdD4oW1xcZFxcRF0qPyk8XFwvc2NyaXB0PltcXGRcXERdKicsICdpJyk7CiAgICAgICAgICAgIGlubGluZVNjcmlwdFNvdXJjZSA9IHBhZ2VTb3VyY2UucmVwbGFjZShpbmxpbmVTY3JpcHRTb3VyY2VSZWdFeHAsICckMScpLnRyaW0oKTsKICAgICAgICAgIH0KCiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNjcmlwdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgLy8gSWYgcmVhZHkgc3RhdGUgaXMgaW50ZXJhY3RpdmUsIHJldHVybiB0aGUgc2NyaXB0IHRhZwogICAgICAgICAgICBpZiAoc2NyaXB0c1tpXS5yZWFkeVN0YXRlID09PSAnaW50ZXJhY3RpdmUnKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHNjcmlwdHNbaV07CiAgICAgICAgICAgIH0gLy8gSWYgc3JjIG1hdGNoZXMsIHJldHVybiB0aGUgc2NyaXB0IHRhZwoKCiAgICAgICAgICAgIGlmIChzY3JpcHRzW2ldLnNyYyA9PT0gc2NyaXB0TG9jYXRpb24pIHsKICAgICAgICAgICAgICByZXR1cm4gc2NyaXB0c1tpXTsKICAgICAgICAgICAgfSAvLyBJZiBpbmxpbmUgc291cmNlIG1hdGNoZXMsIHJldHVybiB0aGUgc2NyaXB0IHRhZwoKCiAgICAgICAgICAgIGlmIChzY3JpcHRMb2NhdGlvbiA9PT0gY3VycmVudExvY2F0aW9uICYmIHNjcmlwdHNbaV0uaW5uZXJIVE1MICYmIHNjcmlwdHNbaV0uaW5uZXJIVE1MLnRyaW0oKSA9PT0gaW5saW5lU2NyaXB0U291cmNlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHNjcmlwdHNbaV07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy8gSWYgbm8gbWF0Y2gsIHJldHVybiBudWxsCgoKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgfQoKICAgICAgOwogICAgICByZXR1cm4gZ2V0Q3VycmVudFNjcmlwdDsKICAgIH0pOwogICAgLyoqKi8KCiAgfSwKCiAgLyoqKi8KICAiODk4ZiI6CiAgLyoqKi8KICBmdW5jdGlvbiBmKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgLy8gSW1wb3J0cwogICAgdmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IF9fd2VicGFja19yZXF1aXJlX18oIjI0ZmIiKTsKCiAgICBleHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTsgLy8gTW9kdWxlCgogICAgZXhwb3J0cy5wdXNoKFttb2R1bGUuaSwgIi5mYWRlLWVudGVyW2RhdGEtdi0yOTViNmQ5YV17ZGlzcGxheTpub25lO29wYWNpdHk6MH0uZmFkZS1lbnRlci1hY3RpdmVbZGF0YS12LTI5NWI2ZDlhXXstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuM3M7dHJhbnNpdGlvbjpvcGFjaXR5IC4zc30uZmFkZS1sZWF2ZVtkYXRhLXYtMjk1YjZkOWFdLC5mYWRlLWxlYXZlLWFjdGl2ZVtkYXRhLXYtMjk1YjZkOWFde3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6bm9uZTtvcGFjaXR5OjB9IiwgIiJdKTsgLy8gRXhwb3J0cwoKICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0czsKICAgIC8qKiovCiAgfSwKCiAgLyoqKi8KICAiOGZjMSI6CiAgLyoqKi8KICBmdW5jdGlvbiBmYzEobW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9wcm9ncmVzcy9DUHJvZ3Jlc3NCYXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWJiYTNlMTQ2JgoKICAgIHZhciByZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdkaXYnLCB7CiAgICAgICAgY2xhc3M6IF92bS5wcm9ncmVzc0JhckNsYXNzZXMsCiAgICAgICAgc3R5bGU6IF92bS5wcm9ncmVzc0JhclN0eWxlcywKICAgICAgICBhdHRyczogewogICAgICAgICAgInJvbGUiOiAicHJvZ3Jlc3NiYXIiLAogICAgICAgICAgImFyaWEtdmFsdWVtaW4iOiAiMCIsCiAgICAgICAgICAiYXJpYS12YWx1ZW1heCI6IF92bS5wcm9wcy5tYXgudG9TdHJpbmcoKSwKICAgICAgICAgICJhcmlhLXZhbHVlbm93IjogX3ZtLmNvbXB1dGVkVmFsdWUKICAgICAgICB9CiAgICAgIH0sIFtfdm0uX3QoImRlZmF1bHQiLCBbX3ZtLl92KF92bS5fcyhfdm0udGV4dCkpXSldLCAyKTsKICAgIH07CgogICAgdmFyIHN0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvcHJvZ3Jlc3Mvc2hhcmVkLXByb3BzLmpzCgogICAgdmFyIHNoYXJlZF9wcm9wcyA9IF9fd2VicGFja19yZXF1aXJlX18oImI2ODMiKTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3Byb2dyZXNzL0NQcm9ncmVzc0Jhci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgoKICAgIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICAgICAgaWYgKGtleSBpbiBvYmopIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgICB3cml0YWJsZTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIG9ialtrZXldID0gdmFsdWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBvYmo7CiAgICB9IC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICB2YXIgQ1Byb2dyZXNzQmFydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ1Byb2dyZXNzQmFyJywKICAgICAgcHJvcHM6IHNoYXJlZF9wcm9wc1siYSIKICAgICAgLyogZGVmYXVsdCAqLwogICAgICBdLAogICAgICBpbmplY3Q6IHsKICAgICAgICBwcm9ncmVzczogewogICAgICAgICAgZGVmYXVsdDogewogICAgICAgICAgICBwcm9wczoge30KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgZGlyZWN0bHlEZWNsYXJlZFByb3BzOiBmdW5jdGlvbiBkaXJlY3RseURlY2xhcmVkUHJvcHMoKSB7CiAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy4kb3B0aW9ucy5wcm9wc0RhdGEpOwogICAgICAgIH0sCiAgICAgICAgcHJvcHM6IGZ1bmN0aW9uIHByb3BzKCkgewogICAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoc2hhcmVkX3Byb3BzWyJhIgogICAgICAgICAgLyogZGVmYXVsdCAqLwogICAgICAgICAgXSkucmVkdWNlKGZ1bmN0aW9uIChjb21wdXRlZFByb3BzLCBrZXkpIHsKICAgICAgICAgICAgdmFyIHByb3BJc0RpcmVjdGx5RGVjbGFyZWQgPSBfdGhpcy5kaXJlY3RseURlY2xhcmVkUHJvcHMuaW5jbHVkZXMoa2V5KTsKCiAgICAgICAgICAgIHZhciBwYXJlbnRQcm9wRXhpc3RzID0gX3RoaXMucHJvZ3Jlc3MucHJvcHNba2V5XSAhPT0gdW5kZWZpbmVkOwogICAgICAgICAgICB2YXIgaXNJbmhlcml0ZWQgPSBwYXJlbnRQcm9wRXhpc3RzICYmICFwcm9wSXNEaXJlY3RseURlY2xhcmVkOwogICAgICAgICAgICBjb21wdXRlZFByb3BzW2tleV0gPSBpc0luaGVyaXRlZCA/IF90aGlzLnByb2dyZXNzLnByb3BzW2tleV0gOiBfdGhpc1trZXldOwogICAgICAgICAgICByZXR1cm4gY29tcHV0ZWRQcm9wczsKICAgICAgICAgIH0sIHt9KTsKICAgICAgICB9LAogICAgICAgIHByb2dyZXNzQmFyQ2xhc3NlczogZnVuY3Rpb24gcHJvZ3Jlc3NCYXJDbGFzc2VzKCkgewogICAgICAgICAgdmFyIF9yZWY7CgogICAgICAgICAgcmV0dXJuIFsncHJvZ3Jlc3MtYmFyJywgKF9yZWYgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9yZWYsICJiZy0iLmNvbmNhdCh0aGlzLnByb3BzLmNvbG9yKSwgdGhpcy5wcm9wcy5jb2xvciksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAncHJvZ3Jlc3MtYmFyLXN0cmlwZWQnLCB0aGlzLnByb3BzLnN0cmlwZWQgfHwgdGhpcy5wcm9wcy5hbmltYXRlZCksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCAncHJvZ3Jlc3MtYmFyLWFuaW1hdGVkJywgdGhpcy5wcm9wcy5hbmltYXRlZCksIF9yZWYpXTsKICAgICAgICB9LAogICAgICAgIHByb2dyZXNzQmFyU3R5bGVzOiBmdW5jdGlvbiBwcm9ncmVzc0JhclN0eWxlcygpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHdpZHRoOiAiIi5jb25jYXQoMTAwICogKHRoaXMucHJvcHMudmFsdWUgLyB0aGlzLnByb3BzLm1heCksICIlIikKICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICBwcm9ncmVzc1ZhbHVlOiBmdW5jdGlvbiBwcm9ncmVzc1ZhbHVlKCkgewogICAgICAgICAgdmFyIHAgPSBNYXRoLnBvdygxMCwgdGhpcy5wcm9wcy5wcmVjaXNpb24pOwogICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoMTAwICogcCAqIHRoaXMucHJvcHMudmFsdWUgLyB0aGlzLnByb3BzLm1heCkgLyBwOwogICAgICAgIH0sCiAgICAgICAgY29tcHV0ZWRWYWx1ZTogZnVuY3Rpb24gY29tcHV0ZWRWYWx1ZSgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnByb3BzLnZhbHVlLnRvRml4ZWQoc2hhcmVkX3Byb3BzWyJhIgogICAgICAgICAgLyogZGVmYXVsdCAqLwogICAgICAgICAgXS5wcmVjaXNpb24pOwogICAgICAgIH0sCiAgICAgICAgdGV4dDogZnVuY3Rpb24gdGV4dCgpIHsKICAgICAgICAgIGlmICh0aGlzLnByb3BzLnNob3dQZXJjZW50YWdlKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzVmFsdWUgKyAnJSc7CiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJvcHMuc2hvd1ZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVkVmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3Byb2dyZXNzL0NQcm9ncmVzc0Jhci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBwcm9ncmVzc19DUHJvZ3Jlc3NCYXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDUHJvZ3Jlc3NCYXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIEVYVEVSTkFMIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzCgogICAgdmFyIGNvbXBvbmVudE5vcm1hbGl6ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKCIyODc3Iik7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvcHJvZ3Jlc3MvQ1Byb2dyZXNzQmFyLnZ1ZQoKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCgogICAgdmFyIGNvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkocHJvZ3Jlc3NfQ1Byb2dyZXNzQmFydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCByZW5kZXIsIHN0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDUHJvZ3Jlc3NCYXIgPSBfX3dlYnBhY2tfZXhwb3J0c19fWyJhIl0gPSBjb21wb25lbnQuZXhwb3J0czsKICAgIC8qKiovCiAgfSwKCiAgLyoqKi8KICAiYWI1OCI6CiAgLyoqKi8KICBmdW5jdGlvbiBhYjU4KG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWcKICAgIC8vIGxvYWQgdGhlIHN0eWxlcwogICAgdmFyIGNvbnRlbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKCJlNGIyIik7CgogICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmksIGNvbnRlbnQsICcnXV07CiAgICBpZiAoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7IC8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET00KCiAgICB2YXIgYWRkID0gX193ZWJwYWNrX3JlcXVpcmVfXygiNDk5ZSIpLmRlZmF1bHQ7CgogICAgdmFyIHVwZGF0ZSA9IGFkZCgiNTE2OWY0NDEiLCBjb250ZW50LCB0cnVlLCB7CiAgICAgICJzb3VyY2VNYXAiOiBmYWxzZSwKICAgICAgInNoYWRvd01vZGUiOiBmYWxzZQogICAgfSk7CiAgICAvKioqLwogIH0sCgogIC8qKiovCiAgImIwZDMiOgogIC8qKiovCiAgZnVuY3Rpb24gYjBkMyhtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgIC8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnCiAgICAvLyBsb2FkIHRoZSBzdHlsZXMKICAgIHZhciBjb250ZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXygiNjU5ZiIpOwoKICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pLCBjb250ZW50LCAnJ11dOwogICAgaWYgKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzOyAvLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NCgogICAgdmFyIGFkZCA9IF9fd2VicGFja19yZXF1aXJlX18oIjQ5OWUiKS5kZWZhdWx0OwoKICAgIHZhciB1cGRhdGUgPSBhZGQoIjY3OWEzZTZhIiwgY29udGVudCwgdHJ1ZSwgewogICAgICAic291cmNlTWFwIjogZmFsc2UsCiAgICAgICJzaGFkb3dNb2RlIjogZmFsc2UKICAgIH0pOwogICAgLyoqKi8KICB9LAoKICAvKioqLwogICJiNjgzIjoKICAvKioqLwogIGZ1bmN0aW9uIGI2ODMobW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgX193ZWJwYWNrX2V4cG9ydHNfX1siYSJdID0gewogICAgICBjb2xvcjogU3RyaW5nLAogICAgICBzdHJpcGVkOiBCb29sZWFuLAogICAgICBhbmltYXRlZDogQm9vbGVhbiwKICAgICAgcHJlY2lzaW9uOiB7CiAgICAgICAgdHlwZTogTnVtYmVyLAogICAgICAgIGRlZmF1bHQ6IDAKICAgICAgfSwKICAgICAgc2hvd1BlcmNlbnRhZ2U6IEJvb2xlYW4sCiAgICAgIHNob3dWYWx1ZTogQm9vbGVhbiwKICAgICAgbWF4OiB7CiAgICAgICAgdHlwZTogTnVtYmVyLAogICAgICAgIGRlZmF1bHQ6IDEwMAogICAgICB9LAogICAgICB2YWx1ZTogewogICAgICAgIHR5cGU6IE51bWJlciwKICAgICAgICBkZWZhdWx0OiAwCiAgICAgIH0KICAgIH07CiAgICAvKioqLwogIH0sCgogIC8qKiovCiAgImM4YmEiOgogIC8qKiovCiAgZnVuY3Rpb24gYzhiYShtb2R1bGUsIGV4cG9ydHMpIHsKICAgIHZhciBnOyAvLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZQoKICAgIGcgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSgpOwoKICAgIHRyeSB7CiAgICAgIC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKQogICAgICBnID0gZyB8fCBuZXcgRnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgLy8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGUKICAgICAgaWYgKCh0eXBlb2Ygd2luZG93ID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZjIod2luZG93KSkgPT09ICJvYmplY3QiKSBnID0gd2luZG93OwogICAgfSAvLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uCiAgICAvLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQncwogICAgLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufQoKCiAgICBtb2R1bGUuZXhwb3J0cyA9IGc7CiAgICAvKioqLwogIH0sCgogIC8qKiovCiAgImNkM2YiOgogIC8qKiovCiAgZnVuY3Rpb24gY2QzZihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgIC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLwogICAgKGZ1bmN0aW9uIChnbG9iYWwsIG1vZHVsZSkgewogICAgICAvKioKICAgICAgKiBsb2Rhc2ggKEN1c3RvbSBCdWlsZCkgPGh0dHBzOi8vbG9kYXNoLmNvbS8+CiAgICAgICogQnVpbGQ6IGBsb2Rhc2ggbW9kdWxhcml6ZSBleHBvcnRzPSJucG0iIC1vIC4vYAogICAgICAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIDxodHRwczovL2pxdWVyeS5vcmcvPgogICAgICAqIFJlbGVhc2VkIHVuZGVyIE1JVCBsaWNlbnNlIDxodHRwczovL2xvZGFzaC5jb20vbGljZW5zZT4KICAgICAgKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPgogICAgICAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9ycwogICAgICAqLwoKICAgICAgLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovCiAgICAgIHZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwOwogICAgICAvKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovCgogICAgICB2YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7CiAgICAgIC8qKiBVc2VkIGFzIHJlZmVyZW5jZXMgZm9yIHZhcmlvdXMgYE51bWJlcmAgY29uc3RhbnRzLiAqLwoKICAgICAgdmFyIE1BWF9TQUZFX0lOVEVHRVIgPSA5MDA3MTk5MjU0NzQwOTkxOwogICAgICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovCgogICAgICB2YXIgYXJnc1RhZyA9ICdbb2JqZWN0IEFyZ3VtZW50c10nLAogICAgICAgICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLAogICAgICAgICAgYm9vbFRhZyA9ICdbb2JqZWN0IEJvb2xlYW5dJywKICAgICAgICAgIGRhdGVUYWcgPSAnW29iamVjdCBEYXRlXScsCiAgICAgICAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsCiAgICAgICAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJywKICAgICAgICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsCiAgICAgICAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJywKICAgICAgICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLAogICAgICAgICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsCiAgICAgICAgICBwcm9taXNlVGFnID0gJ1tvYmplY3QgUHJvbWlzZV0nLAogICAgICAgICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsCiAgICAgICAgICBzZXRUYWcgPSAnW29iamVjdCBTZXRdJywKICAgICAgICAgIHN0cmluZ1RhZyA9ICdbb2JqZWN0IFN0cmluZ10nLAogICAgICAgICAgc3ltYm9sVGFnID0gJ1tvYmplY3QgU3ltYm9sXScsCiAgICAgICAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nOwogICAgICB2YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLAogICAgICAgICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLAogICAgICAgICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLAogICAgICAgICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLAogICAgICAgICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLAogICAgICAgICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsCiAgICAgICAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJywKICAgICAgICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLAogICAgICAgICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJywKICAgICAgICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsCiAgICAgICAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nOwogICAgICAvKioKICAgICAgICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYAogICAgICAgKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS4KICAgICAgICovCgogICAgICB2YXIgcmVSZWdFeHBDaGFyID0gL1tcXF4kLiorPygpW1xde318XS9nOwogICAgICAvKiogVXNlZCB0byBtYXRjaCBgUmVnRXhwYCBmbGFncyBmcm9tIHRoZWlyIGNvZXJjZWQgc3RyaW5nIHZhbHVlcy4gKi8KCiAgICAgIHZhciByZUZsYWdzID0gL1x3KiQvOwogICAgICAvKiogVXNlZCB0byBkZXRlY3QgaG9zdCBjb25zdHJ1Y3RvcnMgKFNhZmFyaSkuICovCgogICAgICB2YXIgcmVJc0hvc3RDdG9yID0gL15cW29iamVjdCAuKz9Db25zdHJ1Y3RvclxdJC87CiAgICAgIC8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi8KCiAgICAgIHZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxkKikkLzsKICAgICAgLyoqIFVzZWQgdG8gaWRlbnRpZnkgYHRvU3RyaW5nVGFnYCB2YWx1ZXMgc3VwcG9ydGVkIGJ5IGBfLmNsb25lYC4gKi8KCiAgICAgIHZhciBjbG9uZWFibGVUYWdzID0ge307CiAgICAgIGNsb25lYWJsZVRhZ3NbYXJnc1RhZ10gPSBjbG9uZWFibGVUYWdzW2FycmF5VGFnXSA9IGNsb25lYWJsZVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRhVmlld1RhZ10gPSBjbG9uZWFibGVUYWdzW2Jvb2xUYWddID0gY2xvbmVhYmxlVGFnc1tkYXRlVGFnXSA9IGNsb25lYWJsZVRhZ3NbZmxvYXQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW2Zsb2F0NjRUYWddID0gY2xvbmVhYmxlVGFnc1tpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbaW50MTZUYWddID0gY2xvbmVhYmxlVGFnc1tpbnQzMlRhZ10gPSBjbG9uZWFibGVUYWdzW21hcFRhZ10gPSBjbG9uZWFibGVUYWdzW251bWJlclRhZ10gPSBjbG9uZWFibGVUYWdzW29iamVjdFRhZ10gPSBjbG9uZWFibGVUYWdzW3JlZ2V4cFRhZ10gPSBjbG9uZWFibGVUYWdzW3NldFRhZ10gPSBjbG9uZWFibGVUYWdzW3N0cmluZ1RhZ10gPSBjbG9uZWFibGVUYWdzW3N5bWJvbFRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQ4VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDE2VGFnXSA9IGNsb25lYWJsZVRhZ3NbdWludDMyVGFnXSA9IHRydWU7CiAgICAgIGNsb25lYWJsZVRhZ3NbZXJyb3JUYWddID0gY2xvbmVhYmxlVGFnc1tmdW5jVGFnXSA9IGNsb25lYWJsZVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTsKICAgICAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi8KCiAgICAgIHZhciBmcmVlR2xvYmFsID0gX3R5cGVvZjIoZ2xvYmFsKSA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDsKICAgICAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi8KCiAgICAgIHZhciBmcmVlU2VsZiA9ICh0eXBlb2Ygc2VsZiA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YyKHNlbGYpKSA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjsKICAgICAgLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovCgogICAgICB2YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTsKICAgICAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBleHBvcnRzYC4gKi8KCiAgICAgIHZhciBmcmVlRXhwb3J0cyA9IHRydWUgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzOwogICAgICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovCgogICAgICB2YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIF90eXBlb2YyKG1vZHVsZSkgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlOwogICAgICAvKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqLwoKICAgICAgdmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7CiAgICAgIC8qKgogICAgICAgKiBBZGRzIHRoZSBrZXktdmFsdWUgYHBhaXJgIHRvIGBtYXBgLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gbW9kaWZ5LgogICAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlyIFRoZSBrZXktdmFsdWUgcGFpciB0byBhZGQuCiAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG1hcGAuCiAgICAgICAqLwoKICAgICAgZnVuY3Rpb24gYWRkTWFwRW50cnkobWFwLCBwYWlyKSB7CiAgICAgICAgLy8gRG9uJ3QgcmV0dXJuIGBtYXAuc2V0YCBiZWNhdXNlIGl0J3Mgbm90IGNoYWluYWJsZSBpbiBJRSAxMS4KICAgICAgICBtYXAuc2V0KHBhaXJbMF0sIHBhaXJbMV0pOwogICAgICAgIHJldHVybiBtYXA7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIEFkZHMgYHZhbHVlYCB0byBgc2V0YC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIG1vZGlmeS4KICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYWRkLgogICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBzZXRgLgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBhZGRTZXRFbnRyeShzZXQsIHZhbHVlKSB7CiAgICAgICAgLy8gRG9uJ3QgcmV0dXJuIGBzZXQuYWRkYCBiZWNhdXNlIGl0J3Mgbm90IGNoYWluYWJsZSBpbiBJRSAxMS4KICAgICAgICBzZXQuYWRkKHZhbHVlKTsKICAgICAgICByZXR1cm4gc2V0OwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yCiAgICAgICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci4KICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi4KICAgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGFycmF5RWFjaChhcnJheSwgaXRlcmF0ZWUpIHsKICAgICAgICB2YXIgaW5kZXggPSAtMSwKICAgICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwOwoKICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkgewogICAgICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYXJyYXk7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIEFwcGVuZHMgdGhlIGVsZW1lbnRzIG9mIGB2YWx1ZXNgIHRvIGBhcnJheWAuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuCiAgICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIGFwcGVuZC4KICAgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7CiAgICAgICAgdmFyIGluZGV4ID0gLTEsCiAgICAgICAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsCiAgICAgICAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDsKCiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHsKICAgICAgICAgIGFycmF5W29mZnNldCArIGluZGV4XSA9IHZhbHVlc1tpbmRleF07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYXJyYXk7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5yZWR1Y2VgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvcgogICAgICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuCiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uCiAgICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS4KICAgICAgICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAgYXMKICAgICAgICogIHRoZSBpbml0aWFsIHZhbHVlLgogICAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGFycmF5UmVkdWNlKGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkgewogICAgICAgIHZhciBpbmRleCA9IC0xLAogICAgICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7CgogICAgICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7CiAgICAgICAgICBhY2N1bXVsYXRvciA9IGFycmF5WysraW5kZXhdOwogICAgICAgIH0KCiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHsKICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhY2N1bXVsYXRvcjsKICAgICAgfQogICAgICAvKioKICAgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcwogICAgICAgKiBvciBtYXggYXJyYXkgbGVuZ3RoIGNoZWNrcy4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBpbnZva2UgYGl0ZXJhdGVlYC4KICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi4KICAgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHsKICAgICAgICB2YXIgaW5kZXggPSAtMSwKICAgICAgICAgICAgcmVzdWx0ID0gQXJyYXkobik7CgogICAgICAgIHdoaWxlICgrK2luZGV4IDwgbikgewogICAgICAgICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGluZGV4KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS4KICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuCiAgICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS4KICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gZ2V0VmFsdWUob2JqZWN0LCBrZXkpIHsKICAgICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTsKICAgICAgfQogICAgICAvKioKICAgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBob3N0IG9iamVjdCBpbiBJRSA8IDkuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLgogICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGhvc3Qgb2JqZWN0LCBlbHNlIGBmYWxzZWAuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGlzSG9zdE9iamVjdCh2YWx1ZSkgewogICAgICAgIC8vIE1hbnkgaG9zdCBvYmplY3RzIGFyZSBgT2JqZWN0YCBvYmplY3RzIHRoYXQgY2FuIGNvZXJjZSB0byBzdHJpbmdzCiAgICAgICAgLy8gZGVzcGl0ZSBoYXZpbmcgaW1wcm9wZXJseSBkZWZpbmVkIGB0b1N0cmluZ2AgbWV0aG9kcy4KICAgICAgICB2YXIgcmVzdWx0ID0gZmFsc2U7CgogICAgICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICByZXN1bHQgPSAhISh2YWx1ZSArICcnKTsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBDb252ZXJ0cyBgbWFwYCB0byBpdHMga2V5LXZhbHVlIHBhaXJzLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gY29udmVydC4KICAgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIG1hcFRvQXJyYXkobWFwKSB7CiAgICAgICAgdmFyIGluZGV4ID0gLTEsCiAgICAgICAgICAgIHJlc3VsdCA9IEFycmF5KG1hcC5zaXplKTsKICAgICAgICBtYXAuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkgewogICAgICAgICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLgogICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB0cmFuc2Zvcm0gVGhlIGFyZ3VtZW50IHRyYW5zZm9ybS4KICAgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhcmcpIHsKICAgICAgICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTsKICAgICAgICB9OwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC4KICAgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIHNldFRvQXJyYXkoc2V0KSB7CiAgICAgICAgdmFyIGluZGV4ID0gLTEsCiAgICAgICAgICAgIHJlc3VsdCA9IEFycmF5KHNldC5zaXplKTsKICAgICAgICBzZXQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgIH0KICAgICAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqLwoKCiAgICAgIHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLAogICAgICAgICAgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLAogICAgICAgICAgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlOwogICAgICAvKiogVXNlZCB0byBkZXRlY3Qgb3ZlcnJlYWNoaW5nIGNvcmUtanMgc2hpbXMuICovCgogICAgICB2YXIgY29yZUpzRGF0YSA9IHJvb3RbJ19fY29yZS1qc19zaGFyZWRfXyddOwogICAgICAvKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqLwoKICAgICAgdmFyIG1hc2tTcmNLZXkgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTsKICAgICAgICByZXR1cm4gdWlkID8gJ1N5bWJvbChzcmMpXzEuJyArIHVpZCA6ICcnOwogICAgICB9KCk7CiAgICAgIC8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi8KCgogICAgICB2YXIgZnVuY1RvU3RyaW5nID0gZnVuY1Byb3RvLnRvU3RyaW5nOwogICAgICAvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi8KCiAgICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5OwogICAgICAvKioKICAgICAgICogVXNlZCB0byByZXNvbHZlIHRoZQogICAgICAgKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZykKICAgICAgICogb2YgdmFsdWVzLgogICAgICAgKi8KCiAgICAgIHZhciBvYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nOwogICAgICAvKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlLiAqLwoKICAgICAgdmFyIHJlSXNOYXRpdmUgPSBSZWdFeHAoJ14nICsgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFwkJicpLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFwoKXwgZm9yIC4rPyg/PVxcXF0pL2csICckMS4qPycpICsgJyQnKTsKICAgICAgLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovCgogICAgICB2YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IHJvb3QuQnVmZmVyIDogdW5kZWZpbmVkLAogICAgICAgICAgX1N5bWJvbCA9IHJvb3QuU3ltYm9sLAogICAgICAgICAgVWludDhBcnJheSA9IHJvb3QuVWludDhBcnJheSwKICAgICAgICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLAogICAgICAgICAgb2JqZWN0Q3JlYXRlID0gT2JqZWN0LmNyZWF0ZSwKICAgICAgICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGUsCiAgICAgICAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZTsKICAgICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqLwoKICAgICAgdmFyIG5hdGl2ZUdldFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLAogICAgICAgICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsCiAgICAgICAgICBuYXRpdmVLZXlzID0gb3ZlckFyZyhPYmplY3Qua2V5cywgT2JqZWN0KTsKICAgICAgLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqLwoKICAgICAgdmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKHJvb3QsICdEYXRhVmlldycpLAogICAgICAgICAgTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdNYXAnKSwKICAgICAgICAgIFByb21pc2UgPSBnZXROYXRpdmUocm9vdCwgJ1Byb21pc2UnKSwKICAgICAgICAgIFNldCA9IGdldE5hdGl2ZShyb290LCAnU2V0JyksCiAgICAgICAgICBXZWFrTWFwID0gZ2V0TmF0aXZlKHJvb3QsICdXZWFrTWFwJyksCiAgICAgICAgICBuYXRpdmVDcmVhdGUgPSBnZXROYXRpdmUoT2JqZWN0LCAnY3JlYXRlJyk7CiAgICAgIC8qKiBVc2VkIHRvIGRldGVjdCBtYXBzLCBzZXRzLCBhbmQgd2Vha21hcHMuICovCgogICAgICB2YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLAogICAgICAgICAgbWFwQ3RvclN0cmluZyA9IHRvU291cmNlKE1hcCksCiAgICAgICAgICBwcm9taXNlQ3RvclN0cmluZyA9IHRvU291cmNlKFByb21pc2UpLAogICAgICAgICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksCiAgICAgICAgICB3ZWFrTWFwQ3RvclN0cmluZyA9IHRvU291cmNlKFdlYWtNYXApOwogICAgICAvKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi8KCiAgICAgIHZhciBzeW1ib2xQcm90byA9IF9TeW1ib2wgPyBfU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCwKICAgICAgICAgIHN5bWJvbFZhbHVlT2YgPSBzeW1ib2xQcm90byA/IHN5bWJvbFByb3RvLnZhbHVlT2YgOiB1bmRlZmluZWQ7CiAgICAgIC8qKgogICAgICAgKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBjb25zdHJ1Y3RvcgogICAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS4KICAgICAgICovCgogICAgICBmdW5jdGlvbiBIYXNoKGVudHJpZXMpIHsKICAgICAgICB2YXIgaW5kZXggPSAtMSwKICAgICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA/IGVudHJpZXMubGVuZ3RoIDogMDsKICAgICAgICB0aGlzLmNsZWFyKCk7CgogICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7CiAgICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTsKICAgICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAbmFtZSBjbGVhcgogICAgICAgKiBAbWVtYmVyT2YgSGFzaAogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBoYXNoQ2xlYXIoKSB7CiAgICAgICAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9OwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQG5hbWUgZGVsZXRlCiAgICAgICAqIEBtZW1iZXJPZiBIYXNoCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBoYXNoIFRoZSBoYXNoIHRvIG1vZGlmeS4KICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuCiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC4KICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gaGFzaERlbGV0ZShrZXkpIHsKICAgICAgICByZXR1cm4gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQG5hbWUgZ2V0CiAgICAgICAqIEBtZW1iZXJPZiBIYXNoCiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LgogICAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGhhc2hHZXQoa2V5KSB7CiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fOwoKICAgICAgICBpZiAobmF0aXZlQ3JlYXRlKSB7CiAgICAgICAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldOwogICAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBuYW1lIGhhcwogICAgICAgKiBAbWVtYmVyT2YgSGFzaAogICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLgogICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBoYXNoSGFzKGtleSkgewogICAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXzsKICAgICAgICByZXR1cm4gbmF0aXZlQ3JlYXRlID8gZGF0YVtrZXldICE9PSB1bmRlZmluZWQgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSk7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQG5hbWUgc2V0CiAgICAgICAqIEBtZW1iZXJPZiBIYXNoCiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LgogICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuCiAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGhhc2ggaW5zdGFuY2UuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGhhc2hTZXQoa2V5LCB2YWx1ZSkgewogICAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXzsKICAgICAgICBkYXRhW2tleV0gPSBuYXRpdmVDcmVhdGUgJiYgdmFsdWUgPT09IHVuZGVmaW5lZCA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0gLy8gQWRkIG1ldGhvZHMgdG8gYEhhc2hgLgoKCiAgICAgIEhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyOwogICAgICBIYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlOwogICAgICBIYXNoLnByb3RvdHlwZS5nZXQgPSBoYXNoR2V0OwogICAgICBIYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzOwogICAgICBIYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0OwogICAgICAvKioKICAgICAgICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQGNvbnN0cnVjdG9yCiAgICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLgogICAgICAgKi8KCiAgICAgIGZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7CiAgICAgICAgdmFyIGluZGV4ID0gLTEsCiAgICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPyBlbnRyaWVzLmxlbmd0aCA6IDA7CiAgICAgICAgdGhpcy5jbGVhcigpOwoKICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkgewogICAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07CiAgICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pOwogICAgICAgIH0KICAgICAgfQogICAgICAvKioKICAgICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQG5hbWUgY2xlYXIKICAgICAgICogQG1lbWJlck9mIExpc3RDYWNoZQogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHsKICAgICAgICB0aGlzLl9fZGF0YV9fID0gW107CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAbmFtZSBkZWxldGUKICAgICAgICogQG1lbWJlck9mIExpc3RDYWNoZQogICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS4KICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBsaXN0Q2FjaGVEZWxldGUoa2V5KSB7CiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLAogICAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpOwoKICAgICAgICBpZiAoaW5kZXggPCAwKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB2YXIgbGFzdEluZGV4ID0gZGF0YS5sZW5ndGggLSAxOwoKICAgICAgICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7CiAgICAgICAgICBkYXRhLnBvcCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgICAvKioKICAgICAgICogR2V0cyB0aGUgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBuYW1lIGdldAogICAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlCiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LgogICAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHsKICAgICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sCiAgICAgICAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7CiAgICAgICAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBuYW1lIGhhcwogICAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlCiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suCiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHsKICAgICAgICByZXR1cm4gYXNzb2NJbmRleE9mKHRoaXMuX19kYXRhX18sIGtleSkgPiAtMTsKICAgICAgfQogICAgICAvKioKICAgICAgICogU2V0cyB0aGUgbGlzdCBjYWNoZSBga2V5YCB0byBgdmFsdWVgLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAbmFtZSBzZXQKICAgICAgICogQG1lbWJlck9mIExpc3RDYWNoZQogICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC4KICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LgogICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBsaXN0Q2FjaGVTZXQoa2V5LCB2YWx1ZSkgewogICAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXywKICAgICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTsKCiAgICAgICAgaWYgKGluZGV4IDwgMCkgewogICAgICAgICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfSAvLyBBZGQgbWV0aG9kcyB0byBgTGlzdENhY2hlYC4KCgogICAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmNsZWFyID0gbGlzdENhY2hlQ2xlYXI7CiAgICAgIExpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlOwogICAgICBMaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDsKICAgICAgTGlzdENhY2hlLnByb3RvdHlwZS5oYXMgPSBsaXN0Q2FjaGVIYXM7CiAgICAgIExpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0OwogICAgICAvKioKICAgICAgICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAY29uc3RydWN0b3IKICAgICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuCiAgICAgICAqLwoKICAgICAgZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykgewogICAgICAgIHZhciBpbmRleCA9IC0xLAogICAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID8gZW50cmllcy5sZW5ndGggOiAwOwogICAgICAgIHRoaXMuY2xlYXIoKTsKCiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHsKICAgICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdOwogICAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQG5hbWUgY2xlYXIKICAgICAgICogQG1lbWJlck9mIE1hcENhY2hlCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIG1hcENhY2hlQ2xlYXIoKSB7CiAgICAgICAgdGhpcy5fX2RhdGFfXyA9IHsKICAgICAgICAgICdoYXNoJzogbmV3IEhhc2goKSwKICAgICAgICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpKCksCiAgICAgICAgICAnc3RyaW5nJzogbmV3IEhhc2goKQogICAgICAgIH07CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBuYW1lIGRlbGV0ZQogICAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGUKICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuCiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC4KICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7CiAgICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTsKICAgICAgfQogICAgICAvKioKICAgICAgICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQG5hbWUgZ2V0CiAgICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZQogICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC4KICAgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBtYXBDYWNoZUdldChrZXkpIHsKICAgICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQG5hbWUgaGFzCiAgICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZQogICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLgogICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBtYXBDYWNoZUhhcyhrZXkpIHsKICAgICAgICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmhhcyhrZXkpOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQG5hbWUgc2V0CiAgICAgICAqIEBtZW1iZXJPZiBNYXBDYWNoZQogICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC4KICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LgogICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBtYXAgY2FjaGUgaW5zdGFuY2UuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIG1hcENhY2hlU2V0KGtleSwgdmFsdWUpIHsKICAgICAgICBnZXRNYXBEYXRhKHRoaXMsIGtleSkuc2V0KGtleSwgdmFsdWUpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9IC8vIEFkZCBtZXRob2RzIHRvIGBNYXBDYWNoZWAuCgoKICAgICAgTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjsKICAgICAgTWFwQ2FjaGUucHJvdG90eXBlWydkZWxldGUnXSA9IG1hcENhY2hlRGVsZXRlOwogICAgICBNYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7CiAgICAgIE1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhczsKICAgICAgTWFwQ2FjaGUucHJvdG90eXBlLnNldCA9IG1hcENhY2hlU2V0OwogICAgICAvKioKICAgICAgICogQ3JlYXRlcyBhIHN0YWNrIGNhY2hlIG9iamVjdCB0byBzdG9yZSBrZXktdmFsdWUgcGFpcnMuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBjb25zdHJ1Y3RvcgogICAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS4KICAgICAgICovCgogICAgICBmdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7CiAgICAgICAgdGhpcy5fX2RhdGFfXyA9IG5ldyBMaXN0Q2FjaGUoZW50cmllcyk7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAbmFtZSBjbGVhcgogICAgICAgKiBAbWVtYmVyT2YgU3RhY2sKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gc3RhY2tDbGVhcigpIHsKICAgICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZSgpOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgc3RhY2suCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBuYW1lIGRlbGV0ZQogICAgICAgKiBAbWVtYmVyT2YgU3RhY2sKICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuCiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC4KICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX19bJ2RlbGV0ZSddKGtleSk7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIEdldHMgdGhlIHN0YWNrIHZhbHVlIGZvciBga2V5YC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQG5hbWUgZ2V0CiAgICAgICAqIEBtZW1iZXJPZiBTdGFjawogICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC4KICAgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBzdGFja0dldChrZXkpIHsKICAgICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQoa2V5KTsKICAgICAgfQogICAgICAvKioKICAgICAgICogQ2hlY2tzIGlmIGEgc3RhY2sgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQG5hbWUgaGFzCiAgICAgICAqIEBtZW1iZXJPZiBTdGFjawogICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLgogICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBzdGFja0hhcyhrZXkpIHsKICAgICAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoa2V5KTsKICAgICAgfQogICAgICAvKioKICAgICAgICogU2V0cyB0aGUgc3RhY2sgYGtleWAgdG8gYHZhbHVlYC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQG5hbWUgc2V0CiAgICAgICAqIEBtZW1iZXJPZiBTdGFjawogICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC4KICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LgogICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS4KICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gc3RhY2tTZXQoa2V5LCB2YWx1ZSkgewogICAgICAgIHZhciBjYWNoZSA9IHRoaXMuX19kYXRhX187CgogICAgICAgIGlmIChjYWNoZSBpbnN0YW5jZW9mIExpc3RDYWNoZSkgewogICAgICAgICAgdmFyIHBhaXJzID0gY2FjaGUuX19kYXRhX187CgogICAgICAgICAgaWYgKCFNYXAgfHwgcGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpIHsKICAgICAgICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pOwogICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgIH0KCiAgICAgICAgICBjYWNoZSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGUocGFpcnMpOwogICAgICAgIH0KCiAgICAgICAgY2FjaGUuc2V0KGtleSwgdmFsdWUpOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9IC8vIEFkZCBtZXRob2RzIHRvIGBTdGFja2AuCgoKICAgICAgU3RhY2sucHJvdG90eXBlLmNsZWFyID0gc3RhY2tDbGVhcjsKICAgICAgU3RhY2sucHJvdG90eXBlWydkZWxldGUnXSA9IHN0YWNrRGVsZXRlOwogICAgICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7CiAgICAgIFN0YWNrLnByb3RvdHlwZS5oYXMgPSBzdGFja0hhczsKICAgICAgU3RhY2sucHJvdG90eXBlLnNldCA9IHN0YWNrU2V0OwogICAgICAvKioKICAgICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS4KICAgICAgICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLgogICAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLgogICAgICAgKi8KCiAgICAgIGZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkgewogICAgICAgIC8vIFNhZmFyaSA4LjEgbWFrZXMgYGFyZ3VtZW50cy5jYWxsZWVgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuCiAgICAgICAgLy8gU2FmYXJpIDkgbWFrZXMgYGFyZ3VtZW50cy5sZW5ndGhgIGVudW1lcmFibGUgaW4gc3RyaWN0IG1vZGUuCiAgICAgICAgdmFyIHJlc3VsdCA9IGlzQXJyYXkodmFsdWUpIHx8IGlzQXJndW1lbnRzKHZhbHVlKSA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXTsKICAgICAgICB2YXIgbGVuZ3RoID0gcmVzdWx0Lmxlbmd0aCwKICAgICAgICAgICAgc2tpcEluZGV4ZXMgPSAhIWxlbmd0aDsKCiAgICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7CiAgICAgICAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJiAhKHNraXBJbmRleGVzICYmIChrZXkgPT0gJ2xlbmd0aCcgfHwgaXNJbmRleChrZXksIGxlbmd0aCkpKSkgewogICAgICAgICAgICByZXN1bHQucHVzaChrZXkpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgICAvKioKICAgICAgICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudAogICAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKQogICAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuCiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLgogICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkgewogICAgICAgIHZhciBvYmpWYWx1ZSA9IG9iamVjdFtrZXldOwoKICAgICAgICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpIHsKICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgYGtleWAgaXMgZm91bmQgaW4gYGFycmF5YCBvZiBrZXktdmFsdWUgcGFpcnMuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LgogICAgICAgKiBAcGFyYW0geyp9IGtleSBUaGUga2V5IHRvIHNlYXJjaCBmb3IuCiAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7CiAgICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDsKCiAgICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7CiAgICAgICAgICBpZiAoZXEoYXJyYXlbbGVuZ3RoXVswXSwga2V5KSkgewogICAgICAgICAgICByZXR1cm4gbGVuZ3RoOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIC0xOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgc291cmNlcwogICAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuCiAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ24ob2JqZWN0LCBzb3VyY2UpIHsKICAgICAgICByZXR1cm4gb2JqZWN0ICYmIGNvcHlPYmplY3Qoc291cmNlLCBrZXlzKHNvdXJjZSksIG9iamVjdCk7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsb25lYCBhbmQgYF8uY2xvbmVEZWVwYCB3aGljaCB0cmFja3MKICAgICAgICogdHJhdmVyc2VkIG9iamVjdHMuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNsb25lLgogICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLgogICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0Z1bGxdIFNwZWNpZnkgYSBjbG9uZSBpbmNsdWRpbmcgc3ltYm9scy4KICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy4KICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIFRoZSBrZXkgb2YgYHZhbHVlYC4KICAgICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGB2YWx1ZWAuCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBhbmQgdGhlaXIgY2xvbmUgY291bnRlcnBhcnRzLgogICAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBiYXNlQ2xvbmUodmFsdWUsIGlzRGVlcCwgaXNGdWxsLCBjdXN0b21pemVyLCBrZXksIG9iamVjdCwgc3RhY2spIHsKICAgICAgICB2YXIgcmVzdWx0OwoKICAgICAgICBpZiAoY3VzdG9taXplcikgewogICAgICAgICAgcmVzdWx0ID0gb2JqZWN0ID8gY3VzdG9taXplcih2YWx1ZSwga2V5LCBvYmplY3QsIHN0YWNrKSA6IGN1c3RvbWl6ZXIodmFsdWUpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KCiAgICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHsKICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICB9CgogICAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpOwoKICAgICAgICBpZiAoaXNBcnIpIHsKICAgICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUFycmF5KHZhbHVlKTsKCiAgICAgICAgICBpZiAoIWlzRGVlcCkgewogICAgICAgICAgICByZXR1cm4gY29weUFycmF5KHZhbHVlLCByZXN1bHQpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSwKICAgICAgICAgICAgICBpc0Z1bmMgPSB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnOwoKICAgICAgICAgIGlmIChpc0J1ZmZlcih2YWx1ZSkpIHsKICAgICAgICAgICAgcmV0dXJuIGNsb25lQnVmZmVyKHZhbHVlLCBpc0RlZXApOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0YWcgPT0gb2JqZWN0VGFnIHx8IHRhZyA9PSBhcmdzVGFnIHx8IGlzRnVuYyAmJiAhb2JqZWN0KSB7CiAgICAgICAgICAgIGlmIChpc0hvc3RPYmplY3QodmFsdWUpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdCA/IHZhbHVlIDoge307CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZU9iamVjdChpc0Z1bmMgPyB7fSA6IHZhbHVlKTsKCiAgICAgICAgICAgIGlmICghaXNEZWVwKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGNvcHlTeW1ib2xzKHZhbHVlLCBiYXNlQXNzaWduKHJlc3VsdCwgdmFsdWUpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKCFjbG9uZWFibGVUYWdzW3RhZ10pIHsKICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0ID8gdmFsdWUgOiB7fTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmVzdWx0ID0gaW5pdENsb25lQnlUYWcodmFsdWUsIHRhZywgYmFzZUNsb25lLCBpc0RlZXApOwogICAgICAgICAgfQogICAgICAgIH0gLy8gQ2hlY2sgZm9yIGNpcmN1bGFyIHJlZmVyZW5jZXMgYW5kIHJldHVybiBpdHMgY29ycmVzcG9uZGluZyBjbG9uZS4KCgogICAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjaygpKTsKICAgICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldCh2YWx1ZSk7CgogICAgICAgIGlmIChzdGFja2VkKSB7CiAgICAgICAgICByZXR1cm4gc3RhY2tlZDsKICAgICAgICB9CgogICAgICAgIHN0YWNrLnNldCh2YWx1ZSwgcmVzdWx0KTsKCiAgICAgICAgaWYgKCFpc0FycikgewogICAgICAgICAgdmFyIHByb3BzID0gaXNGdWxsID8gZ2V0QWxsS2V5cyh2YWx1ZSkgOiBrZXlzKHZhbHVlKTsKICAgICAgICB9CgogICAgICAgIGFycmF5RWFjaChwcm9wcyB8fCB2YWx1ZSwgZnVuY3Rpb24gKHN1YlZhbHVlLCBrZXkpIHsKICAgICAgICAgIGlmIChwcm9wcykgewogICAgICAgICAgICBrZXkgPSBzdWJWYWx1ZTsKICAgICAgICAgICAgc3ViVmFsdWUgPSB2YWx1ZVtrZXldOwogICAgICAgICAgfSAvLyBSZWN1cnNpdmVseSBwb3B1bGF0ZSBjbG9uZSAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLgoKCiAgICAgICAgICBhc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBpc0RlZXAsIGlzRnVsbCwgY3VzdG9taXplciwga2V5LCB2YWx1ZSwgc3RhY2spKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jcmVhdGVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgYXNzaWduaW5nCiAgICAgICAqIHByb3BlcnRpZXMgdG8gdGhlIGNyZWF0ZWQgb2JqZWN0LgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLgogICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBiYXNlQ3JlYXRlKHByb3RvKSB7CiAgICAgICAgcmV0dXJuIGlzT2JqZWN0KHByb3RvKSA/IG9iamVjdENyZWF0ZShwcm90bykgOiB7fTsKICAgICAgfQogICAgICAvKioKICAgICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldEFsbEtleXNgIGFuZCBgZ2V0QWxsS2V5c0luYCB3aGljaCB1c2VzCiAgICAgICAqIGBrZXlzRnVuY2AgYW5kIGBzeW1ib2xzRnVuY2AgdG8gZ2V0IHRoZSBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIGFuZAogICAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuCiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuCiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN5bWJvbHNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIHN5bWJvbHMgb2YgYG9iamVjdGAuCiAgICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGJhc2VHZXRBbGxLZXlzKG9iamVjdCwga2V5c0Z1bmMsIHN5bWJvbHNGdW5jKSB7CiAgICAgICAgdmFyIHJlc3VsdCA9IGtleXNGdW5jKG9iamVjdCk7CiAgICAgICAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0VGFnYC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuCiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGJhc2VHZXRUYWcodmFsdWUpIHsKICAgICAgICByZXR1cm4gb2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTmF0aXZlYCB3aXRob3V0IGJhZCBzaGltIGNoZWNrcy4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suCiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbmF0aXZlIGZ1bmN0aW9uLAogICAgICAgKiAgZWxzZSBgZmFsc2VgLgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHsKICAgICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSB8fCBpc01hc2tlZCh2YWx1ZSkpIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgfHwgaXNIb3N0T2JqZWN0KHZhbHVlKSA/IHJlSXNOYXRpdmUgOiByZUlzSG9zdEN0b3I7CiAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5rZXlzYCB3aGljaCBkb2Vzbid0IHRyZWF0IHNwYXJzZSBhcnJheXMgYXMgZGVuc2UuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS4KICAgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy4KICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7CiAgICAgICAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7CiAgICAgICAgICByZXR1cm4gbmF0aXZlS2V5cyhvYmplY3QpOwogICAgICAgIH0KCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdOwoKICAgICAgICBmb3IgKHZhciBrZXkgaW4gT2JqZWN0KG9iamVjdCkpIHsKICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykgewogICAgICAgICAgICByZXN1bHQucHVzaChrZXkpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgICAvKioKICAgICAgICogQ3JlYXRlcyBhIGNsb25lIG9mICBgYnVmZmVyYC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIHRvIGNsb25lLgogICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLgogICAgICAgKiBAcmV0dXJucyB7QnVmZmVyfSBSZXR1cm5zIHRoZSBjbG9uZWQgYnVmZmVyLgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBjbG9uZUJ1ZmZlcihidWZmZXIsIGlzRGVlcCkgewogICAgICAgIGlmIChpc0RlZXApIHsKICAgICAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoKTsKICAgICAgICB9CgogICAgICAgIHZhciByZXN1bHQgPSBuZXcgYnVmZmVyLmNvbnN0cnVjdG9yKGJ1ZmZlci5sZW5ndGgpOwogICAgICAgIGJ1ZmZlci5jb3B5KHJlc3VsdCk7CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgICAvKioKICAgICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBhcnJheUJ1ZmZlcmAuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFycmF5QnVmZmVyIFRoZSBhcnJheSBidWZmZXIgdG8gY2xvbmUuCiAgICAgICAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGFycmF5IGJ1ZmZlci4KICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihhcnJheUJ1ZmZlcikgewogICAgICAgIHZhciByZXN1bHQgPSBuZXcgYXJyYXlCdWZmZXIuY29uc3RydWN0b3IoYXJyYXlCdWZmZXIuYnl0ZUxlbmd0aCk7CiAgICAgICAgbmV3IFVpbnQ4QXJyYXkocmVzdWx0KS5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTsKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYGRhdGFWaWV3YC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFWaWV3IFRoZSBkYXRhIHZpZXcgdG8gY2xvbmUuCiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuCiAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBkYXRhIHZpZXcuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGNsb25lRGF0YVZpZXcoZGF0YVZpZXcsIGlzRGVlcCkgewogICAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKGRhdGFWaWV3LmJ1ZmZlcikgOiBkYXRhVmlldy5idWZmZXI7CiAgICAgICAgcmV0dXJuIG5ldyBkYXRhVmlldy5jb25zdHJ1Y3RvcihidWZmZXIsIGRhdGFWaWV3LmJ5dGVPZmZzZXQsIGRhdGFWaWV3LmJ5dGVMZW5ndGgpOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYG1hcGAuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBjbG9uZS4KICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2xvbmVGdW5jIFRoZSBmdW5jdGlvbiB0byBjbG9uZSB2YWx1ZXMuCiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuCiAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCBtYXAuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGNsb25lTWFwKG1hcCwgaXNEZWVwLCBjbG9uZUZ1bmMpIHsKICAgICAgICB2YXIgYXJyYXkgPSBpc0RlZXAgPyBjbG9uZUZ1bmMobWFwVG9BcnJheShtYXApLCB0cnVlKSA6IG1hcFRvQXJyYXkobWFwKTsKICAgICAgICByZXR1cm4gYXJyYXlSZWR1Y2UoYXJyYXksIGFkZE1hcEVudHJ5LCBuZXcgbWFwLmNvbnN0cnVjdG9yKCkpOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHJlZ2V4cGAuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZWdleHAgVGhlIHJlZ2V4cCB0byBjbG9uZS4KICAgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHJlZ2V4cC4KICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gY2xvbmVSZWdFeHAocmVnZXhwKSB7CiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyByZWdleHAuY29uc3RydWN0b3IocmVnZXhwLnNvdXJjZSwgcmVGbGFncy5leGVjKHJlZ2V4cCkpOwogICAgICAgIHJlc3VsdC5sYXN0SW5kZXggPSByZWdleHAubGFzdEluZGV4OwogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgc2V0YC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQHBhcmFtIHtPYmplY3R9IHNldCBUaGUgc2V0IHRvIGNsb25lLgogICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjbG9uZUZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNsb25lIHZhbHVlcy4KICAgICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS4KICAgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHNldC4KICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gY2xvbmVTZXQoc2V0LCBpc0RlZXAsIGNsb25lRnVuYykgewogICAgICAgIHZhciBhcnJheSA9IGlzRGVlcCA/IGNsb25lRnVuYyhzZXRUb0FycmF5KHNldCksIHRydWUpIDogc2V0VG9BcnJheShzZXQpOwogICAgICAgIHJldHVybiBhcnJheVJlZHVjZShhcnJheSwgYWRkU2V0RW50cnksIG5ldyBzZXQuY29uc3RydWN0b3IoKSk7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGUgYHN5bWJvbGAgb2JqZWN0LgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAcGFyYW0ge09iamVjdH0gc3ltYm9sIFRoZSBzeW1ib2wgb2JqZWN0IHRvIGNsb25lLgogICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgc3ltYm9sIG9iamVjdC4KICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gY2xvbmVTeW1ib2woc3ltYm9sKSB7CiAgICAgICAgcmV0dXJuIHN5bWJvbFZhbHVlT2YgPyBPYmplY3Qoc3ltYm9sVmFsdWVPZi5jYWxsKHN5bWJvbCkpIDoge307CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdHlwZWRBcnJheWAuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlZEFycmF5IFRoZSB0eXBlZCBhcnJheSB0byBjbG9uZS4KICAgICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS4KICAgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHR5cGVkIGFycmF5LgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBjbG9uZVR5cGVkQXJyYXkodHlwZWRBcnJheSwgaXNEZWVwKSB7CiAgICAgICAgdmFyIGJ1ZmZlciA9IGlzRGVlcCA/IGNsb25lQXJyYXlCdWZmZXIodHlwZWRBcnJheS5idWZmZXIpIDogdHlwZWRBcnJheS5idWZmZXI7CiAgICAgICAgcmV0dXJuIG5ldyB0eXBlZEFycmF5LmNvbnN0cnVjdG9yKGJ1ZmZlciwgdHlwZWRBcnJheS5ieXRlT2Zmc2V0LCB0eXBlZEFycmF5Lmxlbmd0aCk7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS4KICAgICAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5PVtdXSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgdG8uCiAgICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBjb3B5QXJyYXkoc291cmNlLCBhcnJheSkgewogICAgICAgIHZhciBpbmRleCA9IC0xLAogICAgICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoOwogICAgICAgIGFycmF5IHx8IChhcnJheSA9IEFycmF5KGxlbmd0aCkpOwoKICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkgewogICAgICAgICAgYXJyYXlbaW5kZXhdID0gc291cmNlW2luZGV4XTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBhcnJheTsKICAgICAgfQogICAgICAvKioKICAgICAgICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS4KICAgICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzIHRvIGNvcHkuCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0PXt9XSBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0by4KICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy4KICAgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC4KICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gY29weU9iamVjdChzb3VyY2UsIHByb3BzLCBvYmplY3QsIGN1c3RvbWl6ZXIpIHsKICAgICAgICBvYmplY3QgfHwgKG9iamVjdCA9IHt9KTsKICAgICAgICB2YXIgaW5kZXggPSAtMSwKICAgICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoOwoKICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkgewogICAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTsKICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSkgOiB1bmRlZmluZWQ7CiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUgPT09IHVuZGVmaW5lZCA/IHNvdXJjZVtrZXldIDogbmV3VmFsdWUpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgfQogICAgICAvKioKICAgICAgICogQ29waWVzIG93biBzeW1ib2wgcHJvcGVydGllcyBvZiBgc291cmNlYCB0byBgb2JqZWN0YC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IHRvIGNvcHkgc3ltYm9scyBmcm9tLgogICAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uCiAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGNvcHlTeW1ib2xzKHNvdXJjZSwgb2JqZWN0KSB7CiAgICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzKHNvdXJjZSksIG9iamVjdCk7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMgb2YgYG9iamVjdGAuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS4KICAgICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy4KICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHsKICAgICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzLCBnZXRTeW1ib2xzKTsKICAgICAgfQogICAgICAvKioKICAgICAgICogR2V0cyB0aGUgZGF0YSBmb3IgYG1hcGAuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXAgVGhlIG1hcCB0byBxdWVyeS4KICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcmVmZXJlbmNlIGtleS4KICAgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7CiAgICAgICAgdmFyIGRhdGEgPSBtYXAuX19kYXRhX187CiAgICAgICAgcmV0dXJuIGlzS2V5YWJsZShrZXkpID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddIDogZGF0YS5tYXA7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LgogICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZCB0byBnZXQuCiAgICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC4KICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gZ2V0TmF0aXZlKG9iamVjdCwga2V5KSB7CiAgICAgICAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpOwogICAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHN5bWJvbCBwcm9wZXJ0aWVzIG9mIGBvYmplY3RgLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuCiAgICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy4KICAgICAgICovCgoKICAgICAgdmFyIGdldFN5bWJvbHMgPSBuYXRpdmVHZXRTeW1ib2xzID8gb3ZlckFyZyhuYXRpdmVHZXRTeW1ib2xzLCBPYmplY3QpIDogc3R1YkFycmF5OwogICAgICAvKioKICAgICAgICogR2V0cyB0aGUgYHRvU3RyaW5nVGFnYCBvZiBgdmFsdWVgLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS4KICAgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC4KICAgICAgICovCgogICAgICB2YXIgZ2V0VGFnID0gYmFzZUdldFRhZzsgLy8gRmFsbGJhY2sgZm9yIGRhdGEgdmlld3MsIG1hcHMsIHNldHMsIGFuZCB3ZWFrIG1hcHMgaW4gSUUgMTEsCiAgICAgIC8vIGZvciBkYXRhIHZpZXdzIGluIEVkZ2UgPCAxNCwgYW5kIHByb21pc2VzIGluIE5vZGUuanMuCgogICAgICBpZiAoRGF0YVZpZXcgJiYgZ2V0VGFnKG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoMSkpKSAhPSBkYXRhVmlld1RhZyB8fCBNYXAgJiYgZ2V0VGFnKG5ldyBNYXAoKSkgIT0gbWFwVGFnIHx8IFByb21pc2UgJiYgZ2V0VGFnKFByb21pc2UucmVzb2x2ZSgpKSAhPSBwcm9taXNlVGFnIHx8IFNldCAmJiBnZXRUYWcobmV3IFNldCgpKSAhPSBzZXRUYWcgfHwgV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXAoKSkgIT0gd2Vha01hcFRhZykgewogICAgICAgIGdldFRhZyA9IGZ1bmN0aW9uIGdldFRhZyh2YWx1ZSkgewogICAgICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpLAogICAgICAgICAgICAgIEN0b3IgPSByZXN1bHQgPT0gb2JqZWN0VGFnID8gdmFsdWUuY29uc3RydWN0b3IgOiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6IHVuZGVmaW5lZDsKCiAgICAgICAgICBpZiAoY3RvclN0cmluZykgewogICAgICAgICAgICBzd2l0Y2ggKGN0b3JTdHJpbmcpIHsKICAgICAgICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzoKICAgICAgICAgICAgICAgIHJldHVybiBkYXRhVmlld1RhZzsKCiAgICAgICAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOgogICAgICAgICAgICAgICAgcmV0dXJuIG1hcFRhZzsKCiAgICAgICAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzoKICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlVGFnOwoKICAgICAgICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6CiAgICAgICAgICAgICAgICByZXR1cm4gc2V0VGFnOwoKICAgICAgICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOgogICAgICAgICAgICAgICAgcmV0dXJuIHdlYWtNYXBUYWc7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH07CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIEluaXRpYWxpemVzIGFuIGFycmF5IGNsb25lLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY2xvbmUuCiAgICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGluaXRDbG9uZUFycmF5KGFycmF5KSB7CiAgICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCwKICAgICAgICAgICAgcmVzdWx0ID0gYXJyYXkuY29uc3RydWN0b3IobGVuZ3RoKTsgLy8gQWRkIHByb3BlcnRpZXMgYXNzaWduZWQgYnkgYFJlZ0V4cCNleGVjYC4KCiAgICAgICAgaWYgKGxlbmd0aCAmJiB0eXBlb2YgYXJyYXlbMF0gPT0gJ3N0cmluZycgJiYgaGFzT3duUHJvcGVydHkuY2FsbChhcnJheSwgJ2luZGV4JykpIHsKICAgICAgICAgIHJlc3VsdC5pbmRleCA9IGFycmF5LmluZGV4OwogICAgICAgICAgcmVzdWx0LmlucHV0ID0gYXJyYXkuaW5wdXQ7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS4KICAgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGluaXRDbG9uZU9iamVjdChvYmplY3QpIHsKICAgICAgICByZXR1cm4gdHlwZW9mIG9iamVjdC5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmICFpc1Byb3RvdHlwZShvYmplY3QpID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSkgOiB7fTsKICAgICAgfQogICAgICAvKioKICAgICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lIGJhc2VkIG9uIGl0cyBgdG9TdHJpbmdUYWdgLgogICAgICAgKgogICAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNsb25pbmcgdmFsdWVzIHdpdGggdGFncyBvZgogICAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNsb25lLgogICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3QgdG8gY2xvbmUuCiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNsb25lRnVuYyBUaGUgZnVuY3Rpb24gdG8gY2xvbmUgdmFsdWVzLgogICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLgogICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS4KICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gaW5pdENsb25lQnlUYWcob2JqZWN0LCB0YWcsIGNsb25lRnVuYywgaXNEZWVwKSB7CiAgICAgICAgdmFyIEN0b3IgPSBvYmplY3QuY29uc3RydWN0b3I7CgogICAgICAgIHN3aXRjaCAodGFnKSB7CiAgICAgICAgICBjYXNlIGFycmF5QnVmZmVyVGFnOgogICAgICAgICAgICByZXR1cm4gY2xvbmVBcnJheUJ1ZmZlcihvYmplY3QpOwoKICAgICAgICAgIGNhc2UgYm9vbFRhZzoKICAgICAgICAgIGNhc2UgZGF0ZVRhZzoKICAgICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKCtvYmplY3QpOwoKICAgICAgICAgIGNhc2UgZGF0YVZpZXdUYWc6CiAgICAgICAgICAgIHJldHVybiBjbG9uZURhdGFWaWV3KG9iamVjdCwgaXNEZWVwKTsKCiAgICAgICAgICBjYXNlIGZsb2F0MzJUYWc6CiAgICAgICAgICBjYXNlIGZsb2F0NjRUYWc6CiAgICAgICAgICBjYXNlIGludDhUYWc6CiAgICAgICAgICBjYXNlIGludDE2VGFnOgogICAgICAgICAgY2FzZSBpbnQzMlRhZzoKICAgICAgICAgIGNhc2UgdWludDhUYWc6CiAgICAgICAgICBjYXNlIHVpbnQ4Q2xhbXBlZFRhZzoKICAgICAgICAgIGNhc2UgdWludDE2VGFnOgogICAgICAgICAgY2FzZSB1aW50MzJUYWc6CiAgICAgICAgICAgIHJldHVybiBjbG9uZVR5cGVkQXJyYXkob2JqZWN0LCBpc0RlZXApOwoKICAgICAgICAgIGNhc2UgbWFwVGFnOgogICAgICAgICAgICByZXR1cm4gY2xvbmVNYXAob2JqZWN0LCBpc0RlZXAsIGNsb25lRnVuYyk7CgogICAgICAgICAgY2FzZSBudW1iZXJUYWc6CiAgICAgICAgICBjYXNlIHN0cmluZ1RhZzoKICAgICAgICAgICAgcmV0dXJuIG5ldyBDdG9yKG9iamVjdCk7CgogICAgICAgICAgY2FzZSByZWdleHBUYWc6CiAgICAgICAgICAgIHJldHVybiBjbG9uZVJlZ0V4cChvYmplY3QpOwoKICAgICAgICAgIGNhc2Ugc2V0VGFnOgogICAgICAgICAgICByZXR1cm4gY2xvbmVTZXQob2JqZWN0LCBpc0RlZXAsIGNsb25lRnVuYyk7CgogICAgICAgICAgY2FzZSBzeW1ib2xUYWc6CiAgICAgICAgICAgIHJldHVybiBjbG9uZVN5bWJvbChvYmplY3QpOwogICAgICAgIH0KICAgICAgfQogICAgICAvKioKICAgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay4KICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LgogICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGluZGV4LCBlbHNlIGBmYWxzZWAuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGlzSW5kZXgodmFsdWUsIGxlbmd0aCkgewogICAgICAgIGxlbmd0aCA9IGxlbmd0aCA9PSBudWxsID8gTUFYX1NBRkVfSU5URUdFUiA6IGxlbmd0aDsKICAgICAgICByZXR1cm4gISFsZW5ndGggJiYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fCByZUlzVWludC50ZXN0KHZhbHVlKSkgJiYgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aDsKICAgICAgfQogICAgICAvKioKICAgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS4KICAgICAgICoKICAgICAgICogQHByaXZhdGUKICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suCiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlLCBlbHNlIGBmYWxzZWAuCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGlzS2V5YWJsZSh2YWx1ZSkgewogICAgICAgIHZhciB0eXBlID0gX3R5cGVvZjIodmFsdWUpOwoKICAgICAgICByZXR1cm4gdHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicgPyB2YWx1ZSAhPT0gJ19fcHJvdG9fXycgOiB2YWx1ZSA9PT0gbnVsbDsKICAgICAgfQogICAgICAvKioKICAgICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLgogICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBpc01hc2tlZChmdW5jKSB7CiAgICAgICAgcmV0dXJuICEhbWFza1NyY0tleSAmJiBtYXNrU3JjS2V5IGluIGZ1bmM7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhIHByb3RvdHlwZSBvYmplY3QuCiAgICAgICAqCiAgICAgICAqIEBwcml2YXRlCiAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLgogICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkgewogICAgICAgIHZhciBDdG9yID0gdmFsdWUgJiYgdmFsdWUuY29uc3RydWN0b3IsCiAgICAgICAgICAgIHByb3RvID0gdHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSB8fCBvYmplY3RQcm90bzsKICAgICAgICByZXR1cm4gdmFsdWUgPT09IHByb3RvOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLgogICAgICAgKgogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwcm9jZXNzLgogICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBzb3VyY2UgY29kZS4KICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gdG9Tb3VyY2UoZnVuYykgewogICAgICAgIGlmIChmdW5jICE9IG51bGwpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHJldHVybiBmdW5jVG9TdHJpbmcuY2FsbChmdW5jKTsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmV0dXJuIGZ1bmMgKyAnJzsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGNsb25lcyBgdmFsdWVgLgogICAgICAgKgogICAgICAgKiBAc3RhdGljCiAgICAgICAqIEBtZW1iZXJPZiBfCiAgICAgICAqIEBzaW5jZSAxLjAuMAogICAgICAgKiBAY2F0ZWdvcnkgTGFuZwogICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byByZWN1cnNpdmVseSBjbG9uZS4KICAgICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGRlZXAgY2xvbmVkIHZhbHVlLgogICAgICAgKiBAc2VlIF8uY2xvbmUKICAgICAgICogQGV4YW1wbGUKICAgICAgICoKICAgICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07CiAgICAgICAqCiAgICAgICAqIHZhciBkZWVwID0gXy5jbG9uZURlZXAob2JqZWN0cyk7CiAgICAgICAqIGNvbnNvbGUubG9nKGRlZXBbMF0gPT09IG9iamVjdHNbMF0pOwogICAgICAgKiAvLyA9PiBmYWxzZQogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBjbG9uZURlZXAodmFsdWUpIHsKICAgICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCB0cnVlLCB0cnVlKTsKICAgICAgfQogICAgICAvKioKICAgICAgICogUGVyZm9ybXMgYQogICAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKQogICAgICAgKiBjb21wYXJpc29uIGJldHdlZW4gdHdvIHZhbHVlcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1aXZhbGVudC4KICAgICAgICoKICAgICAgICogQHN0YXRpYwogICAgICAgKiBAbWVtYmVyT2YgXwogICAgICAgKiBAc2luY2UgNC4wLjAKICAgICAgICogQGNhdGVnb3J5IExhbmcKICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS4KICAgICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS4KICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC4KICAgICAgICogQGV4YW1wbGUKICAgICAgICoKICAgICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07CiAgICAgICAqIHZhciBvdGhlciA9IHsgJ2EnOiAxIH07CiAgICAgICAqCiAgICAgICAqIF8uZXEob2JqZWN0LCBvYmplY3QpOwogICAgICAgKiAvLyA9PiB0cnVlCiAgICAgICAqCiAgICAgICAqIF8uZXEob2JqZWN0LCBvdGhlcik7CiAgICAgICAqIC8vID0+IGZhbHNlCiAgICAgICAqCiAgICAgICAqIF8uZXEoJ2EnLCAnYScpOwogICAgICAgKiAvLyA9PiB0cnVlCiAgICAgICAqCiAgICAgICAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7CiAgICAgICAqIC8vID0+IGZhbHNlCiAgICAgICAqCiAgICAgICAqIF8uZXEoTmFOLCBOYU4pOwogICAgICAgKiAvLyA9PiB0cnVlCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGVxKHZhbHVlLCBvdGhlcikgewogICAgICAgIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjsKICAgICAgfQogICAgICAvKioKICAgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC4KICAgICAgICoKICAgICAgICogQHN0YXRpYwogICAgICAgKiBAbWVtYmVyT2YgXwogICAgICAgKiBAc2luY2UgMC4xLjAKICAgICAgICogQGNhdGVnb3J5IExhbmcKICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suCiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCwKICAgICAgICogIGVsc2UgYGZhbHNlYC4KICAgICAgICogQGV4YW1wbGUKICAgICAgICoKICAgICAgICogXy5pc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKTsKICAgICAgICogLy8gPT4gdHJ1ZQogICAgICAgKgogICAgICAgKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7CiAgICAgICAqIC8vID0+IGZhbHNlCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGlzQXJndW1lbnRzKHZhbHVlKSB7CiAgICAgICAgLy8gU2FmYXJpIDguMSBtYWtlcyBgYXJndW1lbnRzLmNhbGxlZWAgZW51bWVyYWJsZSBpbiBzdHJpY3QgbW9kZS4KICAgICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJiAoIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKSB8fCBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBhcmdzVGFnKTsKICAgICAgfQogICAgICAvKioKICAgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC4KICAgICAgICoKICAgICAgICogQHN0YXRpYwogICAgICAgKiBAbWVtYmVyT2YgXwogICAgICAgKiBAc2luY2UgMC4xLjAKICAgICAgICogQGNhdGVnb3J5IExhbmcKICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suCiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuCiAgICAgICAqIEBleGFtcGxlCiAgICAgICAqCiAgICAgICAqIF8uaXNBcnJheShbMSwgMiwgM10pOwogICAgICAgKiAvLyA9PiB0cnVlCiAgICAgICAqCiAgICAgICAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTsKICAgICAgICogLy8gPT4gZmFsc2UKICAgICAgICoKICAgICAgICogXy5pc0FycmF5KCdhYmMnKTsKICAgICAgICogLy8gPT4gZmFsc2UKICAgICAgICoKICAgICAgICogXy5pc0FycmF5KF8ubm9vcCk7CiAgICAgICAqIC8vID0+IGZhbHNlCiAgICAgICAqLwoKCiAgICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTsKICAgICAgLyoqCiAgICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UuIEEgdmFsdWUgaXMgY29uc2lkZXJlZCBhcnJheS1saWtlIGlmIGl0J3MKICAgICAgICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvcgogICAgICAgKiBlcXVhbCB0byBgMGAgYW5kIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgLgogICAgICAgKgogICAgICAgKiBAc3RhdGljCiAgICAgICAqIEBtZW1iZXJPZiBfCiAgICAgICAqIEBzaW5jZSA0LjAuMAogICAgICAgKiBAY2F0ZWdvcnkgTGFuZwogICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay4KICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZSwgZWxzZSBgZmFsc2VgLgogICAgICAgKiBAZXhhbXBsZQogICAgICAgKgogICAgICAgKiBfLmlzQXJyYXlMaWtlKFsxLCAyLCAzXSk7CiAgICAgICAqIC8vID0+IHRydWUKICAgICAgICoKICAgICAgICogXy5pc0FycmF5TGlrZShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTsKICAgICAgICogLy8gPT4gdHJ1ZQogICAgICAgKgogICAgICAgKiBfLmlzQXJyYXlMaWtlKCdhYmMnKTsKICAgICAgICogLy8gPT4gdHJ1ZQogICAgICAgKgogICAgICAgKiBfLmlzQXJyYXlMaWtlKF8ubm9vcCk7CiAgICAgICAqIC8vID0+IGZhbHNlCiAgICAgICAqLwoKICAgICAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHsKICAgICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBpc0xlbmd0aCh2YWx1ZS5sZW5ndGgpICYmICFpc0Z1bmN0aW9uKHZhbHVlKTsKICAgICAgfQogICAgICAvKioKICAgICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pc0FycmF5TGlrZWAgZXhjZXB0IHRoYXQgaXQgYWxzbyBjaGVja3MgaWYgYHZhbHVlYAogICAgICAgKiBpcyBhbiBvYmplY3QuCiAgICAgICAqCiAgICAgICAqIEBzdGF0aWMKICAgICAgICogQG1lbWJlck9mIF8KICAgICAgICogQHNpbmNlIDQuMC4wCiAgICAgICAqIEBjYXRlZ29yeSBMYW5nCiAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLgogICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS1saWtlIG9iamVjdCwKICAgICAgICogIGVsc2UgYGZhbHNlYC4KICAgICAgICogQGV4YW1wbGUKICAgICAgICoKICAgICAgICogXy5pc0FycmF5TGlrZU9iamVjdChbMSwgMiwgM10pOwogICAgICAgKiAvLyA9PiB0cnVlCiAgICAgICAqCiAgICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7CiAgICAgICAqIC8vID0+IHRydWUKICAgICAgICoKICAgICAgICogXy5pc0FycmF5TGlrZU9iamVjdCgnYWJjJyk7CiAgICAgICAqIC8vID0+IGZhbHNlCiAgICAgICAqCiAgICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoXy5ub29wKTsKICAgICAgICogLy8gPT4gZmFsc2UKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gaXNBcnJheUxpa2VPYmplY3QodmFsdWUpIHsKICAgICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBpc0FycmF5TGlrZSh2YWx1ZSk7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLgogICAgICAgKgogICAgICAgKiBAc3RhdGljCiAgICAgICAqIEBtZW1iZXJPZiBfCiAgICAgICAqIEBzaW5jZSA0LjMuMAogICAgICAgKiBAY2F0ZWdvcnkgTGFuZwogICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay4KICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIsIGVsc2UgYGZhbHNlYC4KICAgICAgICogQGV4YW1wbGUKICAgICAgICoKICAgICAgICogXy5pc0J1ZmZlcihuZXcgQnVmZmVyKDIpKTsKICAgICAgICogLy8gPT4gdHJ1ZQogICAgICAgKgogICAgICAgKiBfLmlzQnVmZmVyKG5ldyBVaW50OEFycmF5KDIpKTsKICAgICAgICogLy8gPT4gZmFsc2UKICAgICAgICovCgoKICAgICAgdmFyIGlzQnVmZmVyID0gbmF0aXZlSXNCdWZmZXIgfHwgc3R1YkZhbHNlOwogICAgICAvKioKICAgICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBGdW5jdGlvbmAgb2JqZWN0LgogICAgICAgKgogICAgICAgKiBAc3RhdGljCiAgICAgICAqIEBtZW1iZXJPZiBfCiAgICAgICAqIEBzaW5jZSAwLjEuMAogICAgICAgKiBAY2F0ZWdvcnkgTGFuZwogICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay4KICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLgogICAgICAgKiBAZXhhbXBsZQogICAgICAgKgogICAgICAgKiBfLmlzRnVuY3Rpb24oXyk7CiAgICAgICAqIC8vID0+IHRydWUKICAgICAgICoKICAgICAgICogXy5pc0Z1bmN0aW9uKC9hYmMvKTsKICAgICAgICogLy8gPT4gZmFsc2UKICAgICAgICovCgogICAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yCiAgICAgICAgLy8gaW4gU2FmYXJpIDgtOSB3aGljaCByZXR1cm5zICdvYmplY3QnIGZvciB0eXBlZCBhcnJheSBhbmQgb3RoZXIgY29uc3RydWN0b3JzLgogICAgICAgIHZhciB0YWcgPSBpc09iamVjdCh2YWx1ZSkgPyBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnOwogICAgICAgIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLgogICAgICAgKgogICAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvbgogICAgICAgKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLgogICAgICAgKgogICAgICAgKiBAc3RhdGljCiAgICAgICAqIEBtZW1iZXJPZiBfCiAgICAgICAqIEBzaW5jZSA0LjAuMAogICAgICAgKiBAY2F0ZWdvcnkgTGFuZwogICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay4KICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBsZW5ndGgsIGVsc2UgYGZhbHNlYC4KICAgICAgICogQGV4YW1wbGUKICAgICAgICoKICAgICAgICogXy5pc0xlbmd0aCgzKTsKICAgICAgICogLy8gPT4gdHJ1ZQogICAgICAgKgogICAgICAgKiBfLmlzTGVuZ3RoKE51bWJlci5NSU5fVkFMVUUpOwogICAgICAgKiAvLyA9PiBmYWxzZQogICAgICAgKgogICAgICAgKiBfLmlzTGVuZ3RoKEluZmluaXR5KTsKICAgICAgICogLy8gPT4gZmFsc2UKICAgICAgICoKICAgICAgICogXy5pc0xlbmd0aCgnMycpOwogICAgICAgKiAvLyA9PiBmYWxzZQogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkgewogICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiYgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGUKICAgICAgICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKQogICAgICAgKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApCiAgICAgICAqCiAgICAgICAqIEBzdGF0aWMKICAgICAgICogQG1lbWJlck9mIF8KICAgICAgICogQHNpbmNlIDAuMS4wCiAgICAgICAqIEBjYXRlZ29yeSBMYW5nCiAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLgogICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC4KICAgICAgICogQGV4YW1wbGUKICAgICAgICoKICAgICAgICogXy5pc09iamVjdCh7fSk7CiAgICAgICAqIC8vID0+IHRydWUKICAgICAgICoKICAgICAgICogXy5pc09iamVjdChbMSwgMiwgM10pOwogICAgICAgKiAvLyA9PiB0cnVlCiAgICAgICAqCiAgICAgICAqIF8uaXNPYmplY3QoXy5ub29wKTsKICAgICAgICogLy8gPT4gdHJ1ZQogICAgICAgKgogICAgICAgKiBfLmlzT2JqZWN0KG51bGwpOwogICAgICAgKiAvLyA9PiBmYWxzZQogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkgewogICAgICAgIHZhciB0eXBlID0gX3R5cGVvZjIodmFsdWUpOwoKICAgICAgICByZXR1cm4gISF2YWx1ZSAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGAKICAgICAgICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiAib2JqZWN0Ii4KICAgICAgICoKICAgICAgICogQHN0YXRpYwogICAgICAgKiBAbWVtYmVyT2YgXwogICAgICAgKiBAc2luY2UgNC4wLjAKICAgICAgICogQGNhdGVnb3J5IExhbmcKICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suCiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuCiAgICAgICAqIEBleGFtcGxlCiAgICAgICAqCiAgICAgICAqIF8uaXNPYmplY3RMaWtlKHt9KTsKICAgICAgICogLy8gPT4gdHJ1ZQogICAgICAgKgogICAgICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pOwogICAgICAgKiAvLyA9PiB0cnVlCiAgICAgICAqCiAgICAgICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7CiAgICAgICAqIC8vID0+IGZhbHNlCiAgICAgICAqCiAgICAgICAqIF8uaXNPYmplY3RMaWtlKG51bGwpOwogICAgICAgKiAvLyA9PiBmYWxzZQogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHsKICAgICAgICByZXR1cm4gISF2YWx1ZSAmJiBfdHlwZW9mMih2YWx1ZSkgPT0gJ29iamVjdCc7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLgogICAgICAgKgogICAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZQogICAgICAgKiBbRVMgc3BlY10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LmtleXMpCiAgICAgICAqIGZvciBtb3JlIGRldGFpbHMuCiAgICAgICAqCiAgICAgICAqIEBzdGF0aWMKICAgICAgICogQHNpbmNlIDAuMS4wCiAgICAgICAqIEBtZW1iZXJPZiBfCiAgICAgICAqIEBjYXRlZ29yeSBPYmplY3QKICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LgogICAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLgogICAgICAgKiBAZXhhbXBsZQogICAgICAgKgogICAgICAgKiBmdW5jdGlvbiBGb28oKSB7CiAgICAgICAqICAgdGhpcy5hID0gMTsKICAgICAgICogICB0aGlzLmIgPSAyOwogICAgICAgKiB9CiAgICAgICAqCiAgICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7CiAgICAgICAqCiAgICAgICAqIF8ua2V5cyhuZXcgRm9vKTsKICAgICAgICogLy8gPT4gWydhJywgJ2InXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKQogICAgICAgKgogICAgICAgKiBfLmtleXMoJ2hpJyk7CiAgICAgICAqIC8vID0+IFsnMCcsICcxJ10KICAgICAgICovCgoKICAgICAgZnVuY3Rpb24ga2V5cyhvYmplY3QpIHsKICAgICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYSBuZXcgZW1wdHkgYXJyYXkuCiAgICAgICAqCiAgICAgICAqIEBzdGF0aWMKICAgICAgICogQG1lbWJlck9mIF8KICAgICAgICogQHNpbmNlIDQuMTMuMAogICAgICAgKiBAY2F0ZWdvcnkgVXRpbAogICAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBlbXB0eSBhcnJheS4KICAgICAgICogQGV4YW1wbGUKICAgICAgICoKICAgICAgICogdmFyIGFycmF5cyA9IF8udGltZXMoMiwgXy5zdHViQXJyYXkpOwogICAgICAgKgogICAgICAgKiBjb25zb2xlLmxvZyhhcnJheXMpOwogICAgICAgKiAvLyA9PiBbW10sIFtdXQogICAgICAgKgogICAgICAgKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7CiAgICAgICAqIC8vID0+IGZhbHNlCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIHN0dWJBcnJheSgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIFRoaXMgbWV0aG9kIHJldHVybnMgYGZhbHNlYC4KICAgICAgICoKICAgICAgICogQHN0YXRpYwogICAgICAgKiBAbWVtYmVyT2YgXwogICAgICAgKiBAc2luY2UgNC4xMy4wCiAgICAgICAqIEBjYXRlZ29yeSBVdGlsCiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGBmYWxzZWAuCiAgICAgICAqIEBleGFtcGxlCiAgICAgICAqCiAgICAgICAqIF8udGltZXMoMiwgXy5zdHViRmFsc2UpOwogICAgICAgKiAvLyA9PiBbZmFsc2UsIGZhbHNlXQogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBtb2R1bGUuZXhwb3J0cyA9IGNsb25lRGVlcDsKICAgICAgLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovCiAgICB9KS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oImM4YmEiKSwgX193ZWJwYWNrX3JlcXVpcmVfXygiNjJlNCIpKG1vZHVsZSkpOwogICAgLyoqKi8KICB9LAoKICAvKioqLwogICJjZWFhIjoKICAvKioqLwogIGZ1bmN0aW9uIGNlYWEobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAvLyBJbXBvcnRzCiAgICB2YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygiMjRmYiIpOwoKICAgIGV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpOyAvLyBNb2R1bGUKCiAgICBleHBvcnRzLnB1c2goW21vZHVsZS5pLCAiLnRvYXN0W2RhdGEtdi03MjA4MTUyZl17b3BhY2l0eTppbmhlcml0fS5mYWRlLWVudGVyLWFjdGl2ZVtkYXRhLXYtNzIwODE1MmZdey13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IC41czt0cmFuc2l0aW9uOm9wYWNpdHkgLjVzfS5mYWRlLWxlYXZlLWFjdGl2ZVtkYXRhLXYtNzIwODE1MmZdey13ZWJraXQtdHJhbnNpdGlvbjpvcGFjaXR5IDJzO3RyYW5zaXRpb246b3BhY2l0eSAyc30uZmFkZS1lbnRlcltkYXRhLXYtNzIwODE1MmZdLC5mYWRlLWxlYXZlLXRvW2RhdGEtdi03MjA4MTUyZl17b3BhY2l0eTowfSIsICIiXSk7IC8vIEV4cG9ydHMKCiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7CiAgICAvKioqLwogIH0sCgogIC8qKiovCiAgImRmN2MiOgogIC8qKiovCiAgZnVuY3Rpb24gZGY3Yyhtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgIC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLwogICAgKGZ1bmN0aW9uIChwcm9jZXNzKSB7CiAgICAgIC8vIC5kaXJuYW1lLCAuYmFzZW5hbWUsIGFuZCAuZXh0bmFtZSBtZXRob2RzIGFyZSBleHRyYWN0ZWQgZnJvbSBOb2RlLmpzIHY4LjExLjEsCiAgICAgIC8vIGJhY2twb3J0ZWQgYW5kIHRyYW5zcGxpdGVkIHdpdGggQmFiZWwsIHdpdGggYmFja3dhcmRzLWNvbXBhdCBmaXhlcwogICAgICAvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy4KICAgICAgLy8KICAgICAgLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKICAgICAgLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZQogICAgICAvLyAiU29mdHdhcmUiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nCiAgICAgIC8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwKICAgICAgLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdAogICAgICAvLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUKICAgICAgLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6CiAgICAgIC8vCiAgICAgIC8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkCiAgICAgIC8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgogICAgICAvLwogICAgICAvLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUwogICAgICAvLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GCiAgICAgIC8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4KICAgICAgLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sCiAgICAgIC8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUgogICAgICAvLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFCiAgICAgIC8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCiAgICAgIC8vIHJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCBhcnJheSB3aXRoIGRpcmVjdG9yeSBuYW1lcyB0aGVyZQogICAgICAvLyBtdXN0IGJlIG5vIHNsYXNoZXMsIGVtcHR5IGVsZW1lbnRzLCBvciBkZXZpY2UgbmFtZXMgKGM6XCkgaW4gdGhlIGFycmF5CiAgICAgIC8vIChzbyBhbHNvIG5vIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHNsYXNoZXMgLSBpdCBkb2VzIG5vdCBkaXN0aW5ndWlzaAogICAgICAvLyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgcGF0aHMpCiAgICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUFycmF5KHBhcnRzLCBhbGxvd0Fib3ZlUm9vdCkgewogICAgICAgIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwCiAgICAgICAgdmFyIHVwID0gMDsKCiAgICAgICAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICB2YXIgbGFzdCA9IHBhcnRzW2ldOwoKICAgICAgICAgIGlmIChsYXN0ID09PSAnLicpIHsKICAgICAgICAgICAgcGFydHMuc3BsaWNlKGksIDEpOwogICAgICAgICAgfSBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7CiAgICAgICAgICAgIHBhcnRzLnNwbGljZShpLCAxKTsKICAgICAgICAgICAgdXArKzsKICAgICAgICAgIH0gZWxzZSBpZiAodXApIHsKICAgICAgICAgICAgcGFydHMuc3BsaWNlKGksIDEpOwogICAgICAgICAgICB1cC0tOwogICAgICAgICAgfQogICAgICAgIH0gLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4ucwoKCiAgICAgICAgaWYgKGFsbG93QWJvdmVSb290KSB7CiAgICAgICAgICBmb3IgKDsgdXAtLTsgdXApIHsKICAgICAgICAgICAgcGFydHMudW5zaGlmdCgnLi4nKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBwYXJ0czsKICAgICAgfSAvLyBwYXRoLnJlc29sdmUoW2Zyb20gLi4uXSwgdG8pCiAgICAgIC8vIHBvc2l4IHZlcnNpb24KCgogICAgICBleHBvcnRzLnJlc29sdmUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHJlc29sdmVkUGF0aCA9ICcnLAogICAgICAgICAgICByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7CgogICAgICAgIGZvciAodmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSAtMSAmJiAhcmVzb2x2ZWRBYnNvbHV0ZTsgaS0tKSB7CiAgICAgICAgICB2YXIgcGF0aCA9IGkgPj0gMCA/IGFyZ3VtZW50c1tpXSA6IHByb2Nlc3MuY3dkKCk7IC8vIFNraXAgZW1wdHkgYW5kIGludmFsaWQgZW50cmllcwoKICAgICAgICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnRzIHRvIHBhdGgucmVzb2x2ZSBtdXN0IGJlIHN0cmluZ3MnKTsKICAgICAgICAgIH0gZWxzZSBpZiAoIXBhdGgpIHsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CgogICAgICAgICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArICcvJyArIHJlc29sdmVkUGF0aDsKICAgICAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nOwogICAgICAgIH0gLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dAogICAgICAgIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocyB0byBiZSBzYWZlIChtaWdodCBoYXBwZW4gd2hlbiBwcm9jZXNzLmN3ZCgpIGZhaWxzKQogICAgICAgIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aAoKCiAgICAgICAgcmVzb2x2ZWRQYXRoID0gbm9ybWFsaXplQXJyYXkoZmlsdGVyKHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLCBmdW5jdGlvbiAocCkgewogICAgICAgICAgcmV0dXJuICEhcDsKICAgICAgICB9KSwgIXJlc29sdmVkQWJzb2x1dGUpLmpvaW4oJy8nKTsKICAgICAgICByZXR1cm4gKHJlc29sdmVkQWJzb2x1dGUgPyAnLycgOiAnJykgKyByZXNvbHZlZFBhdGggfHwgJy4nOwogICAgICB9OyAvLyBwYXRoLm5vcm1hbGl6ZShwYXRoKQogICAgICAvLyBwb3NpeCB2ZXJzaW9uCgoKICAgICAgZXhwb3J0cy5ub3JtYWxpemUgPSBmdW5jdGlvbiAocGF0aCkgewogICAgICAgIHZhciBpc0Fic29sdXRlID0gZXhwb3J0cy5pc0Fic29sdXRlKHBhdGgpLAogICAgICAgICAgICB0cmFpbGluZ1NsYXNoID0gc3Vic3RyKHBhdGgsIC0xKSA9PT0gJy8nOyAvLyBOb3JtYWxpemUgdGhlIHBhdGgKCiAgICAgICAgcGF0aCA9IG5vcm1hbGl6ZUFycmF5KGZpbHRlcihwYXRoLnNwbGl0KCcvJyksIGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICByZXR1cm4gISFwOwogICAgICAgIH0pLCAhaXNBYnNvbHV0ZSkuam9pbignLycpOwoKICAgICAgICBpZiAoIXBhdGggJiYgIWlzQWJzb2x1dGUpIHsKICAgICAgICAgIHBhdGggPSAnLic7CiAgICAgICAgfQoKICAgICAgICBpZiAocGF0aCAmJiB0cmFpbGluZ1NsYXNoKSB7CiAgICAgICAgICBwYXRoICs9ICcvJzsKICAgICAgICB9CgogICAgICAgIHJldHVybiAoaXNBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIHBhdGg7CiAgICAgIH07IC8vIHBvc2l4IHZlcnNpb24KCgogICAgICBleHBvcnRzLmlzQWJzb2x1dGUgPSBmdW5jdGlvbiAocGF0aCkgewogICAgICAgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nOwogICAgICB9OyAvLyBwb3NpeCB2ZXJzaW9uCgoKICAgICAgZXhwb3J0cy5qb2luID0gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBwYXRocyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7CiAgICAgICAgcmV0dXJuIGV4cG9ydHMubm9ybWFsaXplKGZpbHRlcihwYXRocywgZnVuY3Rpb24gKHAsIGluZGV4KSB7CiAgICAgICAgICBpZiAodHlwZW9mIHAgIT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyB0byBwYXRoLmpvaW4gbXVzdCBiZSBzdHJpbmdzJyk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHA7CiAgICAgICAgfSkuam9pbignLycpKTsKICAgICAgfTsgLy8gcGF0aC5yZWxhdGl2ZShmcm9tLCB0bykKICAgICAgLy8gcG9zaXggdmVyc2lvbgoKCiAgICAgIGV4cG9ydHMucmVsYXRpdmUgPSBmdW5jdGlvbiAoZnJvbSwgdG8pIHsKICAgICAgICBmcm9tID0gZXhwb3J0cy5yZXNvbHZlKGZyb20pLnN1YnN0cigxKTsKICAgICAgICB0byA9IGV4cG9ydHMucmVzb2x2ZSh0bykuc3Vic3RyKDEpOwoKICAgICAgICBmdW5jdGlvbiB0cmltKGFycikgewogICAgICAgICAgdmFyIHN0YXJ0ID0gMDsKCiAgICAgICAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7CiAgICAgICAgICAgIGlmIChhcnJbc3RhcnRdICE9PSAnJykgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGVuZCA9IGFyci5sZW5ndGggLSAxOwoKICAgICAgICAgIGZvciAoOyBlbmQgPj0gMDsgZW5kLS0pIHsKICAgICAgICAgICAgaWYgKGFycltlbmRdICE9PSAnJykgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHN0YXJ0ID4gZW5kKSByZXR1cm4gW107CiAgICAgICAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGZyb21QYXJ0cyA9IHRyaW0oZnJvbS5zcGxpdCgnLycpKTsKICAgICAgICB2YXIgdG9QYXJ0cyA9IHRyaW0odG8uc3BsaXQoJy8nKSk7CiAgICAgICAgdmFyIGxlbmd0aCA9IE1hdGgubWluKGZyb21QYXJ0cy5sZW5ndGgsIHRvUGFydHMubGVuZ3RoKTsKICAgICAgICB2YXIgc2FtZVBhcnRzTGVuZ3RoID0gbGVuZ3RoOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAoZnJvbVBhcnRzW2ldICE9PSB0b1BhcnRzW2ldKSB7CiAgICAgICAgICAgIHNhbWVQYXJ0c0xlbmd0aCA9IGk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIG91dHB1dFBhcnRzID0gW107CgogICAgICAgIGZvciAodmFyIGkgPSBzYW1lUGFydHNMZW5ndGg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIG91dHB1dFBhcnRzLnB1c2goJy4uJyk7CiAgICAgICAgfQoKICAgICAgICBvdXRwdXRQYXJ0cyA9IG91dHB1dFBhcnRzLmNvbmNhdCh0b1BhcnRzLnNsaWNlKHNhbWVQYXJ0c0xlbmd0aCkpOwogICAgICAgIHJldHVybiBvdXRwdXRQYXJ0cy5qb2luKCcvJyk7CiAgICAgIH07CgogICAgICBleHBvcnRzLnNlcCA9ICcvJzsKICAgICAgZXhwb3J0cy5kZWxpbWl0ZXIgPSAnOic7CgogICAgICBleHBvcnRzLmRpcm5hbWUgPSBmdW5jdGlvbiAocGF0aCkgewogICAgICAgIGlmICh0eXBlb2YgcGF0aCAhPT0gJ3N0cmluZycpIHBhdGggPSBwYXRoICsgJyc7CiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSByZXR1cm4gJy4nOwogICAgICAgIHZhciBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KDApOwogICAgICAgIHZhciBoYXNSb290ID0gY29kZSA9PT0gNDcKICAgICAgICAvKi8qLwogICAgICAgIDsKICAgICAgICB2YXIgZW5kID0gLTE7CiAgICAgICAgdmFyIG1hdGNoZWRTbGFzaCA9IHRydWU7CgogICAgICAgIGZvciAodmFyIGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMTsgLS1pKSB7CiAgICAgICAgICBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KGkpOwoKICAgICAgICAgIGlmIChjb2RlID09PSA0NwogICAgICAgICAgLyovKi8KICAgICAgICAgICkgewogICAgICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7CiAgICAgICAgICAgICAgICBlbmQgPSBpOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvcgogICAgICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChlbmQgPT09IC0xKSByZXR1cm4gaGFzUm9vdCA/ICcvJyA6ICcuJzsKCiAgICAgICAgaWYgKGhhc1Jvb3QgJiYgZW5kID09PSAxKSB7CiAgICAgICAgICAvLyByZXR1cm4gJy8vJzsKICAgICAgICAgIC8vIEJhY2t3YXJkcy1jb21wYXQgZml4OgogICAgICAgICAgcmV0dXJuICcvJzsKICAgICAgICB9CgogICAgICAgIHJldHVybiBwYXRoLnNsaWNlKDAsIGVuZCk7CiAgICAgIH07CgogICAgICBmdW5jdGlvbiBiYXNlbmFtZShwYXRoKSB7CiAgICAgICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykgcGF0aCA9IHBhdGggKyAnJzsKICAgICAgICB2YXIgc3RhcnQgPSAwOwogICAgICAgIHZhciBlbmQgPSAtMTsKICAgICAgICB2YXIgbWF0Y2hlZFNsYXNoID0gdHJ1ZTsKICAgICAgICB2YXIgaTsKCiAgICAgICAgZm9yIChpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICAgICAgaWYgKHBhdGguY2hhckNvZGVBdChpKSA9PT0gNDcKICAgICAgICAgIC8qLyovCiAgICAgICAgICApIHsKICAgICAgICAgICAgICAvLyBJZiB3ZSByZWFjaGVkIGEgcGF0aCBzZXBhcmF0b3IgdGhhdCB3YXMgbm90IHBhcnQgb2YgYSBzZXQgb2YgcGF0aAogICAgICAgICAgICAgIC8vIHNlcGFyYXRvcnMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLCBzdG9wIG5vdwogICAgICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7CiAgICAgICAgICAgICAgICBzdGFydCA9IGkgKyAxOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgaWYgKGVuZCA9PT0gLTEpIHsKICAgICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIG1hcmsgdGhpcyBhcyB0aGUgZW5kIG9mIG91cgogICAgICAgICAgICAvLyBwYXRoIGNvbXBvbmVudAogICAgICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTsKICAgICAgICAgICAgZW5kID0gaSArIDE7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoZW5kID09PSAtMSkgcmV0dXJuICcnOwogICAgICAgIHJldHVybiBwYXRoLnNsaWNlKHN0YXJ0LCBlbmQpOwogICAgICB9IC8vIFVzZXMgYSBtaXhlZCBhcHByb2FjaCBmb3IgYmFja3dhcmRzLWNvbXBhdGliaWxpdHksIGFzIGV4dCBiZWhhdmlvciBjaGFuZ2VkCiAgICAgIC8vIGluIG5ldyBOb2RlLmpzIHZlcnNpb25zLCBzbyBvbmx5IGJhc2VuYW1lKCkgYWJvdmUgaXMgYmFja3BvcnRlZCBoZXJlCgoKICAgICAgZXhwb3J0cy5iYXNlbmFtZSA9IGZ1bmN0aW9uIChwYXRoLCBleHQpIHsKICAgICAgICB2YXIgZiA9IGJhc2VuYW1lKHBhdGgpOwoKICAgICAgICBpZiAoZXh0ICYmIGYuc3Vic3RyKC0xICogZXh0Lmxlbmd0aCkgPT09IGV4dCkgewogICAgICAgICAgZiA9IGYuc3Vic3RyKDAsIGYubGVuZ3RoIC0gZXh0Lmxlbmd0aCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZjsKICAgICAgfTsKCiAgICAgIGV4cG9ydHMuZXh0bmFtZSA9IGZ1bmN0aW9uIChwYXRoKSB7CiAgICAgICAgaWYgKHR5cGVvZiBwYXRoICE9PSAnc3RyaW5nJykgcGF0aCA9IHBhdGggKyAnJzsKICAgICAgICB2YXIgc3RhcnREb3QgPSAtMTsKICAgICAgICB2YXIgc3RhcnRQYXJ0ID0gMDsKICAgICAgICB2YXIgZW5kID0gLTE7CiAgICAgICAgdmFyIG1hdGNoZWRTbGFzaCA9IHRydWU7IC8vIFRyYWNrIHRoZSBzdGF0ZSBvZiBjaGFyYWN0ZXJzIChpZiBhbnkpIHdlIHNlZSBiZWZvcmUgb3VyIGZpcnN0IGRvdCBhbmQKICAgICAgICAvLyBhZnRlciBhbnkgcGF0aCBzZXBhcmF0b3Igd2UgZmluZAoKICAgICAgICB2YXIgcHJlRG90U3RhdGUgPSAwOwoKICAgICAgICBmb3IgKHZhciBpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICAgICAgdmFyIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7CgogICAgICAgICAgaWYgKGNvZGUgPT09IDQ3CiAgICAgICAgICAvKi8qLwogICAgICAgICAgKSB7CiAgICAgICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGgKICAgICAgICAgICAgICAvLyBzZXBhcmF0b3JzIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc3RvcCBub3cKICAgICAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkgewogICAgICAgICAgICAgICAgc3RhcnRQYXJ0ID0gaSArIDE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgaWYgKGVuZCA9PT0gLTEpIHsKICAgICAgICAgICAgLy8gV2Ugc2F3IHRoZSBmaXJzdCBub24tcGF0aCBzZXBhcmF0b3IsIG1hcmsgdGhpcyBhcyB0aGUgZW5kIG9mIG91cgogICAgICAgICAgICAvLyBleHRlbnNpb24KICAgICAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7CiAgICAgICAgICAgIGVuZCA9IGkgKyAxOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChjb2RlID09PSA0NgogICAgICAgICAgLyouKi8KICAgICAgICAgICkgewogICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgb3VyIGZpcnN0IGRvdCwgbWFyayBpdCBhcyB0aGUgc3RhcnQgb2Ygb3VyIGV4dGVuc2lvbgogICAgICAgICAgICAgIGlmIChzdGFydERvdCA9PT0gLTEpIHN0YXJ0RG90ID0gaTtlbHNlIGlmIChwcmVEb3RTdGF0ZSAhPT0gMSkgcHJlRG90U3RhdGUgPSAxOwogICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0RG90ICE9PSAtMSkgewogICAgICAgICAgICAvLyBXZSBzYXcgYSBub24tZG90IGFuZCBub24tcGF0aCBzZXBhcmF0b3IgYmVmb3JlIG91ciBkb3QsIHNvIHdlIHNob3VsZAogICAgICAgICAgICAvLyBoYXZlIGEgZ29vZCBjaGFuY2UgYXQgaGF2aW5nIGEgbm9uLWVtcHR5IGV4dGVuc2lvbgogICAgICAgICAgICBwcmVEb3RTdGF0ZSA9IC0xOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHN0YXJ0RG90ID09PSAtMSB8fCBlbmQgPT09IC0xIHx8IC8vIFdlIHNhdyBhIG5vbi1kb3QgY2hhcmFjdGVyIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgZG90CiAgICAgICAgcHJlRG90U3RhdGUgPT09IDAgfHwgLy8gVGhlIChyaWdodC1tb3N0KSB0cmltbWVkIHBhdGggY29tcG9uZW50IGlzIGV4YWN0bHkgJy4uJwogICAgICAgIHByZURvdFN0YXRlID09PSAxICYmIHN0YXJ0RG90ID09PSBlbmQgLSAxICYmIHN0YXJ0RG90ID09PSBzdGFydFBhcnQgKyAxKSB7CiAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcGF0aC5zbGljZShzdGFydERvdCwgZW5kKTsKICAgICAgfTsKCiAgICAgIGZ1bmN0aW9uIGZpbHRlcih4cywgZikgewogICAgICAgIGlmICh4cy5maWx0ZXIpIHJldHVybiB4cy5maWx0ZXIoZik7CiAgICAgICAgdmFyIHJlcyA9IFtdOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAoZih4c1tpXSwgaSwgeHMpKSByZXMucHVzaCh4c1tpXSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcmVzOwogICAgICB9IC8vIFN0cmluZy5wcm90b3R5cGUuc3Vic3RyIC0gbmVnYXRpdmUgaW5kZXggZG9uJ3Qgd29yayBpbiBJRTgKCgogICAgICB2YXIgc3Vic3RyID0gJ2FiJy5zdWJzdHIoLTEpID09PSAnYicgPyBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7CiAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbik7CiAgICAgIH0gOiBmdW5jdGlvbiAoc3RyLCBzdGFydCwgbGVuKSB7CiAgICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBzdHIubGVuZ3RoICsgc3RhcnQ7CiAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHIoc3RhcnQsIGxlbik7CiAgICAgIH07CiAgICAgIC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLwogICAgfSkuY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKCI0MzYyIikpOwogICAgLyoqKi8KICB9LAoKICAvKioqLwogICJlNGIyIjoKICAvKioqLwogIGZ1bmN0aW9uIGU0YjIobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAvLyBJbXBvcnRzCiAgICB2YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygiMjRmYiIpOwoKICAgIGV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpOyAvLyBNb2R1bGUKCiAgICBleHBvcnRzLnB1c2goW21vZHVsZS5pLCAidGhlYWQgdHI6bm90KDpsYXN0LWNoaWxkKSB0aFtkYXRhLXYtMmU2YmU4Nzhde2JvcmRlci1ib3R0b206MXB4fS50cmFuc3BhcmVudFtkYXRhLXYtMmU2YmU4Nzhde29wYWNpdHk6LjR9Lmljb24tdHJhbnNpdGlvbltkYXRhLXYtMmU2YmU4Nzhdey13ZWJraXQtdHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjNzOy13ZWJraXQtdHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAuM3M7dHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAuM3M7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjNzO3RyYW5zaXRpb246dHJhbnNmb3JtIC4zcywtd2Via2l0LXRyYW5zZm9ybSAuM3N9LmFycm93LXBvc2l0aW9uW2RhdGEtdi0yZTZiZTg3OF17cmlnaHQ6MDt0b3A6NTAlOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSl9LnJvdGF0ZS1pY29uW2RhdGEtdi0yZTZiZTg3OF17LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKSByb3RhdGUoLTE4MGRlZyk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSkgcm90YXRlKC0xODBkZWcpfSIsICIiXSk7IC8vIEV4cG9ydHMKCiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7CiAgICAvKioqLwogIH0sCgogIC8qKiovCiAgImU3NmIiOgogIC8qKiovCiAgZnVuY3Rpb24gZTc2Yihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHsKICAgICJ1c2Ugc3RyaWN0IjsKICAgIC8qIGhhcm1vbnkgaW1wb3J0ICovCgogICAgdmFyIF9ub2RlX21vZHVsZXNfdnVlX3N0eWxlX2xvYWRlcl9pbmRleF9qc19yZWZfNl9vbmVPZl8xXzBfbm9kZV9tb2R1bGVzX2Nzc19sb2FkZXJfZGlzdF9janNfanNfcmVmXzZfb25lT2ZfMV8xX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc19ub2RlX21vZHVsZXNfcG9zdGNzc19sb2FkZXJfc3JjX2luZGV4X2pzX3JlZl82X29uZU9mXzFfMl9ub2RlX21vZHVsZXNfcG9zdGNzc19sb2FkZXJfc3JjX2luZGV4X2pzX3JlZl82X29uZU9mXzFfM19ub2RlX21vZHVsZXNfY2FjaGVfbG9hZGVyX2Rpc3RfY2pzX2pzX3JlZl8wXzBfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2luZGV4X2pzX3Z1ZV9sb2FkZXJfb3B0aW9uc19DRGF0YVRhYmxlX3Z1ZV92dWVfdHlwZV9zdHlsZV9pbmRleF8wX2lkXzJlNmJlODc4X3Njb3BlZF90cnVlX2xhbmdfY3NzX19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygiYWI1OCIpOwogICAgLyogaGFybW9ueSBpbXBvcnQgKi8KCgogICAgdmFyIF9ub2RlX21vZHVsZXNfdnVlX3N0eWxlX2xvYWRlcl9pbmRleF9qc19yZWZfNl9vbmVPZl8xXzBfbm9kZV9tb2R1bGVzX2Nzc19sb2FkZXJfZGlzdF9janNfanNfcmVmXzZfb25lT2ZfMV8xX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc19ub2RlX21vZHVsZXNfcG9zdGNzc19sb2FkZXJfc3JjX2luZGV4X2pzX3JlZl82X29uZU9mXzFfMl9ub2RlX21vZHVsZXNfcG9zdGNzc19sb2FkZXJfc3JjX2luZGV4X2pzX3JlZl82X29uZU9mXzFfM19ub2RlX21vZHVsZXNfY2FjaGVfbG9hZGVyX2Rpc3RfY2pzX2pzX3JlZl8wXzBfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2luZGV4X2pzX3Z1ZV9sb2FkZXJfb3B0aW9uc19DRGF0YVRhYmxlX3Z1ZV92dWVfdHlwZV9zdHlsZV9pbmRleF8wX2lkXzJlNmJlODc4X3Njb3BlZF90cnVlX2xhbmdfY3NzX19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovX193ZWJwYWNrX3JlcXVpcmVfXy5uKF9ub2RlX21vZHVsZXNfdnVlX3N0eWxlX2xvYWRlcl9pbmRleF9qc19yZWZfNl9vbmVPZl8xXzBfbm9kZV9tb2R1bGVzX2Nzc19sb2FkZXJfZGlzdF9janNfanNfcmVmXzZfb25lT2ZfMV8xX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9sb2FkZXJzX3N0eWxlUG9zdExvYWRlcl9qc19ub2RlX21vZHVsZXNfcG9zdGNzc19sb2FkZXJfc3JjX2luZGV4X2pzX3JlZl82X29uZU9mXzFfMl9ub2RlX21vZHVsZXNfcG9zdGNzc19sb2FkZXJfc3JjX2luZGV4X2pzX3JlZl82X29uZU9mXzFfM19ub2RlX21vZHVsZXNfY2FjaGVfbG9hZGVyX2Rpc3RfY2pzX2pzX3JlZl8wXzBfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2luZGV4X2pzX3Z1ZV9sb2FkZXJfb3B0aW9uc19DRGF0YVRhYmxlX3Z1ZV92dWVfdHlwZV9zdHlsZV9pbmRleF8wX2lkXzJlNmJlODc4X3Njb3BlZF90cnVlX2xhbmdfY3NzX19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fKTsKICAgIC8qIHVudXNlZCBoYXJtb255IHJlZXhwb3J0ICogKi8KCiAgICAvKiB1bnVzZWQgaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICB2YXIgX3VudXNlZF93ZWJwYWNrX2RlZmF1bHRfZXhwb3J0ID0gX25vZGVfbW9kdWxlc192dWVfc3R5bGVfbG9hZGVyX2luZGV4X2pzX3JlZl82X29uZU9mXzFfMF9ub2RlX21vZHVsZXNfY3NzX2xvYWRlcl9kaXN0X2Nqc19qc19yZWZfNl9vbmVPZl8xXzFfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2xvYWRlcnNfc3R5bGVQb3N0TG9hZGVyX2pzX25vZGVfbW9kdWxlc19wb3N0Y3NzX2xvYWRlcl9zcmNfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8yX25vZGVfbW9kdWxlc19wb3N0Y3NzX2xvYWRlcl9zcmNfaW5kZXhfanNfcmVmXzZfb25lT2ZfMV8zX25vZGVfbW9kdWxlc19jYWNoZV9sb2FkZXJfZGlzdF9janNfanNfcmVmXzBfMF9ub2RlX21vZHVsZXNfdnVlX2xvYWRlcl9saWJfaW5kZXhfanNfdnVlX2xvYWRlcl9vcHRpb25zX0NEYXRhVGFibGVfdnVlX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzBfaWRfMmU2YmU4Nzhfc2NvcGVkX3RydWVfbGFuZ19jc3NfX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdC5hOwogICAgLyoqKi8KICB9LAoKICAvKioqLwogICJmMGJkIjoKICAvKioqLwogIGZ1bmN0aW9uIGYwYmQobW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAidXNlIHN0cmljdCI7CiAgICAvKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8KCiAgICAoZnVuY3Rpb24gKGdsb2JhbCkgewogICAgICAvKiohCiAgICAgICogQGZpbGVPdmVydmlldyBLaWNrYXNzIGxpYnJhcnkgdG8gY3JlYXRlIGFuZCBwbGFjZSBwb3BwZXJzIG5lYXIgdGhlaXIgcmVmZXJlbmNlIGVsZW1lbnRzLgogICAgICAqIEB2ZXJzaW9uIDEuMTYuMQogICAgICAqIEBsaWNlbnNlCiAgICAgICogQ29weXJpZ2h0IChjKSAyMDE2IEZlZGVyaWNvIFppdm9sbyBhbmQgY29udHJpYnV0b3JzCiAgICAgICoKICAgICAgKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5CiAgICAgICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwKICAgICAgKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzCiAgICAgICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbAogICAgICAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcwogICAgICAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CiAgICAgICoKICAgICAgKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwKICAgICAgKiBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgogICAgICAqCiAgICAgICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKICAgICAgKiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKICAgICAgKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKICAgICAgKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCiAgICAgICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKICAgICAgKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRQogICAgICAqIFNPRlRXQVJFLgogICAgICAqLwogICAgICB2YXIgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJzsKCiAgICAgIHZhciB0aW1lb3V0RHVyYXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGxvbmdlclRpbWVvdXRCcm93c2VycyA9IFsnRWRnZScsICdUcmlkZW50JywgJ0ZpcmVmb3gnXTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsb25nZXJUaW1lb3V0QnJvd3NlcnMubGVuZ3RoOyBpICs9IDEpIHsKICAgICAgICAgIGlmIChpc0Jyb3dzZXIgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKGxvbmdlclRpbWVvdXRCcm93c2Vyc1tpXSkgPj0gMCkgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiAwOwogICAgICB9KCk7CgogICAgICBmdW5jdGlvbiBtaWNyb3Rhc2tEZWJvdW5jZShmbikgewogICAgICAgIHZhciBjYWxsZWQgPSBmYWxzZTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKGNhbGxlZCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgY2FsbGVkID0gdHJ1ZTsKICAgICAgICAgIHdpbmRvdy5Qcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgY2FsbGVkID0gZmFsc2U7CiAgICAgICAgICAgIGZuKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgICB9CgogICAgICBmdW5jdGlvbiB0YXNrRGVib3VuY2UoZm4pIHsKICAgICAgICB2YXIgc2NoZWR1bGVkID0gZmFsc2U7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICghc2NoZWR1bGVkKSB7CiAgICAgICAgICAgIHNjaGVkdWxlZCA9IHRydWU7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHNjaGVkdWxlZCA9IGZhbHNlOwogICAgICAgICAgICAgIGZuKCk7CiAgICAgICAgICAgIH0sIHRpbWVvdXREdXJhdGlvbik7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgdmFyIHN1cHBvcnRzTWljcm9UYXNrcyA9IGlzQnJvd3NlciAmJiB3aW5kb3cuUHJvbWlzZTsKICAgICAgLyoqCiAgICAgICogQ3JlYXRlIGEgZGVib3VuY2VkIHZlcnNpb24gb2YgYSBtZXRob2QsIHRoYXQncyBhc3luY2hyb25vdXNseSBkZWZlcnJlZAogICAgICAqIGJ1dCBjYWxsZWQgaW4gdGhlIG1pbmltdW0gdGltZSBwb3NzaWJsZS4KICAgICAgKgogICAgICAqIEBtZXRob2QKICAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzCiAgICAgICogQGFyZ3VtZW50IHtGdW5jdGlvbn0gZm4KICAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259CiAgICAgICovCgogICAgICB2YXIgZGVib3VuY2UgPSBzdXBwb3J0c01pY3JvVGFza3MgPyBtaWNyb3Rhc2tEZWJvdW5jZSA6IHRhc2tEZWJvdW5jZTsKICAgICAgLyoqCiAgICAgICAqIENoZWNrIGlmIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhIGZ1bmN0aW9uCiAgICAgICAqIEBtZXRob2QKICAgICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlscwogICAgICAgKiBAYXJndW1lbnQge0FueX0gZnVuY3Rpb25Ub0NoZWNrIC0gdmFyaWFibGUgdG8gY2hlY2sKICAgICAgICogQHJldHVybnMge0Jvb2xlYW59IGFuc3dlciB0bzogaXMgYSBmdW5jdGlvbj8KICAgICAgICovCgogICAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKGZ1bmN0aW9uVG9DaGVjaykgewogICAgICAgIHZhciBnZXRUeXBlID0ge307CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uVG9DaGVjayAmJiBnZXRUeXBlLnRvU3RyaW5nLmNhbGwoZnVuY3Rpb25Ub0NoZWNrKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJzsKICAgICAgfQogICAgICAvKioKICAgICAgICogR2V0IENTUyBjb21wdXRlZCBwcm9wZXJ0eSBvZiB0aGUgZ2l2ZW4gZWxlbWVudAogICAgICAgKiBAbWV0aG9kCiAgICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHMKICAgICAgICogQGFyZ3VtZW50IHtFZW1lbnR9IGVsZW1lbnQKICAgICAgICogQGFyZ3VtZW50IHtTdHJpbmd9IHByb3BlcnR5CiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50LCBwcm9wZXJ0eSkgewogICAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlICE9PSAxKSB7CiAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgfSAvLyBOT1RFOiAxIERPTSBhY2Nlc3MgaGVyZQoKCiAgICAgICAgdmFyIHdpbmRvdyA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldzsKICAgICAgICB2YXIgY3NzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCk7CiAgICAgICAgcmV0dXJuIHByb3BlcnR5ID8gY3NzW3Byb3BlcnR5XSA6IGNzczsKICAgICAgfQogICAgICAvKioKICAgICAgICogUmV0dXJucyB0aGUgcGFyZW50Tm9kZSBvciB0aGUgaG9zdCBvZiB0aGUgZWxlbWVudAogICAgICAgKiBAbWV0aG9kCiAgICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHMKICAgICAgICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50CiAgICAgICAqIEByZXR1cm5zIHtFbGVtZW50fSBwYXJlbnQKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gZ2V0UGFyZW50Tm9kZShlbGVtZW50KSB7CiAgICAgICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgPT09ICdIVE1MJykgewogICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZWxlbWVudC5wYXJlbnROb2RlIHx8IGVsZW1lbnQuaG9zdDsKICAgICAgfQogICAgICAvKioKICAgICAgICogUmV0dXJucyB0aGUgc2Nyb2xsaW5nIHBhcmVudCBvZiB0aGUgZ2l2ZW4gZWxlbWVudAogICAgICAgKiBAbWV0aG9kCiAgICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHMKICAgICAgICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50CiAgICAgICAqIEByZXR1cm5zIHtFbGVtZW50fSBzY3JvbGwgcGFyZW50CiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGdldFNjcm9sbFBhcmVudChlbGVtZW50KSB7CiAgICAgICAgLy8gUmV0dXJuIGJvZHksIGBnZXRTY3JvbGxgIHdpbGwgdGFrZSBjYXJlIHRvIGdldCB0aGUgY29ycmVjdCBgc2Nyb2xsVG9wYCBmcm9tIGl0CiAgICAgICAgaWYgKCFlbGVtZW50KSB7CiAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keTsKICAgICAgICB9CgogICAgICAgIHN3aXRjaCAoZWxlbWVudC5ub2RlTmFtZSkgewogICAgICAgICAgY2FzZSAnSFRNTCc6CiAgICAgICAgICBjYXNlICdCT0RZJzoKICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5OwoKICAgICAgICAgIGNhc2UgJyNkb2N1bWVudCc6CiAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmJvZHk7CiAgICAgICAgfSAvLyBGaXJlZm94IHdhbnQgdXMgdG8gY2hlY2sgYC14YCBhbmQgYC15YCB2YXJpYXRpb25zIGFzIHdlbGwKCgogICAgICAgIHZhciBfZ2V0U3R5bGVDb21wdXRlZFByb3AgPSBnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkoZWxlbWVudCksCiAgICAgICAgICAgIG92ZXJmbG93ID0gX2dldFN0eWxlQ29tcHV0ZWRQcm9wLm92ZXJmbG93LAogICAgICAgICAgICBvdmVyZmxvd1ggPSBfZ2V0U3R5bGVDb21wdXRlZFByb3Aub3ZlcmZsb3dYLAogICAgICAgICAgICBvdmVyZmxvd1kgPSBfZ2V0U3R5bGVDb21wdXRlZFByb3Aub3ZlcmZsb3dZOwoKICAgICAgICBpZiAoLyhhdXRvfHNjcm9sbHxvdmVybGF5KS8udGVzdChvdmVyZmxvdyArIG92ZXJmbG93WSArIG92ZXJmbG93WCkpIHsKICAgICAgICAgIHJldHVybiBlbGVtZW50OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGdldFNjcm9sbFBhcmVudChnZXRQYXJlbnROb2RlKGVsZW1lbnQpKTsKICAgICAgfQogICAgICAvKioKICAgICAgICogUmV0dXJucyB0aGUgcmVmZXJlbmNlIG5vZGUgb2YgdGhlIHJlZmVyZW5jZSBvYmplY3QsIG9yIHRoZSByZWZlcmVuY2Ugb2JqZWN0IGl0c2VsZi4KICAgICAgICogQG1ldGhvZAogICAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzCiAgICAgICAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IHJlZmVyZW5jZSAtIHRoZSByZWZlcmVuY2UgZWxlbWVudCAodGhlIHBvcHBlciB3aWxsIGJlIHJlbGF0aXZlIHRvIHRoaXMpCiAgICAgICAqIEByZXR1cm5zIHtFbGVtZW50fSBwYXJlbnQKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gZ2V0UmVmZXJlbmNlTm9kZShyZWZlcmVuY2UpIHsKICAgICAgICByZXR1cm4gcmVmZXJlbmNlICYmIHJlZmVyZW5jZS5yZWZlcmVuY2VOb2RlID8gcmVmZXJlbmNlLnJlZmVyZW5jZU5vZGUgOiByZWZlcmVuY2U7CiAgICAgIH0KCiAgICAgIHZhciBpc0lFMTEgPSBpc0Jyb3dzZXIgJiYgISEod2luZG93Lk1TSW5wdXRNZXRob2RDb250ZXh0ICYmIGRvY3VtZW50LmRvY3VtZW50TW9kZSk7CiAgICAgIHZhciBpc0lFMTAgPSBpc0Jyb3dzZXIgJiYgL01TSUUgMTAvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7CiAgICAgIC8qKgogICAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBicm93c2VyIGlzIEludGVybmV0IEV4cGxvcmVyCiAgICAgICAqIEBtZXRob2QKICAgICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlscwogICAgICAgKiBAcGFyYW0ge051bWJlcn0gdmVyc2lvbiB0byBjaGVjawogICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gaXNJRQogICAgICAgKi8KCiAgICAgIGZ1bmN0aW9uIGlzSUUodmVyc2lvbikgewogICAgICAgIGlmICh2ZXJzaW9uID09PSAxMSkgewogICAgICAgICAgcmV0dXJuIGlzSUUxMTsKICAgICAgICB9CgogICAgICAgIGlmICh2ZXJzaW9uID09PSAxMCkgewogICAgICAgICAgcmV0dXJuIGlzSUUxMDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBpc0lFMTEgfHwgaXNJRTEwOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBSZXR1cm5zIHRoZSBvZmZzZXQgcGFyZW50IG9mIHRoZSBnaXZlbiBlbGVtZW50CiAgICAgICAqIEBtZXRob2QKICAgICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlscwogICAgICAgKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnQKICAgICAgICogQHJldHVybnMge0VsZW1lbnR9IG9mZnNldCBwYXJlbnQKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQpIHsKICAgICAgICBpZiAoIWVsZW1lbnQpIHsKICAgICAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgICAgICAgfQoKICAgICAgICB2YXIgbm9PZmZzZXRQYXJlbnQgPSBpc0lFKDEwKSA/IGRvY3VtZW50LmJvZHkgOiBudWxsOyAvLyBOT1RFOiAxIERPTSBhY2Nlc3MgaGVyZQoKICAgICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQgfHwgbnVsbDsgLy8gU2tpcCBoaWRkZW4gZWxlbWVudHMgd2hpY2ggZG9uJ3QgaGF2ZSBhbiBvZmZzZXRQYXJlbnQKCiAgICAgICAgd2hpbGUgKG9mZnNldFBhcmVudCA9PT0gbm9PZmZzZXRQYXJlbnQgJiYgZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcpIHsKICAgICAgICAgIG9mZnNldFBhcmVudCA9IChlbGVtZW50ID0gZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcpLm9mZnNldFBhcmVudDsKICAgICAgICB9CgogICAgICAgIHZhciBub2RlTmFtZSA9IG9mZnNldFBhcmVudCAmJiBvZmZzZXRQYXJlbnQubm9kZU5hbWU7CgogICAgICAgIGlmICghbm9kZU5hbWUgfHwgbm9kZU5hbWUgPT09ICdCT0RZJyB8fCBub2RlTmFtZSA9PT0gJ0hUTUwnKSB7CiAgICAgICAgICByZXR1cm4gZWxlbWVudCA/IGVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgICAgICAgfSAvLyAub2Zmc2V0UGFyZW50IHdpbGwgcmV0dXJuIHRoZSBjbG9zZXN0IFRILCBURCBvciBUQUJMRSBpbiBjYXNlCiAgICAgICAgLy8gbm8gb2Zmc2V0UGFyZW50IGlzIHByZXNlbnQsIEkgaGF0ZSB0aGlzIGpvYi4uLgoKCiAgICAgICAgaWYgKFsnVEgnLCAnVEQnLCAnVEFCTEUnXS5pbmRleE9mKG9mZnNldFBhcmVudC5ub2RlTmFtZSkgIT09IC0xICYmIGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShvZmZzZXRQYXJlbnQsICdwb3NpdGlvbicpID09PSAnc3RhdGljJykgewogICAgICAgICAgcmV0dXJuIGdldE9mZnNldFBhcmVudChvZmZzZXRQYXJlbnQpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG9mZnNldFBhcmVudDsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gaXNPZmZzZXRDb250YWluZXIoZWxlbWVudCkgewogICAgICAgIHZhciBub2RlTmFtZSA9IGVsZW1lbnQubm9kZU5hbWU7CgogICAgICAgIGlmIChub2RlTmFtZSA9PT0gJ0JPRFknKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbm9kZU5hbWUgPT09ICdIVE1MJyB8fCBnZXRPZmZzZXRQYXJlbnQoZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCkgPT09IGVsZW1lbnQ7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIEZpbmRzIHRoZSByb290IG5vZGUgKGRvY3VtZW50LCBzaGFkb3dET00gcm9vdCkgb2YgdGhlIGdpdmVuIGVsZW1lbnQKICAgICAgICogQG1ldGhvZAogICAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzCiAgICAgICAqIEBhcmd1bWVudCB7RWxlbWVudH0gbm9kZQogICAgICAgKiBAcmV0dXJucyB7RWxlbWVudH0gcm9vdCBub2RlCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGdldFJvb3Qobm9kZSkgewogICAgICAgIGlmIChub2RlLnBhcmVudE5vZGUgIT09IG51bGwpIHsKICAgICAgICAgIHJldHVybiBnZXRSb290KG5vZGUucGFyZW50Tm9kZSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgfQogICAgICAvKioKICAgICAgICogRmluZHMgdGhlIG9mZnNldCBwYXJlbnQgY29tbW9uIHRvIHRoZSB0d28gcHJvdmlkZWQgbm9kZXMKICAgICAgICogQG1ldGhvZAogICAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzCiAgICAgICAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudDEKICAgICAgICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50MgogICAgICAgKiBAcmV0dXJucyB7RWxlbWVudH0gY29tbW9uIG9mZnNldCBwYXJlbnQKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gZmluZENvbW1vbk9mZnNldFBhcmVudChlbGVtZW50MSwgZWxlbWVudDIpIHsKICAgICAgICAvLyBUaGlzIGNoZWNrIGlzIG5lZWRlZCB0byBhdm9pZCBlcnJvcnMgaW4gY2FzZSBvbmUgb2YgdGhlIGVsZW1lbnRzIGlzbid0IGRlZmluZWQgZm9yIGFueSByZWFzb24KICAgICAgICBpZiAoIWVsZW1lbnQxIHx8ICFlbGVtZW50MS5ub2RlVHlwZSB8fCAhZWxlbWVudDIgfHwgIWVsZW1lbnQyLm5vZGVUeXBlKSB7CiAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogICAgICAgIH0gLy8gSGVyZSB3ZSBtYWtlIHN1cmUgdG8gZ2l2ZSBhcyAic3RhcnQiIHRoZSBlbGVtZW50IHRoYXQgY29tZXMgZmlyc3QgaW4gdGhlIERPTQoKCiAgICAgICAgdmFyIG9yZGVyID0gZWxlbWVudDEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZWxlbWVudDIpICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkc7CiAgICAgICAgdmFyIHN0YXJ0ID0gb3JkZXIgPyBlbGVtZW50MSA6IGVsZW1lbnQyOwogICAgICAgIHZhciBlbmQgPSBvcmRlciA/IGVsZW1lbnQyIDogZWxlbWVudDE7IC8vIEdldCBjb21tb24gYW5jZXN0b3IgY29udGFpbmVyCgogICAgICAgIHZhciByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7CiAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoc3RhcnQsIDApOwogICAgICAgIHJhbmdlLnNldEVuZChlbmQsIDApOwogICAgICAgIHZhciBjb21tb25BbmNlc3RvckNvbnRhaW5lciA9IHJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyOyAvLyBCb3RoIG5vZGVzIGFyZSBpbnNpZGUgI2RvY3VtZW50CgogICAgICAgIGlmIChlbGVtZW50MSAhPT0gY29tbW9uQW5jZXN0b3JDb250YWluZXIgJiYgZWxlbWVudDIgIT09IGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIHx8IHN0YXJ0LmNvbnRhaW5zKGVuZCkpIHsKICAgICAgICAgIGlmIChpc09mZnNldENvbnRhaW5lcihjb21tb25BbmNlc3RvckNvbnRhaW5lcikpIHsKICAgICAgICAgICAgcmV0dXJuIGNvbW1vbkFuY2VzdG9yQ29udGFpbmVyOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBnZXRPZmZzZXRQYXJlbnQoY29tbW9uQW5jZXN0b3JDb250YWluZXIpOwogICAgICAgIH0gLy8gb25lIG9mIHRoZSBub2RlcyBpcyBpbnNpZGUgc2hhZG93RE9NLCBmaW5kIHdoaWNoIG9uZQoKCiAgICAgICAgdmFyIGVsZW1lbnQxcm9vdCA9IGdldFJvb3QoZWxlbWVudDEpOwoKICAgICAgICBpZiAoZWxlbWVudDFyb290Lmhvc3QpIHsKICAgICAgICAgIHJldHVybiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQxcm9vdC5ob3N0LCBlbGVtZW50Mik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmaW5kQ29tbW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQxLCBnZXRSb290KGVsZW1lbnQyKS5ob3N0KTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIEdldHMgdGhlIHNjcm9sbCB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudCBpbiB0aGUgZ2l2ZW4gc2lkZSAodG9wIGFuZCBsZWZ0KQogICAgICAgKiBAbWV0aG9kCiAgICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHMKICAgICAgICogQGFyZ3VtZW50IHtFbGVtZW50fSBlbGVtZW50CiAgICAgICAqIEBhcmd1bWVudCB7U3RyaW5nfSBzaWRlIGB0b3BgIG9yIGBsZWZ0YAogICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBhbW91bnQgb2Ygc2Nyb2xsZWQgcGl4ZWxzCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGdldFNjcm9sbChlbGVtZW50KSB7CiAgICAgICAgdmFyIHNpZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICd0b3AnOwogICAgICAgIHZhciB1cHBlclNpZGUgPSBzaWRlID09PSAndG9wJyA/ICdzY3JvbGxUb3AnIDogJ3Njcm9sbExlZnQnOwogICAgICAgIHZhciBub2RlTmFtZSA9IGVsZW1lbnQubm9kZU5hbWU7CgogICAgICAgIGlmIChub2RlTmFtZSA9PT0gJ0JPRFknIHx8IG5vZGVOYW1lID09PSAnSFRNTCcpIHsKICAgICAgICAgIHZhciBodG1sID0gZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKICAgICAgICAgIHZhciBzY3JvbGxpbmdFbGVtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQgfHwgaHRtbDsKICAgICAgICAgIHJldHVybiBzY3JvbGxpbmdFbGVtZW50W3VwcGVyU2lkZV07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZWxlbWVudFt1cHBlclNpZGVdOwogICAgICB9CiAgICAgIC8qCiAgICAgICAqIFN1bSBvciBzdWJ0cmFjdCB0aGUgZWxlbWVudCBzY3JvbGwgdmFsdWVzIChsZWZ0IGFuZCB0b3ApIGZyb20gYSBnaXZlbiByZWN0IG9iamVjdAogICAgICAgKiBAbWV0aG9kCiAgICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHMKICAgICAgICogQHBhcmFtIHtPYmplY3R9IHJlY3QgLSBSZWN0IG9iamVjdCB5b3Ugd2FudCB0byBjaGFuZ2UKICAgICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCAtIFRoZSBlbGVtZW50IGZyb20gdGhlIGZ1bmN0aW9uIHJlYWRzIHRoZSBzY3JvbGwgdmFsdWVzCiAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc3VidHJhY3QgLSBzZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0byBzdWJ0cmFjdCB0aGUgc2Nyb2xsIHZhbHVlcwogICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHJlY3QgLSBUaGUgbW9kaWZpZXIgcmVjdCBvYmplY3QKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gaW5jbHVkZVNjcm9sbChyZWN0LCBlbGVtZW50KSB7CiAgICAgICAgdmFyIHN1YnRyYWN0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTsKICAgICAgICB2YXIgc2Nyb2xsVG9wID0gZ2V0U2Nyb2xsKGVsZW1lbnQsICd0b3AnKTsKICAgICAgICB2YXIgc2Nyb2xsTGVmdCA9IGdldFNjcm9sbChlbGVtZW50LCAnbGVmdCcpOwogICAgICAgIHZhciBtb2RpZmllciA9IHN1YnRyYWN0ID8gLTEgOiAxOwogICAgICAgIHJlY3QudG9wICs9IHNjcm9sbFRvcCAqIG1vZGlmaWVyOwogICAgICAgIHJlY3QuYm90dG9tICs9IHNjcm9sbFRvcCAqIG1vZGlmaWVyOwogICAgICAgIHJlY3QubGVmdCArPSBzY3JvbGxMZWZ0ICogbW9kaWZpZXI7CiAgICAgICAgcmVjdC5yaWdodCArPSBzY3JvbGxMZWZ0ICogbW9kaWZpZXI7CiAgICAgICAgcmV0dXJuIHJlY3Q7CiAgICAgIH0KICAgICAgLyoKICAgICAgICogSGVscGVyIHRvIGRldGVjdCBib3JkZXJzIG9mIGEgZ2l2ZW4gZWxlbWVudAogICAgICAgKiBAbWV0aG9kCiAgICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHMKICAgICAgICogQHBhcmFtIHtDU1NTdHlsZURlY2xhcmF0aW9ufSBzdHlsZXMKICAgICAgICogUmVzdWx0IG9mIGBnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHlgIG9uIHRoZSBnaXZlbiBlbGVtZW50CiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBheGlzIC0gYHhgIG9yIGB5YAogICAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IGJvcmRlcnMgLSBUaGUgYm9yZGVycyBzaXplIG9mIHRoZSBnaXZlbiBheGlzCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGdldEJvcmRlcnNTaXplKHN0eWxlcywgYXhpcykgewogICAgICAgIHZhciBzaWRlQSA9IGF4aXMgPT09ICd4JyA/ICdMZWZ0JyA6ICdUb3AnOwogICAgICAgIHZhciBzaWRlQiA9IHNpZGVBID09PSAnTGVmdCcgPyAnUmlnaHQnIDogJ0JvdHRvbSc7CiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoc3R5bGVzWydib3JkZXInICsgc2lkZUEgKyAnV2lkdGgnXSkgKyBwYXJzZUZsb2F0KHN0eWxlc1snYm9yZGVyJyArIHNpZGVCICsgJ1dpZHRoJ10pOwogICAgICB9CgogICAgICBmdW5jdGlvbiBnZXRTaXplKGF4aXMsIGJvZHksIGh0bWwsIGNvbXB1dGVkU3R5bGUpIHsKICAgICAgICByZXR1cm4gTWF0aC5tYXgoYm9keVsnb2Zmc2V0JyArIGF4aXNdLCBib2R5WydzY3JvbGwnICsgYXhpc10sIGh0bWxbJ2NsaWVudCcgKyBheGlzXSwgaHRtbFsnb2Zmc2V0JyArIGF4aXNdLCBodG1sWydzY3JvbGwnICsgYXhpc10sIGlzSUUoMTApID8gcGFyc2VJbnQoaHRtbFsnb2Zmc2V0JyArIGF4aXNdKSArIHBhcnNlSW50KGNvbXB1dGVkU3R5bGVbJ21hcmdpbicgKyAoYXhpcyA9PT0gJ0hlaWdodCcgPyAnVG9wJyA6ICdMZWZ0JyldKSArIHBhcnNlSW50KGNvbXB1dGVkU3R5bGVbJ21hcmdpbicgKyAoYXhpcyA9PT0gJ0hlaWdodCcgPyAnQm90dG9tJyA6ICdSaWdodCcpXSkgOiAwKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZ2V0V2luZG93U2l6ZXMoZG9jdW1lbnQpIHsKICAgICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmJvZHk7CiAgICAgICAgdmFyIGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgICAgICAgdmFyIGNvbXB1dGVkU3R5bGUgPSBpc0lFKDEwKSAmJiBnZXRDb21wdXRlZFN0eWxlKGh0bWwpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBoZWlnaHQ6IGdldFNpemUoJ0hlaWdodCcsIGJvZHksIGh0bWwsIGNvbXB1dGVkU3R5bGUpLAogICAgICAgICAgd2lkdGg6IGdldFNpemUoJ1dpZHRoJywgYm9keSwgaHRtbCwgY29tcHV0ZWRTdHlsZSkKICAgICAgICB9OwogICAgICB9CgogICAgICB2YXIgY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiBjbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsKICAgICAgICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgewogICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgdmFyIGNyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgewogICAgICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgewogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOwogICAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7CiAgICAgICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsKICAgICAgICAgICAgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgICAgICAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOwogICAgICAgICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7CiAgICAgICAgICByZXR1cm4gQ29uc3RydWN0b3I7CiAgICAgICAgfTsKICAgICAgfSgpOwoKICAgICAgdmFyIGRlZmluZVByb3BlcnR5ID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgICAgICAgaWYgKGtleSBpbiBvYmopIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgICAgd3JpdGFibGU6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBvYmpba2V5XSA9IHZhbHVlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG9iajsKICAgICAgfTsKCiAgICAgIHZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgewogICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOwoKICAgICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsKICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsKICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGFyZ2V0OwogICAgICB9OwogICAgICAvKioKICAgICAgICogR2l2ZW4gZWxlbWVudCBvZmZzZXRzLCBnZW5lcmF0ZSBhbiBvdXRwdXQgc2ltaWxhciB0byBnZXRCb3VuZGluZ0NsaWVudFJlY3QKICAgICAgICogQG1ldGhvZAogICAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzCiAgICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBvZmZzZXRzCiAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IENsaWVudFJlY3QgbGlrZSBvdXRwdXQKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gZ2V0Q2xpZW50UmVjdChvZmZzZXRzKSB7CiAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBvZmZzZXRzLCB7CiAgICAgICAgICByaWdodDogb2Zmc2V0cy5sZWZ0ICsgb2Zmc2V0cy53aWR0aCwKICAgICAgICAgIGJvdHRvbTogb2Zmc2V0cy50b3AgKyBvZmZzZXRzLmhlaWdodAogICAgICAgIH0pOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBHZXQgYm91bmRpbmcgY2xpZW50IHJlY3Qgb2YgZ2l2ZW4gZWxlbWVudAogICAgICAgKiBAbWV0aG9kCiAgICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHMKICAgICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudAogICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGNsaWVudCByZWN0CiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50KSB7CiAgICAgICAgdmFyIHJlY3QgPSB7fTsgLy8gSUUxMCAxMCBGSVg6IFBsZWFzZSwgZG9uJ3QgYXNrLCB0aGUgZWxlbWVudCBpc24ndAogICAgICAgIC8vIGNvbnNpZGVyZWQgaW4gRE9NIGluIHNvbWUgY2lyY3Vtc3RhbmNlcy4uLgogICAgICAgIC8vIFRoaXMgaXNuJ3QgcmVwcm9kdWNpYmxlIGluIElFMTAgY29tcGF0aWJpbGl0eSBtb2RlIG9mIElFMTEKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmIChpc0lFKDEwKSkgewogICAgICAgICAgICByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgdmFyIHNjcm9sbFRvcCA9IGdldFNjcm9sbChlbGVtZW50LCAndG9wJyk7CiAgICAgICAgICAgIHZhciBzY3JvbGxMZWZ0ID0gZ2V0U2Nyb2xsKGVsZW1lbnQsICdsZWZ0Jyk7CiAgICAgICAgICAgIHJlY3QudG9wICs9IHNjcm9sbFRvcDsKICAgICAgICAgICAgcmVjdC5sZWZ0ICs9IHNjcm9sbExlZnQ7CiAgICAgICAgICAgIHJlY3QuYm90dG9tICs9IHNjcm9sbFRvcDsKICAgICAgICAgICAgcmVjdC5yaWdodCArPSBzY3JvbGxMZWZ0OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZSkge30KCiAgICAgICAgdmFyIHJlc3VsdCA9IHsKICAgICAgICAgIGxlZnQ6IHJlY3QubGVmdCwKICAgICAgICAgIHRvcDogcmVjdC50b3AsCiAgICAgICAgICB3aWR0aDogcmVjdC5yaWdodCAtIHJlY3QubGVmdCwKICAgICAgICAgIGhlaWdodDogcmVjdC5ib3R0b20gLSByZWN0LnRvcAogICAgICAgIH07IC8vIHN1YnRyYWN0IHNjcm9sbGJhciBzaXplIGZyb20gc2l6ZXMKCiAgICAgICAgdmFyIHNpemVzID0gZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0hUTUwnID8gZ2V0V2luZG93U2l6ZXMoZWxlbWVudC5vd25lckRvY3VtZW50KSA6IHt9OwogICAgICAgIHZhciB3aWR0aCA9IHNpemVzLndpZHRoIHx8IGVsZW1lbnQuY2xpZW50V2lkdGggfHwgcmVzdWx0LndpZHRoOwogICAgICAgIHZhciBoZWlnaHQgPSBzaXplcy5oZWlnaHQgfHwgZWxlbWVudC5jbGllbnRIZWlnaHQgfHwgcmVzdWx0LmhlaWdodDsKICAgICAgICB2YXIgaG9yaXpTY3JvbGxiYXIgPSBlbGVtZW50Lm9mZnNldFdpZHRoIC0gd2lkdGg7CiAgICAgICAgdmFyIHZlcnRTY3JvbGxiYXIgPSBlbGVtZW50Lm9mZnNldEhlaWdodCAtIGhlaWdodDsgLy8gaWYgYW4gaHlwb3RoZXRpY2FsIHNjcm9sbGJhciBpcyBkZXRlY3RlZCwgd2UgbXVzdCBiZSBzdXJlIGl0J3Mgbm90IGEgYGJvcmRlcmAKICAgICAgICAvLyB3ZSBtYWtlIHRoaXMgY2hlY2sgY29uZGl0aW9uYWwgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMKCiAgICAgICAgaWYgKGhvcml6U2Nyb2xsYmFyIHx8IHZlcnRTY3JvbGxiYXIpIHsKICAgICAgICAgIHZhciBzdHlsZXMgPSBnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkoZWxlbWVudCk7CiAgICAgICAgICBob3JpelNjcm9sbGJhciAtPSBnZXRCb3JkZXJzU2l6ZShzdHlsZXMsICd4Jyk7CiAgICAgICAgICB2ZXJ0U2Nyb2xsYmFyIC09IGdldEJvcmRlcnNTaXplKHN0eWxlcywgJ3knKTsKICAgICAgICAgIHJlc3VsdC53aWR0aCAtPSBob3JpelNjcm9sbGJhcjsKICAgICAgICAgIHJlc3VsdC5oZWlnaHQgLT0gdmVydFNjcm9sbGJhcjsKICAgICAgICB9CgogICAgICAgIHJldHVybiBnZXRDbGllbnRSZWN0KHJlc3VsdCk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGdldE9mZnNldFJlY3RSZWxhdGl2ZVRvQXJiaXRyYXJ5Tm9kZShjaGlsZHJlbiwgcGFyZW50KSB7CiAgICAgICAgdmFyIGZpeGVkUG9zaXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlOwogICAgICAgIHZhciBpc0lFMTAgPSBpc0lFKDEwKTsKICAgICAgICB2YXIgaXNIVE1MID0gcGFyZW50Lm5vZGVOYW1lID09PSAnSFRNTCc7CiAgICAgICAgdmFyIGNoaWxkcmVuUmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChjaGlsZHJlbik7CiAgICAgICAgdmFyIHBhcmVudFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QocGFyZW50KTsKICAgICAgICB2YXIgc2Nyb2xsUGFyZW50ID0gZ2V0U2Nyb2xsUGFyZW50KGNoaWxkcmVuKTsKICAgICAgICB2YXIgc3R5bGVzID0gZ2V0U3R5bGVDb21wdXRlZFByb3BlcnR5KHBhcmVudCk7CiAgICAgICAgdmFyIGJvcmRlclRvcFdpZHRoID0gcGFyc2VGbG9hdChzdHlsZXMuYm9yZGVyVG9wV2lkdGgpOwogICAgICAgIHZhciBib3JkZXJMZWZ0V2lkdGggPSBwYXJzZUZsb2F0KHN0eWxlcy5ib3JkZXJMZWZ0V2lkdGgpOyAvLyBJbiBjYXNlcyB3aGVyZSB0aGUgcGFyZW50IGlzIGZpeGVkLCB3ZSBtdXN0IGlnbm9yZSBuZWdhdGl2ZSBzY3JvbGwgaW4gb2Zmc2V0IGNhbGMKCiAgICAgICAgaWYgKGZpeGVkUG9zaXRpb24gJiYgaXNIVE1MKSB7CiAgICAgICAgICBwYXJlbnRSZWN0LnRvcCA9IE1hdGgubWF4KHBhcmVudFJlY3QudG9wLCAwKTsKICAgICAgICAgIHBhcmVudFJlY3QubGVmdCA9IE1hdGgubWF4KHBhcmVudFJlY3QubGVmdCwgMCk7CiAgICAgICAgfQoKICAgICAgICB2YXIgb2Zmc2V0cyA9IGdldENsaWVudFJlY3QoewogICAgICAgICAgdG9wOiBjaGlsZHJlblJlY3QudG9wIC0gcGFyZW50UmVjdC50b3AgLSBib3JkZXJUb3BXaWR0aCwKICAgICAgICAgIGxlZnQ6IGNoaWxkcmVuUmVjdC5sZWZ0IC0gcGFyZW50UmVjdC5sZWZ0IC0gYm9yZGVyTGVmdFdpZHRoLAogICAgICAgICAgd2lkdGg6IGNoaWxkcmVuUmVjdC53aWR0aCwKICAgICAgICAgIGhlaWdodDogY2hpbGRyZW5SZWN0LmhlaWdodAogICAgICAgIH0pOwogICAgICAgIG9mZnNldHMubWFyZ2luVG9wID0gMDsKICAgICAgICBvZmZzZXRzLm1hcmdpbkxlZnQgPSAwOyAvLyBTdWJ0cmFjdCBtYXJnaW5zIG9mIGRvY3VtZW50RWxlbWVudCBpbiBjYXNlIGl0J3MgYmVpbmcgdXNlZCBhcyBwYXJlbnQKICAgICAgICAvLyB3ZSBkbyB0aGlzIG9ubHkgb24gSFRNTCBiZWNhdXNlIGl0J3MgdGhlIG9ubHkgZWxlbWVudCB0aGF0IGJlaGF2ZXMKICAgICAgICAvLyBkaWZmZXJlbnRseSB3aGVuIG1hcmdpbnMgYXJlIGFwcGxpZWQgdG8gaXQuIFRoZSBtYXJnaW5zIGFyZSBpbmNsdWRlZCBpbgogICAgICAgIC8vIHRoZSBib3ggb2YgdGhlIGRvY3VtZW50RWxlbWVudCwgaW4gdGhlIG90aGVyIGNhc2VzIG5vdC4KCiAgICAgICAgaWYgKCFpc0lFMTAgJiYgaXNIVE1MKSB7CiAgICAgICAgICB2YXIgbWFyZ2luVG9wID0gcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luVG9wKTsKICAgICAgICAgIHZhciBtYXJnaW5MZWZ0ID0gcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luTGVmdCk7CiAgICAgICAgICBvZmZzZXRzLnRvcCAtPSBib3JkZXJUb3BXaWR0aCAtIG1hcmdpblRvcDsKICAgICAgICAgIG9mZnNldHMuYm90dG9tIC09IGJvcmRlclRvcFdpZHRoIC0gbWFyZ2luVG9wOwogICAgICAgICAgb2Zmc2V0cy5sZWZ0IC09IGJvcmRlckxlZnRXaWR0aCAtIG1hcmdpbkxlZnQ7CiAgICAgICAgICBvZmZzZXRzLnJpZ2h0IC09IGJvcmRlckxlZnRXaWR0aCAtIG1hcmdpbkxlZnQ7IC8vIEF0dGFjaCBtYXJnaW5Ub3AgYW5kIG1hcmdpbkxlZnQgYmVjYXVzZSBpbiBzb21lIGNpcmN1bXN0YW5jZXMgd2UgbWF5IG5lZWQgdGhlbQoKICAgICAgICAgIG9mZnNldHMubWFyZ2luVG9wID0gbWFyZ2luVG9wOwogICAgICAgICAgb2Zmc2V0cy5tYXJnaW5MZWZ0ID0gbWFyZ2luTGVmdDsKICAgICAgICB9CgogICAgICAgIGlmIChpc0lFMTAgJiYgIWZpeGVkUG9zaXRpb24gPyBwYXJlbnQuY29udGFpbnMoc2Nyb2xsUGFyZW50KSA6IHBhcmVudCA9PT0gc2Nyb2xsUGFyZW50ICYmIHNjcm9sbFBhcmVudC5ub2RlTmFtZSAhPT0gJ0JPRFknKSB7CiAgICAgICAgICBvZmZzZXRzID0gaW5jbHVkZVNjcm9sbChvZmZzZXRzLCBwYXJlbnQpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG9mZnNldHM7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGdldFZpZXdwb3J0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcnRiaXRyYXJ5Tm9kZShlbGVtZW50KSB7CiAgICAgICAgdmFyIGV4Y2x1ZGVTY3JvbGwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwogICAgICAgIHZhciBodG1sID0gZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKICAgICAgICB2YXIgcmVsYXRpdmVPZmZzZXQgPSBnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUoZWxlbWVudCwgaHRtbCk7CiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5tYXgoaHRtbC5jbGllbnRXaWR0aCwgd2luZG93LmlubmVyV2lkdGggfHwgMCk7CiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgubWF4KGh0bWwuY2xpZW50SGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgMCk7CiAgICAgICAgdmFyIHNjcm9sbFRvcCA9ICFleGNsdWRlU2Nyb2xsID8gZ2V0U2Nyb2xsKGh0bWwpIDogMDsKICAgICAgICB2YXIgc2Nyb2xsTGVmdCA9ICFleGNsdWRlU2Nyb2xsID8gZ2V0U2Nyb2xsKGh0bWwsICdsZWZ0JykgOiAwOwogICAgICAgIHZhciBvZmZzZXQgPSB7CiAgICAgICAgICB0b3A6IHNjcm9sbFRvcCAtIHJlbGF0aXZlT2Zmc2V0LnRvcCArIHJlbGF0aXZlT2Zmc2V0Lm1hcmdpblRvcCwKICAgICAgICAgIGxlZnQ6IHNjcm9sbExlZnQgLSByZWxhdGl2ZU9mZnNldC5sZWZ0ICsgcmVsYXRpdmVPZmZzZXQubWFyZ2luTGVmdCwKICAgICAgICAgIHdpZHRoOiB3aWR0aCwKICAgICAgICAgIGhlaWdodDogaGVpZ2h0CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gZ2V0Q2xpZW50UmVjdChvZmZzZXQpOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBDaGVjayBpZiB0aGUgZ2l2ZW4gZWxlbWVudCBpcyBmaXhlZCBvciBpcyBpbnNpZGUgYSBmaXhlZCBwYXJlbnQKICAgICAgICogQG1ldGhvZAogICAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzCiAgICAgICAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudAogICAgICAgKiBAYXJndW1lbnQge0VsZW1lbnR9IGN1c3RvbUNvbnRhaW5lcgogICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gYW5zd2VyIHRvICJpc0ZpeGVkPyIKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gaXNGaXhlZChlbGVtZW50KSB7CiAgICAgICAgdmFyIG5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZTsKCiAgICAgICAgaWYgKG5vZGVOYW1lID09PSAnQk9EWScgfHwgbm9kZU5hbWUgPT09ICdIVE1MJykgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShlbGVtZW50LCAncG9zaXRpb24nKSA9PT0gJ2ZpeGVkJykgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7CgogICAgICAgIGlmICghcGFyZW50Tm9kZSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGlzRml4ZWQocGFyZW50Tm9kZSk7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIEZpbmRzIHRoZSBmaXJzdCBwYXJlbnQgb2YgYW4gZWxlbWVudCB0aGF0IGhhcyBhIHRyYW5zZm9ybWVkIHByb3BlcnR5IGRlZmluZWQKICAgICAgICogQG1ldGhvZAogICAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzCiAgICAgICAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudAogICAgICAgKiBAcmV0dXJucyB7RWxlbWVudH0gZmlyc3QgdHJhbnNmb3JtZWQgcGFyZW50IG9yIGRvY3VtZW50RWxlbWVudAogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBnZXRGaXhlZFBvc2l0aW9uT2Zmc2V0UGFyZW50KGVsZW1lbnQpIHsKICAgICAgICAvLyBUaGlzIGNoZWNrIGlzIG5lZWRlZCB0byBhdm9pZCBlcnJvcnMgaW4gY2FzZSBvbmUgb2YgdGhlIGVsZW1lbnRzIGlzbid0IGRlZmluZWQgZm9yIGFueSByZWFzb24KICAgICAgICBpZiAoIWVsZW1lbnQgfHwgIWVsZW1lbnQucGFyZW50RWxlbWVudCB8fCBpc0lFKCkpIHsKICAgICAgICAgIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgICAgICAgfQoKICAgICAgICB2YXIgZWwgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7CgogICAgICAgIHdoaWxlIChlbCAmJiBnZXRTdHlsZUNvbXB1dGVkUHJvcGVydHkoZWwsICd0cmFuc2Zvcm0nKSA9PT0gJ25vbmUnKSB7CiAgICAgICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQ7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZWwgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBDb21wdXRlZCB0aGUgYm91bmRhcmllcyBsaW1pdHMgYW5kIHJldHVybiB0aGVtCiAgICAgICAqIEBtZXRob2QKICAgICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlscwogICAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3BwZXIKICAgICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcmVmZXJlbmNlCiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwYWRkaW5nCiAgICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGJvdW5kYXJpZXNFbGVtZW50IC0gRWxlbWVudCB1c2VkIHRvIGRlZmluZSB0aGUgYm91bmRhcmllcwogICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGZpeGVkUG9zaXRpb24gLSBJcyBpbiBmaXhlZCBwb3NpdGlvbiBtb2RlCiAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IENvb3JkaW5hdGVzIG9mIHRoZSBib3VuZGFyaWVzCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGdldEJvdW5kYXJpZXMocG9wcGVyLCByZWZlcmVuY2UsIHBhZGRpbmcsIGJvdW5kYXJpZXNFbGVtZW50KSB7CiAgICAgICAgdmFyIGZpeGVkUG9zaXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IGZhbHNlOyAvLyBOT1RFOiAxIERPTSBhY2Nlc3MgaGVyZQoKICAgICAgICB2YXIgYm91bmRhcmllcyA9IHsKICAgICAgICAgIHRvcDogMCwKICAgICAgICAgIGxlZnQ6IDAKICAgICAgICB9OwogICAgICAgIHZhciBvZmZzZXRQYXJlbnQgPSBmaXhlZFBvc2l0aW9uID8gZ2V0Rml4ZWRQb3NpdGlvbk9mZnNldFBhcmVudChwb3BwZXIpIDogZmluZENvbW1vbk9mZnNldFBhcmVudChwb3BwZXIsIGdldFJlZmVyZW5jZU5vZGUocmVmZXJlbmNlKSk7IC8vIEhhbmRsZSB2aWV3cG9ydCBjYXNlCgogICAgICAgIGlmIChib3VuZGFyaWVzRWxlbWVudCA9PT0gJ3ZpZXdwb3J0JykgewogICAgICAgICAgYm91bmRhcmllcyA9IGdldFZpZXdwb3J0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcnRiaXRyYXJ5Tm9kZShvZmZzZXRQYXJlbnQsIGZpeGVkUG9zaXRpb24pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBIYW5kbGUgb3RoZXIgY2FzZXMgYmFzZWQgb24gRE9NIGVsZW1lbnQgdXNlZCBhcyBib3VuZGFyaWVzCiAgICAgICAgICB2YXIgYm91bmRhcmllc05vZGUgPSB2b2lkIDA7CgogICAgICAgICAgaWYgKGJvdW5kYXJpZXNFbGVtZW50ID09PSAnc2Nyb2xsUGFyZW50JykgewogICAgICAgICAgICBib3VuZGFyaWVzTm9kZSA9IGdldFNjcm9sbFBhcmVudChnZXRQYXJlbnROb2RlKHJlZmVyZW5jZSkpOwoKICAgICAgICAgICAgaWYgKGJvdW5kYXJpZXNOb2RlLm5vZGVOYW1lID09PSAnQk9EWScpIHsKICAgICAgICAgICAgICBib3VuZGFyaWVzTm9kZSA9IHBvcHBlci5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmIChib3VuZGFyaWVzRWxlbWVudCA9PT0gJ3dpbmRvdycpIHsKICAgICAgICAgICAgYm91bmRhcmllc05vZGUgPSBwb3BwZXIub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBib3VuZGFyaWVzTm9kZSA9IGJvdW5kYXJpZXNFbGVtZW50OwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBvZmZzZXRzID0gZ2V0T2Zmc2V0UmVjdFJlbGF0aXZlVG9BcmJpdHJhcnlOb2RlKGJvdW5kYXJpZXNOb2RlLCBvZmZzZXRQYXJlbnQsIGZpeGVkUG9zaXRpb24pOyAvLyBJbiBjYXNlIG9mIEhUTUwsIHdlIG5lZWQgYSBkaWZmZXJlbnQgY29tcHV0YXRpb24KCiAgICAgICAgICBpZiAoYm91bmRhcmllc05vZGUubm9kZU5hbWUgPT09ICdIVE1MJyAmJiAhaXNGaXhlZChvZmZzZXRQYXJlbnQpKSB7CiAgICAgICAgICAgIHZhciBfZ2V0V2luZG93U2l6ZXMgPSBnZXRXaW5kb3dTaXplcyhwb3BwZXIub3duZXJEb2N1bWVudCksCiAgICAgICAgICAgICAgICBoZWlnaHQgPSBfZ2V0V2luZG93U2l6ZXMuaGVpZ2h0LAogICAgICAgICAgICAgICAgd2lkdGggPSBfZ2V0V2luZG93U2l6ZXMud2lkdGg7CgogICAgICAgICAgICBib3VuZGFyaWVzLnRvcCArPSBvZmZzZXRzLnRvcCAtIG9mZnNldHMubWFyZ2luVG9wOwogICAgICAgICAgICBib3VuZGFyaWVzLmJvdHRvbSA9IGhlaWdodCArIG9mZnNldHMudG9wOwogICAgICAgICAgICBib3VuZGFyaWVzLmxlZnQgKz0gb2Zmc2V0cy5sZWZ0IC0gb2Zmc2V0cy5tYXJnaW5MZWZ0OwogICAgICAgICAgICBib3VuZGFyaWVzLnJpZ2h0ID0gd2lkdGggKyBvZmZzZXRzLmxlZnQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBmb3IgYWxsIHRoZSBvdGhlciBET00gZWxlbWVudHMsIHRoaXMgb25lIGlzIGdvb2QKICAgICAgICAgICAgYm91bmRhcmllcyA9IG9mZnNldHM7CiAgICAgICAgICB9CiAgICAgICAgfSAvLyBBZGQgcGFkZGluZ3MKCgogICAgICAgIHBhZGRpbmcgPSBwYWRkaW5nIHx8IDA7CiAgICAgICAgdmFyIGlzUGFkZGluZ051bWJlciA9IHR5cGVvZiBwYWRkaW5nID09PSAnbnVtYmVyJzsKICAgICAgICBib3VuZGFyaWVzLmxlZnQgKz0gaXNQYWRkaW5nTnVtYmVyID8gcGFkZGluZyA6IHBhZGRpbmcubGVmdCB8fCAwOwogICAgICAgIGJvdW5kYXJpZXMudG9wICs9IGlzUGFkZGluZ051bWJlciA/IHBhZGRpbmcgOiBwYWRkaW5nLnRvcCB8fCAwOwogICAgICAgIGJvdW5kYXJpZXMucmlnaHQgLT0gaXNQYWRkaW5nTnVtYmVyID8gcGFkZGluZyA6IHBhZGRpbmcucmlnaHQgfHwgMDsKICAgICAgICBib3VuZGFyaWVzLmJvdHRvbSAtPSBpc1BhZGRpbmdOdW1iZXIgPyBwYWRkaW5nIDogcGFkZGluZy5ib3R0b20gfHwgMDsKICAgICAgICByZXR1cm4gYm91bmRhcmllczsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZ2V0QXJlYShfcmVmKSB7CiAgICAgICAgdmFyIHdpZHRoID0gX3JlZi53aWR0aCwKICAgICAgICAgICAgaGVpZ2h0ID0gX3JlZi5oZWlnaHQ7CiAgICAgICAgcmV0dXJuIHdpZHRoICogaGVpZ2h0OwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBVdGlsaXR5IHVzZWQgdG8gdHJhbnNmb3JtIHRoZSBgYXV0b2AgcGxhY2VtZW50IHRvIHRoZSBwbGFjZW1lbnQgd2l0aCBtb3JlCiAgICAgICAqIGF2YWlsYWJsZSBzcGFjZS4KICAgICAgICogQG1ldGhvZAogICAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzCiAgICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kCiAgICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnMKICAgICAgICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZAogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBjb21wdXRlQXV0b1BsYWNlbWVudChwbGFjZW1lbnQsIHJlZlJlY3QsIHBvcHBlciwgcmVmZXJlbmNlLCBib3VuZGFyaWVzRWxlbWVudCkgewogICAgICAgIHZhciBwYWRkaW5nID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiAwOwoKICAgICAgICBpZiAocGxhY2VtZW50LmluZGV4T2YoJ2F1dG8nKSA9PT0gLTEpIHsKICAgICAgICAgIHJldHVybiBwbGFjZW1lbnQ7CiAgICAgICAgfQoKICAgICAgICB2YXIgYm91bmRhcmllcyA9IGdldEJvdW5kYXJpZXMocG9wcGVyLCByZWZlcmVuY2UsIHBhZGRpbmcsIGJvdW5kYXJpZXNFbGVtZW50KTsKICAgICAgICB2YXIgcmVjdHMgPSB7CiAgICAgICAgICB0b3A6IHsKICAgICAgICAgICAgd2lkdGg6IGJvdW5kYXJpZXMud2lkdGgsCiAgICAgICAgICAgIGhlaWdodDogcmVmUmVjdC50b3AgLSBib3VuZGFyaWVzLnRvcAogICAgICAgICAgfSwKICAgICAgICAgIHJpZ2h0OiB7CiAgICAgICAgICAgIHdpZHRoOiBib3VuZGFyaWVzLnJpZ2h0IC0gcmVmUmVjdC5yaWdodCwKICAgICAgICAgICAgaGVpZ2h0OiBib3VuZGFyaWVzLmhlaWdodAogICAgICAgICAgfSwKICAgICAgICAgIGJvdHRvbTogewogICAgICAgICAgICB3aWR0aDogYm91bmRhcmllcy53aWR0aCwKICAgICAgICAgICAgaGVpZ2h0OiBib3VuZGFyaWVzLmJvdHRvbSAtIHJlZlJlY3QuYm90dG9tCiAgICAgICAgICB9LAogICAgICAgICAgbGVmdDogewogICAgICAgICAgICB3aWR0aDogcmVmUmVjdC5sZWZ0IC0gYm91bmRhcmllcy5sZWZ0LAogICAgICAgICAgICBoZWlnaHQ6IGJvdW5kYXJpZXMuaGVpZ2h0CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICB2YXIgc29ydGVkQXJlYXMgPSBPYmplY3Qua2V5cyhyZWN0cykubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgIHJldHVybiBfZXh0ZW5kcyh7CiAgICAgICAgICAgIGtleToga2V5CiAgICAgICAgICB9LCByZWN0c1trZXldLCB7CiAgICAgICAgICAgIGFyZWE6IGdldEFyZWEocmVjdHNba2V5XSkKICAgICAgICAgIH0pOwogICAgICAgIH0pLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgIHJldHVybiBiLmFyZWEgLSBhLmFyZWE7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGZpbHRlcmVkQXJlYXMgPSBzb3J0ZWRBcmVhcy5maWx0ZXIoZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgICB2YXIgd2lkdGggPSBfcmVmMi53aWR0aCwKICAgICAgICAgICAgICBoZWlnaHQgPSBfcmVmMi5oZWlnaHQ7CiAgICAgICAgICByZXR1cm4gd2lkdGggPj0gcG9wcGVyLmNsaWVudFdpZHRoICYmIGhlaWdodCA+PSBwb3BwZXIuY2xpZW50SGVpZ2h0OwogICAgICAgIH0pOwogICAgICAgIHZhciBjb21wdXRlZFBsYWNlbWVudCA9IGZpbHRlcmVkQXJlYXMubGVuZ3RoID4gMCA/IGZpbHRlcmVkQXJlYXNbMF0ua2V5IDogc29ydGVkQXJlYXNbMF0ua2V5OwogICAgICAgIHZhciB2YXJpYXRpb24gPSBwbGFjZW1lbnQuc3BsaXQoJy0nKVsxXTsKICAgICAgICByZXR1cm4gY29tcHV0ZWRQbGFjZW1lbnQgKyAodmFyaWF0aW9uID8gJy0nICsgdmFyaWF0aW9uIDogJycpOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBHZXQgb2Zmc2V0cyB0byB0aGUgcmVmZXJlbmNlIGVsZW1lbnQKICAgICAgICogQG1ldGhvZAogICAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZQogICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHBvcHBlciAtIHRoZSBwb3BwZXIgZWxlbWVudAogICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHJlZmVyZW5jZSAtIHRoZSByZWZlcmVuY2UgZWxlbWVudCAodGhlIHBvcHBlciB3aWxsIGJlIHJlbGF0aXZlIHRvIHRoaXMpCiAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZml4ZWRQb3NpdGlvbiAtIGlzIGluIGZpeGVkIHBvc2l0aW9uIG1vZGUKICAgICAgICogQHJldHVybnMge09iamVjdH0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG9mZnNldHMgd2hpY2ggd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXIKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gZ2V0UmVmZXJlbmNlT2Zmc2V0cyhzdGF0ZSwgcG9wcGVyLCByZWZlcmVuY2UpIHsKICAgICAgICB2YXIgZml4ZWRQb3NpdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogbnVsbDsKICAgICAgICB2YXIgY29tbW9uT2Zmc2V0UGFyZW50ID0gZml4ZWRQb3NpdGlvbiA/IGdldEZpeGVkUG9zaXRpb25PZmZzZXRQYXJlbnQocG9wcGVyKSA6IGZpbmRDb21tb25PZmZzZXRQYXJlbnQocG9wcGVyLCBnZXRSZWZlcmVuY2VOb2RlKHJlZmVyZW5jZSkpOwogICAgICAgIHJldHVybiBnZXRPZmZzZXRSZWN0UmVsYXRpdmVUb0FyYml0cmFyeU5vZGUocmVmZXJlbmNlLCBjb21tb25PZmZzZXRQYXJlbnQsIGZpeGVkUG9zaXRpb24pOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBHZXQgdGhlIG91dGVyIHNpemVzIG9mIHRoZSBnaXZlbiBlbGVtZW50IChvZmZzZXQgc2l6ZSArIG1hcmdpbnMpCiAgICAgICAqIEBtZXRob2QKICAgICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlscwogICAgICAgKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnQKICAgICAgICogQHJldHVybnMge09iamVjdH0gb2JqZWN0IGNvbnRhaW5pbmcgd2lkdGggYW5kIGhlaWdodCBwcm9wZXJ0aWVzCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGdldE91dGVyU2l6ZXMoZWxlbWVudCkgewogICAgICAgIHZhciB3aW5kb3cgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7CiAgICAgICAgdmFyIHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpOwogICAgICAgIHZhciB4ID0gcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luVG9wIHx8IDApICsgcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luQm90dG9tIHx8IDApOwogICAgICAgIHZhciB5ID0gcGFyc2VGbG9hdChzdHlsZXMubWFyZ2luTGVmdCB8fCAwKSArIHBhcnNlRmxvYXQoc3R5bGVzLm1hcmdpblJpZ2h0IHx8IDApOwogICAgICAgIHZhciByZXN1bHQgPSB7CiAgICAgICAgICB3aWR0aDogZWxlbWVudC5vZmZzZXRXaWR0aCArIHksCiAgICAgICAgICBoZWlnaHQ6IGVsZW1lbnQub2Zmc2V0SGVpZ2h0ICsgeAogICAgICAgIH07CiAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgfQogICAgICAvKioKICAgICAgICogR2V0IHRoZSBvcHBvc2l0ZSBwbGFjZW1lbnQgb2YgdGhlIGdpdmVuIG9uZQogICAgICAgKiBAbWV0aG9kCiAgICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHMKICAgICAgICogQGFyZ3VtZW50IHtTdHJpbmd9IHBsYWNlbWVudAogICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBmbGlwcGVkIHBsYWNlbWVudAogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpIHsKICAgICAgICB2YXIgaGFzaCA9IHsKICAgICAgICAgIGxlZnQ6ICdyaWdodCcsCiAgICAgICAgICByaWdodDogJ2xlZnQnLAogICAgICAgICAgYm90dG9tOiAndG9wJywKICAgICAgICAgIHRvcDogJ2JvdHRvbScKICAgICAgICB9OwogICAgICAgIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvbGVmdHxyaWdodHxib3R0b218dG9wL2csIGZ1bmN0aW9uIChtYXRjaGVkKSB7CiAgICAgICAgICByZXR1cm4gaGFzaFttYXRjaGVkXTsKICAgICAgICB9KTsKICAgICAgfQogICAgICAvKioKICAgICAgICogR2V0IG9mZnNldHMgdG8gdGhlIHBvcHBlcgogICAgICAgKiBAbWV0aG9kCiAgICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHMKICAgICAgICogQHBhcmFtIHtPYmplY3R9IHBvc2l0aW9uIC0gQ1NTIHBvc2l0aW9uIHRoZSBQb3BwZXIgd2lsbCBnZXQgYXBwbGllZAogICAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBwb3BwZXIgLSB0aGUgcG9wcGVyIGVsZW1lbnQKICAgICAgICogQHBhcmFtIHtPYmplY3R9IHJlZmVyZW5jZU9mZnNldHMgLSB0aGUgcmVmZXJlbmNlIG9mZnNldHMgKHRoZSBwb3BwZXIgd2lsbCBiZSByZWxhdGl2ZSB0byB0aGlzKQogICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGxhY2VtZW50IC0gb25lIG9mIHRoZSB2YWxpZCBwbGFjZW1lbnQgb3B0aW9ucwogICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBwb3BwZXJPZmZzZXRzIC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIG9mZnNldHMgd2hpY2ggd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXIKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gZ2V0UG9wcGVyT2Zmc2V0cyhwb3BwZXIsIHJlZmVyZW5jZU9mZnNldHMsIHBsYWNlbWVudCkgewogICAgICAgIHBsYWNlbWVudCA9IHBsYWNlbWVudC5zcGxpdCgnLScpWzBdOyAvLyBHZXQgcG9wcGVyIG5vZGUgc2l6ZXMKCiAgICAgICAgdmFyIHBvcHBlclJlY3QgPSBnZXRPdXRlclNpemVzKHBvcHBlcik7IC8vIEFkZCBwb3NpdGlvbiwgd2lkdGggYW5kIGhlaWdodCB0byBvdXIgb2Zmc2V0cyBvYmplY3QKCiAgICAgICAgdmFyIHBvcHBlck9mZnNldHMgPSB7CiAgICAgICAgICB3aWR0aDogcG9wcGVyUmVjdC53aWR0aCwKICAgICAgICAgIGhlaWdodDogcG9wcGVyUmVjdC5oZWlnaHQKICAgICAgICB9OyAvLyBkZXBlbmRpbmcgYnkgdGhlIHBvcHBlciBwbGFjZW1lbnQgd2UgaGF2ZSB0byBjb21wdXRlIGl0cyBvZmZzZXRzIHNsaWdodGx5IGRpZmZlcmVudGx5CgogICAgICAgIHZhciBpc0hvcml6ID0gWydyaWdodCcsICdsZWZ0J10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTsKICAgICAgICB2YXIgbWFpblNpZGUgPSBpc0hvcml6ID8gJ3RvcCcgOiAnbGVmdCc7CiAgICAgICAgdmFyIHNlY29uZGFyeVNpZGUgPSBpc0hvcml6ID8gJ2xlZnQnIDogJ3RvcCc7CiAgICAgICAgdmFyIG1lYXN1cmVtZW50ID0gaXNIb3JpeiA/ICdoZWlnaHQnIDogJ3dpZHRoJzsKICAgICAgICB2YXIgc2Vjb25kYXJ5TWVhc3VyZW1lbnQgPSAhaXNIb3JpeiA/ICdoZWlnaHQnIDogJ3dpZHRoJzsKICAgICAgICBwb3BwZXJPZmZzZXRzW21haW5TaWRlXSA9IHJlZmVyZW5jZU9mZnNldHNbbWFpblNpZGVdICsgcmVmZXJlbmNlT2Zmc2V0c1ttZWFzdXJlbWVudF0gLyAyIC0gcG9wcGVyUmVjdFttZWFzdXJlbWVudF0gLyAyOwoKICAgICAgICBpZiAocGxhY2VtZW50ID09PSBzZWNvbmRhcnlTaWRlKSB7CiAgICAgICAgICBwb3BwZXJPZmZzZXRzW3NlY29uZGFyeVNpZGVdID0gcmVmZXJlbmNlT2Zmc2V0c1tzZWNvbmRhcnlTaWRlXSAtIHBvcHBlclJlY3Rbc2Vjb25kYXJ5TWVhc3VyZW1lbnRdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwb3BwZXJPZmZzZXRzW3NlY29uZGFyeVNpZGVdID0gcmVmZXJlbmNlT2Zmc2V0c1tnZXRPcHBvc2l0ZVBsYWNlbWVudChzZWNvbmRhcnlTaWRlKV07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcG9wcGVyT2Zmc2V0czsKICAgICAgfQogICAgICAvKioKICAgICAgICogTWltaWNzIHRoZSBgZmluZGAgbWV0aG9kIG9mIEFycmF5CiAgICAgICAqIEBtZXRob2QKICAgICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlscwogICAgICAgKiBAYXJndW1lbnQge0FycmF5fSBhcnIKICAgICAgICogQGFyZ3VtZW50IHByb3AKICAgICAgICogQGFyZ3VtZW50IHZhbHVlCiAgICAgICAqIEByZXR1cm5zIGluZGV4IG9yIC0xCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGZpbmQoYXJyLCBjaGVjaykgewogICAgICAgIC8vIHVzZSBuYXRpdmUgZmluZCBpZiBzdXBwb3J0ZWQKICAgICAgICBpZiAoQXJyYXkucHJvdG90eXBlLmZpbmQpIHsKICAgICAgICAgIHJldHVybiBhcnIuZmluZChjaGVjayk7CiAgICAgICAgfSAvLyB1c2UgYGZpbHRlcmAgdG8gb2J0YWluIHRoZSBzYW1lIGJlaGF2aW9yIG9mIGBmaW5kYAoKCiAgICAgICAgcmV0dXJuIGFyci5maWx0ZXIoY2hlY2spWzBdOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBSZXR1cm4gdGhlIGluZGV4IG9mIHRoZSBtYXRjaGluZyBvYmplY3QKICAgICAgICogQG1ldGhvZAogICAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzCiAgICAgICAqIEBhcmd1bWVudCB7QXJyYXl9IGFycgogICAgICAgKiBAYXJndW1lbnQgcHJvcAogICAgICAgKiBAYXJndW1lbnQgdmFsdWUKICAgICAgICogQHJldHVybnMgaW5kZXggb3IgLTEKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gZmluZEluZGV4KGFyciwgcHJvcCwgdmFsdWUpIHsKICAgICAgICAvLyB1c2UgbmF0aXZlIGZpbmRJbmRleCBpZiBzdXBwb3J0ZWQKICAgICAgICBpZiAoQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleCkgewogICAgICAgICAgcmV0dXJuIGFyci5maW5kSW5kZXgoZnVuY3Rpb24gKGN1cikgewogICAgICAgICAgICByZXR1cm4gY3VyW3Byb3BdID09PSB2YWx1ZTsKICAgICAgICAgIH0pOwogICAgICAgIH0gLy8gdXNlIGBmaW5kYCArIGBpbmRleE9mYCBpZiBgZmluZEluZGV4YCBpc24ndCBzdXBwb3J0ZWQKCgogICAgICAgIHZhciBtYXRjaCA9IGZpbmQoYXJyLCBmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgICByZXR1cm4gb2JqW3Byb3BdID09PSB2YWx1ZTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gYXJyLmluZGV4T2YobWF0Y2gpOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBMb29wIHRyb3VnaCB0aGUgbGlzdCBvZiBtb2RpZmllcnMgYW5kIHJ1biB0aGVtIGluIG9yZGVyLAogICAgICAgKiBlYWNoIG9mIHRoZW0gd2lsbCB0aGVuIGVkaXQgdGhlIGRhdGEgb2JqZWN0LgogICAgICAgKiBAbWV0aG9kCiAgICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHMKICAgICAgICogQHBhcmFtIHtkYXRhT2JqZWN0fSBkYXRhCiAgICAgICAqIEBwYXJhbSB7QXJyYXl9IG1vZGlmaWVycwogICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZW5kcyAtIE9wdGlvbmFsIG1vZGlmaWVyIG5hbWUgdXNlZCBhcyBzdG9wcGVyCiAgICAgICAqIEByZXR1cm5zIHtkYXRhT2JqZWN0fQogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBydW5Nb2RpZmllcnMobW9kaWZpZXJzLCBkYXRhLCBlbmRzKSB7CiAgICAgICAgdmFyIG1vZGlmaWVyc1RvUnVuID0gZW5kcyA9PT0gdW5kZWZpbmVkID8gbW9kaWZpZXJzIDogbW9kaWZpZXJzLnNsaWNlKDAsIGZpbmRJbmRleChtb2RpZmllcnMsICduYW1lJywgZW5kcykpOwogICAgICAgIG1vZGlmaWVyc1RvUnVuLmZvckVhY2goZnVuY3Rpb24gKG1vZGlmaWVyKSB7CiAgICAgICAgICBpZiAobW9kaWZpZXJbJ2Z1bmN0aW9uJ10pIHsKICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBkb3Qtbm90YXRpb24KICAgICAgICAgICAgY29uc29sZS53YXJuKCdgbW9kaWZpZXIuZnVuY3Rpb25gIGlzIGRlcHJlY2F0ZWQsIHVzZSBgbW9kaWZpZXIuZm5gIScpOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBmbiA9IG1vZGlmaWVyWydmdW5jdGlvbiddIHx8IG1vZGlmaWVyLmZuOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGRvdC1ub3RhdGlvbgoKICAgICAgICAgIGlmIChtb2RpZmllci5lbmFibGVkICYmIGlzRnVuY3Rpb24oZm4pKSB7CiAgICAgICAgICAgIC8vIEFkZCBwcm9wZXJ0aWVzIHRvIG9mZnNldHMgdG8gbWFrZSB0aGVtIGEgY29tcGxldGUgY2xpZW50UmVjdCBvYmplY3QKICAgICAgICAgICAgLy8gd2UgZG8gdGhpcyBiZWZvcmUgZWFjaCBtb2RpZmllciB0byBtYWtlIHN1cmUgdGhlIHByZXZpb3VzIG9uZSBkb2Vzbid0CiAgICAgICAgICAgIC8vIG1lc3Mgd2l0aCB0aGVzZSB2YWx1ZXMKICAgICAgICAgICAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IGdldENsaWVudFJlY3QoZGF0YS5vZmZzZXRzLnBvcHBlcik7CiAgICAgICAgICAgIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UgPSBnZXRDbGllbnRSZWN0KGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UpOwogICAgICAgICAgICBkYXRhID0gZm4oZGF0YSwgbW9kaWZpZXIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiBkYXRhOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBVcGRhdGVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgcG9wcGVyLCBjb21wdXRpbmcgdGhlIG5ldyBvZmZzZXRzIGFuZCBhcHBseWluZwogICAgICAgKiB0aGUgbmV3IHN0eWxlLjxiciAvPgogICAgICAgKiBQcmVmZXIgYHNjaGVkdWxlVXBkYXRlYCBvdmVyIGB1cGRhdGVgIGJlY2F1c2Ugb2YgcGVyZm9ybWFuY2UgcmVhc29ucy4KICAgICAgICogQG1ldGhvZAogICAgICAgKiBAbWVtYmVyb2YgUG9wcGVyCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHsKICAgICAgICAvLyBpZiBwb3BwZXIgaXMgZGVzdHJveWVkLCBkb24ndCBwZXJmb3JtIGFueSBmdXJ0aGVyIHVwZGF0ZQogICAgICAgIGlmICh0aGlzLnN0YXRlLmlzRGVzdHJveWVkKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIGluc3RhbmNlOiB0aGlzLAogICAgICAgICAgc3R5bGVzOiB7fSwKICAgICAgICAgIGFycm93U3R5bGVzOiB7fSwKICAgICAgICAgIGF0dHJpYnV0ZXM6IHt9LAogICAgICAgICAgZmxpcHBlZDogZmFsc2UsCiAgICAgICAgICBvZmZzZXRzOiB7fQogICAgICAgIH07IC8vIGNvbXB1dGUgcmVmZXJlbmNlIGVsZW1lbnQgb2Zmc2V0cwoKICAgICAgICBkYXRhLm9mZnNldHMucmVmZXJlbmNlID0gZ2V0UmVmZXJlbmNlT2Zmc2V0cyh0aGlzLnN0YXRlLCB0aGlzLnBvcHBlciwgdGhpcy5yZWZlcmVuY2UsIHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkKTsgLy8gY29tcHV0ZSBhdXRvIHBsYWNlbWVudCwgc3RvcmUgcGxhY2VtZW50IGluc2lkZSB0aGUgZGF0YSBvYmplY3QsCiAgICAgICAgLy8gbW9kaWZpZXJzIHdpbGwgYmUgYWJsZSB0byBlZGl0IGBwbGFjZW1lbnRgIGlmIG5lZWRlZAogICAgICAgIC8vIGFuZCByZWZlciB0byBvcmlnaW5hbFBsYWNlbWVudCB0byBrbm93IHRoZSBvcmlnaW5hbCB2YWx1ZQoKICAgICAgICBkYXRhLnBsYWNlbWVudCA9IGNvbXB1dGVBdXRvUGxhY2VtZW50KHRoaXMub3B0aW9ucy5wbGFjZW1lbnQsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIHRoaXMucG9wcGVyLCB0aGlzLnJlZmVyZW5jZSwgdGhpcy5vcHRpb25zLm1vZGlmaWVycy5mbGlwLmJvdW5kYXJpZXNFbGVtZW50LCB0aGlzLm9wdGlvbnMubW9kaWZpZXJzLmZsaXAucGFkZGluZyk7IC8vIHN0b3JlIHRoZSBjb21wdXRlZCBwbGFjZW1lbnQgaW5zaWRlIGBvcmlnaW5hbFBsYWNlbWVudGAKCiAgICAgICAgZGF0YS5vcmlnaW5hbFBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50OwogICAgICAgIGRhdGEucG9zaXRpb25GaXhlZCA9IHRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkOyAvLyBjb21wdXRlIHRoZSBwb3BwZXIgb2Zmc2V0cwoKICAgICAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gZ2V0UG9wcGVyT2Zmc2V0cyh0aGlzLnBvcHBlciwgZGF0YS5vZmZzZXRzLnJlZmVyZW5jZSwgZGF0YS5wbGFjZW1lbnQpOwogICAgICAgIGRhdGEub2Zmc2V0cy5wb3BwZXIucG9zaXRpb24gPSB0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCA/ICdmaXhlZCcgOiAnYWJzb2x1dGUnOyAvLyBydW4gdGhlIG1vZGlmaWVycwoKICAgICAgICBkYXRhID0gcnVuTW9kaWZpZXJzKHRoaXMubW9kaWZpZXJzLCBkYXRhKTsgLy8gdGhlIGZpcnN0IGB1cGRhdGVgIHdpbGwgY2FsbCBgb25DcmVhdGVgIGNhbGxiYWNrCiAgICAgICAgLy8gdGhlIG90aGVyIG9uZXMgd2lsbCBjYWxsIGBvblVwZGF0ZWAgY2FsbGJhY2sKCiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmlzQ3JlYXRlZCkgewogICAgICAgICAgdGhpcy5zdGF0ZS5pc0NyZWF0ZWQgPSB0cnVlOwogICAgICAgICAgdGhpcy5vcHRpb25zLm9uQ3JlYXRlKGRhdGEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLm9wdGlvbnMub25VcGRhdGUoZGF0YSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBIZWxwZXIgdXNlZCB0byBrbm93IGlmIHRoZSBnaXZlbiBtb2RpZmllciBpcyBlbmFibGVkLgogICAgICAgKiBAbWV0aG9kCiAgICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHMKICAgICAgICogQHJldHVybnMge0Jvb2xlYW59CiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGlzTW9kaWZpZXJFbmFibGVkKG1vZGlmaWVycywgbW9kaWZpZXJOYW1lKSB7CiAgICAgICAgcmV0dXJuIG1vZGlmaWVycy5zb21lKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgICB2YXIgbmFtZSA9IF9yZWYubmFtZSwKICAgICAgICAgICAgICBlbmFibGVkID0gX3JlZi5lbmFibGVkOwogICAgICAgICAgcmV0dXJuIGVuYWJsZWQgJiYgbmFtZSA9PT0gbW9kaWZpZXJOYW1lOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBHZXQgdGhlIHByZWZpeGVkIHN1cHBvcnRlZCBwcm9wZXJ0eSBuYW1lCiAgICAgICAqIEBtZXRob2QKICAgICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlscwogICAgICAgKiBAYXJndW1lbnQge1N0cmluZ30gcHJvcGVydHkgKGNhbWVsQ2FzZSkKICAgICAgICogQHJldHVybnMge1N0cmluZ30gcHJlZml4ZWQgcHJvcGVydHkgKGNhbWVsQ2FzZSBvciBQYXNjYWxDYXNlLCBkZXBlbmRpbmcgb24gdGhlIHZlbmRvciBwcmVmaXgpCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGdldFN1cHBvcnRlZFByb3BlcnR5TmFtZShwcm9wZXJ0eSkgewogICAgICAgIHZhciBwcmVmaXhlcyA9IFtmYWxzZSwgJ21zJywgJ1dlYmtpdCcsICdNb3onLCAnTyddOwogICAgICAgIHZhciB1cHBlclByb3AgPSBwcm9wZXJ0eS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgcHJlZml4ID0gcHJlZml4ZXNbaV07CiAgICAgICAgICB2YXIgdG9DaGVjayA9IHByZWZpeCA/ICcnICsgcHJlZml4ICsgdXBwZXJQcm9wIDogcHJvcGVydHk7CgogICAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudC5ib2R5LnN0eWxlW3RvQ2hlY2tdICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICByZXR1cm4gdG9DaGVjazsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBEZXN0cm95cyB0aGUgcG9wcGVyLgogICAgICAgKiBAbWV0aG9kCiAgICAgICAqIEBtZW1iZXJvZiBQb3BwZXIKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgICB0aGlzLnN0YXRlLmlzRGVzdHJveWVkID0gdHJ1ZTsgLy8gdG91Y2ggRE9NIG9ubHkgaWYgYGFwcGx5U3R5bGVgIG1vZGlmaWVyIGlzIGVuYWJsZWQKCiAgICAgICAgaWYgKGlzTW9kaWZpZXJFbmFibGVkKHRoaXMubW9kaWZpZXJzLCAnYXBwbHlTdHlsZScpKSB7CiAgICAgICAgICB0aGlzLnBvcHBlci5yZW1vdmVBdHRyaWJ1dGUoJ3gtcGxhY2VtZW50Jyk7CiAgICAgICAgICB0aGlzLnBvcHBlci5zdHlsZS5wb3NpdGlvbiA9ICcnOwogICAgICAgICAgdGhpcy5wb3BwZXIuc3R5bGUudG9wID0gJyc7CiAgICAgICAgICB0aGlzLnBvcHBlci5zdHlsZS5sZWZ0ID0gJyc7CiAgICAgICAgICB0aGlzLnBvcHBlci5zdHlsZS5yaWdodCA9ICcnOwogICAgICAgICAgdGhpcy5wb3BwZXIuc3R5bGUuYm90dG9tID0gJyc7CiAgICAgICAgICB0aGlzLnBvcHBlci5zdHlsZS53aWxsQ2hhbmdlID0gJyc7CiAgICAgICAgICB0aGlzLnBvcHBlci5zdHlsZVtnZXRTdXBwb3J0ZWRQcm9wZXJ0eU5hbWUoJ3RyYW5zZm9ybScpXSA9ICcnOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5kaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKTsgLy8gcmVtb3ZlIHRoZSBwb3BwZXIgaWYgdXNlciBleHBsaWNpdGx5IGFza2VkIGZvciB0aGUgZGVsZXRpb24gb24gZGVzdHJveQogICAgICAgIC8vIGRvIG5vdCB1c2UgYHJlbW92ZWAgYmVjYXVzZSBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBpdAoKICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJlbW92ZU9uRGVzdHJveSkgewogICAgICAgICAgdGhpcy5wb3BwZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnBvcHBlcik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdGhpczsKICAgICAgfQogICAgICAvKioKICAgICAgICogR2V0IHRoZSB3aW5kb3cgYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50CiAgICAgICAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudAogICAgICAgKiBAcmV0dXJucyB7V2luZG93fQogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBnZXRXaW5kb3coZWxlbWVudCkgewogICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50OwogICAgICAgIHJldHVybiBvd25lckRvY3VtZW50ID8gb3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyA6IHdpbmRvdzsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYXR0YWNoVG9TY3JvbGxQYXJlbnRzKHNjcm9sbFBhcmVudCwgZXZlbnQsIGNhbGxiYWNrLCBzY3JvbGxQYXJlbnRzKSB7CiAgICAgICAgdmFyIGlzQm9keSA9IHNjcm9sbFBhcmVudC5ub2RlTmFtZSA9PT0gJ0JPRFknOwogICAgICAgIHZhciB0YXJnZXQgPSBpc0JvZHkgPyBzY3JvbGxQYXJlbnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyA6IHNjcm9sbFBhcmVudDsKICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2FsbGJhY2ssIHsKICAgICAgICAgIHBhc3NpdmU6IHRydWUKICAgICAgICB9KTsKCiAgICAgICAgaWYgKCFpc0JvZHkpIHsKICAgICAgICAgIGF0dGFjaFRvU2Nyb2xsUGFyZW50cyhnZXRTY3JvbGxQYXJlbnQodGFyZ2V0LnBhcmVudE5vZGUpLCBldmVudCwgY2FsbGJhY2ssIHNjcm9sbFBhcmVudHMpOwogICAgICAgIH0KCiAgICAgICAgc2Nyb2xsUGFyZW50cy5wdXNoKHRhcmdldCk7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIFNldHVwIG5lZWRlZCBldmVudCBsaXN0ZW5lcnMgdXNlZCB0byB1cGRhdGUgdGhlIHBvcHBlciBwb3NpdGlvbgogICAgICAgKiBAbWV0aG9kCiAgICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHMKICAgICAgICogQHByaXZhdGUKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gc2V0dXBFdmVudExpc3RlbmVycyhyZWZlcmVuY2UsIG9wdGlvbnMsIHN0YXRlLCB1cGRhdGVCb3VuZCkgewogICAgICAgIC8vIFJlc2l6ZSBldmVudCBsaXN0ZW5lciBvbiB3aW5kb3cKICAgICAgICBzdGF0ZS51cGRhdGVCb3VuZCA9IHVwZGF0ZUJvdW5kOwogICAgICAgIGdldFdpbmRvdyhyZWZlcmVuY2UpLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN0YXRlLnVwZGF0ZUJvdW5kLCB7CiAgICAgICAgICBwYXNzaXZlOiB0cnVlCiAgICAgICAgfSk7IC8vIFNjcm9sbCBldmVudCBsaXN0ZW5lciBvbiBzY3JvbGwgcGFyZW50cwoKICAgICAgICB2YXIgc2Nyb2xsRWxlbWVudCA9IGdldFNjcm9sbFBhcmVudChyZWZlcmVuY2UpOwogICAgICAgIGF0dGFjaFRvU2Nyb2xsUGFyZW50cyhzY3JvbGxFbGVtZW50LCAnc2Nyb2xsJywgc3RhdGUudXBkYXRlQm91bmQsIHN0YXRlLnNjcm9sbFBhcmVudHMpOwogICAgICAgIHN0YXRlLnNjcm9sbEVsZW1lbnQgPSBzY3JvbGxFbGVtZW50OwogICAgICAgIHN0YXRlLmV2ZW50c0VuYWJsZWQgPSB0cnVlOwogICAgICAgIHJldHVybiBzdGF0ZTsKICAgICAgfQogICAgICAvKioKICAgICAgICogSXQgd2lsbCBhZGQgcmVzaXplL3Njcm9sbCBldmVudHMgYW5kIHN0YXJ0IHJlY2FsY3VsYXRpbmcKICAgICAgICogcG9zaXRpb24gb2YgdGhlIHBvcHBlciBlbGVtZW50IHdoZW4gdGhleSBhcmUgdHJpZ2dlcmVkLgogICAgICAgKiBAbWV0aG9kCiAgICAgICAqIEBtZW1iZXJvZiBQb3BwZXIKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gZW5hYmxlRXZlbnRMaXN0ZW5lcnMoKSB7CiAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWQpIHsKICAgICAgICAgIHRoaXMuc3RhdGUgPSBzZXR1cEV2ZW50TGlzdGVuZXJzKHRoaXMucmVmZXJlbmNlLCB0aGlzLm9wdGlvbnMsIHRoaXMuc3RhdGUsIHRoaXMuc2NoZWR1bGVVcGRhdGUpOwogICAgICAgIH0KICAgICAgfQogICAgICAvKioKICAgICAgICogUmVtb3ZlIGV2ZW50IGxpc3RlbmVycyB1c2VkIHRvIHVwZGF0ZSB0aGUgcG9wcGVyIHBvc2l0aW9uCiAgICAgICAqIEBtZXRob2QKICAgICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlscwogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycyhyZWZlcmVuY2UsIHN0YXRlKSB7CiAgICAgICAgLy8gUmVtb3ZlIHJlc2l6ZSBldmVudCBsaXN0ZW5lciBvbiB3aW5kb3cKICAgICAgICBnZXRXaW5kb3cocmVmZXJlbmNlKS5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzdGF0ZS51cGRhdGVCb3VuZCk7IC8vIFJlbW92ZSBzY3JvbGwgZXZlbnQgbGlzdGVuZXIgb24gc2Nyb2xsIHBhcmVudHMKCiAgICAgICAgc3RhdGUuc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uICh0YXJnZXQpIHsKICAgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzdGF0ZS51cGRhdGVCb3VuZCk7CiAgICAgICAgfSk7IC8vIFJlc2V0IHN0YXRlCgogICAgICAgIHN0YXRlLnVwZGF0ZUJvdW5kID0gbnVsbDsKICAgICAgICBzdGF0ZS5zY3JvbGxQYXJlbnRzID0gW107CiAgICAgICAgc3RhdGUuc2Nyb2xsRWxlbWVudCA9IG51bGw7CiAgICAgICAgc3RhdGUuZXZlbnRzRW5hYmxlZCA9IGZhbHNlOwogICAgICAgIHJldHVybiBzdGF0ZTsKICAgICAgfQogICAgICAvKioKICAgICAgICogSXQgd2lsbCByZW1vdmUgcmVzaXplL3Njcm9sbCBldmVudHMgYW5kIHdvbid0IHJlY2FsY3VsYXRlIHBvcHBlciBwb3NpdGlvbgogICAgICAgKiB3aGVuIHRoZXkgYXJlIHRyaWdnZXJlZC4gSXQgYWxzbyB3b24ndCB0cmlnZ2VyIGBvblVwZGF0ZWAgY2FsbGJhY2sgYW55bW9yZSwKICAgICAgICogdW5sZXNzIHlvdSBjYWxsIGB1cGRhdGVgIG1ldGhvZCBtYW51YWxseS4KICAgICAgICogQG1ldGhvZAogICAgICAgKiBAbWVtYmVyb2YgUG9wcGVyCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGRpc2FibGVFdmVudExpc3RlbmVycygpIHsKICAgICAgICBpZiAodGhpcy5zdGF0ZS5ldmVudHNFbmFibGVkKSB7CiAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnNjaGVkdWxlVXBkYXRlKTsKICAgICAgICAgIHRoaXMuc3RhdGUgPSByZW1vdmVFdmVudExpc3RlbmVycyh0aGlzLnJlZmVyZW5jZSwgdGhpcy5zdGF0ZSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBUZWxscyBpZiBhIGdpdmVuIGlucHV0IGlzIGEgbnVtYmVyCiAgICAgICAqIEBtZXRob2QKICAgICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlscwogICAgICAgKiBAcGFyYW0geyp9IGlucHV0IHRvIGNoZWNrCiAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59CiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGlzTnVtZXJpYyhuKSB7CiAgICAgICAgcmV0dXJuIG4gIT09ICcnICYmICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTsKICAgICAgfQogICAgICAvKioKICAgICAgICogU2V0IHRoZSBzdHlsZSB0byB0aGUgZ2l2ZW4gcG9wcGVyCiAgICAgICAqIEBtZXRob2QKICAgICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlscwogICAgICAgKiBAYXJndW1lbnQge0VsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGFwcGx5IHRoZSBzdHlsZSB0bwogICAgICAgKiBAYXJndW1lbnQge09iamVjdH0gc3R5bGVzCiAgICAgICAqIE9iamVjdCB3aXRoIGEgbGlzdCBvZiBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXMgd2hpY2ggd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50CiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIHNldFN0eWxlcyhlbGVtZW50LCBzdHlsZXMpIHsKICAgICAgICBPYmplY3Qua2V5cyhzdHlsZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHsKICAgICAgICAgIHZhciB1bml0ID0gJyc7IC8vIGFkZCB1bml0IGlmIHRoZSB2YWx1ZSBpcyBudW1lcmljIGFuZCBpcyBvbmUgb2YgdGhlIGZvbGxvd2luZwoKICAgICAgICAgIGlmIChbJ3dpZHRoJywgJ2hlaWdodCcsICd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXS5pbmRleE9mKHByb3ApICE9PSAtMSAmJiBpc051bWVyaWMoc3R5bGVzW3Byb3BdKSkgewogICAgICAgICAgICB1bml0ID0gJ3B4JzsKICAgICAgICAgIH0KCiAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gc3R5bGVzW3Byb3BdICsgdW5pdDsKICAgICAgICB9KTsKICAgICAgfQogICAgICAvKioKICAgICAgICogU2V0IHRoZSBhdHRyaWJ1dGVzIHRvIHRoZSBnaXZlbiBwb3BwZXIKICAgICAgICogQG1ldGhvZAogICAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzCiAgICAgICAqIEBhcmd1bWVudCB7RWxlbWVudH0gZWxlbWVudCAtIEVsZW1lbnQgdG8gYXBwbHkgdGhlIGF0dHJpYnV0ZXMgdG8KICAgICAgICogQGFyZ3VtZW50IHtPYmplY3R9IHN0eWxlcwogICAgICAgKiBPYmplY3Qgd2l0aCBhIGxpc3Qgb2YgcHJvcGVydGllcyBhbmQgdmFsdWVzIHdoaWNoIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudAogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBzZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIGF0dHJpYnV0ZXMpIHsKICAgICAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7CiAgICAgICAgICB2YXIgdmFsdWUgPSBhdHRyaWJ1dGVzW3Byb3BdOwoKICAgICAgICAgIGlmICh2YWx1ZSAhPT0gZmFsc2UpIHsKICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUocHJvcCwgYXR0cmlidXRlc1twcm9wXSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShwcm9wKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgICAvKioKICAgICAgICogQGZ1bmN0aW9uCiAgICAgICAqIEBtZW1iZXJvZiBNb2RpZmllcnMKICAgICAgICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZAogICAgICAgKiBAYXJndW1lbnQge09iamVjdH0gZGF0YS5zdHlsZXMgLSBMaXN0IG9mIHN0eWxlIHByb3BlcnRpZXMgLSB2YWx1ZXMgdG8gYXBwbHkgdG8gcG9wcGVyIGVsZW1lbnQKICAgICAgICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEuYXR0cmlidXRlcyAtIExpc3Qgb2YgYXR0cmlidXRlIHByb3BlcnRpZXMgLSB2YWx1ZXMgdG8gYXBwbHkgdG8gcG9wcGVyIGVsZW1lbnQKICAgICAgICogQGFyZ3VtZW50IHtPYmplY3R9IG9wdGlvbnMgLSBNb2RpZmllcnMgY29uZmlndXJhdGlvbiBhbmQgb3B0aW9ucwogICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgc2FtZSBkYXRhIG9iamVjdAogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBhcHBseVN0eWxlKGRhdGEpIHsKICAgICAgICAvLyBhbnkgcHJvcGVydHkgcHJlc2VudCBpbiBgZGF0YS5zdHlsZXNgIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyLAogICAgICAgIC8vIGluIHRoaXMgd2F5IHdlIGNhbiBtYWtlIHRoZSAzcmQgcGFydHkgbW9kaWZpZXJzIGFkZCBjdXN0b20gc3R5bGVzIHRvIGl0CiAgICAgICAgLy8gQmUgYXdhcmUsIG1vZGlmaWVycyBjb3VsZCBvdmVycmlkZSB0aGUgcHJvcGVydGllcyBkZWZpbmVkIGluIHRoZSBwcmV2aW91cwogICAgICAgIC8vIGxpbmVzIG9mIHRoaXMgbW9kaWZpZXIhCiAgICAgICAgc2V0U3R5bGVzKGRhdGEuaW5zdGFuY2UucG9wcGVyLCBkYXRhLnN0eWxlcyk7IC8vIGFueSBwcm9wZXJ0eSBwcmVzZW50IGluIGBkYXRhLmF0dHJpYnV0ZXNgIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyLAogICAgICAgIC8vIHRoZXkgd2lsbCBiZSBzZXQgYXMgSFRNTCBhdHRyaWJ1dGVzIG9mIHRoZSBlbGVtZW50CgogICAgICAgIHNldEF0dHJpYnV0ZXMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEuYXR0cmlidXRlcyk7IC8vIGlmIGFycm93RWxlbWVudCBpcyBkZWZpbmVkIGFuZCBhcnJvd1N0eWxlcyBoYXMgc29tZSBwcm9wZXJ0aWVzCgogICAgICAgIGlmIChkYXRhLmFycm93RWxlbWVudCAmJiBPYmplY3Qua2V5cyhkYXRhLmFycm93U3R5bGVzKS5sZW5ndGgpIHsKICAgICAgICAgIHNldFN0eWxlcyhkYXRhLmFycm93RWxlbWVudCwgZGF0YS5hcnJvd1N0eWxlcyk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgfQogICAgICAvKioKICAgICAgICogU2V0IHRoZSB4LXBsYWNlbWVudCBhdHRyaWJ1dGUgYmVmb3JlIGV2ZXJ5dGhpbmcgZWxzZSBiZWNhdXNlIGl0IGNvdWxkIGJlIHVzZWQKICAgICAgICogdG8gYWRkIG1hcmdpbnMgdG8gdGhlIHBvcHBlciBtYXJnaW5zIG5lZWRzIHRvIGJlIGNhbGN1bGF0ZWQgdG8gZ2V0IHRoZQogICAgICAgKiBjb3JyZWN0IHBvcHBlciBvZmZzZXRzLgogICAgICAgKiBAbWV0aG9kCiAgICAgICAqIEBtZW1iZXJvZiBQb3BwZXIubW9kaWZpZXJzCiAgICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHJlZmVyZW5jZSAtIFRoZSByZWZlcmVuY2UgZWxlbWVudCB1c2VkIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXIKICAgICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcG9wcGVyIC0gVGhlIEhUTUwgZWxlbWVudCB1c2VkIGFzIHBvcHBlcgogICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFBvcHBlci5qcyBvcHRpb25zCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIGFwcGx5U3R5bGVPbkxvYWQocmVmZXJlbmNlLCBwb3BwZXIsIG9wdGlvbnMsIG1vZGlmaWVyT3B0aW9ucywgc3RhdGUpIHsKICAgICAgICAvLyBjb21wdXRlIHJlZmVyZW5jZSBlbGVtZW50IG9mZnNldHMKICAgICAgICB2YXIgcmVmZXJlbmNlT2Zmc2V0cyA9IGdldFJlZmVyZW5jZU9mZnNldHMoc3RhdGUsIHBvcHBlciwgcmVmZXJlbmNlLCBvcHRpb25zLnBvc2l0aW9uRml4ZWQpOyAvLyBjb21wdXRlIGF1dG8gcGxhY2VtZW50LCBzdG9yZSBwbGFjZW1lbnQgaW5zaWRlIHRoZSBkYXRhIG9iamVjdCwKICAgICAgICAvLyBtb2RpZmllcnMgd2lsbCBiZSBhYmxlIHRvIGVkaXQgYHBsYWNlbWVudGAgaWYgbmVlZGVkCiAgICAgICAgLy8gYW5kIHJlZmVyIHRvIG9yaWdpbmFsUGxhY2VtZW50IHRvIGtub3cgdGhlIG9yaWdpbmFsIHZhbHVlCgogICAgICAgIHZhciBwbGFjZW1lbnQgPSBjb21wdXRlQXV0b1BsYWNlbWVudChvcHRpb25zLnBsYWNlbWVudCwgcmVmZXJlbmNlT2Zmc2V0cywgcG9wcGVyLCByZWZlcmVuY2UsIG9wdGlvbnMubW9kaWZpZXJzLmZsaXAuYm91bmRhcmllc0VsZW1lbnQsIG9wdGlvbnMubW9kaWZpZXJzLmZsaXAucGFkZGluZyk7CiAgICAgICAgcG9wcGVyLnNldEF0dHJpYnV0ZSgneC1wbGFjZW1lbnQnLCBwbGFjZW1lbnQpOyAvLyBBcHBseSBgcG9zaXRpb25gIHRvIHBvcHBlciBiZWZvcmUgYW55dGhpbmcgZWxzZSBiZWNhdXNlCiAgICAgICAgLy8gd2l0aG91dCB0aGUgcG9zaXRpb24gYXBwbGllZCB3ZSBjYW4ndCBndWFyYW50ZWUgY29ycmVjdCBjb21wdXRhdGlvbnMKCiAgICAgICAgc2V0U3R5bGVzKHBvcHBlciwgewogICAgICAgICAgcG9zaXRpb246IG9wdGlvbnMucG9zaXRpb25GaXhlZCA/ICdmaXhlZCcgOiAnYWJzb2x1dGUnCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIG9wdGlvbnM7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIEBmdW5jdGlvbgogICAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzCiAgICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSBgdXBkYXRlYCBtZXRob2QKICAgICAgICogQGFyZ3VtZW50IHtCb29sZWFufSBzaG91bGRSb3VuZCAtIElmIHRoZSBvZmZzZXRzIHNob3VsZCBiZSByb3VuZGVkIGF0IGFsbAogICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcG9wcGVyJ3MgcG9zaXRpb24gb2Zmc2V0cyByb3VuZGVkCiAgICAgICAqCiAgICAgICAqIFRoZSB0YWxlIG9mIHBpeGVsLXBlcmZlY3QgcG9zaXRpb25pbmcuIEl0J3Mgc3RpbGwgbm90IDEwMCUgcGVyZmVjdCwgYnV0IGFzCiAgICAgICAqIGdvb2QgYXMgaXQgY2FuIGJlIHdpdGhpbiByZWFzb24uCiAgICAgICAqIERpc2N1c3Npb24gaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL0ZlelZyYXN0YS9wb3BwZXIuanMvcHVsbC83MTUKICAgICAgICoKICAgICAgICogTG93IERQSSBzY3JlZW5zIGNhdXNlIGEgcG9wcGVyIHRvIGJlIGJsdXJyeSBpZiBub3QgdXNpbmcgZnVsbCBwaXhlbHMgKFNhZmFyaQogICAgICAgKiBhcyB3ZWxsIG9uIEhpZ2ggRFBJIHNjcmVlbnMpLgogICAgICAgKgogICAgICAgKiBGaXJlZm94IHByZWZlcnMgbm8gcm91bmRpbmcgZm9yIHBvc2l0aW9uaW5nIGFuZCBkb2VzIG5vdCBoYXZlIGJsdXJyaW5lc3Mgb24KICAgICAgICogaGlnaCBEUEkgc2NyZWVucy4KICAgICAgICoKICAgICAgICogT25seSBob3Jpem9udGFsIHBsYWNlbWVudCBhbmQgbGVmdC9yaWdodCB2YWx1ZXMgbmVlZCB0byBiZSBjb25zaWRlcmVkLgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBnZXRSb3VuZGVkT2Zmc2V0cyhkYXRhLCBzaG91bGRSb3VuZCkgewogICAgICAgIHZhciBfZGF0YSRvZmZzZXRzID0gZGF0YS5vZmZzZXRzLAogICAgICAgICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlciwKICAgICAgICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7CiAgICAgICAgdmFyIHJvdW5kID0gTWF0aC5yb3VuZCwKICAgICAgICAgICAgZmxvb3IgPSBNYXRoLmZsb29yOwoKICAgICAgICB2YXIgbm9Sb3VuZCA9IGZ1bmN0aW9uIG5vUm91bmQodikgewogICAgICAgICAgcmV0dXJuIHY7CiAgICAgICAgfTsKCiAgICAgICAgdmFyIHJlZmVyZW5jZVdpZHRoID0gcm91bmQocmVmZXJlbmNlLndpZHRoKTsKICAgICAgICB2YXIgcG9wcGVyV2lkdGggPSByb3VuZChwb3BwZXIud2lkdGgpOwogICAgICAgIHZhciBpc1ZlcnRpY2FsID0gWydsZWZ0JywgJ3JpZ2h0J10uaW5kZXhPZihkYXRhLnBsYWNlbWVudCkgIT09IC0xOwogICAgICAgIHZhciBpc1ZhcmlhdGlvbiA9IGRhdGEucGxhY2VtZW50LmluZGV4T2YoJy0nKSAhPT0gLTE7CiAgICAgICAgdmFyIHNhbWVXaWR0aFBhcml0eSA9IHJlZmVyZW5jZVdpZHRoICUgMiA9PT0gcG9wcGVyV2lkdGggJSAyOwogICAgICAgIHZhciBib3RoT2RkV2lkdGggPSByZWZlcmVuY2VXaWR0aCAlIDIgPT09IDEgJiYgcG9wcGVyV2lkdGggJSAyID09PSAxOwogICAgICAgIHZhciBob3Jpem9udGFsVG9JbnRlZ2VyID0gIXNob3VsZFJvdW5kID8gbm9Sb3VuZCA6IGlzVmVydGljYWwgfHwgaXNWYXJpYXRpb24gfHwgc2FtZVdpZHRoUGFyaXR5ID8gcm91bmQgOiBmbG9vcjsKICAgICAgICB2YXIgdmVydGljYWxUb0ludGVnZXIgPSAhc2hvdWxkUm91bmQgPyBub1JvdW5kIDogcm91bmQ7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGxlZnQ6IGhvcml6b250YWxUb0ludGVnZXIoYm90aE9kZFdpZHRoICYmICFpc1ZhcmlhdGlvbiAmJiBzaG91bGRSb3VuZCA/IHBvcHBlci5sZWZ0IC0gMSA6IHBvcHBlci5sZWZ0KSwKICAgICAgICAgIHRvcDogdmVydGljYWxUb0ludGVnZXIocG9wcGVyLnRvcCksCiAgICAgICAgICBib3R0b206IHZlcnRpY2FsVG9JbnRlZ2VyKHBvcHBlci5ib3R0b20pLAogICAgICAgICAgcmlnaHQ6IGhvcml6b250YWxUb0ludGVnZXIocG9wcGVyLnJpZ2h0KQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHZhciBpc0ZpcmVmb3ggPSBpc0Jyb3dzZXIgJiYgL0ZpcmVmb3gvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpOwogICAgICAvKioKICAgICAgICogQGZ1bmN0aW9uCiAgICAgICAqIEBtZW1iZXJvZiBNb2RpZmllcnMKICAgICAgICogQGFyZ3VtZW50IHtPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZAogICAgICAgKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zCiAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWQKICAgICAgICovCgogICAgICBmdW5jdGlvbiBjb21wdXRlU3R5bGUoZGF0YSwgb3B0aW9ucykgewogICAgICAgIHZhciB4ID0gb3B0aW9ucy54LAogICAgICAgICAgICB5ID0gb3B0aW9ucy55OwogICAgICAgIHZhciBwb3BwZXIgPSBkYXRhLm9mZnNldHMucG9wcGVyOyAvLyBSZW1vdmUgdGhpcyBsZWdhY3kgc3VwcG9ydCBpbiBQb3BwZXIuanMgdjIKCiAgICAgICAgdmFyIGxlZ2FjeUdwdUFjY2VsZXJhdGlvbk9wdGlvbiA9IGZpbmQoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsIGZ1bmN0aW9uIChtb2RpZmllcikgewogICAgICAgICAgcmV0dXJuIG1vZGlmaWVyLm5hbWUgPT09ICdhcHBseVN0eWxlJzsKICAgICAgICB9KS5ncHVBY2NlbGVyYXRpb247CgogICAgICAgIGlmIChsZWdhY3lHcHVBY2NlbGVyYXRpb25PcHRpb24gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgY29uc29sZS53YXJuKCdXQVJOSU5HOiBgZ3B1QWNjZWxlcmF0aW9uYCBvcHRpb24gbW92ZWQgdG8gYGNvbXB1dGVTdHlsZWAgbW9kaWZpZXIgYW5kIHdpbGwgbm90IGJlIHN1cHBvcnRlZCBpbiBmdXR1cmUgdmVyc2lvbnMgb2YgUG9wcGVyLmpzIScpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGdwdUFjY2VsZXJhdGlvbiA9IGxlZ2FjeUdwdUFjY2VsZXJhdGlvbk9wdGlvbiAhPT0gdW5kZWZpbmVkID8gbGVnYWN5R3B1QWNjZWxlcmF0aW9uT3B0aW9uIDogb3B0aW9ucy5ncHVBY2NlbGVyYXRpb247CiAgICAgICAgdmFyIG9mZnNldFBhcmVudCA9IGdldE9mZnNldFBhcmVudChkYXRhLmluc3RhbmNlLnBvcHBlcik7CiAgICAgICAgdmFyIG9mZnNldFBhcmVudFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50KTsgLy8gU3R5bGVzCgogICAgICAgIHZhciBzdHlsZXMgPSB7CiAgICAgICAgICBwb3NpdGlvbjogcG9wcGVyLnBvc2l0aW9uCiAgICAgICAgfTsKICAgICAgICB2YXIgb2Zmc2V0cyA9IGdldFJvdW5kZWRPZmZzZXRzKGRhdGEsIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIDwgMiB8fCAhaXNGaXJlZm94KTsKICAgICAgICB2YXIgc2lkZUEgPSB4ID09PSAnYm90dG9tJyA/ICd0b3AnIDogJ2JvdHRvbSc7CiAgICAgICAgdmFyIHNpZGVCID0geSA9PT0gJ3JpZ2h0JyA/ICdsZWZ0JyA6ICdyaWdodCc7IC8vIGlmIGdwdUFjY2VsZXJhdGlvbiBpcyBzZXQgdG8gYHRydWVgIGFuZCB0cmFuc2Zvcm0gaXMgc3VwcG9ydGVkLAogICAgICAgIC8vICB3ZSB1c2UgYHRyYW5zbGF0ZTNkYCB0byBhcHBseSB0aGUgcG9zaXRpb24gdG8gdGhlIHBvcHBlciB3ZQogICAgICAgIC8vIGF1dG9tYXRpY2FsbHkgdXNlIHRoZSBzdXBwb3J0ZWQgcHJlZml4ZWQgdmVyc2lvbiBpZiBuZWVkZWQKCiAgICAgICAgdmFyIHByZWZpeGVkUHJvcGVydHkgPSBnZXRTdXBwb3J0ZWRQcm9wZXJ0eU5hbWUoJ3RyYW5zZm9ybScpOyAvLyBub3csIGxldCdzIG1ha2UgYSBzdGVwIGJhY2sgYW5kIGxvb2sgYXQgdGhpcyBjb2RlIGNsb3NlbHkgKHd0Zj8pCiAgICAgICAgLy8gSWYgdGhlIGNvbnRlbnQgb2YgdGhlIHBvcHBlciBncm93cyBvbmNlIGl0J3MgYmVlbiBwb3NpdGlvbmVkLCBpdAogICAgICAgIC8vIG1heSBoYXBwZW4gdGhhdCB0aGUgcG9wcGVyIGdldHMgbWlzcGxhY2VkIGJlY2F1c2Ugb2YgdGhlIG5ldyBjb250ZW50CiAgICAgICAgLy8gb3ZlcmZsb3dpbmcgaXRzIHJlZmVyZW5jZSBlbGVtZW50CiAgICAgICAgLy8gVG8gYXZvaWQgdGhpcyBwcm9ibGVtLCB3ZSBwcm92aWRlIHR3byBvcHRpb25zICh4IGFuZCB5KSwgd2hpY2ggYWxsb3cKICAgICAgICAvLyB0aGUgY29uc3VtZXIgdG8gZGVmaW5lIHRoZSBvZmZzZXQgb3JpZ2luLgogICAgICAgIC8vIElmIHdlIHBvc2l0aW9uIGEgcG9wcGVyIG9uIHRvcCBvZiBhIHJlZmVyZW5jZSBlbGVtZW50LCB3ZSBjYW4gc2V0CiAgICAgICAgLy8gYHhgIHRvIGB0b3BgIHRvIG1ha2UgdGhlIHBvcHBlciBncm93IHRvd2FyZHMgaXRzIHRvcCBpbnN0ZWFkIG9mCiAgICAgICAgLy8gaXRzIGJvdHRvbS4KCiAgICAgICAgdmFyIGxlZnQgPSB2b2lkIDAsCiAgICAgICAgICAgIHRvcCA9IHZvaWQgMDsKCiAgICAgICAgaWYgKHNpZGVBID09PSAnYm90dG9tJykgewogICAgICAgICAgLy8gd2hlbiBvZmZzZXRQYXJlbnQgaXMgPGh0bWw+IHRoZSBwb3NpdGlvbmluZyBpcyByZWxhdGl2ZSB0byB0aGUgYm90dG9tIG9mIHRoZSBzY3JlZW4gKGV4Y2x1ZGluZyB0aGUgc2Nyb2xsYmFyKQogICAgICAgICAgLy8gYW5kIG5vdCB0aGUgYm90dG9tIG9mIHRoZSBodG1sIGVsZW1lbnQKICAgICAgICAgIGlmIChvZmZzZXRQYXJlbnQubm9kZU5hbWUgPT09ICdIVE1MJykgewogICAgICAgICAgICB0b3AgPSAtb2Zmc2V0UGFyZW50LmNsaWVudEhlaWdodCArIG9mZnNldHMuYm90dG9tOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdG9wID0gLW9mZnNldFBhcmVudFJlY3QuaGVpZ2h0ICsgb2Zmc2V0cy5ib3R0b207CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRvcCA9IG9mZnNldHMudG9wOwogICAgICAgIH0KCiAgICAgICAgaWYgKHNpZGVCID09PSAncmlnaHQnKSB7CiAgICAgICAgICBpZiAob2Zmc2V0UGFyZW50Lm5vZGVOYW1lID09PSAnSFRNTCcpIHsKICAgICAgICAgICAgbGVmdCA9IC1vZmZzZXRQYXJlbnQuY2xpZW50V2lkdGggKyBvZmZzZXRzLnJpZ2h0OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbGVmdCA9IC1vZmZzZXRQYXJlbnRSZWN0LndpZHRoICsgb2Zmc2V0cy5yaWdodDsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgbGVmdCA9IG9mZnNldHMubGVmdDsKICAgICAgICB9CgogICAgICAgIGlmIChncHVBY2NlbGVyYXRpb24gJiYgcHJlZml4ZWRQcm9wZXJ0eSkgewogICAgICAgICAgc3R5bGVzW3ByZWZpeGVkUHJvcGVydHldID0gJ3RyYW5zbGF0ZTNkKCcgKyBsZWZ0ICsgJ3B4LCAnICsgdG9wICsgJ3B4LCAwKSc7CiAgICAgICAgICBzdHlsZXNbc2lkZUFdID0gMDsKICAgICAgICAgIHN0eWxlc1tzaWRlQl0gPSAwOwogICAgICAgICAgc3R5bGVzLndpbGxDaGFuZ2UgPSAndHJhbnNmb3JtJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gb3Rod2VyaXNlLCB3ZSB1c2UgdGhlIHN0YW5kYXJkIGB0b3BgLCBgbGVmdGAsIGBib3R0b21gIGFuZCBgcmlnaHRgIHByb3BlcnRpZXMKICAgICAgICAgIHZhciBpbnZlcnRUb3AgPSBzaWRlQSA9PT0gJ2JvdHRvbScgPyAtMSA6IDE7CiAgICAgICAgICB2YXIgaW52ZXJ0TGVmdCA9IHNpZGVCID09PSAncmlnaHQnID8gLTEgOiAxOwogICAgICAgICAgc3R5bGVzW3NpZGVBXSA9IHRvcCAqIGludmVydFRvcDsKICAgICAgICAgIHN0eWxlc1tzaWRlQl0gPSBsZWZ0ICogaW52ZXJ0TGVmdDsKICAgICAgICAgIHN0eWxlcy53aWxsQ2hhbmdlID0gc2lkZUEgKyAnLCAnICsgc2lkZUI7CiAgICAgICAgfSAvLyBBdHRyaWJ1dGVzCgoKICAgICAgICB2YXIgYXR0cmlidXRlcyA9IHsKICAgICAgICAgICd4LXBsYWNlbWVudCc6IGRhdGEucGxhY2VtZW50CiAgICAgICAgfTsgLy8gVXBkYXRlIGBkYXRhYCBhdHRyaWJ1dGVzLCBzdHlsZXMgYW5kIGFycm93U3R5bGVzCgogICAgICAgIGRhdGEuYXR0cmlidXRlcyA9IF9leHRlbmRzKHt9LCBhdHRyaWJ1dGVzLCBkYXRhLmF0dHJpYnV0ZXMpOwogICAgICAgIGRhdGEuc3R5bGVzID0gX2V4dGVuZHMoe30sIHN0eWxlcywgZGF0YS5zdHlsZXMpOwogICAgICAgIGRhdGEuYXJyb3dTdHlsZXMgPSBfZXh0ZW5kcyh7fSwgZGF0YS5vZmZzZXRzLmFycm93LCBkYXRhLmFycm93U3R5bGVzKTsKICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgfQogICAgICAvKioKICAgICAgICogSGVscGVyIHVzZWQgdG8ga25vdyBpZiB0aGUgZ2l2ZW4gbW9kaWZpZXIgZGVwZW5kcyBmcm9tIGFub3RoZXIgb25lLjxiciAvPgogICAgICAgKiBJdCBjaGVja3MgaWYgdGhlIG5lZWRlZCBtb2RpZmllciBpcyBsaXN0ZWQgYW5kIGVuYWJsZWQuCiAgICAgICAqIEBtZXRob2QKICAgICAgICogQG1lbWJlcm9mIFBvcHBlci5VdGlscwogICAgICAgKiBAcGFyYW0ge0FycmF5fSBtb2RpZmllcnMgLSBsaXN0IG9mIG1vZGlmaWVycwogICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdGluZ05hbWUgLSBuYW1lIG9mIHJlcXVlc3RpbmcgbW9kaWZpZXIKICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RlZE5hbWUgLSBuYW1lIG9mIHJlcXVlc3RlZCBtb2RpZmllcgogICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0KICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gaXNNb2RpZmllclJlcXVpcmVkKG1vZGlmaWVycywgcmVxdWVzdGluZ05hbWUsIHJlcXVlc3RlZE5hbWUpIHsKICAgICAgICB2YXIgcmVxdWVzdGluZyA9IGZpbmQobW9kaWZpZXJzLCBmdW5jdGlvbiAoX3JlZikgewogICAgICAgICAgdmFyIG5hbWUgPSBfcmVmLm5hbWU7CiAgICAgICAgICByZXR1cm4gbmFtZSA9PT0gcmVxdWVzdGluZ05hbWU7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGlzUmVxdWlyZWQgPSAhIXJlcXVlc3RpbmcgJiYgbW9kaWZpZXJzLnNvbWUoZnVuY3Rpb24gKG1vZGlmaWVyKSB7CiAgICAgICAgICByZXR1cm4gbW9kaWZpZXIubmFtZSA9PT0gcmVxdWVzdGVkTmFtZSAmJiBtb2RpZmllci5lbmFibGVkICYmIG1vZGlmaWVyLm9yZGVyIDwgcmVxdWVzdGluZy5vcmRlcjsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKCFpc1JlcXVpcmVkKSB7CiAgICAgICAgICB2YXIgX3JlcXVlc3RpbmcgPSAnYCcgKyByZXF1ZXN0aW5nTmFtZSArICdgJzsKCiAgICAgICAgICB2YXIgcmVxdWVzdGVkID0gJ2AnICsgcmVxdWVzdGVkTmFtZSArICdgJzsKICAgICAgICAgIGNvbnNvbGUud2FybihyZXF1ZXN0ZWQgKyAnIG1vZGlmaWVyIGlzIHJlcXVpcmVkIGJ5ICcgKyBfcmVxdWVzdGluZyArICcgbW9kaWZpZXIgaW4gb3JkZXIgdG8gd29yaywgYmUgc3VyZSB0byBpbmNsdWRlIGl0IGJlZm9yZSAnICsgX3JlcXVlc3RpbmcgKyAnIScpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGlzUmVxdWlyZWQ7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIEBmdW5jdGlvbgogICAgICAgKiBAbWVtYmVyb2YgTW9kaWZpZXJzCiAgICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kCiAgICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnMKICAgICAgICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZAogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBhcnJvdyhkYXRhLCBvcHRpb25zKSB7CiAgICAgICAgdmFyIF9kYXRhJG9mZnNldHMkYXJyb3c7IC8vIGFycm93IGRlcGVuZHMgb24ga2VlcFRvZ2V0aGVyIGluIG9yZGVyIHRvIHdvcmsKCgogICAgICAgIGlmICghaXNNb2RpZmllclJlcXVpcmVkKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCAnYXJyb3cnLCAna2VlcFRvZ2V0aGVyJykpIHsKICAgICAgICAgIHJldHVybiBkYXRhOwogICAgICAgIH0KCiAgICAgICAgdmFyIGFycm93RWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudDsgLy8gaWYgYXJyb3dFbGVtZW50IGlzIGEgc3RyaW5nLCBzdXBwb3NlIGl0J3MgYSBDU1Mgc2VsZWN0b3IKCiAgICAgICAgaWYgKHR5cGVvZiBhcnJvd0VsZW1lbnQgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICBhcnJvd0VsZW1lbnQgPSBkYXRhLmluc3RhbmNlLnBvcHBlci5xdWVyeVNlbGVjdG9yKGFycm93RWxlbWVudCk7IC8vIGlmIGFycm93RWxlbWVudCBpcyBub3QgZm91bmQsIGRvbid0IHJ1biB0aGUgbW9kaWZpZXIKCiAgICAgICAgICBpZiAoIWFycm93RWxlbWVudCkgewogICAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gaWYgdGhlIGFycm93RWxlbWVudCBpc24ndCBhIHF1ZXJ5IHNlbGVjdG9yIHdlIG11c3QgY2hlY2sgdGhhdCB0aGUKICAgICAgICAgIC8vIHByb3ZpZGVkIERPTSBub2RlIGlzIGNoaWxkIG9mIGl0cyBwb3BwZXIgbm9kZQogICAgICAgICAgaWYgKCFkYXRhLmluc3RhbmNlLnBvcHBlci5jb250YWlucyhhcnJvd0VsZW1lbnQpKSB7CiAgICAgICAgICAgIGNvbnNvbGUud2FybignV0FSTklORzogYGFycm93LmVsZW1lbnRgIG11c3QgYmUgY2hpbGQgb2YgaXRzIHBvcHBlciBlbGVtZW50IScpOwogICAgICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudC5zcGxpdCgnLScpWzBdOwogICAgICAgIHZhciBfZGF0YSRvZmZzZXRzID0gZGF0YS5vZmZzZXRzLAogICAgICAgICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlciwKICAgICAgICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7CiAgICAgICAgdmFyIGlzVmVydGljYWwgPSBbJ2xlZnQnLCAncmlnaHQnXS5pbmRleE9mKHBsYWNlbWVudCkgIT09IC0xOwogICAgICAgIHZhciBsZW4gPSBpc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnOwogICAgICAgIHZhciBzaWRlQ2FwaXRhbGl6ZWQgPSBpc1ZlcnRpY2FsID8gJ1RvcCcgOiAnTGVmdCc7CiAgICAgICAgdmFyIHNpZGUgPSBzaWRlQ2FwaXRhbGl6ZWQudG9Mb3dlckNhc2UoKTsKICAgICAgICB2YXIgYWx0U2lkZSA9IGlzVmVydGljYWwgPyAnbGVmdCcgOiAndG9wJzsKICAgICAgICB2YXIgb3BTaWRlID0gaXNWZXJ0aWNhbCA/ICdib3R0b20nIDogJ3JpZ2h0JzsKICAgICAgICB2YXIgYXJyb3dFbGVtZW50U2l6ZSA9IGdldE91dGVyU2l6ZXMoYXJyb3dFbGVtZW50KVtsZW5dOyAvLwogICAgICAgIC8vIGV4dGVuZHMga2VlcFRvZ2V0aGVyIGJlaGF2aW9yIG1ha2luZyBzdXJlIHRoZSBwb3BwZXIgYW5kIGl0cwogICAgICAgIC8vIHJlZmVyZW5jZSBoYXZlIGVub3VnaCBwaXhlbHMgaW4gY29uanVuY3Rpb24KICAgICAgICAvLwogICAgICAgIC8vIHRvcC9sZWZ0IHNpZGUKCiAgICAgICAgaWYgKHJlZmVyZW5jZVtvcFNpZGVdIC0gYXJyb3dFbGVtZW50U2l6ZSA8IHBvcHBlcltzaWRlXSkgewogICAgICAgICAgZGF0YS5vZmZzZXRzLnBvcHBlcltzaWRlXSAtPSBwb3BwZXJbc2lkZV0gLSAocmVmZXJlbmNlW29wU2lkZV0gLSBhcnJvd0VsZW1lbnRTaXplKTsKICAgICAgICB9IC8vIGJvdHRvbS9yaWdodCBzaWRlCgoKICAgICAgICBpZiAocmVmZXJlbmNlW3NpZGVdICsgYXJyb3dFbGVtZW50U2l6ZSA+IHBvcHBlcltvcFNpZGVdKSB7CiAgICAgICAgICBkYXRhLm9mZnNldHMucG9wcGVyW3NpZGVdICs9IHJlZmVyZW5jZVtzaWRlXSArIGFycm93RWxlbWVudFNpemUgLSBwb3BwZXJbb3BTaWRlXTsKICAgICAgICB9CgogICAgICAgIGRhdGEub2Zmc2V0cy5wb3BwZXIgPSBnZXRDbGllbnRSZWN0KGRhdGEub2Zmc2V0cy5wb3BwZXIpOyAvLyBjb21wdXRlIGNlbnRlciBvZiB0aGUgcG9wcGVyCgogICAgICAgIHZhciBjZW50ZXIgPSByZWZlcmVuY2Vbc2lkZV0gKyByZWZlcmVuY2VbbGVuXSAvIDIgLSBhcnJvd0VsZW1lbnRTaXplIC8gMjsgLy8gQ29tcHV0ZSB0aGUgc2lkZVZhbHVlIHVzaW5nIHRoZSB1cGRhdGVkIHBvcHBlciBvZmZzZXRzCiAgICAgICAgLy8gdGFrZSBwb3BwZXIgbWFyZ2luIGluIGFjY291bnQgYmVjYXVzZSB3ZSBkb24ndCBoYXZlIHRoaXMgaW5mbyBhdmFpbGFibGUKCiAgICAgICAgdmFyIGNzcyA9IGdldFN0eWxlQ29tcHV0ZWRQcm9wZXJ0eShkYXRhLmluc3RhbmNlLnBvcHBlcik7CiAgICAgICAgdmFyIHBvcHBlck1hcmdpblNpZGUgPSBwYXJzZUZsb2F0KGNzc1snbWFyZ2luJyArIHNpZGVDYXBpdGFsaXplZF0pOwogICAgICAgIHZhciBwb3BwZXJCb3JkZXJTaWRlID0gcGFyc2VGbG9hdChjc3NbJ2JvcmRlcicgKyBzaWRlQ2FwaXRhbGl6ZWQgKyAnV2lkdGgnXSk7CiAgICAgICAgdmFyIHNpZGVWYWx1ZSA9IGNlbnRlciAtIGRhdGEub2Zmc2V0cy5wb3BwZXJbc2lkZV0gLSBwb3BwZXJNYXJnaW5TaWRlIC0gcG9wcGVyQm9yZGVyU2lkZTsgLy8gcHJldmVudCBhcnJvd0VsZW1lbnQgZnJvbSBiZWluZyBwbGFjZWQgbm90IGNvbnRpZ3VvdXNseSB0byBpdHMgcG9wcGVyCgogICAgICAgIHNpZGVWYWx1ZSA9IE1hdGgubWF4KE1hdGgubWluKHBvcHBlcltsZW5dIC0gYXJyb3dFbGVtZW50U2l6ZSwgc2lkZVZhbHVlKSwgMCk7CiAgICAgICAgZGF0YS5hcnJvd0VsZW1lbnQgPSBhcnJvd0VsZW1lbnQ7CiAgICAgICAgZGF0YS5vZmZzZXRzLmFycm93ID0gKF9kYXRhJG9mZnNldHMkYXJyb3cgPSB7fSwgZGVmaW5lUHJvcGVydHkoX2RhdGEkb2Zmc2V0cyRhcnJvdywgc2lkZSwgTWF0aC5yb3VuZChzaWRlVmFsdWUpKSwgZGVmaW5lUHJvcGVydHkoX2RhdGEkb2Zmc2V0cyRhcnJvdywgYWx0U2lkZSwgJycpLCBfZGF0YSRvZmZzZXRzJGFycm93KTsKICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgfQogICAgICAvKioKICAgICAgICogR2V0IHRoZSBvcHBvc2l0ZSBwbGFjZW1lbnQgdmFyaWF0aW9uIG9mIHRoZSBnaXZlbiBvbmUKICAgICAgICogQG1ldGhvZAogICAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzCiAgICAgICAqIEBhcmd1bWVudCB7U3RyaW5nfSBwbGFjZW1lbnQgdmFyaWF0aW9uCiAgICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IGZsaXBwZWQgcGxhY2VtZW50IHZhcmlhdGlvbgogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBnZXRPcHBvc2l0ZVZhcmlhdGlvbih2YXJpYXRpb24pIHsKICAgICAgICBpZiAodmFyaWF0aW9uID09PSAnZW5kJykgewogICAgICAgICAgcmV0dXJuICdzdGFydCc7CiAgICAgICAgfSBlbHNlIGlmICh2YXJpYXRpb24gPT09ICdzdGFydCcpIHsKICAgICAgICAgIHJldHVybiAnZW5kJzsKICAgICAgICB9CgogICAgICAgIHJldHVybiB2YXJpYXRpb247CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIExpc3Qgb2YgYWNjZXB0ZWQgcGxhY2VtZW50cyB0byB1c2UgYXMgdmFsdWVzIG9mIHRoZSBgcGxhY2VtZW50YCBvcHRpb24uPGJyIC8+CiAgICAgICAqIFZhbGlkIHBsYWNlbWVudHMgYXJlOgogICAgICAgKiAtIGBhdXRvYAogICAgICAgKiAtIGB0b3BgCiAgICAgICAqIC0gYHJpZ2h0YAogICAgICAgKiAtIGBib3R0b21gCiAgICAgICAqIC0gYGxlZnRgCiAgICAgICAqCiAgICAgICAqIEVhY2ggcGxhY2VtZW50IGNhbiBoYXZlIGEgdmFyaWF0aW9uIGZyb20gdGhpcyBsaXN0OgogICAgICAgKiAtIGAtc3RhcnRgCiAgICAgICAqIC0gYC1lbmRgCiAgICAgICAqCiAgICAgICAqIFZhcmlhdGlvbnMgYXJlIGludGVycHJldGVkIGVhc2lseSBpZiB5b3UgdGhpbmsgb2YgdGhlbSBhcyB0aGUgbGVmdCB0byByaWdodAogICAgICAgKiB3cml0dGVuIGxhbmd1YWdlcy4gSG9yaXpvbnRhbGx5IChgdG9wYCBhbmQgYGJvdHRvbWApLCBgc3RhcnRgIGlzIGxlZnQgYW5kIGBlbmRgCiAgICAgICAqIGlzIHJpZ2h0LjxiciAvPgogICAgICAgKiBWZXJ0aWNhbGx5IChgbGVmdGAgYW5kIGByaWdodGApLCBgc3RhcnRgIGlzIHRvcCBhbmQgYGVuZGAgaXMgYm90dG9tLgogICAgICAgKgogICAgICAgKiBTb21lIHZhbGlkIGV4YW1wbGVzIGFyZToKICAgICAgICogLSBgdG9wLWVuZGAgKG9uIHRvcCBvZiByZWZlcmVuY2UsIHJpZ2h0IGFsaWduZWQpCiAgICAgICAqIC0gYHJpZ2h0LXN0YXJ0YCAob24gcmlnaHQgb2YgcmVmZXJlbmNlLCB0b3AgYWxpZ25lZCkKICAgICAgICogLSBgYm90dG9tYCAob24gYm90dG9tLCBjZW50ZXJlZCkKICAgICAgICogLSBgYXV0by1lbmRgIChvbiB0aGUgc2lkZSB3aXRoIG1vcmUgc3BhY2UgYXZhaWxhYmxlLCBhbGlnbm1lbnQgZGVwZW5kcyBieSBwbGFjZW1lbnQpCiAgICAgICAqCiAgICAgICAqIEBzdGF0aWMKICAgICAgICogQHR5cGUge0FycmF5fQogICAgICAgKiBAZW51bSB7U3RyaW5nfQogICAgICAgKiBAcmVhZG9ubHkKICAgICAgICogQG1ldGhvZCBwbGFjZW1lbnRzCiAgICAgICAqIEBtZW1iZXJvZiBQb3BwZXIKICAgICAgICovCgoKICAgICAgdmFyIHBsYWNlbWVudHMgPSBbJ2F1dG8tc3RhcnQnLCAnYXV0bycsICdhdXRvLWVuZCcsICd0b3Atc3RhcnQnLCAndG9wJywgJ3RvcC1lbmQnLCAncmlnaHQtc3RhcnQnLCAncmlnaHQnLCAncmlnaHQtZW5kJywgJ2JvdHRvbS1lbmQnLCAnYm90dG9tJywgJ2JvdHRvbS1zdGFydCcsICdsZWZ0LWVuZCcsICdsZWZ0JywgJ2xlZnQtc3RhcnQnXTsgLy8gR2V0IHJpZCBvZiBgYXV0b2AgYGF1dG8tc3RhcnRgIGFuZCBgYXV0by1lbmRgCgogICAgICB2YXIgdmFsaWRQbGFjZW1lbnRzID0gcGxhY2VtZW50cy5zbGljZSgzKTsKICAgICAgLyoqCiAgICAgICAqIEdpdmVuIGFuIGluaXRpYWwgcGxhY2VtZW50LCByZXR1cm5zIGFsbCB0aGUgc3Vic2VxdWVudCBwbGFjZW1lbnRzCiAgICAgICAqIGNsb2Nrd2lzZSAob3IgY291bnRlci1jbG9ja3dpc2UpLgogICAgICAgKgogICAgICAgKiBAbWV0aG9kCiAgICAgICAqIEBtZW1iZXJvZiBQb3BwZXIuVXRpbHMKICAgICAgICogQGFyZ3VtZW50IHtTdHJpbmd9IHBsYWNlbWVudCAtIEEgdmFsaWQgcGxhY2VtZW50IChpdCBhY2NlcHRzIHZhcmlhdGlvbnMpCiAgICAgICAqIEBhcmd1bWVudCB7Qm9vbGVhbn0gY291bnRlciAtIFNldCB0byB0cnVlIHRvIHdhbGsgdGhlIHBsYWNlbWVudHMgY291bnRlcmNsb2Nrd2lzZQogICAgICAgKiBAcmV0dXJucyB7QXJyYXl9IHBsYWNlbWVudHMgaW5jbHVkaW5nIHRoZWlyIHZhcmlhdGlvbnMKICAgICAgICovCgogICAgICBmdW5jdGlvbiBjbG9ja3dpc2UocGxhY2VtZW50KSB7CiAgICAgICAgdmFyIGNvdW50ZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwogICAgICAgIHZhciBpbmRleCA9IHZhbGlkUGxhY2VtZW50cy5pbmRleE9mKHBsYWNlbWVudCk7CiAgICAgICAgdmFyIGFyciA9IHZhbGlkUGxhY2VtZW50cy5zbGljZShpbmRleCArIDEpLmNvbmNhdCh2YWxpZFBsYWNlbWVudHMuc2xpY2UoMCwgaW5kZXgpKTsKICAgICAgICByZXR1cm4gY291bnRlciA/IGFyci5yZXZlcnNlKCkgOiBhcnI7CiAgICAgIH0KCiAgICAgIHZhciBCRUhBVklPUlMgPSB7CiAgICAgICAgRkxJUDogJ2ZsaXAnLAogICAgICAgIENMT0NLV0lTRTogJ2Nsb2Nrd2lzZScsCiAgICAgICAgQ09VTlRFUkNMT0NLV0lTRTogJ2NvdW50ZXJjbG9ja3dpc2UnCiAgICAgIH07CiAgICAgIC8qKgogICAgICAgKiBAZnVuY3Rpb24KICAgICAgICogQG1lbWJlcm9mIE1vZGlmaWVycwogICAgICAgKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgdXBkYXRlIG1ldGhvZAogICAgICAgKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zCiAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBkYXRhIG9iamVjdCwgcHJvcGVybHkgbW9kaWZpZWQKICAgICAgICovCgogICAgICBmdW5jdGlvbiBmbGlwKGRhdGEsIG9wdGlvbnMpIHsKICAgICAgICAvLyBpZiBgaW5uZXJgIG1vZGlmaWVyIGlzIGVuYWJsZWQsIHdlIGNhbid0IHVzZSB0aGUgYGZsaXBgIG1vZGlmaWVyCiAgICAgICAgaWYgKGlzTW9kaWZpZXJFbmFibGVkKGRhdGEuaW5zdGFuY2UubW9kaWZpZXJzLCAnaW5uZXInKSkgewogICAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgICAgfQoKICAgICAgICBpZiAoZGF0YS5mbGlwcGVkICYmIGRhdGEucGxhY2VtZW50ID09PSBkYXRhLm9yaWdpbmFsUGxhY2VtZW50KSB7CiAgICAgICAgICAvLyBzZWVtcyBsaWtlIGZsaXAgaXMgdHJ5aW5nIHRvIGxvb3AsIHByb2JhYmx5IHRoZXJlJ3Mgbm90IGVub3VnaCBzcGFjZSBvbiBhbnkgb2YgdGhlIGZsaXBwYWJsZSBzaWRlcwogICAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgICAgfQoKICAgICAgICB2YXIgYm91bmRhcmllcyA9IGdldEJvdW5kYXJpZXMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEuaW5zdGFuY2UucmVmZXJlbmNlLCBvcHRpb25zLnBhZGRpbmcsIG9wdGlvbnMuYm91bmRhcmllc0VsZW1lbnQsIGRhdGEucG9zaXRpb25GaXhlZCk7CiAgICAgICAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMF07CiAgICAgICAgdmFyIHBsYWNlbWVudE9wcG9zaXRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTsKICAgICAgICB2YXIgdmFyaWF0aW9uID0gZGF0YS5wbGFjZW1lbnQuc3BsaXQoJy0nKVsxXSB8fCAnJzsKICAgICAgICB2YXIgZmxpcE9yZGVyID0gW107CgogICAgICAgIHN3aXRjaCAob3B0aW9ucy5iZWhhdmlvcikgewogICAgICAgICAgY2FzZSBCRUhBVklPUlMuRkxJUDoKICAgICAgICAgICAgZmxpcE9yZGVyID0gW3BsYWNlbWVudCwgcGxhY2VtZW50T3Bwb3NpdGVdOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIEJFSEFWSU9SUy5DTE9DS1dJU0U6CiAgICAgICAgICAgIGZsaXBPcmRlciA9IGNsb2Nrd2lzZShwbGFjZW1lbnQpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIEJFSEFWSU9SUy5DT1VOVEVSQ0xPQ0tXSVNFOgogICAgICAgICAgICBmbGlwT3JkZXIgPSBjbG9ja3dpc2UocGxhY2VtZW50LCB0cnVlKTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgZmxpcE9yZGVyID0gb3B0aW9ucy5iZWhhdmlvcjsKICAgICAgICB9CgogICAgICAgIGZsaXBPcmRlci5mb3JFYWNoKGZ1bmN0aW9uIChzdGVwLCBpbmRleCkgewogICAgICAgICAgaWYgKHBsYWNlbWVudCAhPT0gc3RlcCB8fCBmbGlwT3JkZXIubGVuZ3RoID09PSBpbmRleCArIDEpIHsKICAgICAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgICAgICB9CgogICAgICAgICAgcGxhY2VtZW50ID0gZGF0YS5wbGFjZW1lbnQuc3BsaXQoJy0nKVswXTsKICAgICAgICAgIHBsYWNlbWVudE9wcG9zaXRlID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTsKICAgICAgICAgIHZhciBwb3BwZXJPZmZzZXRzID0gZGF0YS5vZmZzZXRzLnBvcHBlcjsKICAgICAgICAgIHZhciByZWZPZmZzZXRzID0gZGF0YS5vZmZzZXRzLnJlZmVyZW5jZTsgLy8gdXNpbmcgZmxvb3IgYmVjYXVzZSB0aGUgcmVmZXJlbmNlIG9mZnNldHMgbWF5IGNvbnRhaW4gZGVjaW1hbHMgd2UgYXJlIG5vdCBnb2luZyB0byBjb25zaWRlciBoZXJlCgogICAgICAgICAgdmFyIGZsb29yID0gTWF0aC5mbG9vcjsKICAgICAgICAgIHZhciBvdmVybGFwc1JlZiA9IHBsYWNlbWVudCA9PT0gJ2xlZnQnICYmIGZsb29yKHBvcHBlck9mZnNldHMucmlnaHQpID4gZmxvb3IocmVmT2Zmc2V0cy5sZWZ0KSB8fCBwbGFjZW1lbnQgPT09ICdyaWdodCcgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy5sZWZ0KSA8IGZsb29yKHJlZk9mZnNldHMucmlnaHQpIHx8IHBsYWNlbWVudCA9PT0gJ3RvcCcgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy5ib3R0b20pID4gZmxvb3IocmVmT2Zmc2V0cy50b3ApIHx8IHBsYWNlbWVudCA9PT0gJ2JvdHRvbScgJiYgZmxvb3IocG9wcGVyT2Zmc2V0cy50b3ApIDwgZmxvb3IocmVmT2Zmc2V0cy5ib3R0b20pOwogICAgICAgICAgdmFyIG92ZXJmbG93c0xlZnQgPSBmbG9vcihwb3BwZXJPZmZzZXRzLmxlZnQpIDwgZmxvb3IoYm91bmRhcmllcy5sZWZ0KTsKICAgICAgICAgIHZhciBvdmVyZmxvd3NSaWdodCA9IGZsb29yKHBvcHBlck9mZnNldHMucmlnaHQpID4gZmxvb3IoYm91bmRhcmllcy5yaWdodCk7CiAgICAgICAgICB2YXIgb3ZlcmZsb3dzVG9wID0gZmxvb3IocG9wcGVyT2Zmc2V0cy50b3ApIDwgZmxvb3IoYm91bmRhcmllcy50b3ApOwogICAgICAgICAgdmFyIG92ZXJmbG93c0JvdHRvbSA9IGZsb29yKHBvcHBlck9mZnNldHMuYm90dG9tKSA+IGZsb29yKGJvdW5kYXJpZXMuYm90dG9tKTsKICAgICAgICAgIHZhciBvdmVyZmxvd3NCb3VuZGFyaWVzID0gcGxhY2VtZW50ID09PSAnbGVmdCcgJiYgb3ZlcmZsb3dzTGVmdCB8fCBwbGFjZW1lbnQgPT09ICdyaWdodCcgJiYgb3ZlcmZsb3dzUmlnaHQgfHwgcGxhY2VtZW50ID09PSAndG9wJyAmJiBvdmVyZmxvd3NUb3AgfHwgcGxhY2VtZW50ID09PSAnYm90dG9tJyAmJiBvdmVyZmxvd3NCb3R0b207IC8vIGZsaXAgdGhlIHZhcmlhdGlvbiBpZiByZXF1aXJlZAoKICAgICAgICAgIHZhciBpc1ZlcnRpY2FsID0gWyd0b3AnLCAnYm90dG9tJ10uaW5kZXhPZihwbGFjZW1lbnQpICE9PSAtMTsgLy8gZmxpcHMgdmFyaWF0aW9uIGlmIHJlZmVyZW5jZSBlbGVtZW50IG92ZXJmbG93cyBib3VuZGFyaWVzCgogICAgICAgICAgdmFyIGZsaXBwZWRWYXJpYXRpb25CeVJlZiA9ICEhb3B0aW9ucy5mbGlwVmFyaWF0aW9ucyAmJiAoaXNWZXJ0aWNhbCAmJiB2YXJpYXRpb24gPT09ICdzdGFydCcgJiYgb3ZlcmZsb3dzTGVmdCB8fCBpc1ZlcnRpY2FsICYmIHZhcmlhdGlvbiA9PT0gJ2VuZCcgJiYgb3ZlcmZsb3dzUmlnaHQgfHwgIWlzVmVydGljYWwgJiYgdmFyaWF0aW9uID09PSAnc3RhcnQnICYmIG92ZXJmbG93c1RvcCB8fCAhaXNWZXJ0aWNhbCAmJiB2YXJpYXRpb24gPT09ICdlbmQnICYmIG92ZXJmbG93c0JvdHRvbSk7IC8vIGZsaXBzIHZhcmlhdGlvbiBpZiBwb3BwZXIgY29udGVudCBvdmVyZmxvd3MgYm91bmRhcmllcwoKICAgICAgICAgIHZhciBmbGlwcGVkVmFyaWF0aW9uQnlDb250ZW50ID0gISFvcHRpb25zLmZsaXBWYXJpYXRpb25zQnlDb250ZW50ICYmIChpc1ZlcnRpY2FsICYmIHZhcmlhdGlvbiA9PT0gJ3N0YXJ0JyAmJiBvdmVyZmxvd3NSaWdodCB8fCBpc1ZlcnRpY2FsICYmIHZhcmlhdGlvbiA9PT0gJ2VuZCcgJiYgb3ZlcmZsb3dzTGVmdCB8fCAhaXNWZXJ0aWNhbCAmJiB2YXJpYXRpb24gPT09ICdzdGFydCcgJiYgb3ZlcmZsb3dzQm90dG9tIHx8ICFpc1ZlcnRpY2FsICYmIHZhcmlhdGlvbiA9PT0gJ2VuZCcgJiYgb3ZlcmZsb3dzVG9wKTsKICAgICAgICAgIHZhciBmbGlwcGVkVmFyaWF0aW9uID0gZmxpcHBlZFZhcmlhdGlvbkJ5UmVmIHx8IGZsaXBwZWRWYXJpYXRpb25CeUNvbnRlbnQ7CgogICAgICAgICAgaWYgKG92ZXJsYXBzUmVmIHx8IG92ZXJmbG93c0JvdW5kYXJpZXMgfHwgZmxpcHBlZFZhcmlhdGlvbikgewogICAgICAgICAgICAvLyB0aGlzIGJvb2xlYW4gdG8gZGV0ZWN0IGFueSBmbGlwIGxvb3AKICAgICAgICAgICAgZGF0YS5mbGlwcGVkID0gdHJ1ZTsKCiAgICAgICAgICAgIGlmIChvdmVybGFwc1JlZiB8fCBvdmVyZmxvd3NCb3VuZGFyaWVzKSB7CiAgICAgICAgICAgICAgcGxhY2VtZW50ID0gZmxpcE9yZGVyW2luZGV4ICsgMV07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChmbGlwcGVkVmFyaWF0aW9uKSB7CiAgICAgICAgICAgICAgdmFyaWF0aW9uID0gZ2V0T3Bwb3NpdGVWYXJpYXRpb24odmFyaWF0aW9uKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZGF0YS5wbGFjZW1lbnQgPSBwbGFjZW1lbnQgKyAodmFyaWF0aW9uID8gJy0nICsgdmFyaWF0aW9uIDogJycpOyAvLyB0aGlzIG9iamVjdCBjb250YWlucyBgcG9zaXRpb25gLCB3ZSB3YW50IHRvIHByZXNlcnZlIGl0IGFsb25nIHdpdGgKICAgICAgICAgICAgLy8gYW55IGFkZGl0aW9uYWwgcHJvcGVydHkgd2UgbWF5IGFkZCBpbiB0aGUgZnV0dXJlCgogICAgICAgICAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gX2V4dGVuZHMoe30sIGRhdGEub2Zmc2V0cy5wb3BwZXIsIGdldFBvcHBlck9mZnNldHMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEub2Zmc2V0cy5yZWZlcmVuY2UsIGRhdGEucGxhY2VtZW50KSk7CiAgICAgICAgICAgIGRhdGEgPSBydW5Nb2RpZmllcnMoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsIGRhdGEsICdmbGlwJyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIEBmdW5jdGlvbgogICAgICAgKiBAbWVtYmVyb2YgTW9kaWZpZXJzCiAgICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kCiAgICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnMKICAgICAgICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZAogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBrZWVwVG9nZXRoZXIoZGF0YSkgewogICAgICAgIHZhciBfZGF0YSRvZmZzZXRzID0gZGF0YS5vZmZzZXRzLAogICAgICAgICAgICBwb3BwZXIgPSBfZGF0YSRvZmZzZXRzLnBvcHBlciwKICAgICAgICAgICAgcmVmZXJlbmNlID0gX2RhdGEkb2Zmc2V0cy5yZWZlcmVuY2U7CiAgICAgICAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50LnNwbGl0KCctJylbMF07CiAgICAgICAgdmFyIGZsb29yID0gTWF0aC5mbG9vcjsKICAgICAgICB2YXIgaXNWZXJ0aWNhbCA9IFsndG9wJywgJ2JvdHRvbSddLmluZGV4T2YocGxhY2VtZW50KSAhPT0gLTE7CiAgICAgICAgdmFyIHNpZGUgPSBpc1ZlcnRpY2FsID8gJ3JpZ2h0JyA6ICdib3R0b20nOwogICAgICAgIHZhciBvcFNpZGUgPSBpc1ZlcnRpY2FsID8gJ2xlZnQnIDogJ3RvcCc7CiAgICAgICAgdmFyIG1lYXN1cmVtZW50ID0gaXNWZXJ0aWNhbCA/ICd3aWR0aCcgOiAnaGVpZ2h0JzsKCiAgICAgICAgaWYgKHBvcHBlcltzaWRlXSA8IGZsb29yKHJlZmVyZW5jZVtvcFNpZGVdKSkgewogICAgICAgICAgZGF0YS5vZmZzZXRzLnBvcHBlcltvcFNpZGVdID0gZmxvb3IocmVmZXJlbmNlW29wU2lkZV0pIC0gcG9wcGVyW21lYXN1cmVtZW50XTsKICAgICAgICB9CgogICAgICAgIGlmIChwb3BwZXJbb3BTaWRlXSA+IGZsb29yKHJlZmVyZW5jZVtzaWRlXSkpIHsKICAgICAgICAgIGRhdGEub2Zmc2V0cy5wb3BwZXJbb3BTaWRlXSA9IGZsb29yKHJlZmVyZW5jZVtzaWRlXSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZGF0YTsKICAgICAgfQogICAgICAvKioKICAgICAgICogQ29udmVydHMgYSBzdHJpbmcgY29udGFpbmluZyB2YWx1ZSArIHVuaXQgaW50byBhIHB4IHZhbHVlIG51bWJlcgogICAgICAgKiBAZnVuY3Rpb24KICAgICAgICogQG1lbWJlcm9mIHttb2RpZmllcnN+b2Zmc2V0fQogICAgICAgKiBAcHJpdmF0ZQogICAgICAgKiBAYXJndW1lbnQge1N0cmluZ30gc3RyIC0gVmFsdWUgKyB1bml0IHN0cmluZwogICAgICAgKiBAYXJndW1lbnQge1N0cmluZ30gbWVhc3VyZW1lbnQgLSBgaGVpZ2h0YCBvciBgd2lkdGhgCiAgICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBwb3BwZXJPZmZzZXRzCiAgICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSByZWZlcmVuY2VPZmZzZXRzCiAgICAgICAqIEByZXR1cm5zIHtOdW1iZXJ8U3RyaW5nfQogICAgICAgKiBWYWx1ZSBpbiBwaXhlbHMsIG9yIG9yaWdpbmFsIHN0cmluZyBpZiBubyB2YWx1ZXMgd2VyZSBleHRyYWN0ZWQKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gdG9WYWx1ZShzdHIsIG1lYXN1cmVtZW50LCBwb3BwZXJPZmZzZXRzLCByZWZlcmVuY2VPZmZzZXRzKSB7CiAgICAgICAgLy8gc2VwYXJhdGUgdmFsdWUgZnJvbSB1bml0CiAgICAgICAgdmFyIHNwbGl0ID0gc3RyLm1hdGNoKC8oKD86XC18XCspP1xkKlwuP1xkKikoLiopLyk7CiAgICAgICAgdmFyIHZhbHVlID0gK3NwbGl0WzFdOwogICAgICAgIHZhciB1bml0ID0gc3BsaXRbMl07IC8vIElmIGl0J3Mgbm90IGEgbnVtYmVyIGl0J3MgYW4gb3BlcmF0b3IsIEkgZ3Vlc3MKCiAgICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgICAgcmV0dXJuIHN0cjsKICAgICAgICB9CgogICAgICAgIGlmICh1bml0LmluZGV4T2YoJyUnKSA9PT0gMCkgewogICAgICAgICAgdmFyIGVsZW1lbnQgPSB2b2lkIDA7CgogICAgICAgICAgc3dpdGNoICh1bml0KSB7CiAgICAgICAgICAgIGNhc2UgJyVwJzoKICAgICAgICAgICAgICBlbGVtZW50ID0gcG9wcGVyT2Zmc2V0czsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgJyUnOgogICAgICAgICAgICBjYXNlICclcic6CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgZWxlbWVudCA9IHJlZmVyZW5jZU9mZnNldHM7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHJlY3QgPSBnZXRDbGllbnRSZWN0KGVsZW1lbnQpOwogICAgICAgICAgcmV0dXJuIHJlY3RbbWVhc3VyZW1lbnRdIC8gMTAwICogdmFsdWU7CiAgICAgICAgfSBlbHNlIGlmICh1bml0ID09PSAndmgnIHx8IHVuaXQgPT09ICd2dycpIHsKICAgICAgICAgIC8vIGlmIGlzIGEgdmggb3IgdncsIHdlIGNhbGN1bGF0ZSB0aGUgc2l6ZSBiYXNlZCBvbiB0aGUgdmlld3BvcnQKICAgICAgICAgIHZhciBzaXplID0gdm9pZCAwOwoKICAgICAgICAgIGlmICh1bml0ID09PSAndmgnKSB7CiAgICAgICAgICAgIHNpemUgPSBNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LCB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgMCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzaXplID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLCB3aW5kb3cuaW5uZXJXaWR0aCB8fCAwKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gc2l6ZSAvIDEwMCAqIHZhbHVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBpZiBpcyBhbiBleHBsaWNpdCBwaXhlbCB1bml0LCB3ZSBnZXQgcmlkIG9mIHRoZSB1bml0IGFuZCBrZWVwIHRoZSB2YWx1ZQogICAgICAgICAgLy8gaWYgaXMgYW4gaW1wbGljaXQgdW5pdCwgaXQncyBweCwgYW5kIHdlIHJldHVybiBqdXN0IHRoZSB2YWx1ZQogICAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICAgIH0KICAgICAgfQogICAgICAvKioKICAgICAgICogUGFyc2UgYW4gYG9mZnNldGAgc3RyaW5nIHRvIGV4dHJhcG9sYXRlIGB4YCBhbmQgYHlgIG51bWVyaWMgb2Zmc2V0cy4KICAgICAgICogQGZ1bmN0aW9uCiAgICAgICAqIEBtZW1iZXJvZiB7bW9kaWZpZXJzfm9mZnNldH0KICAgICAgICogQHByaXZhdGUKICAgICAgICogQGFyZ3VtZW50IHtTdHJpbmd9IG9mZnNldAogICAgICAgKiBAYXJndW1lbnQge09iamVjdH0gcG9wcGVyT2Zmc2V0cwogICAgICAgKiBAYXJndW1lbnQge09iamVjdH0gcmVmZXJlbmNlT2Zmc2V0cwogICAgICAgKiBAYXJndW1lbnQge1N0cmluZ30gYmFzZVBsYWNlbWVudAogICAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGEgdHdvIGNlbGxzIGFycmF5IHdpdGggeCBhbmQgeSBvZmZzZXRzIGluIG51bWJlcnMKICAgICAgICovCgoKICAgICAgZnVuY3Rpb24gcGFyc2VPZmZzZXQob2Zmc2V0LCBwb3BwZXJPZmZzZXRzLCByZWZlcmVuY2VPZmZzZXRzLCBiYXNlUGxhY2VtZW50KSB7CiAgICAgICAgdmFyIG9mZnNldHMgPSBbMCwgMF07IC8vIFVzZSBoZWlnaHQgaWYgcGxhY2VtZW50IGlzIGxlZnQgb3IgcmlnaHQgYW5kIGluZGV4IGlzIDAgb3RoZXJ3aXNlIHVzZSB3aWR0aAogICAgICAgIC8vIGluIHRoaXMgd2F5IHRoZSBmaXJzdCBvZmZzZXQgd2lsbCB1c2UgYW4gYXhpcyBhbmQgdGhlIHNlY29uZCBvbmUKICAgICAgICAvLyB3aWxsIHVzZSB0aGUgb3RoZXIgb25lCgogICAgICAgIHZhciB1c2VIZWlnaHQgPSBbJ3JpZ2h0JywgJ2xlZnQnXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTsgLy8gU3BsaXQgdGhlIG9mZnNldCBzdHJpbmcgdG8gb2J0YWluIGEgbGlzdCBvZiB2YWx1ZXMgYW5kIG9wZXJhbmRzCiAgICAgICAgLy8gVGhlIHJlZ2V4IGFkZHJlc3NlcyB2YWx1ZXMgd2l0aCB0aGUgcGx1cyBvciBtaW51cyBzaWduIGluIGZyb250ICgrMTAsIC0yMCwgZXRjKQoKICAgICAgICB2YXIgZnJhZ21lbnRzID0gb2Zmc2V0LnNwbGl0KC8oXCt8XC0pLykubWFwKGZ1bmN0aW9uIChmcmFnKSB7CiAgICAgICAgICByZXR1cm4gZnJhZy50cmltKCk7CiAgICAgICAgfSk7IC8vIERldGVjdCBpZiB0aGUgb2Zmc2V0IHN0cmluZyBjb250YWlucyBhIHBhaXIgb2YgdmFsdWVzIG9yIGEgc2luZ2xlIG9uZQogICAgICAgIC8vIHRoZXkgY291bGQgYmUgc2VwYXJhdGVkIGJ5IGNvbW1hIG9yIHNwYWNlCgogICAgICAgIHZhciBkaXZpZGVyID0gZnJhZ21lbnRzLmluZGV4T2YoZmluZChmcmFnbWVudHMsIGZ1bmN0aW9uIChmcmFnKSB7CiAgICAgICAgICByZXR1cm4gZnJhZy5zZWFyY2goLyx8XHMvKSAhPT0gLTE7CiAgICAgICAgfSkpOwoKICAgICAgICBpZiAoZnJhZ21lbnRzW2RpdmlkZXJdICYmIGZyYWdtZW50c1tkaXZpZGVyXS5pbmRleE9mKCcsJykgPT09IC0xKSB7CiAgICAgICAgICBjb25zb2xlLndhcm4oJ09mZnNldHMgc2VwYXJhdGVkIGJ5IHdoaXRlIHNwYWNlKHMpIGFyZSBkZXByZWNhdGVkLCB1c2UgYSBjb21tYSAoLCkgaW5zdGVhZC4nKTsKICAgICAgICB9IC8vIElmIGRpdmlkZXIgaXMgZm91bmQsIHdlIGRpdmlkZSB0aGUgbGlzdCBvZiB2YWx1ZXMgYW5kIG9wZXJhbmRzIHRvIGRpdmlkZQogICAgICAgIC8vIHRoZW0gYnkgb2ZzZXQgWCBhbmQgWS4KCgogICAgICAgIHZhciBzcGxpdFJlZ2V4ID0gL1xzKixccyp8XHMrLzsKICAgICAgICB2YXIgb3BzID0gZGl2aWRlciAhPT0gLTEgPyBbZnJhZ21lbnRzLnNsaWNlKDAsIGRpdmlkZXIpLmNvbmNhdChbZnJhZ21lbnRzW2RpdmlkZXJdLnNwbGl0KHNwbGl0UmVnZXgpWzBdXSksIFtmcmFnbWVudHNbZGl2aWRlcl0uc3BsaXQoc3BsaXRSZWdleClbMV1dLmNvbmNhdChmcmFnbWVudHMuc2xpY2UoZGl2aWRlciArIDEpKV0gOiBbZnJhZ21lbnRzXTsgLy8gQ29udmVydCB0aGUgdmFsdWVzIHdpdGggdW5pdHMgdG8gYWJzb2x1dGUgcGl4ZWxzIHRvIGFsbG93IG91ciBjb21wdXRhdGlvbnMKCiAgICAgICAgb3BzID0gb3BzLm1hcChmdW5jdGlvbiAob3AsIGluZGV4KSB7CiAgICAgICAgICAvLyBNb3N0IG9mIHRoZSB1bml0cyByZWx5IG9uIHRoZSBvcmllbnRhdGlvbiBvZiB0aGUgcG9wcGVyCiAgICAgICAgICB2YXIgbWVhc3VyZW1lbnQgPSAoaW5kZXggPT09IDEgPyAhdXNlSGVpZ2h0IDogdXNlSGVpZ2h0KSA/ICdoZWlnaHQnIDogJ3dpZHRoJzsKICAgICAgICAgIHZhciBtZXJnZVdpdGhQcmV2aW91cyA9IGZhbHNlOwogICAgICAgICAgcmV0dXJuIG9wIC8vIFRoaXMgYWdncmVnYXRlcyBhbnkgYCtgIG9yIGAtYCBzaWduIHRoYXQgYXJlbid0IGNvbnNpZGVyZWQgb3BlcmF0b3JzCiAgICAgICAgICAvLyBlLmcuOiAxMCArICs1ID0+IFsxMCwgKywgKzVdCiAgICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgIGlmIChhW2EubGVuZ3RoIC0gMV0gPT09ICcnICYmIFsnKycsICctJ10uaW5kZXhPZihiKSAhPT0gLTEpIHsKICAgICAgICAgICAgICBhW2EubGVuZ3RoIC0gMV0gPSBiOwogICAgICAgICAgICAgIG1lcmdlV2l0aFByZXZpb3VzID0gdHJ1ZTsKICAgICAgICAgICAgICByZXR1cm4gYTsKICAgICAgICAgICAgfSBlbHNlIGlmIChtZXJnZVdpdGhQcmV2aW91cykgewogICAgICAgICAgICAgIGFbYS5sZW5ndGggLSAxXSArPSBiOwogICAgICAgICAgICAgIG1lcmdlV2l0aFByZXZpb3VzID0gZmFsc2U7CiAgICAgICAgICAgICAgcmV0dXJuIGE7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIGEuY29uY2F0KGIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCBbXSkgLy8gSGVyZSB3ZSBjb252ZXJ0IHRoZSBzdHJpbmcgdmFsdWVzIGludG8gbnVtYmVyIHZhbHVlcyAoaW4gcHgpCiAgICAgICAgICAubWFwKGZ1bmN0aW9uIChzdHIpIHsKICAgICAgICAgICAgcmV0dXJuIHRvVmFsdWUoc3RyLCBtZWFzdXJlbWVudCwgcG9wcGVyT2Zmc2V0cywgcmVmZXJlbmNlT2Zmc2V0cyk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsgLy8gTG9vcCB0cm91Z2ggdGhlIG9mZnNldHMgYXJyYXlzIGFuZCBleGVjdXRlIHRoZSBvcGVyYXRpb25zCgogICAgICAgIG9wcy5mb3JFYWNoKGZ1bmN0aW9uIChvcCwgaW5kZXgpIHsKICAgICAgICAgIG9wLmZvckVhY2goZnVuY3Rpb24gKGZyYWcsIGluZGV4MikgewogICAgICAgICAgICBpZiAoaXNOdW1lcmljKGZyYWcpKSB7CiAgICAgICAgICAgICAgb2Zmc2V0c1tpbmRleF0gKz0gZnJhZyAqIChvcFtpbmRleDIgLSAxXSA9PT0gJy0nID8gLTEgOiAxKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIG9mZnNldHM7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIEBmdW5jdGlvbgogICAgICAgKiBAbWVtYmVyb2YgTW9kaWZpZXJzCiAgICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kCiAgICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnMKICAgICAgICogQGFyZ3VtZW50IHtOdW1iZXJ8U3RyaW5nfSBvcHRpb25zLm9mZnNldD0wCiAgICAgICAqIFRoZSBvZmZzZXQgdmFsdWUgYXMgZGVzY3JpYmVkIGluIHRoZSBtb2RpZmllciBkZXNjcmlwdGlvbgogICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkCiAgICAgICAqLwoKCiAgICAgIGZ1bmN0aW9uIG9mZnNldChkYXRhLCBfcmVmKSB7CiAgICAgICAgdmFyIG9mZnNldCA9IF9yZWYub2Zmc2V0OwogICAgICAgIHZhciBwbGFjZW1lbnQgPSBkYXRhLnBsYWNlbWVudCwKICAgICAgICAgICAgX2RhdGEkb2Zmc2V0cyA9IGRhdGEub2Zmc2V0cywKICAgICAgICAgICAgcG9wcGVyID0gX2RhdGEkb2Zmc2V0cy5wb3BwZXIsCiAgICAgICAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlOwogICAgICAgIHZhciBiYXNlUGxhY2VtZW50ID0gcGxhY2VtZW50LnNwbGl0KCctJylbMF07CiAgICAgICAgdmFyIG9mZnNldHMgPSB2b2lkIDA7CgogICAgICAgIGlmIChpc051bWVyaWMoK29mZnNldCkpIHsKICAgICAgICAgIG9mZnNldHMgPSBbK29mZnNldCwgMF07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9mZnNldHMgPSBwYXJzZU9mZnNldChvZmZzZXQsIHBvcHBlciwgcmVmZXJlbmNlLCBiYXNlUGxhY2VtZW50KTsKICAgICAgICB9CgogICAgICAgIGlmIChiYXNlUGxhY2VtZW50ID09PSAnbGVmdCcpIHsKICAgICAgICAgIHBvcHBlci50b3AgKz0gb2Zmc2V0c1swXTsKICAgICAgICAgIHBvcHBlci5sZWZ0IC09IG9mZnNldHNbMV07CiAgICAgICAgfSBlbHNlIGlmIChiYXNlUGxhY2VtZW50ID09PSAncmlnaHQnKSB7CiAgICAgICAgICBwb3BwZXIudG9wICs9IG9mZnNldHNbMF07CiAgICAgICAgICBwb3BwZXIubGVmdCArPSBvZmZzZXRzWzFdOwogICAgICAgIH0gZWxzZSBpZiAoYmFzZVBsYWNlbWVudCA9PT0gJ3RvcCcpIHsKICAgICAgICAgIHBvcHBlci5sZWZ0ICs9IG9mZnNldHNbMF07CiAgICAgICAgICBwb3BwZXIudG9wIC09IG9mZnNldHNbMV07CiAgICAgICAgfSBlbHNlIGlmIChiYXNlUGxhY2VtZW50ID09PSAnYm90dG9tJykgewogICAgICAgICAgcG9wcGVyLmxlZnQgKz0gb2Zmc2V0c1swXTsKICAgICAgICAgIHBvcHBlci50b3AgKz0gb2Zmc2V0c1sxXTsKICAgICAgICB9CgogICAgICAgIGRhdGEucG9wcGVyID0gcG9wcGVyOwogICAgICAgIHJldHVybiBkYXRhOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBAZnVuY3Rpb24KICAgICAgICogQG1lbWJlcm9mIE1vZGlmaWVycwogICAgICAgKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kCiAgICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnMKICAgICAgICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZAogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBwcmV2ZW50T3ZlcmZsb3coZGF0YSwgb3B0aW9ucykgewogICAgICAgIHZhciBib3VuZGFyaWVzRWxlbWVudCA9IG9wdGlvbnMuYm91bmRhcmllc0VsZW1lbnQgfHwgZ2V0T2Zmc2V0UGFyZW50KGRhdGEuaW5zdGFuY2UucG9wcGVyKTsgLy8gSWYgb2Zmc2V0UGFyZW50IGlzIHRoZSByZWZlcmVuY2UgZWxlbWVudCwgd2UgcmVhbGx5IHdhbnQgdG8KICAgICAgICAvLyBnbyBvbmUgc3RlcCB1cCBhbmQgdXNlIHRoZSBuZXh0IG9mZnNldFBhcmVudCBhcyByZWZlcmVuY2UgdG8KICAgICAgICAvLyBhdm9pZCB0byBtYWtlIHRoaXMgbW9kaWZpZXIgY29tcGxldGVseSB1c2VsZXNzIGFuZCBsb29rIGxpa2UgYnJva2VuCgogICAgICAgIGlmIChkYXRhLmluc3RhbmNlLnJlZmVyZW5jZSA9PT0gYm91bmRhcmllc0VsZW1lbnQpIHsKICAgICAgICAgIGJvdW5kYXJpZXNFbGVtZW50ID0gZ2V0T2Zmc2V0UGFyZW50KGJvdW5kYXJpZXNFbGVtZW50KTsKICAgICAgICB9IC8vIE5PVEU6IERPTSBhY2Nlc3MgaGVyZQogICAgICAgIC8vIHJlc2V0cyB0aGUgcG9wcGVyJ3MgcG9zaXRpb24gc28gdGhhdCB0aGUgZG9jdW1lbnQgc2l6ZSBjYW4gYmUgY2FsY3VsYXRlZCBleGNsdWRpbmcKICAgICAgICAvLyB0aGUgc2l6ZSBvZiB0aGUgcG9wcGVyIGVsZW1lbnQgaXRzZWxmCgoKICAgICAgICB2YXIgdHJhbnNmb3JtUHJvcCA9IGdldFN1cHBvcnRlZFByb3BlcnR5TmFtZSgndHJhbnNmb3JtJyk7CiAgICAgICAgdmFyIHBvcHBlclN0eWxlcyA9IGRhdGEuaW5zdGFuY2UucG9wcGVyLnN0eWxlOyAvLyBhc3NpZ25tZW50IHRvIGhlbHAgbWluaWZpY2F0aW9uCgogICAgICAgIHZhciB0b3AgPSBwb3BwZXJTdHlsZXMudG9wLAogICAgICAgICAgICBsZWZ0ID0gcG9wcGVyU3R5bGVzLmxlZnQsCiAgICAgICAgICAgIHRyYW5zZm9ybSA9IHBvcHBlclN0eWxlc1t0cmFuc2Zvcm1Qcm9wXTsKICAgICAgICBwb3BwZXJTdHlsZXMudG9wID0gJyc7CiAgICAgICAgcG9wcGVyU3R5bGVzLmxlZnQgPSAnJzsKICAgICAgICBwb3BwZXJTdHlsZXNbdHJhbnNmb3JtUHJvcF0gPSAnJzsKICAgICAgICB2YXIgYm91bmRhcmllcyA9IGdldEJvdW5kYXJpZXMoZGF0YS5pbnN0YW5jZS5wb3BwZXIsIGRhdGEuaW5zdGFuY2UucmVmZXJlbmNlLCBvcHRpb25zLnBhZGRpbmcsIGJvdW5kYXJpZXNFbGVtZW50LCBkYXRhLnBvc2l0aW9uRml4ZWQpOyAvLyBOT1RFOiBET00gYWNjZXNzIGhlcmUKICAgICAgICAvLyByZXN0b3JlcyB0aGUgb3JpZ2luYWwgc3R5bGUgcHJvcGVydGllcyBhZnRlciB0aGUgb2Zmc2V0cyBoYXZlIGJlZW4gY29tcHV0ZWQKCiAgICAgICAgcG9wcGVyU3R5bGVzLnRvcCA9IHRvcDsKICAgICAgICBwb3BwZXJTdHlsZXMubGVmdCA9IGxlZnQ7CiAgICAgICAgcG9wcGVyU3R5bGVzW3RyYW5zZm9ybVByb3BdID0gdHJhbnNmb3JtOwogICAgICAgIG9wdGlvbnMuYm91bmRhcmllcyA9IGJvdW5kYXJpZXM7CiAgICAgICAgdmFyIG9yZGVyID0gb3B0aW9ucy5wcmlvcml0eTsKICAgICAgICB2YXIgcG9wcGVyID0gZGF0YS5vZmZzZXRzLnBvcHBlcjsKICAgICAgICB2YXIgY2hlY2sgPSB7CiAgICAgICAgICBwcmltYXJ5OiBmdW5jdGlvbiBwcmltYXJ5KHBsYWNlbWVudCkgewogICAgICAgICAgICB2YXIgdmFsdWUgPSBwb3BwZXJbcGxhY2VtZW50XTsKCiAgICAgICAgICAgIGlmIChwb3BwZXJbcGxhY2VtZW50XSA8IGJvdW5kYXJpZXNbcGxhY2VtZW50XSAmJiAhb3B0aW9ucy5lc2NhcGVXaXRoUmVmZXJlbmNlKSB7CiAgICAgICAgICAgICAgdmFsdWUgPSBNYXRoLm1heChwb3BwZXJbcGxhY2VtZW50XSwgYm91bmRhcmllc1twbGFjZW1lbnRdKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KHt9LCBwbGFjZW1lbnQsIHZhbHVlKTsKICAgICAgICAgIH0sCiAgICAgICAgICBzZWNvbmRhcnk6IGZ1bmN0aW9uIHNlY29uZGFyeShwbGFjZW1lbnQpIHsKICAgICAgICAgICAgdmFyIG1haW5TaWRlID0gcGxhY2VtZW50ID09PSAncmlnaHQnID8gJ2xlZnQnIDogJ3RvcCc7CiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBvcHBlclttYWluU2lkZV07CgogICAgICAgICAgICBpZiAocG9wcGVyW3BsYWNlbWVudF0gPiBib3VuZGFyaWVzW3BsYWNlbWVudF0gJiYgIW9wdGlvbnMuZXNjYXBlV2l0aFJlZmVyZW5jZSkgewogICAgICAgICAgICAgIHZhbHVlID0gTWF0aC5taW4ocG9wcGVyW21haW5TaWRlXSwgYm91bmRhcmllc1twbGFjZW1lbnRdIC0gKHBsYWNlbWVudCA9PT0gJ3JpZ2h0JyA/IHBvcHBlci53aWR0aCA6IHBvcHBlci5oZWlnaHQpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KHt9LCBtYWluU2lkZSwgdmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgb3JkZXIuZm9yRWFjaChmdW5jdGlvbiAocGxhY2VtZW50KSB7CiAgICAgICAgICB2YXIgc2lkZSA9IFsnbGVmdCcsICd0b3AnXS5pbmRleE9mKHBsYWNlbWVudCkgIT09IC0xID8gJ3ByaW1hcnknIDogJ3NlY29uZGFyeSc7CiAgICAgICAgICBwb3BwZXIgPSBfZXh0ZW5kcyh7fSwgcG9wcGVyLCBjaGVja1tzaWRlXShwbGFjZW1lbnQpKTsKICAgICAgICB9KTsKICAgICAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gcG9wcGVyOwogICAgICAgIHJldHVybiBkYXRhOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBAZnVuY3Rpb24KICAgICAgICogQG1lbWJlcm9mIE1vZGlmaWVycwogICAgICAgKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kCiAgICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnMKICAgICAgICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZAogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBzaGlmdChkYXRhKSB7CiAgICAgICAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50OwogICAgICAgIHZhciBiYXNlUGxhY2VtZW50ID0gcGxhY2VtZW50LnNwbGl0KCctJylbMF07CiAgICAgICAgdmFyIHNoaWZ0dmFyaWF0aW9uID0gcGxhY2VtZW50LnNwbGl0KCctJylbMV07IC8vIGlmIHNoaWZ0IHNoaWZ0dmFyaWF0aW9uIGlzIHNwZWNpZmllZCwgcnVuIHRoZSBtb2RpZmllcgoKICAgICAgICBpZiAoc2hpZnR2YXJpYXRpb24pIHsKICAgICAgICAgIHZhciBfZGF0YSRvZmZzZXRzID0gZGF0YS5vZmZzZXRzLAogICAgICAgICAgICAgIHJlZmVyZW5jZSA9IF9kYXRhJG9mZnNldHMucmVmZXJlbmNlLAogICAgICAgICAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyOwogICAgICAgICAgdmFyIGlzVmVydGljYWwgPSBbJ2JvdHRvbScsICd0b3AnXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpICE9PSAtMTsKICAgICAgICAgIHZhciBzaWRlID0gaXNWZXJ0aWNhbCA/ICdsZWZ0JyA6ICd0b3AnOwogICAgICAgICAgdmFyIG1lYXN1cmVtZW50ID0gaXNWZXJ0aWNhbCA/ICd3aWR0aCcgOiAnaGVpZ2h0JzsKICAgICAgICAgIHZhciBzaGlmdE9mZnNldHMgPSB7CiAgICAgICAgICAgIHN0YXJ0OiBkZWZpbmVQcm9wZXJ0eSh7fSwgc2lkZSwgcmVmZXJlbmNlW3NpZGVdKSwKICAgICAgICAgICAgZW5kOiBkZWZpbmVQcm9wZXJ0eSh7fSwgc2lkZSwgcmVmZXJlbmNlW3NpZGVdICsgcmVmZXJlbmNlW21lYXN1cmVtZW50XSAtIHBvcHBlclttZWFzdXJlbWVudF0pCiAgICAgICAgICB9OwogICAgICAgICAgZGF0YS5vZmZzZXRzLnBvcHBlciA9IF9leHRlbmRzKHt9LCBwb3BwZXIsIHNoaWZ0T2Zmc2V0c1tzaGlmdHZhcmlhdGlvbl0pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgIH0KICAgICAgLyoqCiAgICAgICAqIEBmdW5jdGlvbgogICAgICAgKiBAbWVtYmVyb2YgTW9kaWZpZXJzCiAgICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgb2JqZWN0IGdlbmVyYXRlZCBieSB1cGRhdGUgbWV0aG9kCiAgICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnMKICAgICAgICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZAogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBoaWRlKGRhdGEpIHsKICAgICAgICBpZiAoIWlzTW9kaWZpZXJSZXF1aXJlZChkYXRhLmluc3RhbmNlLm1vZGlmaWVycywgJ2hpZGUnLCAncHJldmVudE92ZXJmbG93JykpIHsKICAgICAgICAgIHJldHVybiBkYXRhOwogICAgICAgIH0KCiAgICAgICAgdmFyIHJlZlJlY3QgPSBkYXRhLm9mZnNldHMucmVmZXJlbmNlOwogICAgICAgIHZhciBib3VuZCA9IGZpbmQoZGF0YS5pbnN0YW5jZS5tb2RpZmllcnMsIGZ1bmN0aW9uIChtb2RpZmllcikgewogICAgICAgICAgcmV0dXJuIG1vZGlmaWVyLm5hbWUgPT09ICdwcmV2ZW50T3ZlcmZsb3cnOwogICAgICAgIH0pLmJvdW5kYXJpZXM7CgogICAgICAgIGlmIChyZWZSZWN0LmJvdHRvbSA8IGJvdW5kLnRvcCB8fCByZWZSZWN0LmxlZnQgPiBib3VuZC5yaWdodCB8fCByZWZSZWN0LnRvcCA+IGJvdW5kLmJvdHRvbSB8fCByZWZSZWN0LnJpZ2h0IDwgYm91bmQubGVmdCkgewogICAgICAgICAgLy8gQXZvaWQgdW5uZWNlc3NhcnkgRE9NIGFjY2VzcyBpZiB2aXNpYmlsaXR5IGhhc24ndCBjaGFuZ2VkCiAgICAgICAgICBpZiAoZGF0YS5oaWRlID09PSB0cnVlKSB7CiAgICAgICAgICAgIHJldHVybiBkYXRhOwogICAgICAgICAgfQoKICAgICAgICAgIGRhdGEuaGlkZSA9IHRydWU7CiAgICAgICAgICBkYXRhLmF0dHJpYnV0ZXNbJ3gtb3V0LW9mLWJvdW5kYXJpZXMnXSA9ICcnOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBBdm9pZCB1bm5lY2Vzc2FyeSBET00gYWNjZXNzIGlmIHZpc2liaWxpdHkgaGFzbid0IGNoYW5nZWQKICAgICAgICAgIGlmIChkYXRhLmhpZGUgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiBkYXRhOwogICAgICAgICAgfQoKICAgICAgICAgIGRhdGEuaGlkZSA9IGZhbHNlOwogICAgICAgICAgZGF0YS5hdHRyaWJ1dGVzWyd4LW91dC1vZi1ib3VuZGFyaWVzJ10gPSBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBkYXRhOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBAZnVuY3Rpb24KICAgICAgICogQG1lbWJlcm9mIE1vZGlmaWVycwogICAgICAgKiBAYXJndW1lbnQge09iamVjdH0gZGF0YSAtIFRoZSBkYXRhIG9iamVjdCBnZW5lcmF0ZWQgYnkgYHVwZGF0ZWAgbWV0aG9kCiAgICAgICAqIEBhcmd1bWVudCB7T2JqZWN0fSBvcHRpb25zIC0gTW9kaWZpZXJzIGNvbmZpZ3VyYXRpb24gYW5kIG9wdGlvbnMKICAgICAgICogQHJldHVybnMge09iamVjdH0gVGhlIGRhdGEgb2JqZWN0LCBwcm9wZXJseSBtb2RpZmllZAogICAgICAgKi8KCgogICAgICBmdW5jdGlvbiBpbm5lcihkYXRhKSB7CiAgICAgICAgdmFyIHBsYWNlbWVudCA9IGRhdGEucGxhY2VtZW50OwogICAgICAgIHZhciBiYXNlUGxhY2VtZW50ID0gcGxhY2VtZW50LnNwbGl0KCctJylbMF07CiAgICAgICAgdmFyIF9kYXRhJG9mZnNldHMgPSBkYXRhLm9mZnNldHMsCiAgICAgICAgICAgIHBvcHBlciA9IF9kYXRhJG9mZnNldHMucG9wcGVyLAogICAgICAgICAgICByZWZlcmVuY2UgPSBfZGF0YSRvZmZzZXRzLnJlZmVyZW5jZTsKICAgICAgICB2YXIgaXNIb3JpeiA9IFsnbGVmdCcsICdyaWdodCddLmluZGV4T2YoYmFzZVBsYWNlbWVudCkgIT09IC0xOwogICAgICAgIHZhciBzdWJ0cmFjdExlbmd0aCA9IFsndG9wJywgJ2xlZnQnXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpID09PSAtMTsKICAgICAgICBwb3BwZXJbaXNIb3JpeiA/ICdsZWZ0JyA6ICd0b3AnXSA9IHJlZmVyZW5jZVtiYXNlUGxhY2VtZW50XSAtIChzdWJ0cmFjdExlbmd0aCA/IHBvcHBlcltpc0hvcml6ID8gJ3dpZHRoJyA6ICdoZWlnaHQnXSA6IDApOwogICAgICAgIGRhdGEucGxhY2VtZW50ID0gZ2V0T3Bwb3NpdGVQbGFjZW1lbnQocGxhY2VtZW50KTsKICAgICAgICBkYXRhLm9mZnNldHMucG9wcGVyID0gZ2V0Q2xpZW50UmVjdChwb3BwZXIpOwogICAgICAgIHJldHVybiBkYXRhOwogICAgICB9CiAgICAgIC8qKgogICAgICAgKiBNb2RpZmllciBmdW5jdGlvbiwgZWFjaCBtb2RpZmllciBjYW4gaGF2ZSBhIGZ1bmN0aW9uIG9mIHRoaXMgdHlwZSBhc3NpZ25lZAogICAgICAgKiB0byBpdHMgYGZuYCBwcm9wZXJ0eS48YnIgLz4KICAgICAgICogVGhlc2UgZnVuY3Rpb25zIHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggdXBkYXRlLCB0aGlzIG1lYW5zIHRoYXQgeW91IG11c3QKICAgICAgICogbWFrZSBzdXJlIHRoZXkgYXJlIHBlcmZvcm1hbnQgZW5vdWdoIHRvIGF2b2lkIHBlcmZvcm1hbmNlIGJvdHRsZW5lY2tzLgogICAgICAgKgogICAgICAgKiBAZnVuY3Rpb24gTW9kaWZpZXJGbgogICAgICAgKiBAYXJndW1lbnQge2RhdGFPYmplY3R9IGRhdGEgLSBUaGUgZGF0YSBvYmplY3QgZ2VuZXJhdGVkIGJ5IGB1cGRhdGVgIG1ldGhvZAogICAgICAgKiBAYXJndW1lbnQge09iamVjdH0gb3B0aW9ucyAtIE1vZGlmaWVycyBjb25maWd1cmF0aW9uIGFuZCBvcHRpb25zCiAgICAgICAqIEByZXR1cm5zIHtkYXRhT2JqZWN0fSBUaGUgZGF0YSBvYmplY3QsIHByb3Blcmx5IG1vZGlmaWVkCiAgICAgICAqLwoKICAgICAgLyoqCiAgICAgICAqIE1vZGlmaWVycyBhcmUgcGx1Z2lucyB1c2VkIHRvIGFsdGVyIHRoZSBiZWhhdmlvciBvZiB5b3VyIHBvcHBlcnMuPGJyIC8+CiAgICAgICAqIFBvcHBlci5qcyB1c2VzIGEgc2V0IG9mIDkgbW9kaWZpZXJzIHRvIHByb3ZpZGUgYWxsIHRoZSBiYXNpYyBmdW5jdGlvbmFsaXRpZXMKICAgICAgICogbmVlZGVkIGJ5IHRoZSBsaWJyYXJ5LgogICAgICAgKgogICAgICAgKiBVc3VhbGx5IHlvdSBkb24ndCB3YW50IHRvIG92ZXJyaWRlIHRoZSBgb3JkZXJgLCBgZm5gIGFuZCBgb25Mb2FkYCBwcm9wcy4KICAgICAgICogQWxsIHRoZSBvdGhlciBwcm9wZXJ0aWVzIGFyZSBjb25maWd1cmF0aW9ucyB0aGF0IGNvdWxkIGJlIHR3ZWFrZWQuCiAgICAgICAqIEBuYW1lc3BhY2UgbW9kaWZpZXJzCiAgICAgICAqLwoKCiAgICAgIHZhciBtb2RpZmllcnMgPSB7CiAgICAgICAgLyoqCiAgICAgICAgICogTW9kaWZpZXIgdXNlZCB0byBzaGlmdCB0aGUgcG9wcGVyIG9uIHRoZSBzdGFydCBvciBlbmQgb2YgaXRzIHJlZmVyZW5jZQogICAgICAgICAqIGVsZW1lbnQuPGJyIC8+CiAgICAgICAgICogSXQgd2lsbCByZWFkIHRoZSB2YXJpYXRpb24gb2YgdGhlIGBwbGFjZW1lbnRgIHByb3BlcnR5LjxiciAvPgogICAgICAgICAqIEl0IGNhbiBiZSBvbmUgZWl0aGVyIGAtZW5kYCBvciBgLXN0YXJ0YC4KICAgICAgICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzCiAgICAgICAgICogQGlubmVyCiAgICAgICAgICovCiAgICAgICAgc2hpZnQ6IHsKICAgICAgICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj0xMDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovCiAgICAgICAgICBvcmRlcjogMTAwLAoKICAgICAgICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi8KICAgICAgICAgIGVuYWJsZWQ6IHRydWUsCgogICAgICAgICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqLwogICAgICAgICAgZm46IHNoaWZ0CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogVGhlIGBvZmZzZXRgIG1vZGlmaWVyIGNhbiBzaGlmdCB5b3VyIHBvcHBlciBvbiBib3RoIGl0cyBheGlzLgogICAgICAgICAqCiAgICAgICAgICogSXQgYWNjZXB0cyB0aGUgZm9sbG93aW5nIHVuaXRzOgogICAgICAgICAqIC0gYHB4YCBvciB1bml0LWxlc3MsIGludGVycHJldGVkIGFzIHBpeGVscwogICAgICAgICAqIC0gYCVgIG9yIGAlcmAsIHBlcmNlbnRhZ2UgcmVsYXRpdmUgdG8gdGhlIGxlbmd0aCBvZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQKICAgICAgICAgKiAtIGAlcGAsIHBlcmNlbnRhZ2UgcmVsYXRpdmUgdG8gdGhlIGxlbmd0aCBvZiB0aGUgcG9wcGVyIGVsZW1lbnQKICAgICAgICAgKiAtIGB2d2AsIENTUyB2aWV3cG9ydCB3aWR0aCB1bml0CiAgICAgICAgICogLSBgdmhgLCBDU1Mgdmlld3BvcnQgaGVpZ2h0IHVuaXQKICAgICAgICAgKgogICAgICAgICAqIEZvciBsZW5ndGggaXMgaW50ZW5kZWQgdGhlIG1haW4gYXhpcyByZWxhdGl2ZSB0byB0aGUgcGxhY2VtZW50IG9mIHRoZSBwb3BwZXIuPGJyIC8+CiAgICAgICAgICogVGhpcyBtZWFucyB0aGF0IGlmIHRoZSBwbGFjZW1lbnQgaXMgYHRvcGAgb3IgYGJvdHRvbWAsIHRoZSBsZW5ndGggd2lsbCBiZSB0aGUKICAgICAgICAgKiBgd2lkdGhgLiBJbiBjYXNlIG9mIGBsZWZ0YCBvciBgcmlnaHRgLCBpdCB3aWxsIGJlIHRoZSBgaGVpZ2h0YC4KICAgICAgICAgKgogICAgICAgICAqIFlvdSBjYW4gcHJvdmlkZSBhIHNpbmdsZSB2YWx1ZSAoYXMgYE51bWJlcmAgb3IgYFN0cmluZ2ApLCBvciBhIHBhaXIgb2YgdmFsdWVzCiAgICAgICAgICogYXMgYFN0cmluZ2AgZGl2aWRlZCBieSBhIGNvbW1hIG9yIG9uZSAob3IgbW9yZSkgd2hpdGUgc3BhY2VzLjxiciAvPgogICAgICAgICAqIFRoZSBsYXR0ZXIgaXMgYSBkZXByZWNhdGVkIG1ldGhvZCBiZWNhdXNlIGl0IGxlYWRzIHRvIGNvbmZ1c2lvbiBhbmQgd2lsbCBiZQogICAgICAgICAqIHJlbW92ZWQgaW4gdjIuPGJyIC8+CiAgICAgICAgICogQWRkaXRpb25hbGx5LCBpdCBhY2NlcHRzIGFkZGl0aW9ucyBhbmQgc3VidHJhY3Rpb25zIGJldHdlZW4gZGlmZmVyZW50IHVuaXRzLgogICAgICAgICAqIE5vdGUgdGhhdCBtdWx0aXBsaWNhdGlvbnMgYW5kIGRpdmlzaW9ucyBhcmVuJ3Qgc3VwcG9ydGVkLgogICAgICAgICAqCiAgICAgICAgICogVmFsaWQgZXhhbXBsZXMgYXJlOgogICAgICAgICAqIGBgYAogICAgICAgICAqIDEwCiAgICAgICAgICogJzEwJScKICAgICAgICAgKiAnMTAsIDEwJwogICAgICAgICAqICcxMCUsIDEwJwogICAgICAgICAqICcxMCArIDEwJScKICAgICAgICAgKiAnMTAgLSA1dmggKyAzJScKICAgICAgICAgKiAnLTEwcHggKyA1dmgsIDVweCAtIDYlJwogICAgICAgICAqIGBgYAogICAgICAgICAqID4gKipOQioqOiBJZiB5b3UgZGVzaXJlIHRvIGFwcGx5IG9mZnNldHMgdG8geW91ciBwb3BwZXJzIGluIGEgd2F5IHRoYXQgbWF5IG1ha2UgdGhlbSBvdmVybGFwCiAgICAgICAgICogPiB3aXRoIHRoZWlyIHJlZmVyZW5jZSBlbGVtZW50LCB1bmZvcnR1bmF0ZWx5LCB5b3Ugd2lsbCBoYXZlIHRvIGRpc2FibGUgdGhlIGBmbGlwYCBtb2RpZmllci4KICAgICAgICAgKiA+IFlvdSBjYW4gcmVhZCBtb3JlIG9uIHRoaXMgYXQgdGhpcyBbaXNzdWVdKGh0dHBzOi8vZ2l0aHViLmNvbS9GZXpWcmFzdGEvcG9wcGVyLmpzL2lzc3Vlcy8zNzMpLgogICAgICAgICAqCiAgICAgICAgICogQG1lbWJlcm9mIG1vZGlmaWVycwogICAgICAgICAqIEBpbm5lcgogICAgICAgICAqLwogICAgICAgIG9mZnNldDogewogICAgICAgICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTIwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi8KICAgICAgICAgIG9yZGVyOiAyMDAsCgogICAgICAgICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqLwogICAgICAgICAgZW5hYmxlZDogdHJ1ZSwKCiAgICAgICAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovCiAgICAgICAgICBmbjogb2Zmc2V0LAoKICAgICAgICAgIC8qKiBAcHJvcCB7TnVtYmVyfFN0cmluZ30gb2Zmc2V0PTAKICAgICAgICAgICAqIFRoZSBvZmZzZXQgdmFsdWUgYXMgZGVzY3JpYmVkIGluIHRoZSBtb2RpZmllciBkZXNjcmlwdGlvbgogICAgICAgICAgICovCiAgICAgICAgICBvZmZzZXQ6IDAKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBNb2RpZmllciB1c2VkIHRvIHByZXZlbnQgdGhlIHBvcHBlciBmcm9tIGJlaW5nIHBvc2l0aW9uZWQgb3V0c2lkZSB0aGUgYm91bmRhcnkuCiAgICAgICAgICoKICAgICAgICAgKiBBIHNjZW5hcmlvIGV4aXN0cyB3aGVyZSB0aGUgcmVmZXJlbmNlIGl0c2VsZiBpcyBub3Qgd2l0aGluIHRoZSBib3VuZGFyaWVzLjxiciAvPgogICAgICAgICAqIFdlIGNhbiBzYXkgaXQgaGFzICJlc2NhcGVkIHRoZSBib3VuZGFyaWVzIiDigJQgb3IganVzdCAiZXNjYXBlZCIuPGJyIC8+CiAgICAgICAgICogSW4gdGhpcyBjYXNlIHdlIG5lZWQgdG8gZGVjaWRlIHdoZXRoZXIgdGhlIHBvcHBlciBzaG91bGQgZWl0aGVyOgogICAgICAgICAqCiAgICAgICAgICogLSBkZXRhY2ggZnJvbSB0aGUgcmVmZXJlbmNlIGFuZCByZW1haW4gInRyYXBwZWQiIGluIHRoZSBib3VuZGFyaWVzLCBvcgogICAgICAgICAqIC0gaWYgaXQgc2hvdWxkIGlnbm9yZSB0aGUgYm91bmRhcnkgYW5kICJlc2NhcGUgd2l0aCBpdHMgcmVmZXJlbmNlIgogICAgICAgICAqCiAgICAgICAgICogV2hlbiBgZXNjYXBlV2l0aFJlZmVyZW5jZWAgaXMgc2V0IHRvYHRydWVgIGFuZCByZWZlcmVuY2UgaXMgY29tcGxldGVseQogICAgICAgICAqIG91dHNpZGUgaXRzIGJvdW5kYXJpZXMsIHRoZSBwb3BwZXIgd2lsbCBvdmVyZmxvdyAob3IgY29tcGxldGVseSBsZWF2ZSkKICAgICAgICAgKiB0aGUgYm91bmRhcmllcyBpbiBvcmRlciB0byByZW1haW4gYXR0YWNoZWQgdG8gdGhlIGVkZ2Ugb2YgdGhlIHJlZmVyZW5jZS4KICAgICAgICAgKgogICAgICAgICAqIEBtZW1iZXJvZiBtb2RpZmllcnMKICAgICAgICAgKiBAaW5uZXIKICAgICAgICAgKi8KICAgICAgICBwcmV2ZW50T3ZlcmZsb3c6IHsKICAgICAgICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj0zMDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovCiAgICAgICAgICBvcmRlcjogMzAwLAoKICAgICAgICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi8KICAgICAgICAgIGVuYWJsZWQ6IHRydWUsCgogICAgICAgICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqLwogICAgICAgICAgZm46IHByZXZlbnRPdmVyZmxvdywKCiAgICAgICAgICAvKioKICAgICAgICAgICAqIEBwcm9wIHtBcnJheX0gW3ByaW9yaXR5PVsnbGVmdCcsJ3JpZ2h0JywndG9wJywnYm90dG9tJ11dCiAgICAgICAgICAgKiBQb3BwZXIgd2lsbCB0cnkgdG8gcHJldmVudCBvdmVyZmxvdyBmb2xsb3dpbmcgdGhlc2UgcHJpb3JpdGllcyBieSBkZWZhdWx0LAogICAgICAgICAgICogdGhlbiwgaXQgY291bGQgb3ZlcmZsb3cgb24gdGhlIGxlZnQgYW5kIG9uIHRvcCBvZiB0aGUgYGJvdW5kYXJpZXNFbGVtZW50YAogICAgICAgICAgICovCiAgICAgICAgICBwcmlvcml0eTogWydsZWZ0JywgJ3JpZ2h0JywgJ3RvcCcsICdib3R0b20nXSwKCiAgICAgICAgICAvKioKICAgICAgICAgICAqIEBwcm9wIHtudW1iZXJ9IHBhZGRpbmc9NQogICAgICAgICAgICogQW1vdW50IG9mIHBpeGVsIHVzZWQgdG8gZGVmaW5lIGEgbWluaW11bSBkaXN0YW5jZSBiZXR3ZWVuIHRoZSBib3VuZGFyaWVzCiAgICAgICAgICAgKiBhbmQgdGhlIHBvcHBlci4gVGhpcyBtYWtlcyBzdXJlIHRoZSBwb3BwZXIgYWx3YXlzIGhhcyBhIGxpdHRsZSBwYWRkaW5nCiAgICAgICAgICAgKiBiZXR3ZWVuIHRoZSBlZGdlcyBvZiBpdHMgY29udGFpbmVyCiAgICAgICAgICAgKi8KICAgICAgICAgIHBhZGRpbmc6IDUsCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAcHJvcCB7U3RyaW5nfEhUTUxFbGVtZW50fSBib3VuZGFyaWVzRWxlbWVudD0nc2Nyb2xsUGFyZW50JwogICAgICAgICAgICogQm91bmRhcmllcyB1c2VkIGJ5IHRoZSBtb2RpZmllci4gQ2FuIGJlIGBzY3JvbGxQYXJlbnRgLCBgd2luZG93YCwKICAgICAgICAgICAqIGB2aWV3cG9ydGAgb3IgYW55IERPTSBlbGVtZW50LgogICAgICAgICAgICovCiAgICAgICAgICBib3VuZGFyaWVzRWxlbWVudDogJ3Njcm9sbFBhcmVudCcKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBNb2RpZmllciB1c2VkIHRvIG1ha2Ugc3VyZSB0aGUgcmVmZXJlbmNlIGFuZCBpdHMgcG9wcGVyIHN0YXkgbmVhciBlYWNoIG90aGVyCiAgICAgICAgICogd2l0aG91dCBsZWF2aW5nIGFueSBnYXAgYmV0d2VlbiB0aGUgdHdvLiBFc3BlY2lhbGx5IHVzZWZ1bCB3aGVuIHRoZSBhcnJvdyBpcwogICAgICAgICAqIGVuYWJsZWQgYW5kIHlvdSB3YW50IHRvIGVuc3VyZSB0aGF0IGl0IHBvaW50cyB0byBpdHMgcmVmZXJlbmNlIGVsZW1lbnQuCiAgICAgICAgICogSXQgY2FyZXMgb25seSBhYm91dCB0aGUgZmlyc3QgYXhpcy4gWW91IGNhbiBzdGlsbCBoYXZlIHBvcHBlcnMgd2l0aCBtYXJnaW4KICAgICAgICAgKiBiZXR3ZWVuIHRoZSBwb3BwZXIgYW5kIGl0cyByZWZlcmVuY2UgZWxlbWVudC4KICAgICAgICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzCiAgICAgICAgICogQGlubmVyCiAgICAgICAgICovCiAgICAgICAga2VlcFRvZ2V0aGVyOiB7CiAgICAgICAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NDAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqLwogICAgICAgICAgb3JkZXI6IDQwMCwKCiAgICAgICAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovCiAgICAgICAgICBlbmFibGVkOiB0cnVlLAoKICAgICAgICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi8KICAgICAgICAgIGZuOiBrZWVwVG9nZXRoZXIKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBUaGlzIG1vZGlmaWVyIGlzIHVzZWQgdG8gbW92ZSB0aGUgYGFycm93RWxlbWVudGAgb2YgdGhlIHBvcHBlciB0byBtYWtlCiAgICAgICAgICogc3VyZSBpdCBpcyBwb3NpdGlvbmVkIGJldHdlZW4gdGhlIHJlZmVyZW5jZSBlbGVtZW50IGFuZCBpdHMgcG9wcGVyIGVsZW1lbnQuCiAgICAgICAgICogSXQgd2lsbCByZWFkIHRoZSBvdXRlciBzaXplIG9mIHRoZSBgYXJyb3dFbGVtZW50YCBub2RlIHRvIGRldGVjdCBob3cgbWFueQogICAgICAgICAqIHBpeGVscyBvZiBjb25qdW5jdGlvbiBhcmUgbmVlZGVkLgogICAgICAgICAqCiAgICAgICAgICogSXQgaGFzIG5vIGVmZmVjdCBpZiBubyBgYXJyb3dFbGVtZW50YCBpcyBwcm92aWRlZC4KICAgICAgICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzCiAgICAgICAgICogQGlubmVyCiAgICAgICAgICovCiAgICAgICAgYXJyb3c6IHsKICAgICAgICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj01MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovCiAgICAgICAgICBvcmRlcjogNTAwLAoKICAgICAgICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi8KICAgICAgICAgIGVuYWJsZWQ6IHRydWUsCgogICAgICAgICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqLwogICAgICAgICAgZm46IGFycm93LAoKICAgICAgICAgIC8qKiBAcHJvcCB7U3RyaW5nfEhUTUxFbGVtZW50fSBlbGVtZW50PSdbeC1hcnJvd10nIC0gU2VsZWN0b3Igb3Igbm9kZSB1c2VkIGFzIGFycm93ICovCiAgICAgICAgICBlbGVtZW50OiAnW3gtYXJyb3ddJwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIE1vZGlmaWVyIHVzZWQgdG8gZmxpcCB0aGUgcG9wcGVyJ3MgcGxhY2VtZW50IHdoZW4gaXQgc3RhcnRzIHRvIG92ZXJsYXAgaXRzCiAgICAgICAgICogcmVmZXJlbmNlIGVsZW1lbnQuCiAgICAgICAgICoKICAgICAgICAgKiBSZXF1aXJlcyB0aGUgYHByZXZlbnRPdmVyZmxvd2AgbW9kaWZpZXIgYmVmb3JlIGl0IGluIG9yZGVyIHRvIHdvcmsuCiAgICAgICAgICoKICAgICAgICAgKiAqKk5PVEU6KiogdGhpcyBtb2RpZmllciB3aWxsIGludGVycnVwdCB0aGUgY3VycmVudCB1cGRhdGUgY3ljbGUgYW5kIHdpbGwKICAgICAgICAgKiByZXN0YXJ0IGl0IGlmIGl0IGRldGVjdHMgdGhlIG5lZWQgdG8gZmxpcCB0aGUgcGxhY2VtZW50LgogICAgICAgICAqIEBtZW1iZXJvZiBtb2RpZmllcnMKICAgICAgICAgKiBAaW5uZXIKICAgICAgICAgKi8KICAgICAgICBmbGlwOiB7CiAgICAgICAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9NjAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqLwogICAgICAgICAgb3JkZXI6IDYwMCwKCiAgICAgICAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovCiAgICAgICAgICBlbmFibGVkOiB0cnVlLAoKICAgICAgICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi8KICAgICAgICAgIGZuOiBmbGlwLAoKICAgICAgICAgIC8qKgogICAgICAgICAgICogQHByb3Age1N0cmluZ3xBcnJheX0gYmVoYXZpb3I9J2ZsaXAnCiAgICAgICAgICAgKiBUaGUgYmVoYXZpb3IgdXNlZCB0byBjaGFuZ2UgdGhlIHBvcHBlcidzIHBsYWNlbWVudC4gSXQgY2FuIGJlIG9uZSBvZgogICAgICAgICAgICogYGZsaXBgLCBgY2xvY2t3aXNlYCwgYGNvdW50ZXJjbG9ja3dpc2VgIG9yIGFuIGFycmF5IHdpdGggYSBsaXN0IG9mIHZhbGlkCiAgICAgICAgICAgKiBwbGFjZW1lbnRzICh3aXRoIG9wdGlvbmFsIHZhcmlhdGlvbnMpCiAgICAgICAgICAgKi8KICAgICAgICAgIGJlaGF2aW9yOiAnZmxpcCcsCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAcHJvcCB7bnVtYmVyfSBwYWRkaW5nPTUKICAgICAgICAgICAqIFRoZSBwb3BwZXIgd2lsbCBmbGlwIGlmIGl0IGhpdHMgdGhlIGVkZ2VzIG9mIHRoZSBgYm91bmRhcmllc0VsZW1lbnRgCiAgICAgICAgICAgKi8KICAgICAgICAgIHBhZGRpbmc6IDUsCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAcHJvcCB7U3RyaW5nfEhUTUxFbGVtZW50fSBib3VuZGFyaWVzRWxlbWVudD0ndmlld3BvcnQnCiAgICAgICAgICAgKiBUaGUgZWxlbWVudCB3aGljaCB3aWxsIGRlZmluZSB0aGUgYm91bmRhcmllcyBvZiB0aGUgcG9wcGVyIHBvc2l0aW9uLgogICAgICAgICAgICogVGhlIHBvcHBlciB3aWxsIG5ldmVyIGJlIHBsYWNlZCBvdXRzaWRlIG9mIHRoZSBkZWZpbmVkIGJvdW5kYXJpZXMKICAgICAgICAgICAqIChleGNlcHQgaWYgYGtlZXBUb2dldGhlcmAgaXMgZW5hYmxlZCkKICAgICAgICAgICAqLwogICAgICAgICAgYm91bmRhcmllc0VsZW1lbnQ6ICd2aWV3cG9ydCcsCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gZmxpcFZhcmlhdGlvbnM9ZmFsc2UKICAgICAgICAgICAqIFRoZSBwb3BwZXIgd2lsbCBzd2l0Y2ggcGxhY2VtZW50IHZhcmlhdGlvbiBiZXR3ZWVuIGAtc3RhcnRgIGFuZCBgLWVuZGAgd2hlbgogICAgICAgICAgICogdGhlIHJlZmVyZW5jZSBlbGVtZW50IG92ZXJsYXBzIGl0cyBib3VuZGFyaWVzLgogICAgICAgICAgICoKICAgICAgICAgICAqIFRoZSBvcmlnaW5hbCBwbGFjZW1lbnQgc2hvdWxkIGhhdmUgYSBzZXQgdmFyaWF0aW9uLgogICAgICAgICAgICovCiAgICAgICAgICBmbGlwVmFyaWF0aW9uczogZmFsc2UsCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gZmxpcFZhcmlhdGlvbnNCeUNvbnRlbnQ9ZmFsc2UKICAgICAgICAgICAqIFRoZSBwb3BwZXIgd2lsbCBzd2l0Y2ggcGxhY2VtZW50IHZhcmlhdGlvbiBiZXR3ZWVuIGAtc3RhcnRgIGFuZCBgLWVuZGAgd2hlbgogICAgICAgICAgICogdGhlIHBvcHBlciBlbGVtZW50IG92ZXJsYXBzIGl0cyByZWZlcmVuY2UgYm91bmRhcmllcy4KICAgICAgICAgICAqCiAgICAgICAgICAgKiBUaGUgb3JpZ2luYWwgcGxhY2VtZW50IHNob3VsZCBoYXZlIGEgc2V0IHZhcmlhdGlvbi4KICAgICAgICAgICAqLwogICAgICAgICAgZmxpcFZhcmlhdGlvbnNCeUNvbnRlbnQ6IGZhbHNlCiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogTW9kaWZpZXIgdXNlZCB0byBtYWtlIHRoZSBwb3BwZXIgZmxvdyB0b3dhcmQgdGhlIGlubmVyIG9mIHRoZSByZWZlcmVuY2UgZWxlbWVudC4KICAgICAgICAgKiBCeSBkZWZhdWx0LCB3aGVuIHRoaXMgbW9kaWZpZXIgaXMgZGlzYWJsZWQsIHRoZSBwb3BwZXIgd2lsbCBiZSBwbGFjZWQgb3V0c2lkZQogICAgICAgICAqIHRoZSByZWZlcmVuY2UgZWxlbWVudC4KICAgICAgICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzCiAgICAgICAgICogQGlubmVyCiAgICAgICAgICovCiAgICAgICAgaW5uZXI6IHsKICAgICAgICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj03MDAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovCiAgICAgICAgICBvcmRlcjogNzAwLAoKICAgICAgICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD1mYWxzZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovCiAgICAgICAgICBlbmFibGVkOiBmYWxzZSwKCiAgICAgICAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovCiAgICAgICAgICBmbjogaW5uZXIKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBNb2RpZmllciB1c2VkIHRvIGhpZGUgdGhlIHBvcHBlciB3aGVuIGl0cyByZWZlcmVuY2UgZWxlbWVudCBpcyBvdXRzaWRlIG9mIHRoZQogICAgICAgICAqIHBvcHBlciBib3VuZGFyaWVzLiBJdCB3aWxsIHNldCBhIGB4LW91dC1vZi1ib3VuZGFyaWVzYCBhdHRyaWJ1dGUgd2hpY2ggY2FuCiAgICAgICAgICogYmUgdXNlZCB0byBoaWRlIHdpdGggYSBDU1Mgc2VsZWN0b3IgdGhlIHBvcHBlciB3aGVuIGl0cyByZWZlcmVuY2UgaXMKICAgICAgICAgKiBvdXQgb2YgYm91bmRhcmllcy4KICAgICAgICAgKgogICAgICAgICAqIFJlcXVpcmVzIHRoZSBgcHJldmVudE92ZXJmbG93YCBtb2RpZmllciBiZWZvcmUgaXQgaW4gb3JkZXIgdG8gd29yay4KICAgICAgICAgKiBAbWVtYmVyb2YgbW9kaWZpZXJzCiAgICAgICAgICogQGlubmVyCiAgICAgICAgICovCiAgICAgICAgaGlkZTogewogICAgICAgICAgLyoqIEBwcm9wIHtudW1iZXJ9IG9yZGVyPTgwMCAtIEluZGV4IHVzZWQgdG8gZGVmaW5lIHRoZSBvcmRlciBvZiBleGVjdXRpb24gKi8KICAgICAgICAgIG9yZGVyOiA4MDAsCgogICAgICAgICAgLyoqIEBwcm9wIHtCb29sZWFufSBlbmFibGVkPXRydWUgLSBXaGV0aGVyIHRoZSBtb2RpZmllciBpcyBlbmFibGVkIG9yIG5vdCAqLwogICAgICAgICAgZW5hYmxlZDogdHJ1ZSwKCiAgICAgICAgICAvKiogQHByb3Age01vZGlmaWVyRm59ICovCiAgICAgICAgICBmbjogaGlkZQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIENvbXB1dGVzIHRoZSBzdHlsZSB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyIGVsZW1lbnQgdG8gZ2V0cwogICAgICAgICAqIHByb3Blcmx5IHBvc2l0aW9uZWQuCiAgICAgICAgICoKICAgICAgICAgKiBOb3RlIHRoYXQgdGhpcyBtb2RpZmllciB3aWxsIG5vdCB0b3VjaCB0aGUgRE9NLCBpdCBqdXN0IHByZXBhcmVzIHRoZSBzdHlsZXMKICAgICAgICAgKiBzbyB0aGF0IGBhcHBseVN0eWxlYCBtb2RpZmllciBjYW4gYXBwbHkgaXQuIFRoaXMgc2VwYXJhdGlvbiBpcyB1c2VmdWwKICAgICAgICAgKiBpbiBjYXNlIHlvdSBuZWVkIHRvIHJlcGxhY2UgYGFwcGx5U3R5bGVgIHdpdGggYSBjdXN0b20gaW1wbGVtZW50YXRpb24uCiAgICAgICAgICoKICAgICAgICAgKiBUaGlzIG1vZGlmaWVyIGhhcyBgODUwYCBhcyBgb3JkZXJgIHZhbHVlIHRvIG1haW50YWluIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkKICAgICAgICAgKiB3aXRoIHByZXZpb3VzIHZlcnNpb25zIG9mIFBvcHBlci5qcy4gRXhwZWN0IHRoZSBtb2RpZmllcnMgb3JkZXJpbmcgbWV0aG9kCiAgICAgICAgICogdG8gY2hhbmdlIGluIGZ1dHVyZSBtYWpvciB2ZXJzaW9ucyBvZiB0aGUgbGlicmFyeS4KICAgICAgICAgKgogICAgICAgICAqIEBtZW1iZXJvZiBtb2RpZmllcnMKICAgICAgICAgKiBAaW5uZXIKICAgICAgICAgKi8KICAgICAgICBjb21wdXRlU3R5bGU6IHsKICAgICAgICAgIC8qKiBAcHJvcCB7bnVtYmVyfSBvcmRlcj04NTAgLSBJbmRleCB1c2VkIHRvIGRlZmluZSB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uICovCiAgICAgICAgICBvcmRlcjogODUwLAoKICAgICAgICAgIC8qKiBAcHJvcCB7Qm9vbGVhbn0gZW5hYmxlZD10cnVlIC0gV2hldGhlciB0aGUgbW9kaWZpZXIgaXMgZW5hYmxlZCBvciBub3QgKi8KICAgICAgICAgIGVuYWJsZWQ6IHRydWUsCgogICAgICAgICAgLyoqIEBwcm9wIHtNb2RpZmllckZufSAqLwogICAgICAgICAgZm46IGNvbXB1dGVTdHlsZSwKCiAgICAgICAgICAvKioKICAgICAgICAgICAqIEBwcm9wIHtCb29sZWFufSBncHVBY2NlbGVyYXRpb249dHJ1ZQogICAgICAgICAgICogSWYgdHJ1ZSwgaXQgdXNlcyB0aGUgQ1NTIDNEIHRyYW5zZm9ybWF0aW9uIHRvIHBvc2l0aW9uIHRoZSBwb3BwZXIuCiAgICAgICAgICAgKiBPdGhlcndpc2UsIGl0IHdpbGwgdXNlIHRoZSBgdG9wYCBhbmQgYGxlZnRgIHByb3BlcnRpZXMKICAgICAgICAgICAqLwogICAgICAgICAgZ3B1QWNjZWxlcmF0aW9uOiB0cnVlLAoKICAgICAgICAgIC8qKgogICAgICAgICAgICogQHByb3Age3N0cmluZ30gW3g9J2JvdHRvbSddCiAgICAgICAgICAgKiBXaGVyZSB0byBhbmNob3IgdGhlIFggYXhpcyAoYGJvdHRvbWAgb3IgYHRvcGApLiBBS0EgWCBvZmZzZXQgb3JpZ2luLgogICAgICAgICAgICogQ2hhbmdlIHRoaXMgaWYgeW91ciBwb3BwZXIgc2hvdWxkIGdyb3cgaW4gYSBkaXJlY3Rpb24gZGlmZmVyZW50IGZyb20gYGJvdHRvbWAKICAgICAgICAgICAqLwogICAgICAgICAgeDogJ2JvdHRvbScsCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAcHJvcCB7c3RyaW5nfSBbeD0nbGVmdCddCiAgICAgICAgICAgKiBXaGVyZSB0byBhbmNob3IgdGhlIFkgYXhpcyAoYGxlZnRgIG9yIGByaWdodGApLiBBS0EgWSBvZmZzZXQgb3JpZ2luLgogICAgICAgICAgICogQ2hhbmdlIHRoaXMgaWYgeW91ciBwb3BwZXIgc2hvdWxkIGdyb3cgaW4gYSBkaXJlY3Rpb24gZGlmZmVyZW50IGZyb20gYHJpZ2h0YAogICAgICAgICAgICovCiAgICAgICAgICB5OiAncmlnaHQnCiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQXBwbGllcyB0aGUgY29tcHV0ZWQgc3R5bGVzIHRvIHRoZSBwb3BwZXIgZWxlbWVudC4KICAgICAgICAgKgogICAgICAgICAqIEFsbCB0aGUgRE9NIG1hbmlwdWxhdGlvbnMgYXJlIGxpbWl0ZWQgdG8gdGhpcyBtb2RpZmllci4gVGhpcyBpcyB1c2VmdWwgaW4gY2FzZQogICAgICAgICAqIHlvdSB3YW50IHRvIGludGVncmF0ZSBQb3BwZXIuanMgaW5zaWRlIGEgZnJhbWV3b3JrIG9yIHZpZXcgbGlicmFyeSBhbmQgeW91CiAgICAgICAgICogd2FudCB0byBkZWxlZ2F0ZSBhbGwgdGhlIERPTSBtYW5pcHVsYXRpb25zIHRvIGl0LgogICAgICAgICAqCiAgICAgICAgICogTm90ZSB0aGF0IGlmIHlvdSBkaXNhYmxlIHRoaXMgbW9kaWZpZXIsIHlvdSBtdXN0IG1ha2Ugc3VyZSB0aGUgcG9wcGVyIGVsZW1lbnQKICAgICAgICAgKiBoYXMgaXRzIHBvc2l0aW9uIHNldCB0byBgYWJzb2x1dGVgIGJlZm9yZSBQb3BwZXIuanMgY2FuIGRvIGl0cyB3b3JrIQogICAgICAgICAqCiAgICAgICAgICogSnVzdCBkaXNhYmxlIHRoaXMgbW9kaWZpZXIgYW5kIGRlZmluZSB5b3VyIG93biB0byBhY2hpZXZlIHRoZSBkZXNpcmVkIGVmZmVjdC4KICAgICAgICAgKgogICAgICAgICAqIEBtZW1iZXJvZiBtb2RpZmllcnMKICAgICAgICAgKiBAaW5uZXIKICAgICAgICAgKi8KICAgICAgICBhcHBseVN0eWxlOiB7CiAgICAgICAgICAvKiogQHByb3Age251bWJlcn0gb3JkZXI9OTAwIC0gSW5kZXggdXNlZCB0byBkZWZpbmUgdGhlIG9yZGVyIG9mIGV4ZWN1dGlvbiAqLwogICAgICAgICAgb3JkZXI6IDkwMCwKCiAgICAgICAgICAvKiogQHByb3Age0Jvb2xlYW59IGVuYWJsZWQ9dHJ1ZSAtIFdoZXRoZXIgdGhlIG1vZGlmaWVyIGlzIGVuYWJsZWQgb3Igbm90ICovCiAgICAgICAgICBlbmFibGVkOiB0cnVlLAoKICAgICAgICAgIC8qKiBAcHJvcCB7TW9kaWZpZXJGbn0gKi8KICAgICAgICAgIGZuOiBhcHBseVN0eWxlLAoKICAgICAgICAgIC8qKiBAcHJvcCB7RnVuY3Rpb259ICovCiAgICAgICAgICBvbkxvYWQ6IGFwcGx5U3R5bGVPbkxvYWQsCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDEuMTAuMCwgdGhlIHByb3BlcnR5IG1vdmVkIHRvIGBjb21wdXRlU3R5bGVgIG1vZGlmaWVyCiAgICAgICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gZ3B1QWNjZWxlcmF0aW9uPXRydWUKICAgICAgICAgICAqIElmIHRydWUsIGl0IHVzZXMgdGhlIENTUyAzRCB0cmFuc2Zvcm1hdGlvbiB0byBwb3NpdGlvbiB0aGUgcG9wcGVyLgogICAgICAgICAgICogT3RoZXJ3aXNlLCBpdCB3aWxsIHVzZSB0aGUgYHRvcGAgYW5kIGBsZWZ0YCBwcm9wZXJ0aWVzCiAgICAgICAgICAgKi8KICAgICAgICAgIGdwdUFjY2VsZXJhdGlvbjogdW5kZWZpbmVkCiAgICAgICAgfQogICAgICB9OwogICAgICAvKioKICAgICAgICogVGhlIGBkYXRhT2JqZWN0YCBpcyBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIGluZm9ybWF0aW9uIHVzZWQgYnkgUG9wcGVyLmpzLgogICAgICAgKiBUaGlzIG9iamVjdCBpcyBwYXNzZWQgdG8gbW9kaWZpZXJzIGFuZCB0byB0aGUgYG9uQ3JlYXRlYCBhbmQgYG9uVXBkYXRlYCBjYWxsYmFja3MuCiAgICAgICAqIEBuYW1lIGRhdGFPYmplY3QKICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEuaW5zdGFuY2UgVGhlIFBvcHBlci5qcyBpbnN0YW5jZQogICAgICAgKiBAcHJvcGVydHkge1N0cmluZ30gZGF0YS5wbGFjZW1lbnQgUGxhY2VtZW50IGFwcGxpZWQgdG8gcG9wcGVyCiAgICAgICAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBkYXRhLm9yaWdpbmFsUGxhY2VtZW50IFBsYWNlbWVudCBvcmlnaW5hbGx5IGRlZmluZWQgb24gaW5pdAogICAgICAgKiBAcHJvcGVydHkge0Jvb2xlYW59IGRhdGEuZmxpcHBlZCBUcnVlIGlmIHBvcHBlciBoYXMgYmVlbiBmbGlwcGVkIGJ5IGZsaXAgbW9kaWZpZXIKICAgICAgICogQHByb3BlcnR5IHtCb29sZWFufSBkYXRhLmhpZGUgVHJ1ZSBpZiB0aGUgcmVmZXJlbmNlIGVsZW1lbnQgaXMgb3V0IG9mIGJvdW5kYXJpZXMsIHVzZWZ1bCB0byBrbm93IHdoZW4gdG8gaGlkZSB0aGUgcG9wcGVyCiAgICAgICAqIEBwcm9wZXJ0eSB7SFRNTEVsZW1lbnR9IGRhdGEuYXJyb3dFbGVtZW50IE5vZGUgdXNlZCBhcyBhcnJvdyBieSBhcnJvdyBtb2RpZmllcgogICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5zdHlsZXMgQW55IENTUyBwcm9wZXJ0eSBkZWZpbmVkIGhlcmUgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBwb3BwZXIuIEl0IGV4cGVjdHMgdGhlIEphdmFTY3JpcHQgbm9tZW5jbGF0dXJlIChlZy4gYG1hcmdpbkJvdHRvbWApCiAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLmFycm93U3R5bGVzIEFueSBDU1MgcHJvcGVydHkgZGVmaW5lZCBoZXJlIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgcG9wcGVyIGFycm93LiBJdCBleHBlY3RzIHRoZSBKYXZhU2NyaXB0IG5vbWVuY2xhdHVyZSAoZWcuIGBtYXJnaW5Cb3R0b21gKQogICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5ib3VuZGFyaWVzIE9mZnNldHMgb2YgdGhlIHBvcHBlciBib3VuZGFyaWVzCiAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMgVGhlIG1lYXN1cmVtZW50cyBvZiBwb3BwZXIsIHJlZmVyZW5jZSBhbmQgYXJyb3cgZWxlbWVudHMKICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IGRhdGEub2Zmc2V0cy5wb3BwZXIgYHRvcGAsIGBsZWZ0YCwgYHdpZHRoYCwgYGhlaWdodGAgdmFsdWVzCiAgICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBkYXRhLm9mZnNldHMucmVmZXJlbmNlIGB0b3BgLCBgbGVmdGAsIGB3aWR0aGAsIGBoZWlnaHRgIHZhbHVlcwogICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gZGF0YS5vZmZzZXRzLmFycm93XSBgdG9wYCBhbmQgYGxlZnRgIG9mZnNldHMsIG9ubHkgb25lIG9mIHRoZW0gd2lsbCBiZSBkaWZmZXJlbnQgZnJvbSAwCiAgICAgICAqLwoKICAgICAgLyoqCiAgICAgICAqIERlZmF1bHQgb3B0aW9ucyBwcm92aWRlZCB0byBQb3BwZXIuanMgY29uc3RydWN0b3IuPGJyIC8+CiAgICAgICAqIFRoZXNlIGNhbiBiZSBvdmVycmlkZGVuIHVzaW5nIHRoZSBgb3B0aW9uc2AgYXJndW1lbnQgb2YgUG9wcGVyLmpzLjxiciAvPgogICAgICAgKiBUbyBvdmVycmlkZSBhbiBvcHRpb24sIHNpbXBseSBwYXNzIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lCiAgICAgICAqIHN0cnVjdHVyZSBvZiB0aGUgYG9wdGlvbnNgIG9iamVjdCwgYXMgdGhlIDNyZCBhcmd1bWVudC4gRm9yIGV4YW1wbGU6CiAgICAgICAqIGBgYAogICAgICAgKiBuZXcgUG9wcGVyKHJlZiwgcG9wLCB7CiAgICAgICAqICAgbW9kaWZpZXJzOiB7CiAgICAgICAqICAgICBwcmV2ZW50T3ZlcmZsb3c6IHsgZW5hYmxlZDogZmFsc2UgfQogICAgICAgKiAgIH0KICAgICAgICogfSkKICAgICAgICogYGBgCiAgICAgICAqIEB0eXBlIHtPYmplY3R9CiAgICAgICAqIEBzdGF0aWMKICAgICAgICogQG1lbWJlcm9mIFBvcHBlcgogICAgICAgKi8KCiAgICAgIHZhciBEZWZhdWx0cyA9IHsKICAgICAgICAvKioKICAgICAgICAgKiBQb3BwZXIncyBwbGFjZW1lbnQuCiAgICAgICAgICogQHByb3Age1BvcHBlci5wbGFjZW1lbnRzfSBwbGFjZW1lbnQ9J2JvdHRvbScKICAgICAgICAgKi8KICAgICAgICBwbGFjZW1lbnQ6ICdib3R0b20nLAoKICAgICAgICAvKioKICAgICAgICAgKiBTZXQgdGhpcyB0byB0cnVlIGlmIHlvdSB3YW50IHBvcHBlciB0byBwb3NpdGlvbiBpdCBzZWxmIGluICdmaXhlZCcgbW9kZQogICAgICAgICAqIEBwcm9wIHtCb29sZWFufSBwb3NpdGlvbkZpeGVkPWZhbHNlCiAgICAgICAgICovCiAgICAgICAgcG9zaXRpb25GaXhlZDogZmFsc2UsCgogICAgICAgIC8qKgogICAgICAgICAqIFdoZXRoZXIgZXZlbnRzIChyZXNpemUsIHNjcm9sbCkgYXJlIGluaXRpYWxseSBlbmFibGVkLgogICAgICAgICAqIEBwcm9wIHtCb29sZWFufSBldmVudHNFbmFibGVkPXRydWUKICAgICAgICAgKi8KICAgICAgICBldmVudHNFbmFibGVkOiB0cnVlLAoKICAgICAgICAvKioKICAgICAgICAgKiBTZXQgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0byBhdXRvbWF0aWNhbGx5IHJlbW92ZSB0aGUgcG9wcGVyIHdoZW4KICAgICAgICAgKiB5b3UgY2FsbCB0aGUgYGRlc3Ryb3lgIG1ldGhvZC4KICAgICAgICAgKiBAcHJvcCB7Qm9vbGVhbn0gcmVtb3ZlT25EZXN0cm95PWZhbHNlCiAgICAgICAgICovCiAgICAgICAgcmVtb3ZlT25EZXN0cm95OiBmYWxzZSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQ2FsbGJhY2sgY2FsbGVkIHdoZW4gdGhlIHBvcHBlciBpcyBjcmVhdGVkLjxiciAvPgogICAgICAgICAqIEJ5IGRlZmF1bHQsIGl0IGlzIHNldCB0byBuby1vcC48YnIgLz4KICAgICAgICAgKiBBY2Nlc3MgUG9wcGVyLmpzIGluc3RhbmNlIHdpdGggYGRhdGEuaW5zdGFuY2VgLgogICAgICAgICAqIEBwcm9wIHtvbkNyZWF0ZX0KICAgICAgICAgKi8KICAgICAgICBvbkNyZWF0ZTogZnVuY3Rpb24gb25DcmVhdGUoKSB7fSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQ2FsbGJhY2sgY2FsbGVkIHdoZW4gdGhlIHBvcHBlciBpcyB1cGRhdGVkLiBUaGlzIGNhbGxiYWNrIGlzIG5vdCBjYWxsZWQKICAgICAgICAgKiBvbiB0aGUgaW5pdGlhbGl6YXRpb24vY3JlYXRpb24gb2YgdGhlIHBvcHBlciwgYnV0IG9ubHkgb24gc3Vic2VxdWVudAogICAgICAgICAqIHVwZGF0ZXMuPGJyIC8+CiAgICAgICAgICogQnkgZGVmYXVsdCwgaXQgaXMgc2V0IHRvIG5vLW9wLjxiciAvPgogICAgICAgICAqIEFjY2VzcyBQb3BwZXIuanMgaW5zdGFuY2Ugd2l0aCBgZGF0YS5pbnN0YW5jZWAuCiAgICAgICAgICogQHByb3Age29uVXBkYXRlfQogICAgICAgICAqLwogICAgICAgIG9uVXBkYXRlOiBmdW5jdGlvbiBvblVwZGF0ZSgpIHt9LAoKICAgICAgICAvKioKICAgICAgICAgKiBMaXN0IG9mIG1vZGlmaWVycyB1c2VkIHRvIG1vZGlmeSB0aGUgb2Zmc2V0cyBiZWZvcmUgdGhleSBhcmUgYXBwbGllZCB0byB0aGUgcG9wcGVyLgogICAgICAgICAqIFRoZXkgcHJvdmlkZSBtb3N0IG9mIHRoZSBmdW5jdGlvbmFsaXRpZXMgb2YgUG9wcGVyLmpzLgogICAgICAgICAqIEBwcm9wIHttb2RpZmllcnN9CiAgICAgICAgICovCiAgICAgICAgbW9kaWZpZXJzOiBtb2RpZmllcnMKICAgICAgfTsKICAgICAgLyoqCiAgICAgICAqIEBjYWxsYmFjayBvbkNyZWF0ZQogICAgICAgKiBAcGFyYW0ge2RhdGFPYmplY3R9IGRhdGEKICAgICAgICovCgogICAgICAvKioKICAgICAgICogQGNhbGxiYWNrIG9uVXBkYXRlCiAgICAgICAqIEBwYXJhbSB7ZGF0YU9iamVjdH0gZGF0YQogICAgICAgKi8KICAgICAgLy8gVXRpbHMKICAgICAgLy8gTWV0aG9kcwoKICAgICAgdmFyIFBvcHBlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAvKioKICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IFBvcHBlci5qcyBpbnN0YW5jZS4KICAgICAgICAgKiBAY2xhc3MgUG9wcGVyCiAgICAgICAgICogQHBhcmFtIHtFbGVtZW50fHJlZmVyZW5jZU9iamVjdH0gcmVmZXJlbmNlIC0gVGhlIHJlZmVyZW5jZSBlbGVtZW50IHVzZWQgdG8gcG9zaXRpb24gdGhlIHBvcHBlcgogICAgICAgICAqIEBwYXJhbSB7RWxlbWVudH0gcG9wcGVyIC0gVGhlIEhUTUwgLyBYTUwgZWxlbWVudCB1c2VkIGFzIHRoZSBwb3BwZXIKICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIFlvdXIgY3VzdG9tIG9wdGlvbnMgdG8gb3ZlcnJpZGUgdGhlIG9uZXMgZGVmaW5lZCBpbiBbRGVmYXVsdHNdKCNkZWZhdWx0cykKICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGluc3RhbmNlIC0gVGhlIGdlbmVyYXRlZCBQb3BwZXIuanMgaW5zdGFuY2UKICAgICAgICAgKi8KICAgICAgICBmdW5jdGlvbiBQb3BwZXIocmVmZXJlbmNlLCBwb3BwZXIpIHsKICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwogICAgICAgICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9wcGVyKTsKCiAgICAgICAgICB0aGlzLnNjaGVkdWxlVXBkYXRlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKF90aGlzLnVwZGF0ZSk7CiAgICAgICAgICB9OyAvLyBtYWtlIHVwZGF0ZSgpIGRlYm91bmNlZCwgc28gdGhhdCBpdCBvbmx5IHJ1bnMgYXQgbW9zdCBvbmNlLXBlci10aWNrCgoKICAgICAgICAgIHRoaXMudXBkYXRlID0gZGVib3VuY2UodGhpcy51cGRhdGUuYmluZCh0aGlzKSk7IC8vIHdpdGgge30gd2UgY3JlYXRlIGEgbmV3IG9iamVjdCB3aXRoIHRoZSBvcHRpb25zIGluc2lkZSBpdAoKICAgICAgICAgIHRoaXMub3B0aW9ucyA9IF9leHRlbmRzKHt9LCBQb3BwZXIuRGVmYXVsdHMsIG9wdGlvbnMpOyAvLyBpbml0IHN0YXRlCgogICAgICAgICAgdGhpcy5zdGF0ZSA9IHsKICAgICAgICAgICAgaXNEZXN0cm95ZWQ6IGZhbHNlLAogICAgICAgICAgICBpc0NyZWF0ZWQ6IGZhbHNlLAogICAgICAgICAgICBzY3JvbGxQYXJlbnRzOiBbXQogICAgICAgICAgfTsgLy8gZ2V0IHJlZmVyZW5jZSBhbmQgcG9wcGVyIGVsZW1lbnRzIChhbGxvdyBqUXVlcnkgd3JhcHBlcnMpCgogICAgICAgICAgdGhpcy5yZWZlcmVuY2UgPSByZWZlcmVuY2UgJiYgcmVmZXJlbmNlLmpxdWVyeSA/IHJlZmVyZW5jZVswXSA6IHJlZmVyZW5jZTsKICAgICAgICAgIHRoaXMucG9wcGVyID0gcG9wcGVyICYmIHBvcHBlci5qcXVlcnkgPyBwb3BwZXJbMF0gOiBwb3BwZXI7IC8vIERlZXAgbWVyZ2UgbW9kaWZpZXJzIG9wdGlvbnMKCiAgICAgICAgICB0aGlzLm9wdGlvbnMubW9kaWZpZXJzID0ge307CiAgICAgICAgICBPYmplY3Qua2V5cyhfZXh0ZW5kcyh7fSwgUG9wcGVyLkRlZmF1bHRzLm1vZGlmaWVycywgb3B0aW9ucy5tb2RpZmllcnMpKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgIF90aGlzLm9wdGlvbnMubW9kaWZpZXJzW25hbWVdID0gX2V4dGVuZHMoe30sIFBvcHBlci5EZWZhdWx0cy5tb2RpZmllcnNbbmFtZV0gfHwge30sIG9wdGlvbnMubW9kaWZpZXJzID8gb3B0aW9ucy5tb2RpZmllcnNbbmFtZV0gOiB7fSk7CiAgICAgICAgICB9KTsgLy8gUmVmYWN0b3JpbmcgbW9kaWZpZXJzJyBsaXN0IChPYmplY3QgPT4gQXJyYXkpCgogICAgICAgICAgdGhpcy5tb2RpZmllcnMgPSBPYmplY3Qua2V5cyh0aGlzLm9wdGlvbnMubW9kaWZpZXJzKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHsKICAgICAgICAgICAgICBuYW1lOiBuYW1lCiAgICAgICAgICAgIH0sIF90aGlzLm9wdGlvbnMubW9kaWZpZXJzW25hbWVdKTsKICAgICAgICAgIH0pIC8vIHNvcnQgdGhlIG1vZGlmaWVycyBieSBvcmRlcgogICAgICAgICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgcmV0dXJuIGEub3JkZXIgLSBiLm9yZGVyOwogICAgICAgICAgfSk7IC8vIG1vZGlmaWVycyBoYXZlIHRoZSBhYmlsaXR5IHRvIGV4ZWN1dGUgYXJiaXRyYXJ5IGNvZGUgd2hlbiBQb3BwZXIuanMgZ2V0IGluaXRlZAogICAgICAgICAgLy8gc3VjaCBjb2RlIGlzIGV4ZWN1dGVkIGluIHRoZSBzYW1lIG9yZGVyIG9mIGl0cyBtb2RpZmllcgogICAgICAgICAgLy8gdGhleSBjb3VsZCBhZGQgbmV3IHByb3BlcnRpZXMgdG8gdGhlaXIgb3B0aW9ucyBjb25maWd1cmF0aW9uCiAgICAgICAgICAvLyBCRSBBV0FSRTogZG9uJ3QgYWRkIG9wdGlvbnMgdG8gYG9wdGlvbnMubW9kaWZpZXJzLm5hbWVgIGJ1dCB0byBgbW9kaWZpZXJPcHRpb25zYCEKCiAgICAgICAgICB0aGlzLm1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllck9wdGlvbnMpIHsKICAgICAgICAgICAgaWYgKG1vZGlmaWVyT3B0aW9ucy5lbmFibGVkICYmIGlzRnVuY3Rpb24obW9kaWZpZXJPcHRpb25zLm9uTG9hZCkpIHsKICAgICAgICAgICAgICBtb2RpZmllck9wdGlvbnMub25Mb2FkKF90aGlzLnJlZmVyZW5jZSwgX3RoaXMucG9wcGVyLCBfdGhpcy5vcHRpb25zLCBtb2RpZmllck9wdGlvbnMsIF90aGlzLnN0YXRlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7IC8vIGZpcmUgdGhlIGZpcnN0IHVwZGF0ZSB0byBwb3NpdGlvbiB0aGUgcG9wcGVyIGluIHRoZSByaWdodCBwbGFjZQoKICAgICAgICAgIHRoaXMudXBkYXRlKCk7CiAgICAgICAgICB2YXIgZXZlbnRzRW5hYmxlZCA9IHRoaXMub3B0aW9ucy5ldmVudHNFbmFibGVkOwoKICAgICAgICAgIGlmIChldmVudHNFbmFibGVkKSB7CiAgICAgICAgICAgIC8vIHNldHVwIGV2ZW50IGxpc3RlbmVycywgdGhleSB3aWxsIHRha2UgY2FyZSBvZiB1cGRhdGUgdGhlIHBvc2l0aW9uIGluIHNwZWNpZmljIHNpdHVhdGlvbnMKICAgICAgICAgICAgdGhpcy5lbmFibGVFdmVudExpc3RlbmVycygpOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuc3RhdGUuZXZlbnRzRW5hYmxlZCA9IGV2ZW50c0VuYWJsZWQ7CiAgICAgICAgfSAvLyBXZSBjYW4ndCB1c2UgY2xhc3MgcHJvcGVydGllcyBiZWNhdXNlIHRoZXkgZG9uJ3QgZ2V0IGxpc3RlZCBpbiB0aGUKICAgICAgICAvLyBjbGFzcyBwcm90b3R5cGUgYW5kIGJyZWFrIHN0dWZmIGxpa2UgU2lub24gc3R1YnMKCgogICAgICAgIGNyZWF0ZUNsYXNzKFBvcHBlciwgW3sKICAgICAgICAgIGtleTogJ3VwZGF0ZScsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlJCQxKCkgewogICAgICAgICAgICByZXR1cm4gdXBkYXRlLmNhbGwodGhpcyk7CiAgICAgICAgICB9CiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAnZGVzdHJveScsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSQkMSgpIHsKICAgICAgICAgICAgcmV0dXJuIGRlc3Ryb3kuY2FsbCh0aGlzKTsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICdlbmFibGVFdmVudExpc3RlbmVycycsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZW5hYmxlRXZlbnRMaXN0ZW5lcnMkJDEoKSB7CiAgICAgICAgICAgIHJldHVybiBlbmFibGVFdmVudExpc3RlbmVycy5jYWxsKHRoaXMpOwogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogJ2Rpc2FibGVFdmVudExpc3RlbmVycycsCiAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZUV2ZW50TGlzdGVuZXJzJCQxKCkgewogICAgICAgICAgICByZXR1cm4gZGlzYWJsZUV2ZW50TGlzdGVuZXJzLmNhbGwodGhpcyk7CiAgICAgICAgICB9CiAgICAgICAgICAvKioKICAgICAgICAgICAqIFNjaGVkdWxlcyBhbiB1cGRhdGUuIEl0IHdpbGwgcnVuIG9uIHRoZSBuZXh0IFVJIHVwZGF0ZSBhdmFpbGFibGUuCiAgICAgICAgICAgKiBAbWV0aG9kIHNjaGVkdWxlVXBkYXRlCiAgICAgICAgICAgKiBAbWVtYmVyb2YgUG9wcGVyCiAgICAgICAgICAgKi8KCiAgICAgICAgICAvKioKICAgICAgICAgICAqIENvbGxlY3Rpb24gb2YgdXRpbGl0aWVzIHVzZWZ1bCB3aGVuIHdyaXRpbmcgY3VzdG9tIG1vZGlmaWVycy4KICAgICAgICAgICAqIFN0YXJ0aW5nIGZyb20gdmVyc2lvbiAxLjcsIHRoaXMgbWV0aG9kIGlzIGF2YWlsYWJsZSBvbmx5IGlmIHlvdQogICAgICAgICAgICogaW5jbHVkZSBgcG9wcGVyLXV0aWxzLmpzYCBiZWZvcmUgYHBvcHBlci5qc2AuCiAgICAgICAgICAgKgogICAgICAgICAgICogKipERVBSRUNBVElPTioqOiBUaGlzIHdheSB0byBhY2Nlc3MgUG9wcGVyVXRpbHMgaXMgZGVwcmVjYXRlZAogICAgICAgICAgICogYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB2MiEgVXNlIHRoZSBQb3BwZXJVdGlscyBtb2R1bGUgZGlyZWN0bHkgaW5zdGVhZC4KICAgICAgICAgICAqIER1ZSB0byB0aGUgaGlnaCBpbnN0YWJpbGl0eSBvZiB0aGUgbWV0aG9kcyBjb250YWluZWQgaW4gVXRpbHMsIHdlIGNhbid0CiAgICAgICAgICAgKiBndWFyYW50ZWUgdGhlbSB0byBmb2xsb3cgc2VtdmVyLiBVc2UgdGhlbSBhdCB5b3VyIG93biByaXNrIQogICAgICAgICAgICogQHN0YXRpYwogICAgICAgICAgICogQHByaXZhdGUKICAgICAgICAgICAqIEB0eXBlIHtPYmplY3R9CiAgICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSB2ZXJzaW9uIDEuOAogICAgICAgICAgICogQG1lbWJlciBVdGlscwogICAgICAgICAgICogQG1lbWJlcm9mIFBvcHBlcgogICAgICAgICAgICovCgogICAgICAgIH1dKTsKICAgICAgICByZXR1cm4gUG9wcGVyOwogICAgICB9KCk7CiAgICAgIC8qKgogICAgICAgKiBUaGUgYHJlZmVyZW5jZU9iamVjdGAgaXMgYW4gb2JqZWN0IHRoYXQgcHJvdmlkZXMgYW4gaW50ZXJmYWNlIGNvbXBhdGlibGUgd2l0aCBQb3BwZXIuanMKICAgICAgICogYW5kIGxldHMgeW91IHVzZSBpdCBhcyByZXBsYWNlbWVudCBvZiBhIHJlYWwgRE9NIG5vZGUuPGJyIC8+CiAgICAgICAqIFlvdSBjYW4gdXNlIHRoaXMgbWV0aG9kIHRvIHBvc2l0aW9uIGEgcG9wcGVyIHJlbGF0aXZlbHkgdG8gYSBzZXQgb2YgY29vcmRpbmF0ZXMKICAgICAgICogaW4gY2FzZSB5b3UgZG9uJ3QgaGF2ZSBhIERPTSBub2RlIHRvIHVzZSBhcyByZWZlcmVuY2UuCiAgICAgICAqCiAgICAgICAqIGBgYAogICAgICAgKiBuZXcgUG9wcGVyKHJlZmVyZW5jZU9iamVjdCwgcG9wcGVyTm9kZSk7CiAgICAgICAqIGBgYAogICAgICAgKgogICAgICAgKiBOQjogVGhpcyBmZWF0dXJlIGlzbid0IHN1cHBvcnRlZCBpbiBJbnRlcm5ldCBFeHBsb3JlciAxMC4KICAgICAgICogQG5hbWUgcmVmZXJlbmNlT2JqZWN0CiAgICAgICAqIEBwcm9wZXJ0eSB7RnVuY3Rpb259IGRhdGEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0CiAgICAgICAqIEEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgc2V0IG9mIGNvb3JkaW5hdGVzIGNvbXBhdGlibGUgd2l0aCB0aGUgbmF0aXZlIGBnZXRCb3VuZGluZ0NsaWVudFJlY3RgIG1ldGhvZC4KICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGRhdGEuY2xpZW50V2lkdGgKICAgICAgICogQW4gRVM2IGdldHRlciB0aGF0IHdpbGwgcmV0dXJuIHRoZSB3aWR0aCBvZiB0aGUgdmlydHVhbCByZWZlcmVuY2UgZWxlbWVudC4KICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGRhdGEuY2xpZW50SGVpZ2h0CiAgICAgICAqIEFuIEVTNiBnZXR0ZXIgdGhhdCB3aWxsIHJldHVybiB0aGUgaGVpZ2h0IG9mIHRoZSB2aXJ0dWFsIHJlZmVyZW5jZSBlbGVtZW50LgogICAgICAgKi8KCgogICAgICBQb3BwZXIuVXRpbHMgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpLlBvcHBlclV0aWxzOwogICAgICBQb3BwZXIucGxhY2VtZW50cyA9IHBsYWNlbWVudHM7CiAgICAgIFBvcHBlci5EZWZhdWx0cyA9IERlZmF1bHRzOwogICAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgICBfX3dlYnBhY2tfZXhwb3J0c19fWyJhIl0gPSBQb3BwZXI7CiAgICAgIC8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLwogICAgfSkuY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKCJjOGJhIikpOwogICAgLyoqKi8KICB9LAoKICAvKioqLwogICJmOWM3IjoKICAvKioqLwogIGZ1bmN0aW9uIGY5YzcobW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CiAgICAvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZwogICAgLy8gbG9hZCB0aGUgc3R5bGVzCiAgICB2YXIgY29udGVudCA9IF9fd2VicGFja19yZXF1aXJlX18oIjgwZjUiKTsKCiAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaSwgY29udGVudCwgJyddXTsKICAgIGlmIChjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FsczsgLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTQoKICAgIHZhciBhZGQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKCI0OTllIikuZGVmYXVsdDsKCiAgICB2YXIgdXBkYXRlID0gYWRkKCI4ZWY5NjMyMiIsIGNvbnRlbnQsIHRydWUsIHsKICAgICAgInNvdXJjZU1hcCI6IGZhbHNlLAogICAgICAic2hhZG93TW9kZSI6IGZhbHNlCiAgICB9KTsKICAgIC8qKiovCiAgfSwKCiAgLyoqKi8KICAiZmIxNSI6CiAgLyoqKi8KICBmdW5jdGlvbiBmYjE1KG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykgewogICAgInVzZSBzdHJpY3QiOyAvLyBFU00gQ09NUEFUIEZMQUcKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7IC8vIEVYUE9SVFMKCgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDQWxlcnQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDQWxlcnQKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0JhZGdlIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0JhZGdlCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNCcmVhZGNydW1iIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0JyZWFkY3J1bWIKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0JyZWFkY3J1bWJSb3V0ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDQnJlYWRjcnVtYlJvdXRlcgogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDQnV0dG9uIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0J1dHRvbgogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDQnV0dG9uQ2xvc2UiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDQnV0dG9uQ2xvc2UKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0J1dHRvbkdyb3VwIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0J1dHRvbkdyb3VwCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNCdXR0b25Ub29sYmFyIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0J1dHRvblRvb2xiYXIKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0NhbGxvdXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDQ2FsbG91dAogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDQ2Fyb3VzZWwiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDQ2Fyb3VzZWwKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0Nhcm91c2VsSXRlbSIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENDYXJvdXNlbEl0ZW0KICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0NhcmQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDQ2FyZAogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDQ2FyZEJvZHkiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDQ2FyZEJvZHkKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0NhcmRGb290ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDQ2FyZEZvb3RlcgogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDQ2FyZEhlYWRlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENDYXJkSGVhZGVyCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNDYXJkR3JvdXAiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDQ2FyZEdyb3VwCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNDYXJkSW1nIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0NhcmRJbWcKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0NhcmRJbWdPdmVybGF5IiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0NhcmRJbWdPdmVybGF5CiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNDYXJkTGluayIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENDYXJkTGluawogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDQ2FyZFN1YnRpdGxlIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0NhcmRTdWJ0aXRsZQogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDQ2FyZFRleHQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDQ2FyZFRleHQKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0NhcmRUaXRsZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENDYXJkVGl0bGUKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0NvbGxhcHNlIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0NvbGxhcHNlCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNEcm9wZG93biIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENEcm9wZG93bgogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDRHJvcGRvd25IZWFkZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDRHJvcGRvd25IZWFkZXIKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0Ryb3Bkb3duRGl2aWRlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENEcm9wZG93bkRpdmlkZXIKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0Ryb3Bkb3duSXRlbSIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENEcm9wZG93bkl0ZW0KICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0VsZW1lbnRDb3ZlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENFbGVtZW50Q292ZXIKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0VtYmVkIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0VtYmVkCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNGb3JtIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0Zvcm0KICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0Zvcm1Hcm91cCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENGb3JtR3JvdXAKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0lucHV0IiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0lucHV0CiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNJbnB1dENoZWNrYm94IiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0lucHV0Q2hlY2tib3gKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0lucHV0RmlsZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENJbnB1dEZpbGUKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0lucHV0UmFkaW8iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDSW5wdXRSYWRpbwogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDSW5wdXRSYWRpb0dyb3VwIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0lucHV0UmFkaW9Hcm91cAogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDU2VsZWN0IiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ1NlbGVjdAogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDVGV4dGFyZWEiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDVGV4dGFyZWEKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0NvbnRhaW5lciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENDb250YWluZXIKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ1JvdyIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENSb3cKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0NvbCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENDb2wKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0ltZyIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENJbWcKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0p1bWJvdHJvbiIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENKdW1ib3Ryb24KICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0xpbmsiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDTGluawogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDTGlzdEdyb3VwIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0xpc3RHcm91cAogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDTGlzdEdyb3VwSXRlbSIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENMaXN0R3JvdXBJdGVtCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNMaXN0R3JvdXBJdGVtRGl2aWRlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENMaXN0R3JvdXBJdGVtRGl2aWRlcgogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDTWVkaWEiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDTWVkaWEKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ01vZGFsIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ01vZGFsCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNOYXYiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDTmF2CiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNOYXZJdGVtIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ05hdkl0ZW0KICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ05hdmJhciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENOYXZiYXIKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ05hdmJhckJyYW5kIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ05hdmJhckJyYW5kCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNOYXZiYXJOYXYiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDTmF2YmFyTmF2CiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNOYXZiYXJUZXh0IiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ05hdmJhclRleHQKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ1BhZ2luYXRpb24iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDUGFnaW5hdGlvbgogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDUHJvZ3Jlc3MiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDUHJvZ3Jlc3MKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ1Byb2dyZXNzQmFyIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ1Byb2dyZXNzQmFyWyJhIgogICAgICAgIC8qIGRlZmF1bHQgKi8KICAgICAgICBdCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNSZW5kZXJGdW5jdGlvbiIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENSZW5kZXJGdW5jdGlvbgogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDU2Nyb2xsYmFyIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ1Njcm9sbGJhcgogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDU3Bpbm5lciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENTcGlubmVyCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNTd2l0Y2giLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDU3dpdGNoCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNEYXRhVGFibGUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDRGF0YVRhYmxlCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNUYWIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDVGFiCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNUYWJzIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ1RhYnMKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0Zvb3RlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENGb290ZXIKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0hlYWRlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENIZWFkZXIKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0hlYWRlckJyYW5kIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0hlYWRlckJyYW5kCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNIZWFkZXJOYXYiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDSGVhZGVyTmF2CiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNIZWFkZXJOYXZJdGVtIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0hlYWRlck5hdkl0ZW0KICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0hlYWRlck5hdkxpbmsiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDSGVhZGVyTmF2TGluawogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDU3ViaGVhZGVyIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ1N1YmhlYWRlcgogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDU2lkZWJhciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENTaWRlYmFyCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNTaWRlYmFyQnJhbmQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDU2lkZWJhckJyYW5kCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNTaWRlYmFyQ2xvc2UiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDU2lkZWJhckNsb3NlCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNTaWRlYmFyRm9vdGVyIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ1NpZGViYXJGb290ZXIKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ1NpZGViYXJGb3JtIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ1NpZGViYXJGb3JtCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNTaWRlYmFySGVhZGVyIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ1NpZGViYXJIZWFkZXIKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ1NpZGViYXJNaW5pbWl6ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDU2lkZWJhck1pbmltaXplcgogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDU2lkZWJhck5hdiIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENTaWRlYmFyTmF2CiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNTaWRlYmFyTmF2RGl2aWRlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENTaWRlYmFyTmF2RGl2aWRlcgogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDU2lkZWJhck5hdkRyb3Bkb3duIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ1NpZGViYXJOYXZEcm9wZG93bgogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDU2lkZWJhck5hdkl0ZW0iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDU2lkZWJhck5hdkl0ZW0KICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ1NpZGViYXJOYXZUaXRsZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENTaWRlYmFyTmF2VGl0bGUKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ1dyYXBwZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDV3JhcHBlcgogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDVG9hc3QiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDVG9hc3QKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ1RvYXN0ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDVG9hc3RlcgogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDVG9nZ2xlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENUb2dnbGVyCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNXaWRnZXRQcm9ncmVzcyIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENXaWRnZXRQcm9ncmVzcwogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDV2lkZ2V0SWNvbiIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENXaWRnZXRJY29uCiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNXaWRnZXRCcmFuZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENXaWRnZXRCcmFuZAogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDV2lkZ2V0UHJvZ3Jlc3NJY29uIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ1dpZGdldFByb2dyZXNzSWNvbgogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDV2lkZ2V0RHJvcGRvd24iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDV2lkZ2V0RHJvcGRvd24KICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ1dpZGdldFNpbXBsZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENXaWRnZXRTaW1wbGUKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ0ljb24iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDSWNvblJhdwogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDQ2xpY2thd2F5IiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ0NsaWNrYXdheQogICAgICApOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sICJDRW1pdFJvb3RFdmVudCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKiByZWV4cG9ydCAqLwogICAgICAgIENFbWl0Um9vdEV2ZW50CiAgICAgICk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgIkNQb3BvdmVyIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8qIHJlZXhwb3J0ICovCiAgICAgICAgQ1BvcG92ZXIKICAgICAgKTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCAiQ1Rvb2x0aXAiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyogcmVleHBvcnQgKi8KICAgICAgICBDVG9vbHRpcAogICAgICApOwogICAgfSk7IC8vIE5BTUVTUEFDRSBPQkpFQ1Q6IC4vc3JjL2NvbXBvbmVudHMvZm9ybS9mb3JtLW1peGlucy5qcwoKCiAgICB2YXIgZm9ybV9taXhpbnNfbmFtZXNwYWNlT2JqZWN0ID0ge307CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5yKGZvcm1fbWl4aW5zX25hbWVzcGFjZU9iamVjdCk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGZvcm1fbWl4aW5zX25hbWVzcGFjZU9iamVjdCwgInNoYXJlZENvbXB1dGVkUHJvcHMiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzaGFyZWRDb21wdXRlZFByb3BzOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGZvcm1fbWl4aW5zX25hbWVzcGFjZU9iamVjdCwgIndyYXBwZXJDb21wdXRlZFByb3BzIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gd3JhcHBlckNvbXB1dGVkUHJvcHM7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZm9ybV9taXhpbnNfbmFtZXNwYWNlT2JqZWN0LCAid2F0Y2hWYWx1ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHdhdGNoVmFsdWU7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZm9ybV9taXhpbnNfbmFtZXNwYWNlT2JqZWN0LCAiY2xhc3Nlc0NvbXB1dGVkUHJvcHMiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBjbGFzc2VzQ29tcHV0ZWRQcm9wczsKICAgIH0pOyAvLyBOQU1FU1BBQ0UgT0JKRUNUOiAuL3NyYy9jb21wb25lbnRzL2luZGV4LmpzCgoKICAgIHZhciBjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCA9IHt9OwoKICAgIF9fd2VicGFja19yZXF1aXJlX18ucihjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0FsZXJ0IiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0FsZXJ0OwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0JhZGdlIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0JhZGdlOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0JyZWFkY3J1bWIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDQnJlYWRjcnVtYjsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNCcmVhZGNydW1iUm91dGVyIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0JyZWFkY3J1bWJSb3V0ZXI7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDQnV0dG9uIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0J1dHRvbjsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNCdXR0b25DbG9zZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENCdXR0b25DbG9zZTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNCdXR0b25Hcm91cCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENCdXR0b25Hcm91cDsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNCdXR0b25Ub29sYmFyIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0J1dHRvblRvb2xiYXI7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDQ2FsbG91dCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENDYWxsb3V0OwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0Nhcm91c2VsIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0Nhcm91c2VsOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0Nhcm91c2VsSXRlbSIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENDYXJvdXNlbEl0ZW07CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDQ2FyZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENDYXJkOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0NhcmRCb2R5IiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0NhcmRCb2R5OwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0NhcmRGb290ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDQ2FyZEZvb3RlcjsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNDYXJkSGVhZGVyIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0NhcmRIZWFkZXI7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDQ2FyZEdyb3VwIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0NhcmRHcm91cDsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNDYXJkSW1nIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0NhcmRJbWc7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDQ2FyZEltZ092ZXJsYXkiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDQ2FyZEltZ092ZXJsYXk7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDQ2FyZExpbmsiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDQ2FyZExpbms7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDQ2FyZFN1YnRpdGxlIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0NhcmRTdWJ0aXRsZTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNDYXJkVGV4dCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENDYXJkVGV4dDsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNDYXJkVGl0bGUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDQ2FyZFRpdGxlOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0NvbGxhcHNlIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0NvbGxhcHNlOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0Ryb3Bkb3duIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0Ryb3Bkb3duOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0Ryb3Bkb3duSGVhZGVyIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0Ryb3Bkb3duSGVhZGVyOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0Ryb3Bkb3duRGl2aWRlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENEcm9wZG93bkRpdmlkZXI7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDRHJvcGRvd25JdGVtIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0Ryb3Bkb3duSXRlbTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNFbGVtZW50Q292ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDRWxlbWVudENvdmVyOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0VtYmVkIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0VtYmVkOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0Zvcm0iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDRm9ybTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNGb3JtR3JvdXAiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDRm9ybUdyb3VwOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0lucHV0IiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0lucHV0OwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0lucHV0Q2hlY2tib3giLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDSW5wdXRDaGVja2JveDsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNJbnB1dEZpbGUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDSW5wdXRGaWxlOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0lucHV0UmFkaW8iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDSW5wdXRSYWRpbzsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNJbnB1dFJhZGlvR3JvdXAiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDSW5wdXRSYWRpb0dyb3VwOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ1NlbGVjdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENTZWxlY3Q7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDVGV4dGFyZWEiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDVGV4dGFyZWE7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDQ29udGFpbmVyIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0NvbnRhaW5lcjsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNSb3ciLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDUm93OwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0NvbCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENDb2w7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDSW1nIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0ltZzsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNKdW1ib3Ryb24iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDSnVtYm90cm9uOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0xpbmsiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDTGluazsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNMaXN0R3JvdXAiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDTGlzdEdyb3VwOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0xpc3RHcm91cEl0ZW0iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDTGlzdEdyb3VwSXRlbTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNMaXN0R3JvdXBJdGVtRGl2aWRlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENMaXN0R3JvdXBJdGVtRGl2aWRlcjsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNNZWRpYSIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENNZWRpYTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNNb2RhbCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENNb2RhbDsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNOYXYiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDTmF2OwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ05hdkl0ZW0iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDTmF2SXRlbTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNOYXZiYXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDTmF2YmFyOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ05hdmJhckJyYW5kIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ05hdmJhckJyYW5kOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ05hdmJhck5hdiIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENOYXZiYXJOYXY7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDTmF2YmFyVGV4dCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENOYXZiYXJUZXh0OwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ1BhZ2luYXRpb24iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDUGFnaW5hdGlvbjsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNQcm9ncmVzcyIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENQcm9ncmVzczsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNQcm9ncmVzc0JhciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENQcm9ncmVzc0JhclsiYSIKICAgICAgLyogZGVmYXVsdCAqLwogICAgICBdOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ1JlbmRlckZ1bmN0aW9uIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ1JlbmRlckZ1bmN0aW9uOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ1Njcm9sbGJhciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENTY3JvbGxiYXI7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDU3Bpbm5lciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENTcGlubmVyOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ1N3aXRjaCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENTd2l0Y2g7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDRGF0YVRhYmxlIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0RhdGFUYWJsZTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNUYWIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDVGFiOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ1RhYnMiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDVGFiczsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNGb290ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDRm9vdGVyOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ0hlYWRlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENIZWFkZXI7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDSGVhZGVyQnJhbmQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDSGVhZGVyQnJhbmQ7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDSGVhZGVyTmF2IiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0hlYWRlck5hdjsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNIZWFkZXJOYXZJdGVtIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0hlYWRlck5hdkl0ZW07CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDSGVhZGVyTmF2TGluayIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENIZWFkZXJOYXZMaW5rOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ1N1YmhlYWRlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENTdWJoZWFkZXI7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDU2lkZWJhciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENTaWRlYmFyOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ1NpZGViYXJCcmFuZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENTaWRlYmFyQnJhbmQ7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDU2lkZWJhckNsb3NlIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ1NpZGViYXJDbG9zZTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNTaWRlYmFyRm9vdGVyIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ1NpZGViYXJGb290ZXI7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDU2lkZWJhckZvcm0iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDU2lkZWJhckZvcm07CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDU2lkZWJhckhlYWRlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENTaWRlYmFySGVhZGVyOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ1NpZGViYXJNaW5pbWl6ZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDU2lkZWJhck1pbmltaXplcjsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNTaWRlYmFyTmF2IiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ1NpZGViYXJOYXY7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDU2lkZWJhck5hdkRpdmlkZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDU2lkZWJhck5hdkRpdmlkZXI7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDU2lkZWJhck5hdkRyb3Bkb3duIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ1NpZGViYXJOYXZEcm9wZG93bjsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNTaWRlYmFyTmF2SXRlbSIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENTaWRlYmFyTmF2SXRlbTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNTaWRlYmFyTmF2VGl0bGUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDU2lkZWJhck5hdlRpdGxlOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ1dyYXBwZXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDV3JhcHBlcjsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNUb2FzdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENUb2FzdDsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNUb2FzdGVyIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ1RvYXN0ZXI7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDVG9nZ2xlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENUb2dnbGVyOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ1dpZGdldFByb2dyZXNzIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ1dpZGdldFByb2dyZXNzOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ1dpZGdldEljb24iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDV2lkZ2V0SWNvbjsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNXaWRnZXRCcmFuZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENXaWRnZXRCcmFuZDsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgIkNXaWRnZXRQcm9ncmVzc0ljb24iLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDV2lkZ2V0UHJvZ3Jlc3NJY29uOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ1dpZGdldERyb3Bkb3duIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ1dpZGdldERyb3Bkb3duOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0LCAiQ1dpZGdldFNpbXBsZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENXaWRnZXRTaW1wbGU7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3QsICJDSWNvbiIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENJY29uUmF3OwogICAgfSk7IC8vIE5BTUVTUEFDRSBPQkpFQ1Q6IC4vc3JjL2RpcmVjdGl2ZXMvaW5kZXguanMKCgogICAgdmFyIGRpcmVjdGl2ZXNfbmFtZXNwYWNlT2JqZWN0ID0ge307CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5yKGRpcmVjdGl2ZXNfbmFtZXNwYWNlT2JqZWN0KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZGlyZWN0aXZlc19uYW1lc3BhY2VPYmplY3QsICJDQ2xpY2thd2F5IiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0NsaWNrYXdheTsKICAgIH0pOwoKICAgIF9fd2VicGFja19yZXF1aXJlX18uZChkaXJlY3RpdmVzX25hbWVzcGFjZU9iamVjdCwgIkNFbWl0Um9vdEV2ZW50IiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQ0VtaXRSb290RXZlbnQ7CiAgICB9KTsKCiAgICBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZGlyZWN0aXZlc19uYW1lc3BhY2VPYmplY3QsICJDUG9wb3ZlciIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIENQb3BvdmVyOwogICAgfSk7CgogICAgX193ZWJwYWNrX3JlcXVpcmVfXy5kKGRpcmVjdGl2ZXNfbmFtZXNwYWNlT2JqZWN0LCAiQ1Rvb2x0aXAiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBDVG9vbHRpcDsKICAgIH0pOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AdnVlL2NsaS1zZXJ2aWNlL2xpYi9jb21tYW5kcy9idWlsZC9zZXRQdWJsaWNQYXRoLmpzCiAgICAvLyBUaGlzIGZpbGUgaXMgaW1wb3J0ZWQgaW50byBsaWIvd2MgY2xpZW50IGJ1bmRsZXMuCgoKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgewogICAgICB2YXIgY3VycmVudFNjcmlwdCA9IHdpbmRvdy5kb2N1bWVudC5jdXJyZW50U2NyaXB0OwoKICAgICAgaWYgKHRydWUpIHsKICAgICAgICB2YXIgZ2V0Q3VycmVudFNjcmlwdCA9IF9fd2VicGFja19yZXF1aXJlX18oIjg4NzUiKTsKCiAgICAgICAgY3VycmVudFNjcmlwdCA9IGdldEN1cnJlbnRTY3JpcHQoKTsgLy8gZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHksIGJlY2F1c2UgcHJldmlvdXNseSB3ZSBkaXJlY3RseSBpbmNsdWRlZCB0aGUgcG9seWZpbGwKCiAgICAgICAgaWYgKCEoJ2N1cnJlbnRTY3JpcHQnIGluIGRvY3VtZW50KSkgewogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCAnY3VycmVudFNjcmlwdCcsIHsKICAgICAgICAgICAgZ2V0OiBnZXRDdXJyZW50U2NyaXB0CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBzcmMgPSBjdXJyZW50U2NyaXB0ICYmIGN1cnJlbnRTY3JpcHQuc3JjLm1hdGNoKC8oLitcLylbXi9dK1wuanMoXD8uKik/JC8pOwoKICAgICAgaWYgKHNyYykgewogICAgICAgIF9fd2VicGFja19yZXF1aXJlX18ucCA9IHNyY1sxXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZQogICAgICB9CiAgICB9IC8vIEluZGljYXRlIHRvIHdlYnBhY2sgdGhhdCB0aGlzIGZpbGUgY2FuIGJlIGNvbmNhdGVuYXRlZAoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIHNldFB1YmxpY1BhdGggPSBudWxsOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvYWxlcnQvQ0FsZXJ0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1jOTVkMWYwOCZzY29wZWQ9dHJ1ZSYKCiAgICB2YXIgQ0FsZXJ0dnVlX3R5cGVfdGVtcGxhdGVfaWRfYzk1ZDFmMDhfc2NvcGVkX3RydWVfcmVuZGVyID0gZnVuY3Rpb24gQ0FsZXJ0dnVlX3R5cGVfdGVtcGxhdGVfaWRfYzk1ZDFmMDhfc2NvcGVkX3RydWVfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygndHJhbnNpdGlvbicsIHsKICAgICAgICBhdHRyczogewogICAgICAgICAgIm5hbWUiOiBfdm0uZmFkZSA/ICdmYWRlJyA6IG51bGwsCiAgICAgICAgICAiYXBwZWFyIjogdHJ1ZQogICAgICAgIH0KICAgICAgfSwgW192bS5zdGF0ZSA/IF9jKCdkaXYnLCB7CiAgICAgICAgY2xhc3M6IF92bS5hbGVydENsYXNzZXMsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJyb2xlIjogImFsZXJ0IiwKICAgICAgICAgICJhcmlhLWxpdmUiOiAicG9saXRlIiwKICAgICAgICAgICJhcmlhLWF0b21pYyI6ICJ0cnVlIgogICAgICAgIH0KICAgICAgfSwgW192bS5jbG9zZUJ1dHRvbiA/IF9jKCdDQnV0dG9uQ2xvc2UnLCB7CiAgICAgICAgb246IHsKICAgICAgICAgICJjbGljayI6IGZ1bmN0aW9uIGNsaWNrKCRldmVudCkgewogICAgICAgICAgICByZXR1cm4gX3ZtLmRpc21pc3MoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pIDogX3ZtLl9lKCksIF92bS5fdCgiZGVmYXVsdCIpXSwgMikgOiBfdm0uX2UoKV0pOwogICAgfTsKCiAgICB2YXIgc3RhdGljUmVuZGVyRm5zID0gW107IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvYWxlcnQvQ0FsZXJ0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1jOTVkMWYwOCZzY29wZWQ9dHJ1ZSYKICAgIC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL3Z1ZS1mdW5jdGlvbmFsLWRhdGEtbWVyZ2UvZGlzdC9saWIuZXNtLmpzCgogICAgdmFyIF9lMiA9IGZ1bmN0aW9uIGUoKSB7CiAgICAgIHJldHVybiAoX2UyID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAoZSkgewogICAgICAgIGZvciAodmFyIHQsIHIgPSAxLCBzID0gYXJndW1lbnRzLmxlbmd0aDsgciA8IHM7IHIrKykgewogICAgICAgICAgZm9yICh2YXIgYSBpbiB0ID0gYXJndW1lbnRzW3JdKSB7CiAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCBhKSAmJiAoZVthXSA9IHRbYV0pOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGU7CiAgICAgIH0pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9LAogICAgICAgIHQgPSB7CiAgICAgIGtlYmFiOiAvLShcdykvZywKICAgICAgc3R5bGVQcm9wOiAvOiguKikvLAogICAgICBzdHlsZUxpc3Q6IC87KD8hW14oXSpcKSkvZwogICAgfTsKCiAgICBmdW5jdGlvbiByKGUsIHQpIHsKICAgICAgcmV0dXJuIHQgPyB0LnRvVXBwZXJDYXNlKCkgOiAiIjsKICAgIH0KCiAgICBmdW5jdGlvbiBzKGUpIHsKICAgICAgZm9yICh2YXIgcywgYSA9IHt9LCBjID0gMCwgbyA9IGUuc3BsaXQodC5zdHlsZUxpc3QpOyBjIDwgby5sZW5ndGg7IGMrKykgewogICAgICAgIHZhciBuID0gb1tjXS5zcGxpdCh0LnN0eWxlUHJvcCksCiAgICAgICAgICAgIGkgPSBuWzBdLAogICAgICAgICAgICBsID0gblsxXTsKICAgICAgICAoaSA9IGkudHJpbSgpKSAmJiAoInN0cmluZyIgPT0gdHlwZW9mIGwgJiYgKGwgPSBsLnRyaW0oKSksIGFbKHMgPSBpLCBzLnJlcGxhY2UodC5rZWJhYiwgcikpXSA9IGwpOwogICAgICB9CgogICAgICByZXR1cm4gYTsKICAgIH0KCiAgICBmdW5jdGlvbiBhKCkgewogICAgICBmb3IgKHZhciB0LCByLCBhID0ge30sIGMgPSBhcmd1bWVudHMubGVuZ3RoOyBjLS07KSB7CiAgICAgICAgZm9yICh2YXIgbyA9IDAsIG4gPSBPYmplY3Qua2V5cyhhcmd1bWVudHNbY10pOyBvIDwgbi5sZW5ndGg7IG8rKykgewogICAgICAgICAgc3dpdGNoICh0ID0gbltvXSkgewogICAgICAgICAgICBjYXNlICJjbGFzcyI6CiAgICAgICAgICAgIGNhc2UgInN0eWxlIjoKICAgICAgICAgICAgY2FzZSAiZGlyZWN0aXZlcyI6CiAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYVt0XSkgfHwgKGFbdF0gPSBbXSksICJzdHlsZSIgPT09IHQpIHsKICAgICAgICAgICAgICAgIHZhciBpID0gdm9pZCAwOwogICAgICAgICAgICAgICAgaSA9IEFycmF5LmlzQXJyYXkoYXJndW1lbnRzW2NdLnN0eWxlKSA/IGFyZ3VtZW50c1tjXS5zdHlsZSA6IFthcmd1bWVudHNbY10uc3R5bGVdOwoKICAgICAgICAgICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgaS5sZW5ndGg7IGwrKykgewogICAgICAgICAgICAgICAgICB2YXIgeSA9IGlbbF07CiAgICAgICAgICAgICAgICAgICJzdHJpbmciID09IHR5cGVvZiB5ICYmIChpW2xdID0gcyh5KSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYXJndW1lbnRzW2NdLnN0eWxlID0gaTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGFbdF0gPSBhW3RdLmNvbmNhdChhcmd1bWVudHNbY11bdF0pOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAic3RhdGljQ2xhc3MiOgogICAgICAgICAgICAgIGlmICghYXJndW1lbnRzW2NdW3RdKSBicmVhazsKICAgICAgICAgICAgICB2b2lkIDAgPT09IGFbdF0gJiYgKGFbdF0gPSAiIiksIGFbdF0gJiYgKGFbdF0gKz0gIiAiKSwgYVt0XSArPSBhcmd1bWVudHNbY11bdF0udHJpbSgpOwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAib24iOgogICAgICAgICAgICBjYXNlICJuYXRpdmVPbiI6CiAgICAgICAgICAgICAgYVt0XSB8fCAoYVt0XSA9IHt9KTsKCiAgICAgICAgICAgICAgZm9yICh2YXIgcCA9IDAsIGYgPSBPYmplY3Qua2V5cyhhcmd1bWVudHNbY11bdF0gfHwge30pOyBwIDwgZi5sZW5ndGg7IHArKykgewogICAgICAgICAgICAgICAgciA9IGZbcF0sIGFbdF1bcl0gPyBhW3RdW3JdID0gW10uY29uY2F0KGFbdF1bcl0sIGFyZ3VtZW50c1tjXVt0XVtyXSkgOiBhW3RdW3JdID0gYXJndW1lbnRzW2NdW3RdW3JdOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICJhdHRycyI6CiAgICAgICAgICAgIGNhc2UgInByb3BzIjoKICAgICAgICAgICAgY2FzZSAiZG9tUHJvcHMiOgogICAgICAgICAgICBjYXNlICJzY29wZWRTbG90cyI6CiAgICAgICAgICAgIGNhc2UgInN0YXRpY1N0eWxlIjoKICAgICAgICAgICAgY2FzZSAiaG9vayI6CiAgICAgICAgICAgIGNhc2UgInRyYW5zaXRpb24iOgogICAgICAgICAgICAgIGFbdF0gfHwgKGFbdF0gPSB7fSksIGFbdF0gPSBfZTIoe30sIGFyZ3VtZW50c1tjXVt0XSwgYVt0XSk7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlICJzbG90IjoKICAgICAgICAgICAgY2FzZSAia2V5IjoKICAgICAgICAgICAgY2FzZSAicmVmIjoKICAgICAgICAgICAgY2FzZSAidGFnIjoKICAgICAgICAgICAgY2FzZSAic2hvdyI6CiAgICAgICAgICAgIGNhc2UgImtlZXBBbGl2ZSI6CiAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgYVt0XSB8fCAoYVt0XSA9IGFyZ3VtZW50c1tjXVt0XSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gYTsKICAgIH0gLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2J1dHRvbi9DQnV0dG9uQ2xvc2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIENCdXR0b25DbG9zZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NCdXR0b25DbG9zZScsCiAgICAgIGZ1bmN0aW9uYWw6IHRydWUsCiAgICAgIHByb3BzOiB7CiAgICAgICAgYnV0dG9uQ2xhc3NlczogewogICAgICAgICAgdHlwZTogW1N0cmluZywgQXJyYXksIE9iamVjdF0sCiAgICAgICAgICBkZWZhdWx0OiAnY2xvc2UnCiAgICAgICAgfQogICAgICB9LAogICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGEsCiAgICAgICAgICAgIHByb3BzID0gX3JlZi5wcm9wcywKICAgICAgICAgICAgc2xvdHMgPSBfcmVmLnNsb3RzOwogICAgICAgIHJldHVybiBoKCdidXR0b24nLCBhKGRhdGEsIHsKICAgICAgICAgIGNsYXNzOiBwcm9wcy5idXR0b25DbGFzc2VzLAogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsCiAgICAgICAgICAgICdhcmlhLWxhYmVsJzogJ0Nsb3NlJwogICAgICAgICAgfSwKICAgICAgICAgIGRvbVByb3BzOiAhc2xvdHMoKS5kZWZhdWx0ID8gewogICAgICAgICAgICBpbm5lckhUTUw6ICcmdGltZXM7JwogICAgICAgICAgfSA6IG51bGwKICAgICAgICB9KSwgc2xvdHMoKS5kZWZhdWx0KTsKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9idXR0b24vQ0J1dHRvbkNsb3NlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIGJ1dHRvbl9DQnV0dG9uQ2xvc2V2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDQnV0dG9uQ2xvc2V2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIEVYVEVSTkFMIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvcnVudGltZS9jb21wb25lbnROb3JtYWxpemVyLmpzCgogICAgdmFyIGNvbXBvbmVudE5vcm1hbGl6ZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKCIyODc3Iik7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvYnV0dG9uL0NCdXR0b25DbG9zZS52dWUKCgogICAgdmFyIENCdXR0b25DbG9zZV9yZW5kZXIsIENCdXR0b25DbG9zZV9zdGF0aWNSZW5kZXJGbnM7CiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIGNvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkoYnV0dG9uX0NCdXR0b25DbG9zZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0J1dHRvbkNsb3NlX3JlbmRlciwgQ0J1dHRvbkNsb3NlX3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDQnV0dG9uQ2xvc2UgPSBjb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2FsZXJ0L0NBbGVydC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogICAgICBpZiAoa2V5IGluIG9iaikgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9iajsKICAgIH0gLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIENBbGVydHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NBbGVydCcsCiAgICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBDQnV0dG9uQ2xvc2U6IENCdXR0b25DbG9zZQogICAgICB9LAogICAgICBwcm9wczogewogICAgICAgIGNvbG9yOiBTdHJpbmcsCiAgICAgICAgY2xvc2VCdXR0b246IEJvb2xlYW4sCiAgICAgICAgc2hvdzogewogICAgICAgICAgdHlwZTogW0Jvb2xlYW4sIE51bWJlcl0sCiAgICAgICAgICBkZWZhdWx0OiB0cnVlCiAgICAgICAgfSwKICAgICAgICBmYWRlOiB7CiAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgZGVmYXVsdDogdHJ1ZQogICAgICAgIH0KICAgICAgfSwKICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgY291bnRkb3duVGltZW91dDogbnVsbCwKICAgICAgICAgIHN0YXRlOiB0aGlzLnNob3cKICAgICAgICB9OwogICAgICB9LAogICAgICBjb21wdXRlZDogewogICAgICAgIGFsZXJ0Q2xhc3NlczogZnVuY3Rpb24gYWxlcnRDbGFzc2VzKCkgewogICAgICAgICAgcmV0dXJuIFsnYWxlcnQnLCBfZGVmaW5lUHJvcGVydHkoewogICAgICAgICAgICAnYWxlcnQtZGlzbWlzc2libGUnOiB0aGlzLmNsb3NlQnV0dG9uCiAgICAgICAgICB9LCAiYWxlcnQtIi5jb25jYXQodGhpcy5jb2xvciksIHRoaXMuY29sb3IpXTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHdhdGNoOiB7CiAgICAgICAgc2hvdzogZnVuY3Rpb24gc2hvdyh2YWwpIHsKICAgICAgICAgIHRoaXMuc3RhdGUgPSB2YWw7CiAgICAgICAgfSwKICAgICAgICBzdGF0ZTogewogICAgICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwsIG9sZFZhbCkgewogICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICAgICAgdGhpcy5jbGVhckNvdW50ZXIoKTsKCiAgICAgICAgICAgIGlmICghdmFsICYmIG9sZFZhbCkgewogICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpzaG93JywgdmFsKTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJyAmJiB2YWwpIHsKICAgICAgICAgICAgICB0aGlzLmNvdW50ZG93blRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBpc1dhdGNoZWQgPSBfdGhpcy4kbGlzdGVuZXJzWyd1cGRhdGU6c2hvdyddOwogICAgICAgICAgICAgICAgaXNXYXRjaGVkID8gX3RoaXMuJGVtaXQoJ3VwZGF0ZTpzaG93JywgX3RoaXMuc3RhdGUgLSAxKSA6IF90aGlzLnN0YXRlLS07CiAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlc3Ryb3llZDogZnVuY3Rpb24gZGVzdHJveWVkKCkgewogICAgICAgIHRoaXMuY2xlYXJDb3VudGVyKCk7CiAgICAgIH0sCiAgICAgIG1ldGhvZHM6IHsKICAgICAgICBkaXNtaXNzOiBmdW5jdGlvbiBkaXNtaXNzKCkgewogICAgICAgICAgdGhpcy5zdGF0ZSA9IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgY2xlYXJDb3VudGVyOiBmdW5jdGlvbiBjbGVhckNvdW50ZXIoKSB7CiAgICAgICAgICBpZiAodGhpcy5jb3VudGRvd25UaW1lb3V0KSB7CiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNvdW50ZG93blRpbWVvdXQpOwogICAgICAgICAgICB0aGlzLmNvdW50ZG93blRpbWVvdXQgPSBudWxsOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9hbGVydC9DQWxlcnQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgYWxlcnRfQ0FsZXJ0dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0FsZXJ0dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvYWxlcnQvQ0FsZXJ0LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPWM5NWQxZjA4JnNjb3BlZD10cnVlJmxhbmc9Y3NzJgoKICAgIHZhciBDQWxlcnR2dWVfdHlwZV9zdHlsZV9pbmRleF8wX2lkX2M5NWQxZjA4X3Njb3BlZF90cnVlX2xhbmdfY3NzXyA9IF9fd2VicGFja19yZXF1aXJlX18oIjc0MTkiKTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9hbGVydC9DQWxlcnQudnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKCiAgICB2YXIgQ0FsZXJ0X2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkoYWxlcnRfQ0FsZXJ0dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDQWxlcnR2dWVfdHlwZV90ZW1wbGF0ZV9pZF9jOTVkMWYwOF9zY29wZWRfdHJ1ZV9yZW5kZXIsIHN0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsICJjOTVkMWYwOCIsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDQWxlcnQgPSBDQWxlcnRfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvYWxlcnQvaW5kZXguanMKICAgIC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9saW5rL0NMaW5rLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICBmdW5jdGlvbiBwcm9wc0ZhY3RvcnkoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaHJlZjogU3RyaW5nLAogICAgICAgIHJlbDogU3RyaW5nLAogICAgICAgIHRhcmdldDogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgZGVmYXVsdDogJ19zZWxmJwogICAgICAgIH0sCiAgICAgICAgZGlzYWJsZWQ6IEJvb2xlYW4sCiAgICAgICAgYWN0aXZlOiBCb29sZWFuLAogICAgICAgIC8vdGhlc2UgYXJlIHJvdXRlci1saW5rIGNvbXBvbmVudCBwcm9wcyAoZGVmYXVsdCBhY3RpdmUgY2xhc3MgY2hhbmdlZCkKICAgICAgICBhY3RpdmVDbGFzczogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgZGVmYXVsdDogJ3JvdXRlci1saW5rLWFjdGl2ZScKICAgICAgICB9LAogICAgICAgIGFwcGVuZDogQm9vbGVhbiwKICAgICAgICBldmVudDogewogICAgICAgICAgdHlwZTogW1N0cmluZywgQXJyYXldLAogICAgICAgICAgZGVmYXVsdDogJ2NsaWNrJwogICAgICAgIH0sCiAgICAgICAgZXhhY3Q6IEJvb2xlYW4sCiAgICAgICAgZXhhY3RBY3RpdmVDbGFzczogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgZGVmYXVsdDogJ3JvdXRlci1saW5rLWV4YWN0LWFjdGl2ZScKICAgICAgICB9LAogICAgICAgIHJlcGxhY2U6IEJvb2xlYW4sCiAgICAgICAgcm91dGVyVGFnOiB7CiAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICBkZWZhdWx0OiAnYScKICAgICAgICB9LAogICAgICAgIHRvOiBbU3RyaW5nLCBPYmplY3RdCiAgICAgIH07CiAgICB9CgogICAgdmFyIENMaW5rdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfcHJvcHMgPSBwcm9wc0ZhY3RvcnkoKTsKCiAgICBmdW5jdGlvbiBnZXRDb21wdXRlZFRhZyhfcmVmLCBwYXJlbnQpIHsKICAgICAgdmFyIHRvID0gX3JlZi50bywKICAgICAgICAgIGRpc2FibGVkID0gX3JlZi5kaXNhYmxlZDsKICAgICAgcmV0dXJuIEJvb2xlYW4ocGFyZW50LiRyb3V0ZXIpICYmIHRvICYmICFkaXNhYmxlZCA/ICdyb3V0ZXItbGluaycgOiAnYSc7CiAgICB9CgogICAgZnVuY3Rpb24gY2xpY2tIYW5kbGVyRmFjdG9yeShfcmVmMikgewogICAgICB2YXIgZGlzYWJsZWQgPSBfcmVmMi5kaXNhYmxlZCwKICAgICAgICAgIHRhZyA9IF9yZWYyLnRhZywKICAgICAgICAgIGhyZWYgPSBfcmVmMi5ocmVmLAogICAgICAgICAgc3VwcGxpZWRIYW5kbGVyID0gX3JlZjIuc3VwcGxpZWRIYW5kbGVyOwogICAgICByZXR1cm4gZnVuY3Rpb24gb25DbGljayhlKSB7CiAgICAgICAgaWYgKGRpc2FibGVkICYmIGUgaW5zdGFuY2VvZiBFdmVudCkgewogICAgICAgICAgLy8gU3RvcCBldmVudCBmcm9tIGJ1YmJsaW5nIHVwLgogICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gS2lsbCB0aGUgZXZlbnQgbG9vcCBhdHRhY2hlZCB0byB0aGlzIHNwZWNpZmljIEV2ZW50VGFyZ2V0LgoKICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3VwcGxpZWRIYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICBzdXBwbGllZEhhbmRsZXIuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRhZyAhPT0gJ3JvdXRlci1saW5rJyAmJiBocmVmID09PSAnIycgfHwgZGlzYWJsZWQpIHsKICAgICAgICAgIC8vIFN0b3Agc2Nyb2xsLXRvLXRvcCBiZWhhdmlvciBvciBuYXZpZ2F0aW9uLgogICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0KICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIENMaW5rdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBmdW5jdGlvbmFsOiB0cnVlLAogICAgICBuYW1lOiAnQ0xpbmsnLAogICAgICBwcm9wczogQ0xpbmt2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19wcm9wcywKICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgX3JlZjMpIHsKICAgICAgICB2YXIgcHJvcHMgPSBfcmVmMy5wcm9wcywKICAgICAgICAgICAgZGF0YSA9IF9yZWYzLmRhdGEsCiAgICAgICAgICAgIHBhcmVudCA9IF9yZWYzLnBhcmVudCwKICAgICAgICAgICAgY2hpbGRyZW4gPSBfcmVmMy5jaGlsZHJlbjsKICAgICAgICB2YXIgdGFnID0gZ2V0Q29tcHV0ZWRUYWcocHJvcHMsIHBhcmVudCk7CiAgICAgICAgdmFyIHJlbCA9IHByb3BzLnRhcmdldCA9PT0gJ19ibGFuaycgJiYgIXByb3BzLnJlbCA/ICdub29wZW5lcicgOiBwcm9wcy5yZWw7CiAgICAgICAgdmFyIGhyZWYgPSBwcm9wcy5ocmVmIHx8ICcjJzsKICAgICAgICB2YXIgZXZlbnRUeXBlID0gdGFnID09PSAncm91dGVyLWxpbmsnID8gJ25hdGl2ZU9uJyA6ICdvbic7CiAgICAgICAgdmFyIHN1cHBsaWVkSGFuZGxlciA9IChkYXRhW2V2ZW50VHlwZV0gfHwge30pLmNsaWNrOwogICAgICAgIHZhciBoYW5kbGVycyA9IHsKICAgICAgICAgIGNsaWNrOiBjbGlja0hhbmRsZXJGYWN0b3J5KHsKICAgICAgICAgICAgdGFnOiB0YWcsCiAgICAgICAgICAgIGhyZWY6IGhyZWYsCiAgICAgICAgICAgIGRpc2FibGVkOiBwcm9wcy5kaXNhYmxlZCwKICAgICAgICAgICAgc3VwcGxpZWRIYW5kbGVyOiBzdXBwbGllZEhhbmRsZXIKICAgICAgICAgIH0pCiAgICAgICAgfTsKICAgICAgICB2YXIgdGFiaW5kZXggPSBkYXRhLmF0dHJzID8gZGF0YS5hdHRycy50YWJpbmRleCA6IG51bGw7CiAgICAgICAgdmFyIGNvbXBvbmVudERhdGEgPSBhKGRhdGEsIHsKICAgICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAgICdkaXNhYmxlZCc6IHByb3BzLmRpc2FibGVkLAogICAgICAgICAgICAnYWN0aXZlJzogcHJvcHMuYWN0aXZlCiAgICAgICAgICB9LAogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgcmVsOiByZWwsCiAgICAgICAgICAgIGhyZWY6IGhyZWYsCiAgICAgICAgICAgIHRhcmdldDogcHJvcHMudGFyZ2V0LAogICAgICAgICAgICB0YWJpbmRleDogcHJvcHMuZGlzYWJsZWQgPyAnLTEnIDogdGFiaW5kZXgsCiAgICAgICAgICAgICdhcmlhLWRpc2FibGVkJzogdGFnID09PSAnYScgJiYgcHJvcHMuZGlzYWJsZWQgPyAndHJ1ZScgOiBudWxsCiAgICAgICAgICB9LAogICAgICAgICAgcHJvcHM6IE9iamVjdC5hc3NpZ24ocHJvcHMsIHsKICAgICAgICAgICAgdGFnOiBwcm9wcy5yb3V0ZXJUYWcKICAgICAgICAgIH0pCiAgICAgICAgfSk7IC8vIElmIGhyZWYgcHJvcCBleGlzdHMgb24gcm91dGVyLWxpbmsgKGV2ZW4gdW5kZWZpbmVkIG9yIG51bGwpIGl0IGZhaWxzIHdvcmtpbmcgb24gU1NSCgogICAgICAgIGlmICh0YWcgPT09ICdyb3V0ZXItbGluaycpIHsKICAgICAgICAgIGRlbGV0ZSBjb21wb25lbnREYXRhLmF0dHJzLmhyZWY7CiAgICAgICAgfSAvLyBXZSB3YW50IHRvIG92ZXJ3cml0ZSBhbnkgY2xpY2sgaGFuZGxlciBzaW5jZSBvdXIgY2FsbGJhY2sKICAgICAgICAvLyB3aWxsIGludm9rZSB0aGUgc3VwcGxpZWQgaGFuZGxlciBpZiAhcHJvcHMuZGlzYWJsZWQKCgogICAgICAgIGNvbXBvbmVudERhdGFbZXZlbnRUeXBlXSA9IE9iamVjdC5hc3NpZ24oY29tcG9uZW50RGF0YVtldmVudFR5cGVdIHx8IHt9LCBoYW5kbGVycyk7CiAgICAgICAgcmV0dXJuIGgodGFnLCBjb21wb25lbnREYXRhLCBjaGlsZHJlbik7CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvbGluay9DTGluay52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBsaW5rX0NMaW5rdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0xpbmt2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvbGluay9DTGluay52dWUKCiAgICB2YXIgQ0xpbmtfcmVuZGVyLCBDTGlua19zdGF0aWNSZW5kZXJGbnM7CiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENMaW5rX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkobGlua19DTGlua3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0xpbmtfcmVuZGVyLCBDTGlua19zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0xpbmsgPSBDTGlua19jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2JhZGdlL0NCYWRnZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ0JhZGdldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgICAgIGlmIChrZXkgaW4gb2JqKSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgICAgd3JpdGFibGU6IHRydWUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpba2V5XSA9IHZhbHVlOwogICAgICB9CgogICAgICByZXR1cm4gb2JqOwogICAgfQoKICAgIHZhciBDQmFkZ2V2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19wcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIENMaW5rdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfcHJvcHMsIHsKICAgICAgdGFnOiB7CiAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgIGRlZmF1bHQ6ICdzcGFuJwogICAgICB9LAogICAgICBjb2xvcjogU3RyaW5nLAogICAgICBzaGFwZTogewogICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcihzaGFwZSkgewogICAgICAgICAgcmV0dXJuIFsnJywgJ3BpbGwnXS5pbmNsdWRlcyhzaGFwZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0JhZGdldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBmdW5jdGlvbmFsOiB0cnVlLAogICAgICBuYW1lOiAnQ0JhZGdlJywKICAgICAgcHJvcHM6IENCYWRnZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3Byb3BzLAogICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfcmVmKSB7CiAgICAgICAgdmFyIF9jbGFzczsKCiAgICAgICAgdmFyIHByb3BzID0gX3JlZi5wcm9wcywKICAgICAgICAgICAgZGF0YSA9IF9yZWYuZGF0YSwKICAgICAgICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuOwogICAgICAgIHZhciB0YWcgPSAhcHJvcHMuaHJlZiAmJiAhcHJvcHMudG8gPyBwcm9wcy50YWcgOiBDTGluazsKICAgICAgICB2YXIgY29tcG9uZW50RGF0YSA9IHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAnYmFkZ2UnLAogICAgICAgICAgY2xhc3M6IChfY2xhc3MgPSB7fSwgQ0JhZGdldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX2NsYXNzLCAiYmFkZ2UtIi5jb25jYXQocHJvcHMuY29sb3IpLCBwcm9wcy5jb2xvciksIENCYWRnZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9jbGFzcywgJ2JhZGdlLXBpbGwnLCBwcm9wcy5zaGFwZSA9PT0gJ3BpbGwnKSwgX2NsYXNzKSwKICAgICAgICAgIHByb3BzOiBwcm9wcwogICAgICAgIH07CiAgICAgICAgcmV0dXJuIGgodGFnLCBhKGRhdGEsIGNvbXBvbmVudERhdGEpLCBjaGlsZHJlbik7CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvYmFkZ2UvQ0JhZGdlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIGJhZGdlX0NCYWRnZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENCYWRnZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9iYWRnZS9DQmFkZ2UudnVlCgogICAgdmFyIENCYWRnZV9yZW5kZXIsIENCYWRnZV9zdGF0aWNSZW5kZXJGbnM7CiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENCYWRnZV9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKGJhZGdlX0NCYWRnZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0JhZGdlX3JlbmRlciwgQ0JhZGdlX3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDQmFkZ2UgPSBDQmFkZ2VfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvYmFkZ2UvaW5kZXguanMKICAgIC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9icmVhZGNydW1iL0NCcmVhZGNydW1iLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0xZmZjZDQ0MyYKCiAgICB2YXIgQ0JyZWFkY3J1bWJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF8xZmZjZDQ0M19yZW5kZXIgPSBmdW5jdGlvbiBDQnJlYWRjcnVtYnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzFmZmNkNDQzX3JlbmRlcigpIHsKICAgICAgdmFyIF92bSA9IHRoaXM7CgogICAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogICAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogICAgICByZXR1cm4gX2MoJ29sJywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiYnJlYWRjcnVtYiIKICAgICAgfSwgW192bS5fbChfdm0ubGlua0l0ZW1zLCBmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gX2MoJ2xpJywgewogICAgICAgICAga2V5OiBpbmRleCwKICAgICAgICAgIGNsYXNzOiBbaXRlbS5hZGRDbGFzc2VzLCBfdm0uc2hhcmVkQ2xhc3NlcywgX3ZtLmFkZExpbmtDbGFzc2VzXSwKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICJyb2xlIjogInByZXNlbnRhdGlvbiIKICAgICAgICAgIH0KICAgICAgICB9LCBbX2MoJ0NMaW5rJywgX3ZtLl9iKHt9LCAnQ0xpbmsnLCBPYmplY3QuYXNzaWduKHt9LCBpdGVtLCB7CiAgICAgICAgICBhZGRDbGFzc2VzOiBudWxsLAogICAgICAgICAgdGV4dDogbnVsbAogICAgICAgIH0pLCBmYWxzZSksIFtfdm0uX3YoIiAiICsgX3ZtLl9zKGl0ZW0udGV4dCkgKyAiICIpXSldLCAxKTsKICAgICAgfSksIF92bS5sYXN0SXRlbSA/IF9jKCdsaScsIHsKICAgICAgICBjbGFzczogX3ZtLmxhc3RJdGVtQ2xhc3NlcywKICAgICAgICBhdHRyczogewogICAgICAgICAgInJvbGUiOiAicHJlc2VudGF0aW9uIgogICAgICAgIH0KICAgICAgfSwgW19jKCdzcGFuJywgewogICAgICAgIGRvbVByb3BzOiB7CiAgICAgICAgICAidGV4dENvbnRlbnQiOiBfdm0uX3MoX3ZtLmxhc3RJdGVtLnRleHQpCiAgICAgICAgfQogICAgICB9KV0pIDogX3ZtLl9lKCksIF92bS5fdCgiZGVmYXVsdCIpXSwgMik7CiAgICB9OwoKICAgIHZhciBDQnJlYWRjcnVtYnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzFmZmNkNDQzX3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvYnJlYWRjcnVtYi9DQnJlYWRjcnVtYi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDQnJlYWRjcnVtYnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NCcmVhZGNydW1iJywKICAgICAgY29tcG9uZW50czogewogICAgICAgIENMaW5rOiBDTGluawogICAgICB9LAogICAgICBwcm9wczogewogICAgICAgIGl0ZW1zOiBBcnJheSwKICAgICAgICBhZGRDbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XSwKICAgICAgICBhZGRMaW5rQ2xhc3NlczogW1N0cmluZywgQXJyYXksIE9iamVjdF0sCiAgICAgICAgYWRkTGFzdEl0ZW1DbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XQogICAgICB9LAogICAgICBjb21wdXRlZDogewogICAgICAgIGxhc3RJdGVtOiBmdW5jdGlvbiBsYXN0SXRlbSgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLml0ZW1zID8gdGhpcy5pdGVtc1t0aGlzLml0ZW1zLmxlbmd0aCAtIDFdIDogbnVsbDsKICAgICAgICB9LAogICAgICAgIGxpbmtJdGVtczogZnVuY3Rpb24gbGlua0l0ZW1zKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMgPyB0aGlzLml0ZW1zLnNsaWNlKDAsIC0xKSA6IFtdOwogICAgICAgIH0sCiAgICAgICAgc2hhcmVkQ2xhc3NlczogZnVuY3Rpb24gc2hhcmVkQ2xhc3NlcygpIHsKICAgICAgICAgIHJldHVybiBbdGhpcy5hZGRDbGFzc2VzLCAnYnJlYWRjcnVtYi1pdGVtJ107CiAgICAgICAgfSwKICAgICAgICBsYXN0SXRlbUNsYXNzZXM6IGZ1bmN0aW9uIGxhc3RJdGVtQ2xhc3NlcygpIHsKICAgICAgICAgIHJldHVybiBbJ2FjdGl2ZScsIHRoaXMubGFzdEl0ZW0uYWRkQ2xhc3NlcywgdGhpcy5zaGFyZWRDbGFzc2VzLCB0aGlzLmFkZExhc3RJdGVtQ2xhc3Nlc107CiAgICAgICAgfQogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2JyZWFkY3J1bWIvQ0JyZWFkY3J1bWIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgYnJlYWRjcnVtYl9DQnJlYWRjcnVtYnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENCcmVhZGNydW1idnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2JyZWFkY3J1bWIvQ0JyZWFkY3J1bWIudnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDQnJlYWRjcnVtYl9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKGJyZWFkY3J1bWJfQ0JyZWFkY3J1bWJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENCcmVhZGNydW1idnVlX3R5cGVfdGVtcGxhdGVfaWRfMWZmY2Q0NDNfcmVuZGVyLCBDQnJlYWRjcnVtYnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzFmZmNkNDQzX3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDQnJlYWRjcnVtYiA9IENCcmVhZGNydW1iX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvYnJlYWRjcnVtYi9DQnJlYWRjcnVtYlJvdXRlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9ODExYzVkNGEmCgogICAgdmFyIENCcmVhZGNydW1iUm91dGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfODExYzVkNGFfcmVuZGVyID0gZnVuY3Rpb24gQ0JyZWFkY3J1bWJSb3V0ZXJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF84MTFjNWQ0YV9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdDQnJlYWRjcnVtYicsIF92bS5fYih7fSwgJ0NCcmVhZGNydW1iJywgX3ZtLnByb3BzLCBmYWxzZSksIFtfdm0uX3QoImRlZmF1bHQiKV0sIDIpOwogICAgfTsKCiAgICB2YXIgQ0JyZWFkY3J1bWJSb3V0ZXJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF84MTFjNWQ0YV9zdGF0aWNSZW5kZXJGbnMgPSBbXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2JyZWFkY3J1bWIvQ0JyZWFkY3J1bWJSb3V0ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0JyZWFkY3J1bWJSb3V0ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDQnJlYWRjcnVtYlJvdXRlcicsCiAgICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBDQnJlYWRjcnVtYjogQ0JyZWFkY3J1bWIKICAgICAgfSwKICAgICAgcHJvcHM6IHsKICAgICAgICBhZGRDbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XSwKICAgICAgICBhZGRMaW5rQ2xhc3NlczogW1N0cmluZywgQXJyYXksIE9iamVjdF0sCiAgICAgICAgYWRkTGFzdEl0ZW1DbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XQogICAgICB9LAogICAgICBjb21wdXRlZDogewogICAgICAgIGl0ZW1zOiBmdW5jdGlvbiBpdGVtcygpIHsKICAgICAgICAgIHZhciByb3V0ZXMgPSB0aGlzLiRyb3V0ZS5tYXRjaGVkLmZpbHRlcihmdW5jdGlvbiAocm91dGUpIHsKICAgICAgICAgICAgcmV0dXJuIHJvdXRlLm5hbWUgfHwgcm91dGUubWV0YSAmJiByb3V0ZS5tZXRhLmxhYmVsOwogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4gcm91dGVzLm1hcChmdW5jdGlvbiAocm91dGUpIHsKICAgICAgICAgICAgdmFyIG1ldGEgPSByb3V0ZS5tZXRhIHx8IHt9OwogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIHRvOiByb3V0ZSwKICAgICAgICAgICAgICB0ZXh0OiBtZXRhLmxhYmVsIHx8IHJvdXRlLm5hbWUKICAgICAgICAgICAgfTsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgcHJvcHM6IGZ1bmN0aW9uIHByb3BzKCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaXRlbXM6IHRoaXMuaXRlbXMsCiAgICAgICAgICAgIGFkZENsYXNzZXM6IHRoaXMuYWRkQ2xhc3NlcywKICAgICAgICAgICAgYWRkTGlua0NsYXNzZXM6IHRoaXMuYWRkTGlua0NsYXNzZXMsCiAgICAgICAgICAgIGFkZExhc3RJdGVtQ2xhc3NlczogdGhpcy5hZGRMYXN0SXRlbUNsYXNzZXMKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2JyZWFkY3J1bWIvQ0JyZWFkY3J1bWJSb3V0ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgYnJlYWRjcnVtYl9DQnJlYWRjcnVtYlJvdXRlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENCcmVhZGNydW1iUm91dGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2JyZWFkY3J1bWIvQ0JyZWFkY3J1bWJSb3V0ZXIudnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDQnJlYWRjcnVtYlJvdXRlcl9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKGJyZWFkY3J1bWJfQ0JyZWFkY3J1bWJSb3V0ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENCcmVhZGNydW1iUm91dGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfODExYzVkNGFfcmVuZGVyLCBDQnJlYWRjcnVtYlJvdXRlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzgxMWM1ZDRhX3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDQnJlYWRjcnVtYlJvdXRlciA9IENCcmVhZGNydW1iUm91dGVyX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2JyZWFkY3J1bWIvaW5kZXguanMKICAgIC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bjb3JldWkvdXRpbHMvc3JjL3BpY2stYnkta2V5cy5qcwoKICAgIHZhciBwaWNrQnlLZXlzID0gZnVuY3Rpb24gcGlja0J5S2V5cyhvcmlnaW5hbE9iamVjdCwga2V5cykgewogICAgICB2YXIgbmV3T2JqID0ge307CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBuZXdPYmpba2V5c1tpXV0gPSBvcmlnaW5hbE9iamVjdFtrZXlzW2ldXTsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ld09iajsKICAgIH07CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgoKICAgIHZhciBwaWNrX2J5X2tleXMgPSBwaWNrQnlLZXlzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvYnV0dG9uL0NCdXR0b24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIGZ1bmN0aW9uIENCdXR0b252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICAgICAgaWYgKGtleSBpbiBvYmopIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgICB3cml0YWJsZTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIG9ialtrZXldID0gdmFsdWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBvYmo7CiAgICB9CgogICAgdmFyIGJ0blByb3BzID0gewogICAgICBibG9jazogQm9vbGVhbiwKICAgICAgc2hhcGU6IHsKICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3Ioc2hhcGUpIHsKICAgICAgICAgIHJldHVybiBbJycsICdwaWxsJywgJ3NxdWFyZSddLmluY2x1ZGVzKHNoYXBlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHZhcmlhbnQ6IHsKICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsKSB7CiAgICAgICAgICByZXR1cm4gWycnLCAnZ2hvc3QnLCAnb3V0bGluZSddLmluY2x1ZGVzKHZhbCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBzaXplOiB7CiAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gWycnLCAnc20nLCAnbGcnXS5pbmNsdWRlcyh2YWx1ZSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBjb2xvcjogU3RyaW5nLAogICAgICB0eXBlOiB7CiAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgIGRlZmF1bHQ6ICdidXR0b24nCiAgICAgIH0sCiAgICAgIHByZXNzZWQ6IHsKICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgIGRlZmF1bHQ6IG51bGwKICAgICAgfQogICAgfTsKICAgIHZhciBDQnV0dG9udnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfcHJvcHMgPSBPYmplY3QuYXNzaWduKHByb3BzRmFjdG9yeSgpLCBidG5Qcm9wcyk7IC8vIEhlbHBlciBmdW5jdG9ucyB0byBtaW5pbWl6ZSBydW50aW1lIG1lbW9yeSBmb290cHJpbnQgd2hlbiBsb3RzIG9mIGJ1dHRvbnMgb24gcGFnZShUT0RPOiBjaGVjayBpdCkKCiAgICBmdW5jdGlvbiBDQnV0dG9udnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfaXNMaW5rKHByb3BzKSB7CiAgICAgIHJldHVybiBCb29sZWFuKHByb3BzLmhyZWYgfHwgcHJvcHMudG8pOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzVG9nZ2xlKHByb3BzKSB7CiAgICAgIHJldHVybiBwcm9wcy5wcmVzc2VkICE9PSBudWxsOwogICAgfQoKICAgIGZ1bmN0aW9uIGNvbXB1dGVDbGFzc2VzKHByb3BzKSB7CiAgICAgIHZhciBfcmVmOwoKICAgICAgdmFyIG91dGxpbmVTdWZmaXggPSBwcm9wcy52YXJpYW50ID09PSAnb3V0bGluZScgPyAnb3V0bGluZS0nIDogJyc7CiAgICAgIHJldHVybiBfcmVmID0ge30sIENCdXR0b252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfcmVmLCAiYnRuLSIuY29uY2F0KG91dGxpbmVTdWZmaXgpLmNvbmNhdChwcm9wcy5jb2xvciksIHByb3BzLmNvbG9yKSwgQ0J1dHRvbnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYsICJidG4tIi5jb25jYXQocHJvcHMuc2l6ZSksIHByb3BzLnNpemUpLCBDQnV0dG9udnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZiwgImJ0bi1naG9zdC0iLmNvbmNhdChwcm9wcy5jb2xvciksIHByb3BzLnZhcmlhbnQgPT09ICdnaG9zdCcpLCBDQnV0dG9udnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2J0bi1ibG9jaycsIHByb3BzLmJsb2NrKSwgQ0J1dHRvbnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYsICdidG4tcGlsbCcsIHByb3BzLnNoYXBlID09PSAncGlsbCcpLCBDQnV0dG9udnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2J0bi1zcXVhcmUnLCBwcm9wcy5zaGFwZSA9PT0gJ3NxdWFyZScpLCBDQnV0dG9udnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2Rpc2FibGVkJywgcHJvcHMuZGlzYWJsZWQpLCBDQnV0dG9udnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2FjdGl2ZScsIHByb3BzLnByZXNzZWQpLCBfcmVmOwogICAgfQoKICAgIGZ1bmN0aW9uIGNvbXB1dGVQYXNzZWRQcm9wcyhwcm9wcykgewogICAgICBpZiAoIUNCdXR0b252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19pc0xpbmsocHJvcHMpKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHJldHVybiBwaWNrX2J5X2tleXMocHJvcHMsIE9iamVjdC5rZXlzKHByb3BzRmFjdG9yeSgpKSk7CiAgICB9CgogICAgZnVuY3Rpb24gY29tcHV0ZUF0dHJzKHByb3BzLCBkYXRhLCBpc0J1dHRvbiwgdG9nZ2xlKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdHlwZTogaXNCdXR0b24gPyBwcm9wcy50eXBlIDogbnVsbCwKICAgICAgICAvLyBpbiBDTGluayBkaXNhYmxlZCBwcm9wZXJ0eSB3b3JrcyBkaWZmcmVudGx5CiAgICAgICAgZGlzYWJsZWQ6IGlzQnV0dG9uID8gcHJvcHMuZGlzYWJsZWQgOiBudWxsLAogICAgICAgICdhcmlhLXByZXNzZWQnOiB0b2dnbGUgPyBTdHJpbmcocHJvcHMucHJlc3NlZCkgOiBudWxsLAogICAgICAgIC8vIGF1dG9jb21wbGV0ZSBvZmYgaXMgbmVlZGVkIGluIHRvZ2dsZSBtb2RlIHRvIHByZXZlbnQgc29tZSBicm93c2VycyBmcm9tCiAgICAgICAgLy8gcmVtZW1iZXJpbmcgdGhlIHByZXZpb3VzIHNldHRpbmcgd2hlbiB1c2luZyB0aGUgYmFjayBidXR0b24uCiAgICAgICAgYXV0b2NvbXBsZXRlOiB0b2dnbGUgPyAnb2ZmJyA6IG51bGwKICAgICAgfTsKICAgIH0KICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIENCdXR0b252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIGZ1bmN0aW9uYWw6IHRydWUsCiAgICAgIG5hbWU6ICdDQnV0dG9uJywKICAgICAgcHJvcHM6IENCdXR0b252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19wcm9wcywKICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgX3JlZjIpIHsKICAgICAgICB2YXIgcHJvcHMgPSBfcmVmMi5wcm9wcywKICAgICAgICAgICAgZGF0YSA9IF9yZWYyLmRhdGEsCiAgICAgICAgICAgIGxpc3RlbmVycyA9IF9yZWYyLmxpc3RlbmVycywKICAgICAgICAgICAgY2hpbGRyZW4gPSBfcmVmMi5jaGlsZHJlbjsKICAgICAgICB2YXIgdG9nZ2xlID0gaXNUb2dnbGUocHJvcHMpOwogICAgICAgIHZhciBpc0J1dHRvbiA9ICFDQnV0dG9udnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfaXNMaW5rKHByb3BzKTsKICAgICAgICB2YXIgb24gPSB7CiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7CiAgICAgICAgICAgIGlmICh0b2dnbGUgJiYgbGlzdGVuZXJzICYmIGxpc3RlbmVyc1sndXBkYXRlOnByZXNzZWQnXSkgewogICAgICAgICAgICAgIC8vIFNlbmQgLnN5bmMgdXBkYXRlcyB0byAicHJlc3NlZCIgcHJvcCAoaWYgLnN5bmMgbGlzdGVuZXIgaXMgc2V0KQogICAgICAgICAgICAgIGxpc3RlbmVyc1sndXBkYXRlOnByZXNzZWQnXSghcHJvcHMucHJlc3NlZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHZhciBjb21wb25lbnREYXRhID0gewogICAgICAgICAgc3RhdGljQ2xhc3M6ICdidG4nLAogICAgICAgICAgY2xhc3M6IGNvbXB1dGVDbGFzc2VzKHByb3BzKSwKICAgICAgICAgIHByb3BzOiBjb21wdXRlUGFzc2VkUHJvcHMocHJvcHMpLAogICAgICAgICAgYXR0cnM6IGNvbXB1dGVBdHRycyhwcm9wcywgZGF0YSwgaXNCdXR0b24sIHRvZ2dsZSksCiAgICAgICAgICBvbjogb24KICAgICAgICB9OwogICAgICAgIHJldHVybiBoKGlzQnV0dG9uID8gJ2J1dHRvbicgOiBDTGluaywgYShkYXRhLCBjb21wb25lbnREYXRhKSwgY2hpbGRyZW4pOwogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2J1dHRvbi9DQnV0dG9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIGJ1dHRvbl9DQnV0dG9udnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0J1dHRvbnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9idXR0b24vQ0J1dHRvbi52dWUKCiAgICB2YXIgQ0J1dHRvbl9yZW5kZXIsIENCdXR0b25fc3RhdGljUmVuZGVyRm5zOwogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDQnV0dG9uX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkoYnV0dG9uX0NCdXR0b252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENCdXR0b25fcmVuZGVyLCBDQnV0dG9uX3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDQnV0dG9uID0gQ0J1dHRvbl9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2J1dHRvbi9DQnV0dG9uR3JvdXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIGZ1bmN0aW9uIENCdXR0b25Hcm91cHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogICAgICBpZiAoa2V5IGluIG9iaikgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9iajsKICAgIH0KICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIENCdXR0b25Hcm91cHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgZnVuY3Rpb25hbDogdHJ1ZSwKICAgICAgbmFtZTogJ0NCdXR0b25Hcm91cCcsCiAgICAgIHByb3BzOiB7CiAgICAgICAgdmVydGljYWw6IEJvb2xlYW4sCiAgICAgICAgc2l6ZTogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3Ioc2l6ZSkgewogICAgICAgICAgICByZXR1cm4gWycnLCAnc20nLCAnbGcnXS5pbmNsdWRlcyhzaXplKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgsIF9yZWYpIHsKICAgICAgICB2YXIgcHJvcHMgPSBfcmVmLnByb3BzLAogICAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhLAogICAgICAgICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47CiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIGEoZGF0YSwgewogICAgICAgICAgY2xhc3M6IFshcHJvcHMudmVydGljYWwgPyAnYnRuLWdyb3VwJyA6ICdidG4tZ3JvdXAtdmVydGljYWwnLCBDQnV0dG9uR3JvdXB2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eSh7fSwgImJ0bi1ncm91cC0iLmNvbmNhdChwcm9wcy5zaXplKSwgcHJvcHMuc2l6ZSldLAogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgcm9sZTogJ2dyb3VwJwogICAgICAgICAgfQogICAgICAgIH0pLCBjaGlsZHJlbik7CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvYnV0dG9uL0NCdXR0b25Hcm91cC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBidXR0b25fQ0J1dHRvbkdyb3VwdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0J1dHRvbkdyb3VwdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2J1dHRvbi9DQnV0dG9uR3JvdXAudnVlCgogICAgdmFyIENCdXR0b25Hcm91cF9yZW5kZXIsIENCdXR0b25Hcm91cF9zdGF0aWNSZW5kZXJGbnM7CiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENCdXR0b25Hcm91cF9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKGJ1dHRvbl9DQnV0dG9uR3JvdXB2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENCdXR0b25Hcm91cF9yZW5kZXIsIENCdXR0b25Hcm91cF9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0J1dHRvbkdyb3VwID0gQ0J1dHRvbkdyb3VwX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvYnV0dG9uL0NCdXR0b25Ub29sYmFyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICBmdW5jdGlvbiBDQnV0dG9uVG9vbGJhcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogICAgICBpZiAoa2V5IGluIG9iaikgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9iajsKICAgIH0KICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIENCdXR0b25Ub29sYmFydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBmdW5jdGlvbmFsOiB0cnVlLAogICAgICBuYW1lOiAnQ0J1dHRvblRvb2xiYXInLAogICAgICBwcm9wczogewogICAgICAgIGp1c3RpZnk6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkgewogICAgICAgICAgICByZXR1cm4gWycnLCAnc3RhcnQnLCAnZW5kJywgJ2JldHdlZW4nLCAnY2VudGVyJ10uaW5jbHVkZXModmFsKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgsIF9yZWYpIHsKICAgICAgICB2YXIgcHJvcHMgPSBfcmVmLnByb3BzLAogICAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhLAogICAgICAgICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47CiAgICAgICAgcmV0dXJuIGgoJ2RpdicsIGEoZGF0YSwgewogICAgICAgICAgY2xhc3M6IFsnYnRuLXRvb2xiYXInLCBDQnV0dG9uVG9vbGJhcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KHt9LCAianVzdGlmeS1jb250ZW50LSIuY29uY2F0KHByb3BzLmp1c3RpZnkpLCBwcm9wcy5qdXN0aWZ5KV0sCiAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAnYXJpYS1sYWJlbCc6ICd0b29sYmFyJywKICAgICAgICAgICAgcm9sZTogJ3Rvb2xiYXInCiAgICAgICAgICB9CiAgICAgICAgfSksIGNoaWxkcmVuKTsKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9idXR0b24vQ0J1dHRvblRvb2xiYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgYnV0dG9uX0NCdXR0b25Ub29sYmFydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0J1dHRvblRvb2xiYXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvYnV0dG9uL0NCdXR0b25Ub29sYmFyLnZ1ZQoKICAgIHZhciBDQnV0dG9uVG9vbGJhcl9yZW5kZXIsIENCdXR0b25Ub29sYmFyX3N0YXRpY1JlbmRlckZuczsKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0J1dHRvblRvb2xiYXJfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKShidXR0b25fQ0J1dHRvblRvb2xiYXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENCdXR0b25Ub29sYmFyX3JlbmRlciwgQ0J1dHRvblRvb2xiYXJfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENCdXR0b25Ub29sYmFyID0gQ0J1dHRvblRvb2xiYXJfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvYnV0dG9uL2luZGV4LmpzCiAgICAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvY2FsbG91dC9DQ2FsbG91dC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9OGZjNzkwYzYmCgogICAgdmFyIENDYWxsb3V0dnVlX3R5cGVfdGVtcGxhdGVfaWRfOGZjNzkwYzZfcmVuZGVyID0gZnVuY3Rpb24gQ0NhbGxvdXR2dWVfdHlwZV90ZW1wbGF0ZV9pZF84ZmM3OTBjNl9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdkaXYnLCB7CiAgICAgICAgY2xhc3M6ICJjLWNhbGxvdXQgIiArIChfdm0uY29sb3IgPyAnYy1jYWxsb3V0LScgKyBfdm0uY29sb3IgOiAnJykKICAgICAgfSwgW192bS5fdCgiZGVmYXVsdCIpXSwgMik7CiAgICB9OwoKICAgIHZhciBDQ2FsbG91dHZ1ZV90eXBlX3RlbXBsYXRlX2lkXzhmYzc5MGM2X3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvY2FsbG91dC9DQ2FsbG91dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDQ2FsbG91dHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NDYWxsb3V0JywKICAgICAgcHJvcHM6IHsKICAgICAgICBjb2xvcjogU3RyaW5nCiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvY2FsbG91dC9DQ2FsbG91dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBjYWxsb3V0X0NDYWxsb3V0dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0NhbGxvdXR2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvY2FsbG91dC9DQ2FsbG91dC52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENDYWxsb3V0X2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkoY2FsbG91dF9DQ2FsbG91dHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0NhbGxvdXR2dWVfdHlwZV90ZW1wbGF0ZV9pZF84ZmM3OTBjNl9yZW5kZXIsIENDYWxsb3V0dnVlX3R5cGVfdGVtcGxhdGVfaWRfOGZjNzkwYzZfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENDYWxsb3V0ID0gQ0NhbGxvdXRfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvY2FsbG91dC9pbmRleC5qcwogICAgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzP3siY2FjaGVEaXJlY3RvcnkiOiJub2RlX21vZHVsZXMvLmNhY2hlL3Z1ZS1sb2FkZXIiLCJjYWNoZUlkZW50aWZpZXIiOiI0ODc1MDdiOS12dWUtbG9hZGVyLXRlbXBsYXRlIn0hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy90ZW1wbGF0ZUxvYWRlci5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2Nhcm91c2VsL0NDYXJvdXNlbC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9OWM0ZmJlNjQmc2NvcGVkPXRydWUmCgogICAgdmFyIENDYXJvdXNlbHZ1ZV90eXBlX3RlbXBsYXRlX2lkXzljNGZiZTY0X3Njb3BlZF90cnVlX3JlbmRlciA9IGZ1bmN0aW9uIENDYXJvdXNlbHZ1ZV90eXBlX3RlbXBsYXRlX2lkXzljNGZiZTY0X3Njb3BlZF90cnVlX3JlbmRlcigpIHsKICAgICAgdmFyIF92bSA9IHRoaXM7CgogICAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogICAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogICAgICByZXR1cm4gX2MoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogImNhcm91c2VsIHNsaWRlIiwKICAgICAgICBzdHlsZTogewogICAgICAgICAgaGVpZ2h0OiBfdm0uaGVpZ2h0IHx8ICdhdXRvJwogICAgICAgIH0KICAgICAgfSwgW192bS5pbmRpY2F0b3JzID8gX2MoJ29sJywgewogICAgICAgIGNsYXNzOiBfdm0uaW5kaWNhdG9yQ2xhc3NlcwogICAgICB9LCBfdm0uX2woX3ZtLml0ZW1zLmxlbmd0aCwgZnVuY3Rpb24gKGluZGV4LCBrZXkpIHsKICAgICAgICByZXR1cm4gX2MoJ2xpJywgewogICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICBjbGFzczogewogICAgICAgICAgICAnYWN0aXZlJzogX3ZtLmFjdGl2YXRlZCA9PT0ga2V5CiAgICAgICAgICB9LAogICAgICAgICAgb246IHsKICAgICAgICAgICAgImNsaWNrIjogZnVuY3Rpb24gY2xpY2soJGV2ZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF92bS5zZXRJdGVtKGtleSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSksIDApIDogX3ZtLl9lKCksIF9jKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJjYXJvdXNlbC1pbm5lciIKICAgICAgfSwgW192bS5fdCgiZGVmYXVsdCIpXSwgMiksIF92bS5hcnJvd3MgPyBbX2MoJ2EnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJjYXJvdXNlbC1jb250cm9sLXByZXYiLAogICAgICAgIG9uOiB7CiAgICAgICAgICAiY2xpY2siOiBfdm0ucHJldmlvdXNJdGVtCiAgICAgICAgfQogICAgICB9LCBbX2MoJ3NwYW4nLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJjYXJvdXNlbC1jb250cm9sLXByZXYtaWNvbiIsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJhcmlhLWxhYmVsIjogIlByZXZpb3VzIgogICAgICAgIH0KICAgICAgfSldKSwgX2MoJ2EnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJjYXJvdXNlbC1jb250cm9sLW5leHQiLAogICAgICAgIG9uOiB7CiAgICAgICAgICAiY2xpY2siOiBfdm0ubmV4dEl0ZW0KICAgICAgICB9CiAgICAgIH0sIFtfYygnc3BhbicsIHsKICAgICAgICBzdGF0aWNDbGFzczogImNhcm91c2VsLWNvbnRyb2wtbmV4dC1pY29uIiwKICAgICAgICBhdHRyczogewogICAgICAgICAgImFyaWEtbGFiZWwiOiAiTmV4dCIKICAgICAgICB9CiAgICAgIH0pXSldIDogX3ZtLl9lKCldLCAyKTsKICAgIH07CgogICAgdmFyIENDYXJvdXNlbHZ1ZV90eXBlX3RlbXBsYXRlX2lkXzljNGZiZTY0X3Njb3BlZF90cnVlX3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvY2Fyb3VzZWwvQ0Nhcm91c2VsLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENDYXJvdXNlbHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NDYXJvdXNlbCcsCiAgICAgIHByb3BzOiB7CiAgICAgICAgaW50ZXJ2YWw6IE51bWJlciwKICAgICAgICBhbmltYXRlOiBCb29sZWFuLAogICAgICAgIGluZGljYXRvcnM6IEJvb2xlYW4sCiAgICAgICAgYXJyb3dzOiBCb29sZWFuLAogICAgICAgIGluZGljYXRvckNsYXNzZXM6IHsKICAgICAgICAgIHR5cGU6IFtTdHJpbmcsIEFycmF5LCBPYmplY3RdLAogICAgICAgICAgZGVmYXVsdDogJ2Nhcm91c2VsLWluZGljYXRvcnMnCiAgICAgICAgfSwKICAgICAgICBoZWlnaHQ6IFtTdHJpbmcsIE51bWJlcl0KICAgICAgfSwKICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgYWN0aXZlOiBudWxsLAogICAgICAgICAgYWN0aXZhdGVkOiBudWxsLAogICAgICAgICAgaXRlbXM6IFtdLAogICAgICAgICAgY3VycmVudEludGVydmFsOiBudWxsLAogICAgICAgICAgdHJhbnNpdGlvbmluZzogZmFsc2UKICAgICAgICB9OwogICAgICB9LAogICAgICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLiRjaGlsZHJlbjsKICAgICAgICB2YXIgYWN0aXZhdGVkID0gdGhpcy5pdGVtcy5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5hY3RpdmUgPyBpbmRleCA6IG51bGw7CiAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICB9KTsKICAgICAgICB0aGlzLmFjdGl2ZSA9IGFjdGl2YXRlZFswXSB8fCAwOwogICAgICAgIHRoaXMuYWN0aXZhdGUoYWN0aXZhdGVkWzBdIHx8IDApOwogICAgICB9LAogICAgICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jdXJyZW50SW50ZXJ2YWwpOwogICAgICB9LAogICAgICBtZXRob2RzOiB7CiAgICAgICAgcmVzZXRJbnRlcnZhbDogZnVuY3Rpb24gcmVzZXRJbnRlcnZhbCgpIHsKICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgICAgaWYgKHRoaXMuYW5pbWF0ZSAmJiB0aGlzLmludGVydmFsKSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jdXJyZW50SW50ZXJ2YWwpOwogICAgICAgICAgICB0aGlzLmN1cnJlbnRJbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpcy5uZXh0SXRlbSgpOwogICAgICAgICAgICB9LCB0aGlzLmludGVydmFsKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIG5leHRJdGVtOiBmdW5jdGlvbiBuZXh0SXRlbSgpIHsKICAgICAgICAgIHRoaXMuc2V0SXRlbSh0aGlzLmFjdGl2ZSA9PT0gdGhpcy5pdGVtcy5sZW5ndGggLSAxID8gMCA6IHRoaXMuYWN0aXZlICsgMSwgJ25leHQnKTsKICAgICAgICB9LAogICAgICAgIHByZXZpb3VzSXRlbTogZnVuY3Rpb24gcHJldmlvdXNJdGVtKCkgewogICAgICAgICAgdGhpcy5zZXRJdGVtKHRoaXMuYWN0aXZlID09PSAwID8gdGhpcy5pdGVtcy5sZW5ndGggLSAxIDogdGhpcy5hY3RpdmUgLSAxLCAncHJldicpOwogICAgICAgIH0sCiAgICAgICAgc2V0SXRlbTogZnVuY3Rpb24gc2V0SXRlbShpbmRleCkgewogICAgICAgICAgdmFyIHBhc3NlZE9yZGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBudWxsOwoKICAgICAgICAgIGlmIChpbmRleCA9PT0gdGhpcy5hY3RpdmF0ZWQpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzZXRJbnRlcnZhbCgpOwogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRyYW5zaXRpb25pbmcpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBvcmRlciA9IHBhc3NlZE9yZGVyIHx8ICh0aGlzLmFjdGl2ZSA+IGluZGV4ID8gJ3ByZXYnIDogJ25leHQnKTsKICAgICAgICAgIHRoaXMuYWN0aXZlID0gaW5kZXg7CiAgICAgICAgICB0aGlzLmFjdGl2YXRlKGluZGV4LCBvcmRlcik7CiAgICAgICAgfSwKICAgICAgICBhY3RpdmF0ZTogZnVuY3Rpb24gYWN0aXZhdGUoaW5kZXgsIG9yZGVyKSB7CiAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgICB0aGlzLnJlc2V0SW50ZXJ2YWwoKTsKICAgICAgICAgIHRoaXMuYWN0aXZhdGVkID0gaW5kZXg7CgogICAgICAgICAgaWYgKCFvcmRlciB8fCAhdGhpcy5hbmltYXRlKSB7CiAgICAgICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgIHJldHVybiBpdGVtLiRlbWl0KCdzZXRJdGVtJywgX3RoaXMyLml0ZW1zW2luZGV4XSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5zbGlkZShpbmRleCwgb3JkZXIpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2xpZGU6IGZ1bmN0aW9uIHNsaWRlKGksIG9yZGVyKSB7CiAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICAgICB0aGlzLml0ZW1zW2ldLiRlbWl0KCdzbGlkZVRvSXRlbScsIHRoaXMuaXRlbXNbaV0sIG9yZGVyKTsKICAgICAgICAgIHRoaXMuaXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaWR4KSB7CiAgICAgICAgICAgIGlmIChpICE9PSBpZHgpIHsKICAgICAgICAgICAgICBpdGVtLiRlbWl0KCdzbGlkZVRvSXRlbScsIF90aGlzMy5pdGVtc1tpXSwgb3JkZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IHRydWU7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMy50cmFuc2l0aW9uaW5nID0gZmFsc2U7CiAgICAgICAgICB9LCA2MDApOwogICAgICAgIH0KICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9jYXJvdXNlbC9DQ2Fyb3VzZWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgY2Fyb3VzZWxfQ0Nhcm91c2VsdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0Nhcm91c2VsdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2Nhcm91c2VsL0NDYXJvdXNlbC52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENDYXJvdXNlbF9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKGNhcm91c2VsX0NDYXJvdXNlbHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0Nhcm91c2VsdnVlX3R5cGVfdGVtcGxhdGVfaWRfOWM0ZmJlNjRfc2NvcGVkX3RydWVfcmVuZGVyLCBDQ2Fyb3VzZWx2dWVfdHlwZV90ZW1wbGF0ZV9pZF85YzRmYmU2NF9zY29wZWRfdHJ1ZV9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCAiOWM0ZmJlNjQiLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0Nhcm91c2VsID0gQ0Nhcm91c2VsX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvY2Fyb3VzZWwvQ0Nhcm91c2VsSXRlbS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NjQzNTE0ZmMmCgogICAgdmFyIENDYXJvdXNlbEl0ZW12dWVfdHlwZV90ZW1wbGF0ZV9pZF82NDM1MTRmY19yZW5kZXIgPSBmdW5jdGlvbiBDQ2Fyb3VzZWxJdGVtdnVlX3R5cGVfdGVtcGxhdGVfaWRfNjQzNTE0ZmNfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygnZGl2JywgewogICAgICAgIGNsYXNzOiBfdm0uaXRlbUNsYXNzZXMKICAgICAgfSwgW192bS5pbWFnZSA/IF9jKCdDSW1nJywgX3ZtLl9iKHsKICAgICAgICBzdGF0aWNDbGFzczogImQtYmxvY2sgdy0xMDAgaC0xMDAgaW1nLWZsdWlkIgogICAgICB9LCAnQ0ltZycsIF92bS5jb21wdXRlZEltYWdlLCBmYWxzZSkpIDogX3ZtLl9lKCksIF92bS5fdCgiZGVmYXVsdCIsIFtfdm0uY2FwdGlvbkhlYWRlciB8fCBfdm0uY2FwdGlvblRleHQgPyBfYygnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiY2Fyb3VzZWwtY2FwdGlvbiIKICAgICAgfSwgW19jKCdoMycsIFtfdm0uX3YoX3ZtLl9zKF92bS5jYXB0aW9uSGVhZGVyKSldKSwgX2MoJ3AnLCBbX3ZtLl92KF92bS5fcyhfdm0uY2FwdGlvblRleHQpKV0pXSkgOiBfdm0uX2UoKV0pXSwgMik7CiAgICB9OwoKICAgIHZhciBDQ2Fyb3VzZWxJdGVtdnVlX3R5cGVfdGVtcGxhdGVfaWRfNjQzNTE0ZmNfc3RhdGljUmVuZGVyRm5zID0gW107IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9pbWFnZS9DSW1nLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD05MWU0ZTcxMiYKCiAgICB2YXIgQ0ltZ3Z1ZV90eXBlX3RlbXBsYXRlX2lkXzkxZTRlNzEyX3JlbmRlciA9IGZ1bmN0aW9uIENJbWd2dWVfdHlwZV90ZW1wbGF0ZV9pZF85MWU0ZTcxMl9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF92bS5zcmMgJiYgX3ZtLmlzQWN0aXZlID8gX2MoJ2ltZycsIHsKICAgICAgICBjbGFzczogX3ZtLmltYWdlQ2xhc3NlcywKICAgICAgICBhdHRyczogewogICAgICAgICAgInNyYyI6IF92bS5zcmMsCiAgICAgICAgICAiYWx0IjogX3ZtLmFsdCwKICAgICAgICAgICJ3aWR0aCI6IF92bS53aWR0aCwKICAgICAgICAgICJoZWlnaHQiOiBfdm0uaGVpZ2h0CiAgICAgICAgfQogICAgICB9KSA6IF9jKCdzdmcnLCB7CiAgICAgICAgY2xhc3M6IF92bS5pbWFnZUNsYXNzZXMsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogX3ZtLmlzQWN0aXZlID8gX3ZtLnBsYWNlaG9sZGVyQ29sb3IgOiAndHJhbnNwYXJlbnQnCiAgICAgICAgfSwKICAgICAgICBhdHRyczogewogICAgICAgICAgIndpZHRoIjogX3ZtLndpZHRoLAogICAgICAgICAgImhlaWdodCI6IF92bS5oZWlnaHQKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKCiAgICB2YXIgQ0ltZ3Z1ZV90eXBlX3RlbXBsYXRlX2lkXzkxZTRlNzEyX3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvaW1hZ2UvQ0ltZy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ0ltZ3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogICAgICBpZiAoa2V5IGluIG9iaikgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9iajsKICAgIH0gLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIENJbWd2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDSW1nJywKICAgICAgcHJvcHM6IHsKICAgICAgICBzcmM6IFN0cmluZywKICAgICAgICBhbHQ6IFN0cmluZywKICAgICAgICB3aWR0aDogW051bWJlciwgU3RyaW5nXSwKICAgICAgICBoZWlnaHQ6IFtOdW1iZXIsIFN0cmluZ10sCiAgICAgICAgYmxvY2s6IEJvb2xlYW4sCiAgICAgICAgZmx1aWQ6IEJvb2xlYW4sCiAgICAgICAgZmx1aWRHcm93OiBCb29sZWFuLAogICAgICAgIHNoYXBlOiBTdHJpbmcsCiAgICAgICAgdGh1bWJuYWlsOiBCb29sZWFuLAogICAgICAgIGFsaWduOiB7CiAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcihhbGlnbikgewogICAgICAgICAgICByZXR1cm4gWycnLCAnbGVmdCcsICdyaWdodCcsICdjZW50ZXInXS5pbmNsdWRlcyhhbGlnbik7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBwbGFjZWhvbGRlckNvbG9yOiB7CiAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICBkZWZhdWx0OiAndHJhbnNwYXJlbnQnCiAgICAgICAgfQogICAgICB9LAogICAgICBjb21wdXRlZDogewogICAgICAgIGlzQWN0aXZlOiBmdW5jdGlvbiBpc0FjdGl2ZSgpIHsKICAgICAgICAgIC8vYWN0aXZlIHByb3AgaXMgcHJlc2VudCBpbiBDSW1nTGF6eSBjb21wb25lbnQsIGhlcmUgYWx3YXlzIHVuZGVmaW5lZAogICAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlICE9PSBmYWxzZTsKICAgICAgICB9LAogICAgICAgIGFsaWduQ2xhc3M6IGZ1bmN0aW9uIGFsaWduQ2xhc3MoKSB7CiAgICAgICAgICBpZiAodGhpcy5hbGlnbiA9PT0gJ2NlbnRlcicpIHsKICAgICAgICAgICAgcmV0dXJuICdteC1hdXRvJzsKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hbGlnbiA9PT0gJ3JpZ2h0JykgewogICAgICAgICAgICByZXR1cm4gJ2Zsb2F0LXJpZ2h0JzsKICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5hbGlnbiA9PT0gJ2xlZnQnKSB7CiAgICAgICAgICAgIHJldHVybiAnZmxvYXQtbGVmdCc7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfSwKICAgICAgICBpbWFnZUNsYXNzZXM6IGZ1bmN0aW9uIGltYWdlQ2xhc3NlcygpIHsKICAgICAgICAgIHZhciBfcmVmOwoKICAgICAgICAgIHJldHVybiBbLy9hbmltYXRpb25DbGFzc2VzIGlzIHJlbmRlcmVkIGluIENJbWdMYXp5CiAgICAgICAgICB0aGlzLmFuaW1hdGlvbkNsYXNzZXMsIHRoaXMuYWxpZ25DbGFzcywgKF9yZWYgPSB7CiAgICAgICAgICAgICdpbWctdGh1bWJuYWlsJzogdGhpcy50aHVtYm5haWwsCiAgICAgICAgICAgICdpbWctZmx1aWQnOiB0aGlzLmZsdWlkIHx8IHRoaXMuZmx1aWRHcm93LAogICAgICAgICAgICAndy0xMDAnOiB0aGlzLmZsdWlkR3JvdwogICAgICAgICAgfSwgQ0ltZ3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYsICIiLmNvbmNhdCh0aGlzLnNoYXBlKSwgdGhpcy5zaGFwZSksIENJbWd2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfcmVmLCAnZC1ibG9jaycsIHRoaXMuYmxvY2spLCBfcmVmKV07CiAgICAgICAgfQogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2ltYWdlL0NJbWcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgaW1hZ2VfQ0ltZ3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENJbWd2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvaW1hZ2UvQ0ltZy52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENJbWdfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKShpbWFnZV9DSW1ndnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDSW1ndnVlX3R5cGVfdGVtcGxhdGVfaWRfOTFlNGU3MTJfcmVuZGVyLCBDSW1ndnVlX3R5cGVfdGVtcGxhdGVfaWRfOTFlNGU3MTJfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENJbWcgPSBDSW1nX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvY2Fyb3VzZWwvQ0Nhcm91c2VsSXRlbS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ0Nhcm91c2VsSXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogICAgICBpZiAoa2V5IGluIG9iaikgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9iajsKICAgIH0gLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgoKICAgIHZhciBDQ2Fyb3VzZWxJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ0Nhcm91c2VsSXRlbScsCiAgICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBDSW1nOiBDSW1nCiAgICAgIH0sCiAgICAgIHByb3BzOiB7CiAgICAgICAgaW1hZ2U6IFtTdHJpbmcsIE9iamVjdF0sCiAgICAgICAgY2FwdGlvbkhlYWRlcjogU3RyaW5nLAogICAgICAgIGNhcHRpb25UZXh0OiBTdHJpbmcsCiAgICAgICAgYWN0aXZlOiBCb29sZWFuCiAgICAgIH0sCiAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGFjdGl2YXRlZDogZmFsc2UsCiAgICAgICAgICB0cmFuc2l0aW9uaW5nOiBmYWxzZSwKICAgICAgICAgIG9yZGVyOiBudWxsCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgICAgICB0aGlzLiRvbignc2V0SXRlbScsIHRoaXMuc2V0SXRlbSk7CiAgICAgICAgdGhpcy4kb24oJ3NsaWRlVG9JdGVtJywgdGhpcy5zbGlkZVRvSXRlbSk7CiAgICAgIH0sCiAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgZGlyZWN0aW9uOiBmdW5jdGlvbiBkaXJlY3Rpb24oKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5vcmRlciA9PT0gJ25leHQnID8gJ2xlZnQnIDogJ3JpZ2h0JzsKICAgICAgICB9LAogICAgICAgIGl0ZW1DbGFzc2VzOiBmdW5jdGlvbiBpdGVtQ2xhc3NlcygpIHsKICAgICAgICAgIHZhciBfcmVmOwoKICAgICAgICAgIHJldHVybiBbJ2Nhcm91c2VsLWl0ZW0nLCAoX3JlZiA9IHt9LCBDQ2Fyb3VzZWxJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZiwgImNhcm91c2VsLWl0ZW0tIi5jb25jYXQodGhpcy5vcmRlciksIHRoaXMub3JkZXIgJiYgIXRoaXMuYWN0aXZhdGVkKSwgQ0Nhcm91c2VsSXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYsICJjYXJvdXNlbC1pdGVtLSIuY29uY2F0KHRoaXMuZGlyZWN0aW9uKSwgdGhpcy50cmFuc2l0aW9uaW5nKSwgQ0Nhcm91c2VsSXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYsICdhY3RpdmUnLCB0aGlzLmFjdGl2YXRlZCksIF9yZWYpXTsKICAgICAgICB9LAogICAgICAgIGNvbXB1dGVkSW1hZ2U6IGZ1bmN0aW9uIGNvbXB1dGVkSW1hZ2UoKSB7CiAgICAgICAgICByZXR1cm4gdHlwZW9mIHRoaXMuaW1hZ2UgPT09ICdzdHJpbmcnID8gewogICAgICAgICAgICBzcmM6IHRoaXMuaW1hZ2UKICAgICAgICAgIH0gOiB0aGlzLmltYWdlOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbWV0aG9kczogewogICAgICAgIHNldEl0ZW06IGZ1bmN0aW9uIHNldEl0ZW0oaXRlbSkgewogICAgICAgICAgdGhpcy5hY3RpdmF0ZWQgPSB0aGlzLl91aWQgPT09IGl0ZW0uX3VpZDsKICAgICAgICB9LAogICAgICAgIHNsaWRlVG9JdGVtOiBmdW5jdGlvbiBzbGlkZVRvSXRlbShpdGVtLCBvcmRlcikgewogICAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgICBpZiAodGhpcy5fdWlkID09PSBpdGVtLl91aWQgfHwgdGhpcy5hY3RpdmF0ZWQpIHsKICAgICAgICAgICAgdGhpcy5vcmRlciA9IG9yZGVyOwogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpcy50cmFuc2l0aW9uaW5nID0gdHJ1ZTsKICAgICAgICAgICAgfSwgMCk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzLnRyYW5zaXRpb25pbmcgPSBmYWxzZTsKICAgICAgICAgICAgICBfdGhpcy5vcmRlciA9IG51bGw7CgogICAgICAgICAgICAgIF90aGlzLnNldEl0ZW0oaXRlbSk7CiAgICAgICAgICAgIH0sIDYwMCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2Nhcm91c2VsL0NDYXJvdXNlbEl0ZW0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgY2Fyb3VzZWxfQ0Nhcm91c2VsSXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENDYXJvdXNlbEl0ZW12dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvY2Fyb3VzZWwvQ0Nhcm91c2VsSXRlbS52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENDYXJvdXNlbEl0ZW1fY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKShjYXJvdXNlbF9DQ2Fyb3VzZWxJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDQ2Fyb3VzZWxJdGVtdnVlX3R5cGVfdGVtcGxhdGVfaWRfNjQzNTE0ZmNfcmVuZGVyLCBDQ2Fyb3VzZWxJdGVtdnVlX3R5cGVfdGVtcGxhdGVfaWRfNjQzNTE0ZmNfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENDYXJvdXNlbEl0ZW0gPSBDQ2Fyb3VzZWxJdGVtX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2Nhcm91c2VsL2luZGV4LmpzCiAgICAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2NhcmQvc2hhcmVkLWNhcmQtcHJvcHMuanMKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIHNoYXJlZF9jYXJkX3Byb3BzID0gewogICAgICB0YWc6IFN0cmluZywKICAgICAgY29sb3I6IFN0cmluZywKICAgICAgYm9yZGVyQ29sb3I6IFN0cmluZywKICAgICAgdGV4dENvbG9yOiBTdHJpbmcsCiAgICAgIGFsaWduOiB7CiAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkgewogICAgICAgICAgcmV0dXJuIFsnJywgJ2xlZnQnLCAnY2VudGVyJywgJ3JpZ2h0J10uaW5jbHVkZXModmFsKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9jYXJkL0NDYXJkQm9keS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ0NhcmRCb2R5dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgICAgIGlmIChrZXkgaW4gb2JqKSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgICAgd3JpdGFibGU6IHRydWUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpba2V5XSA9IHZhbHVlOwogICAgICB9CgogICAgICByZXR1cm4gb2JqOwogICAgfQogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICB2YXIgQ0NhcmRCb2R5dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBmdW5jdGlvbmFsOiB0cnVlLAogICAgICBuYW1lOiAnQ0NhcmRCb2R5JywKICAgICAgcHJvcHM6IHNoYXJlZF9jYXJkX3Byb3BzLAogICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfcmVmKSB7CiAgICAgICAgdmFyIF9yZWYyOwoKICAgICAgICB2YXIgcHJvcHMgPSBfcmVmLnByb3BzLAogICAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhLAogICAgICAgICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47CiAgICAgICAgcmV0dXJuIGgocHJvcHMudGFnIHx8ICdkaXYnLCBhKGRhdGEsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAnY2FyZC1ib2R5JywKICAgICAgICAgIGNsYXNzOiBbKF9yZWYyID0ge30sIENDYXJkQm9keXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYyLCAiYmctIi5jb25jYXQocHJvcHMuY29sb3IpLCBwcm9wcy5jb2xvciksIENDYXJkQm9keXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYyLCAiYm9yZGVyLSIuY29uY2F0KHByb3BzLmJvcmRlckNvbG9yKSwgcHJvcHMuYm9yZGVyQ29sb3IpLCBDQ2FyZEJvZHl2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfcmVmMiwgInRleHQtIi5jb25jYXQocHJvcHMudGV4dENvbG9yKSwgcHJvcHMudGV4dENvbG9yKSwgQ0NhcmRCb2R5dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZjIsICJ0ZXh0LSIuY29uY2F0KHByb3BzLmFsaWduKSwgcHJvcHMuYWxpZ24pLCBfcmVmMildCiAgICAgICAgfSksIFtjaGlsZHJlbl0pOwogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2NhcmQvQ0NhcmRCb2R5LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIGNhcmRfQ0NhcmRCb2R5dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0NhcmRCb2R5dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2NhcmQvQ0NhcmRCb2R5LnZ1ZQoKICAgIHZhciBDQ2FyZEJvZHlfcmVuZGVyLCBDQ2FyZEJvZHlfc3RhdGljUmVuZGVyRm5zOwogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDQ2FyZEJvZHlfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKShjYXJkX0NDYXJkQm9keXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0NhcmRCb2R5X3JlbmRlciwgQ0NhcmRCb2R5X3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDQ2FyZEJvZHkgPSBDQ2FyZEJvZHlfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9jYXJkL0NDYXJkLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICBmdW5jdGlvbiBDQ2FyZHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogICAgICBpZiAoa2V5IGluIG9iaikgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9iajsKICAgIH0KCiAgICB2YXIgQ0NhcmR2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19wcm9wcyA9IE9iamVjdC5hc3NpZ24oc2hhcmVkX2NhcmRfcHJvcHMsIHsKICAgICAgYm9keVdyYXBwZXI6IEJvb2xlYW4sCiAgICAgIGFjY2VudENvbG9yOiBTdHJpbmcKICAgIH0pOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDQ2FyZHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgZnVuY3Rpb25hbDogdHJ1ZSwKICAgICAgbmFtZTogJ0NDYXJkJywKICAgICAgcHJvcHM6IENDYXJkdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfcHJvcHMsCiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgsIF9yZWYpIHsKICAgICAgICB2YXIgX2NsYXNzOwoKICAgICAgICB2YXIgcHJvcHMgPSBfcmVmLnByb3BzLAogICAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhLAogICAgICAgICAgICBzbG90cyA9IF9yZWYuc2xvdHM7CiAgICAgICAgdmFyIHNsb3QgPSBzbG90cygpLmRlZmF1bHQ7CiAgICAgICAgdmFyIGNvbnRlbnQgPSBwcm9wcy5ib2R5V3JhcHBlciA/IGgoQ0NhcmRCb2R5LCBzbG90KSA6IHNsb3Q7CiAgICAgICAgcmV0dXJuIGgocHJvcHMudGFnIHx8ICdkaXYnLCBhKGRhdGEsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAnY2FyZCcsCiAgICAgICAgICBjbGFzczogKF9jbGFzcyA9IHt9LCBDQ2FyZHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9jbGFzcywgImNhcmQtYWNjZW50LSIuY29uY2F0KHByb3BzLmFjY2VudENvbG9yKSwgcHJvcHMuYWNjZW50Q29sb3IpLCBDQ2FyZHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9jbGFzcywgInRleHQtIi5jb25jYXQocHJvcHMuYWxpZ24pLCBwcm9wcy5hbGlnbiksIENDYXJkdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX2NsYXNzLCAiYmctIi5jb25jYXQocHJvcHMuY29sb3IpLCBwcm9wcy5jb2xvciksIENDYXJkdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX2NsYXNzLCAiYm9yZGVyLSIuY29uY2F0KHByb3BzLmJvcmRlckNvbG9yKSwgcHJvcHMuYm9yZGVyQ29sb3IpLCBDQ2FyZHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9jbGFzcywgInRleHQtIi5jb25jYXQocHJvcHMudGV4dENvbG9yKSwgcHJvcHMudGV4dENvbG9yKSwgX2NsYXNzKQogICAgICAgIH0pLCBbY29udGVudF0pOwogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2NhcmQvQ0NhcmQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgY2FyZF9DQ2FyZHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENDYXJkdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2NhcmQvQ0NhcmQudnVlCgogICAgdmFyIENDYXJkX3JlbmRlciwgQ0NhcmRfc3RhdGljUmVuZGVyRm5zOwogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDQ2FyZF9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKGNhcmRfQ0NhcmR2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENDYXJkX3JlbmRlciwgQ0NhcmRfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENDYXJkID0gQ0NhcmRfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9jYXJkL0NDYXJkRm9vdGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICBmdW5jdGlvbiBDQ2FyZEZvb3RlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogICAgICBpZiAoa2V5IGluIG9iaikgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9iajsKICAgIH0KICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIENDYXJkRm9vdGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBmdW5jdGlvbmFsOiB0cnVlLAogICAgICBuYW1lOiAnQ0NhcmRGb290ZXInLAogICAgICBwcm9wczogc2hhcmVkX2NhcmRfcHJvcHMsCiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgsIF9yZWYpIHsKICAgICAgICB2YXIgX3JlZjI7CgogICAgICAgIHZhciBwcm9wcyA9IF9yZWYucHJvcHMsCiAgICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGEsCiAgICAgICAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjsKICAgICAgICByZXR1cm4gaChwcm9wcy50YWcgfHwgJ2Zvb3RlcicsIGEoZGF0YSwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICdjYXJkLWZvb3RlcicsCiAgICAgICAgICBjbGFzczogWyhfcmVmMiA9IHt9LCBDQ2FyZEZvb3RlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYyLCAidGV4dC0iLmNvbmNhdChwcm9wcy5hbGlnbiksIHByb3BzLmFsaWduKSwgQ0NhcmRGb290ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfcmVmMiwgImJnLSIuY29uY2F0KHByb3BzLmNvbG9yKSwgcHJvcHMuY29sb3IpLCBDQ2FyZEZvb3RlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYyLCAiYm9yZGVyLSIuY29uY2F0KHByb3BzLmJvcmRlckNvbG9yKSwgcHJvcHMuYm9yZGVyQ29sb3IpLCBDQ2FyZEZvb3RlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYyLCAidGV4dC0iLmNvbmNhdChwcm9wcy50ZXh0Q29sb3IpLCBwcm9wcy50ZXh0Q29sb3IpLCBfcmVmMildCiAgICAgICAgfSksIGNoaWxkcmVuKTsKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9jYXJkL0NDYXJkRm9vdGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIGNhcmRfQ0NhcmRGb290ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDQ2FyZEZvb3RlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9jYXJkL0NDYXJkRm9vdGVyLnZ1ZQoKICAgIHZhciBDQ2FyZEZvb3Rlcl9yZW5kZXIsIENDYXJkRm9vdGVyX3N0YXRpY1JlbmRlckZuczsKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0NhcmRGb290ZXJfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKShjYXJkX0NDYXJkRm9vdGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDQ2FyZEZvb3Rlcl9yZW5kZXIsIENDYXJkRm9vdGVyX3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDQ2FyZEZvb3RlciA9IENDYXJkRm9vdGVyX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvY2FyZC9DQ2FyZEdyb3VwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENDYXJkR3JvdXB2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIGZ1bmN0aW9uYWw6IHRydWUsCiAgICAgIG5hbWU6ICdDQ2FyZEdyb3VwJywKICAgICAgcHJvcHM6IHsKICAgICAgICB0YWc6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIGRlZmF1bHQ6ICdkaXYnCiAgICAgICAgfSwKICAgICAgICBkZWNrOiBCb29sZWFuLAogICAgICAgIGNvbHVtbnM6IEJvb2xlYW4KICAgICAgfSwKICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgX3JlZikgewogICAgICAgIHZhciBwcm9wcyA9IF9yZWYucHJvcHMsCiAgICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGEsCiAgICAgICAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjsKICAgICAgICB2YXIgdHlwZSA9IHByb3BzLmNvbHVtbnMgPyAnY29sdW1ucycgOiBwcm9wcy5kZWNrID8gJ2RlY2snIDogJ2dyb3VwJzsKICAgICAgICByZXR1cm4gaChwcm9wcy50YWcsIGEoZGF0YSwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICJjYXJkLSIuY29uY2F0KHR5cGUpCiAgICAgICAgfSksIGNoaWxkcmVuKTsKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9jYXJkL0NDYXJkR3JvdXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgY2FyZF9DQ2FyZEdyb3VwdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0NhcmRHcm91cHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9jYXJkL0NDYXJkR3JvdXAudnVlCgogICAgdmFyIENDYXJkR3JvdXBfcmVuZGVyLCBDQ2FyZEdyb3VwX3N0YXRpY1JlbmRlckZuczsKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0NhcmRHcm91cF9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKGNhcmRfQ0NhcmRHcm91cHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0NhcmRHcm91cF9yZW5kZXIsIENDYXJkR3JvdXBfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENDYXJkR3JvdXAgPSBDQ2FyZEdyb3VwX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvY2FyZC9DQ2FyZEhlYWRlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ0NhcmRIZWFkZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICAgICAgaWYgKGtleSBpbiBvYmopIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgICB3cml0YWJsZTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIG9ialtrZXldID0gdmFsdWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBvYmo7CiAgICB9CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgoKICAgIHZhciBDQ2FyZEhlYWRlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgZnVuY3Rpb25hbDogdHJ1ZSwKICAgICAgbmFtZTogJ0NDYXJkSGVhZGVyJywKICAgICAgcHJvcHM6IHNoYXJlZF9jYXJkX3Byb3BzLAogICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfcmVmKSB7CiAgICAgICAgdmFyIF9yZWYyOwoKICAgICAgICB2YXIgcHJvcHMgPSBfcmVmLnByb3BzLAogICAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhLAogICAgICAgICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47CiAgICAgICAgcmV0dXJuIGgocHJvcHMudGFnIHx8ICdoZWFkZXInLCBhKGRhdGEsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAnY2FyZC1oZWFkZXInLAogICAgICAgICAgY2xhc3M6IFsoX3JlZjIgPSB7fSwgQ0NhcmRIZWFkZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfcmVmMiwgInRleHQtIi5jb25jYXQocHJvcHMuYWxpZ24pLCBwcm9wcy5hbGlnbiksIENDYXJkSGVhZGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZjIsICJiZy0iLmNvbmNhdChwcm9wcy5jb2xvciksIHByb3BzLmNvbG9yKSwgQ0NhcmRIZWFkZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfcmVmMiwgImJvcmRlci0iLmNvbmNhdChwcm9wcy5ib3JkZXJDb2xvciksIHByb3BzLmJvcmRlckNvbG9yKSwgQ0NhcmRIZWFkZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfcmVmMiwgInRleHQtIi5jb25jYXQocHJvcHMudGV4dENvbG9yKSwgcHJvcHMudGV4dENvbG9yKSwgX3JlZjIpXQogICAgICAgIH0pLCBjaGlsZHJlbik7CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvY2FyZC9DQ2FyZEhlYWRlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBjYXJkX0NDYXJkSGVhZGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0NhcmRIZWFkZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvY2FyZC9DQ2FyZEhlYWRlci52dWUKCiAgICB2YXIgQ0NhcmRIZWFkZXJfcmVuZGVyLCBDQ2FyZEhlYWRlcl9zdGF0aWNSZW5kZXJGbnM7CiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENDYXJkSGVhZGVyX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkoY2FyZF9DQ2FyZEhlYWRlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0NhcmRIZWFkZXJfcmVuZGVyLCBDQ2FyZEhlYWRlcl9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0NhcmRIZWFkZXIgPSBDQ2FyZEhlYWRlcl9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2NhcmQvQ0NhcmRJbWcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIHZhciBDQ2FyZEltZ3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3Byb3BzID0gT2JqZWN0LmFzc2lnbih7CiAgICAgIHZhcmlhbnQ6IHsKICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgZGVmYXVsdDogJ2Z1bGwnLAogICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkgewogICAgICAgICAgcmV0dXJuIFsnJywgJ3RvcCcsICdib3R0b20nLCAnZnVsbCddLmluY2x1ZGVzKHZhbCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBDSW1nLnByb3BzKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0NhcmRJbWd2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIGZ1bmN0aW9uYWw6IHRydWUsCiAgICAgIG5hbWU6ICdDQ2FyZEltZycsCiAgICAgIHByb3BzOiBDQ2FyZEltZ3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3Byb3BzLAogICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfcmVmKSB7CiAgICAgICAgdmFyIHByb3BzID0gX3JlZi5wcm9wcywKICAgICAgICAgICAgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgICB2YXIgaGF2ZUNsYXNzU3VmZml4ID0gcHJvcHMudmFyaWFudCAhPT0gJ2Z1bGwnOwogICAgICAgIHJldHVybiBoKENJbWcsIGEoZGF0YSwgewogICAgICAgICAgY2xhc3M6ICJjYXJkLWltZyIuY29uY2F0KGhhdmVDbGFzc1N1ZmZpeCA/ICItIi5jb25jYXQocHJvcHMudmFyaWFudCkgOiAnJyksCiAgICAgICAgICBwcm9wczogcHJvcHMKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvY2FyZC9DQ2FyZEltZy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBjYXJkX0NDYXJkSW1ndnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0NhcmRJbWd2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvY2FyZC9DQ2FyZEltZy52dWUKCiAgICB2YXIgQ0NhcmRJbWdfcmVuZGVyLCBDQ2FyZEltZ19zdGF0aWNSZW5kZXJGbnM7CiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENDYXJkSW1nX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkoY2FyZF9DQ2FyZEltZ3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0NhcmRJbWdfcmVuZGVyLCBDQ2FyZEltZ19zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0NhcmRJbWcgPSBDQ2FyZEltZ19jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2NhcmQvQ0NhcmRJbWdPdmVybGF5LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENDYXJkSW1nT3ZlcmxheXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgZnVuY3Rpb25hbDogdHJ1ZSwKICAgICAgbmFtZTogJ0NDYXJkSW1nT3ZlcmxheScsCiAgICAgIHByb3BzOiB7CiAgICAgICAgdGFnOiB7CiAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICBkZWZhdWx0OiAnZGl2JwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgX3JlZikgewogICAgICAgIHZhciBwcm9wcyA9IF9yZWYucHJvcHMsCiAgICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGEsCiAgICAgICAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjsKICAgICAgICByZXR1cm4gaChwcm9wcy50YWcsIGEoZGF0YSwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICdjYXJkLWltZy1vdmVybGF5JwogICAgICAgIH0pLCBjaGlsZHJlbik7CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvY2FyZC9DQ2FyZEltZ092ZXJsYXkudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgY2FyZF9DQ2FyZEltZ092ZXJsYXl2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDQ2FyZEltZ092ZXJsYXl2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvY2FyZC9DQ2FyZEltZ092ZXJsYXkudnVlCgogICAgdmFyIENDYXJkSW1nT3ZlcmxheV9yZW5kZXIsIENDYXJkSW1nT3ZlcmxheV9zdGF0aWNSZW5kZXJGbnM7CiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENDYXJkSW1nT3ZlcmxheV9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKGNhcmRfQ0NhcmRJbWdPdmVybGF5dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDQ2FyZEltZ092ZXJsYXlfcmVuZGVyLCBDQ2FyZEltZ092ZXJsYXlfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENDYXJkSW1nT3ZlcmxheSA9IENDYXJkSW1nT3ZlcmxheV9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2NhcmQvQ0NhcmRMaW5rLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENDYXJkTGlua3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgZnVuY3Rpb25hbDogdHJ1ZSwKICAgICAgbmFtZTogJ0NDYXJkTGluaycsCiAgICAgIHByb3BzOiBDTGlua3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3Byb3BzLAogICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfcmVmKSB7CiAgICAgICAgdmFyIHByb3BzID0gX3JlZi5wcm9wcywKICAgICAgICAgICAgZGF0YSA9IF9yZWYuZGF0YSwKICAgICAgICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuOwogICAgICAgIHJldHVybiBoKENMaW5rLCBhKGRhdGEsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAnY2FyZC1saW5rJywKICAgICAgICAgIHByb3BzOiBwcm9wcwogICAgICAgIH0pLCBjaGlsZHJlbik7CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvY2FyZC9DQ2FyZExpbmsudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgY2FyZF9DQ2FyZExpbmt2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDQ2FyZExpbmt2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvY2FyZC9DQ2FyZExpbmsudnVlCgogICAgdmFyIENDYXJkTGlua19yZW5kZXIsIENDYXJkTGlua19zdGF0aWNSZW5kZXJGbnM7CiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENDYXJkTGlua19jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKGNhcmRfQ0NhcmRMaW5rdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDQ2FyZExpbmtfcmVuZGVyLCBDQ2FyZExpbmtfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENDYXJkTGluayA9IENDYXJkTGlua19jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2NhcmQvQ0NhcmRTdWJ0aXRsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDQ2FyZFN1YnRpdGxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBmdW5jdGlvbmFsOiB0cnVlLAogICAgICBuYW1lOiAnQ0NhcmRTdWJ0aXRsZScsCiAgICAgIHByb3BzOiB7CiAgICAgICAgdGFnOiB7CiAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICBkZWZhdWx0OiAnaDYnCiAgICAgICAgfQogICAgICB9LAogICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfcmVmKSB7CiAgICAgICAgdmFyIHByb3BzID0gX3JlZi5wcm9wcywKICAgICAgICAgICAgZGF0YSA9IF9yZWYuZGF0YSwKICAgICAgICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuOwogICAgICAgIHJldHVybiBoKHByb3BzLnRhZywgYShkYXRhLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogJ2NhcmQtc3VidGl0bGUnCiAgICAgICAgfSksIGNoaWxkcmVuKTsKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9jYXJkL0NDYXJkU3VidGl0bGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgY2FyZF9DQ2FyZFN1YnRpdGxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0NhcmRTdWJ0aXRsZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9jYXJkL0NDYXJkU3VidGl0bGUudnVlCgogICAgdmFyIENDYXJkU3VidGl0bGVfcmVuZGVyLCBDQ2FyZFN1YnRpdGxlX3N0YXRpY1JlbmRlckZuczsKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0NhcmRTdWJ0aXRsZV9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKGNhcmRfQ0NhcmRTdWJ0aXRsZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0NhcmRTdWJ0aXRsZV9yZW5kZXIsIENDYXJkU3VidGl0bGVfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENDYXJkU3VidGl0bGUgPSBDQ2FyZFN1YnRpdGxlX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvY2FyZC9DQ2FyZFRleHQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0NhcmRUZXh0dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBmdW5jdGlvbmFsOiB0cnVlLAogICAgICBuYW1lOiAnQ0NhcmRUZXh0JywKICAgICAgcHJvcHM6IHsKICAgICAgICB0YWc6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIGRlZmF1bHQ6ICdwJwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgX3JlZikgewogICAgICAgIHZhciBwcm9wcyA9IF9yZWYucHJvcHMsCiAgICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGEsCiAgICAgICAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjsKICAgICAgICByZXR1cm4gaChwcm9wcy50YWcsIGEoZGF0YSwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICdjYXJkLXRleHQnCiAgICAgICAgfSksIGNoaWxkcmVuKTsKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9jYXJkL0NDYXJkVGV4dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBjYXJkX0NDYXJkVGV4dHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENDYXJkVGV4dHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9jYXJkL0NDYXJkVGV4dC52dWUKCiAgICB2YXIgQ0NhcmRUZXh0X3JlbmRlciwgQ0NhcmRUZXh0X3N0YXRpY1JlbmRlckZuczsKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0NhcmRUZXh0X2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkoY2FyZF9DQ2FyZFRleHR2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENDYXJkVGV4dF9yZW5kZXIsIENDYXJkVGV4dF9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0NhcmRUZXh0ID0gQ0NhcmRUZXh0X2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvY2FyZC9DQ2FyZFRpdGxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENDYXJkVGl0bGV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIGZ1bmN0aW9uYWw6IHRydWUsCiAgICAgIG5hbWU6ICdDQ2FyZFRpdGxlJywKICAgICAgcHJvcHM6IHsKICAgICAgICB0YWc6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIGRlZmF1bHQ6ICdoNCcKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgsIF9yZWYpIHsKICAgICAgICB2YXIgcHJvcHMgPSBfcmVmLnByb3BzLAogICAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhLAogICAgICAgICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47CiAgICAgICAgcmV0dXJuIGgocHJvcHMudGFnLCBhKGRhdGEsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAnY2FyZC10aXRsZScKICAgICAgICB9KSwgY2hpbGRyZW4pOwogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2NhcmQvQ0NhcmRUaXRsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBjYXJkX0NDYXJkVGl0bGV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDQ2FyZFRpdGxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2NhcmQvQ0NhcmRUaXRsZS52dWUKCiAgICB2YXIgQ0NhcmRUaXRsZV9yZW5kZXIsIENDYXJkVGl0bGVfc3RhdGljUmVuZGVyRm5zOwogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDQ2FyZFRpdGxlX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkoY2FyZF9DQ2FyZFRpdGxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDQ2FyZFRpdGxlX3JlbmRlciwgQ0NhcmRUaXRsZV9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0NhcmRUaXRsZSA9IENDYXJkVGl0bGVfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvY2FyZC9pbmRleC5qcwogICAgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzP3siY2FjaGVEaXJlY3RvcnkiOiJub2RlX21vZHVsZXMvLmNhY2hlL3Z1ZS1sb2FkZXIiLCJjYWNoZUlkZW50aWZpZXIiOiI0ODc1MDdiOS12dWUtbG9hZGVyLXRlbXBsYXRlIn0hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy90ZW1wbGF0ZUxvYWRlci5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2NvbGxhcHNlL0NDb2xsYXBzZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9Mjg4YWJhYzkmCgogICAgdmFyIENDb2xsYXBzZXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzI4OGFiYWM5X3JlbmRlciA9IGZ1bmN0aW9uIENDb2xsYXBzZXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzI4OGFiYWM5X3JlbmRlcigpIHsKICAgICAgdmFyIF92bSA9IHRoaXM7CgogICAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogICAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogICAgICByZXR1cm4gX2MoJ2RpdicsIHsKICAgICAgICBjbGFzczogewogICAgICAgICAgJ25hdmJhci1jb2xsYXBzZSc6IHRoaXMubmF2YmFyCiAgICAgICAgfQogICAgICB9LCBbX3ZtLl90KCJkZWZhdWx0IildLCAyKTsKICAgIH07CgogICAgdmFyIENDb2xsYXBzZXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzI4OGFiYWM5X3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvY29sbGFwc2UvQ0NvbGxhcHNlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KCiAgICB2YXIgQ0NvbGxhcHNldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfcHJvcHMgPSB7CiAgICAgIGR1cmF0aW9uOiB7CiAgICAgICAgdHlwZTogW051bWJlciwgT2JqZWN0XSwKICAgICAgICBkZWZhdWx0OiA0MDAKICAgICAgfSwKICAgICAgdHJhbnNpdGlvbjogewogICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICBkZWZhdWx0OiAnZWFzZS1pbi1vdXQnCiAgICAgIH0sCiAgICAgIHNob3c6IEJvb2xlYW4sCiAgICAgIG5hdmJhcjogQm9vbGVhbgogICAgfTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0NvbGxhcHNldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ0NvbGxhcHNlJywKICAgICAgcHJvcHM6IENDb2xsYXBzZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3Byb3BzLAogICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBjb2xsYXBzaW5nOiBmYWxzZSwKICAgICAgICAgIGhlaWdodFdhdGNoZXI6IG51bGwsCiAgICAgICAgICB2aXNpYmxlOiB0aGlzLnNob3csCiAgICAgICAgICBlbDogbnVsbAogICAgICAgIH07CiAgICAgIH0sCiAgICAgIHdhdGNoOiB7CiAgICAgICAgc2hvdzogZnVuY3Rpb24gc2hvdyh2YWwpIHsKICAgICAgICAgIHRoaXMudmlzaWJsZSA9IHZhbDsKICAgICAgICB9LAogICAgICAgIHZpc2libGU6IGZ1bmN0aW9uIHZpc2libGUodmFsKSB7CiAgICAgICAgICBpZiAodGhpcy50b2dnbGVUaW1lKSB7CiAgICAgICAgICAgIHRoaXMuY29sbGFwc2VDb250cm9sbGVyKHZhbCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICAgIHRoaXMuJGVsLnN0eWxlLmRpc3BsYXkgPSB0aGlzLnZpc2libGUgPyAnJyA6ICdub25lJzsKICAgICAgfSwKICAgICAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5oZWlnaHRXYXRjaGVyKTsKICAgICAgfSwKICAgICAgY29tcHV0ZWQ6IHsKICAgICAgICB0b2dnbGVUaW1lOiBmdW5jdGlvbiB0b2dnbGVUaW1lKCkgewogICAgICAgICAgcmV0dXJuICh0aGlzLnZpc2libGUgPyB0aGlzLmR1cmF0aW9uLnNob3cgOiB0aGlzLmR1cmF0aW9uLmhpZGUpIHx8IHRoaXMuZHVyYXRpb247CiAgICAgICAgfQogICAgICB9LAogICAgICBtZXRob2RzOiB7CiAgICAgICAgY29sbGFwc2VDb250cm9sbGVyOiBmdW5jdGlvbiBjb2xsYXBzZUNvbnRyb2xsZXIodmFsKSB7CiAgICAgICAgICBpZiAodGhpcy5jb2xsYXBzaW5nID09PSBmYWxzZSkgewogICAgICAgICAgICB2YWwgPyB0aGlzLnRvZ2dsZSh0cnVlKSA6IHRoaXMudG9nZ2xlKGZhbHNlKTsKICAgICAgICAgICAgdGhpcy5zZXRGaW5pc2hUaW1lcih0aGlzLnRvZ2dsZVRpbWUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5zZXRUcmFuc2l0aW9uKCk7CiAgICAgICAgICAgIHRoaXMudHVybigpOwogICAgICAgICAgICB2YXIgaGVpZ2h0ID0gTnVtYmVyKHRoaXMuY29sbGFwc2luZy5zbGljZSgwLCAtMikpOwogICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuJGVsLm9mZnNldEhlaWdodDsKICAgICAgICAgICAgdmFyIHRpbWUgPSAodmFsID8gaGVpZ2h0IC0gY3VycmVudCA6IGN1cnJlbnQpIC8gaGVpZ2h0OwogICAgICAgICAgICB0aGlzLnNldEZpbmlzaFRpbWVyKHRoaXMudG9nZ2xlVGltZSAqIHRpbWUpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgdHVybjogZnVuY3Rpb24gdHVybigpIHsKICAgICAgICAgIGlmICh0aGlzLnZpc2libGUpIHsKICAgICAgICAgICAgdGhpcy4kZWwuc3R5bGUuaGVpZ2h0ID0gdGhpcy5jb2xsYXBzaW5nOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kZWwuc3R5bGUuaGVpZ2h0ID0gMDsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKHZhbCkgewogICAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgICB0aGlzLiRlbC5zdHlsZS5kaXNwbGF5ID0gJyc7CiAgICAgICAgICB0aGlzLmNvbGxhcHNpbmcgPSB0aGlzLiRlbC5zY3JvbGxIZWlnaHQgKyAncHgnOwogICAgICAgICAgdGhpcy4kZWwuc3R5bGUuaGVpZ2h0ID0gdmFsID8gMCA6IHRoaXMuJGVsLnNjcm9sbEhlaWdodCArICdweCc7CiAgICAgICAgICB0aGlzLiRlbC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nOwogICAgICAgICAgdGhpcy5zZXRUcmFuc2l0aW9uKCk7CiAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgc2VsZi4kZWwuc3R5bGUuaGVpZ2h0ID0gdmFsID8gX3RoaXMuY29sbGFwc2luZyA6IDA7CiAgICAgICAgICB9LCAwKTsKICAgICAgICB9LAogICAgICAgIHNldFRyYW5zaXRpb246IGZ1bmN0aW9uIHNldFRyYW5zaXRpb24oKSB7CiAgICAgICAgICB0aGlzLiRlbC5zdHlsZS50cmFuc2l0aW9uID0gImFsbCAiLmNvbmNhdCh0aGlzLnRvZ2dsZVRpbWUsICJtcyAiKS5jb25jYXQodGhpcy50cmFuc2l0aW9uKTsKICAgICAgICB9LAogICAgICAgIHNldEZpbmlzaFRpbWVyOiBmdW5jdGlvbiBzZXRGaW5pc2hUaW1lcihkdXJhdGlvbikgewogICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaGVpZ2h0V2F0Y2hlcik7CiAgICAgICAgICB0aGlzLmhlaWdodFdhdGNoZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5yZXNldCgpOwogICAgICAgICAgfSwgZHVyYXRpb24pOwogICAgICAgIH0sCiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICAgICAgdGhpcy5jb2xsYXBzaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRlbC5zdHlsZS5kaXNwbGF5ID0gdGhpcy52aXNpYmxlID8gJycgOiAnbm9uZSc7CiAgICAgICAgICB0aGlzLiRlbC5zdHlsZS5oZWlnaHQgPSAnJzsKICAgICAgICAgIHRoaXMuJGVsLnN0eWxlLm92ZXJmbG93ID0gJyc7CiAgICAgICAgICB0aGlzLiRlbC5zdHlsZS50cmFuc2l0aW9uID0gJyc7CiAgICAgICAgICB0aGlzLiRlbWl0KCdmaW5pc2gnLCB0aGlzLnZpc2libGUpOwogICAgICAgIH0KICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9jb2xsYXBzZS9DQ29sbGFwc2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgY29sbGFwc2VfQ0NvbGxhcHNldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0NvbGxhcHNldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2NvbGxhcHNlL0NDb2xsYXBzZS52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENDb2xsYXBzZV9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKGNvbGxhcHNlX0NDb2xsYXBzZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0NvbGxhcHNldnVlX3R5cGVfdGVtcGxhdGVfaWRfMjg4YWJhYzlfcmVuZGVyLCBDQ29sbGFwc2V2dWVfdHlwZV90ZW1wbGF0ZV9pZF8yODhhYmFjOV9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0NvbGxhcHNlID0gQ0NvbGxhcHNlX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2NvbGxhcHNlL2luZGV4LmpzCiAgICAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvZHJvcGRvd24vQ0Ryb3Bkb3duLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0xMDMyNzEwOCYKCiAgICB2YXIgQ0Ryb3Bkb3dudnVlX3R5cGVfdGVtcGxhdGVfaWRfMTAzMjcxMDhfcmVuZGVyID0gZnVuY3Rpb24gQ0Ryb3Bkb3dudnVlX3R5cGVfdGVtcGxhdGVfaWRfMTAzMjcxMDhfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYyhfdm0uaW5OYXYgPyAnbGknIDogJ2RpdicsIHsKICAgICAgICBkaXJlY3RpdmVzOiBbewogICAgICAgICAgbmFtZTogImMtY2xpY2thd2F5IiwKICAgICAgICAgIHJhd05hbWU6ICJ2LWMtY2xpY2thd2F5IiwKICAgICAgICAgIHZhbHVlOiBfdm0udmlzaWJsZSA/IF92bS5oaWRlIDogbnVsbCwKICAgICAgICAgIGV4cHJlc3Npb246ICJ2aXNpYmxlID8gaGlkZSA6IG51bGwiCiAgICAgICAgfV0sCiAgICAgICAgdGFnOiAiY29tcG9uZW50IiwKICAgICAgICBjbGFzczogX3ZtLmNvbXB1dGVkRHJvcGRvd25DbGFzc2VzLAogICAgICAgIG9uOiB7CiAgICAgICAgICAiY2xpY2siOiBmdW5jdGlvbiBjbGljaygkZXZlbnQpIHsKICAgICAgICAgICAgcmV0dXJuIF92bS5jaGVja0NsaWNrKCRldmVudCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBbX3ZtLl90KCJ0b2dnbGVyIiwgW19jKF92bS50b2dnbGVyVGFnLCBfdm0uX2coX3ZtLl9iKHsKICAgICAgICB0YWc6ICJjb21wb25lbnQiLAogICAgICAgIGNsYXNzOiBfdm0uY29tcHV0ZWRUb2dnbGVyQ2xhc3NlcwogICAgICB9LCAnY29tcG9uZW50JywgX3ZtLnNwbGl0dGVkVG9nZ2xlciA/ICcnIDogX3ZtLnRvZ2dsZXJBdHRycywgZmFsc2UpLCB7CiAgICAgICAgY2xpY2s6IF92bS5zcGxpdHRlZFRvZ2dsZXIgPyBfdm0uaGlkZSA6IF92bS50b2dnbGUKICAgICAgfSksIFtfdm0uX3QoInRvZ2dsZXItY29udGVudCIsIFtfdm0uX3YoX3ZtLl9zKF92bS50b2dnbGVyVGV4dCkpXSldLCAyKSwgX3ZtLnNwbGl0dGVkVG9nZ2xlciA/IF9jKCdidXR0b24nLCBfdm0uX2IoewogICAgICAgIHN0YXRpY0NsYXNzOiAiZHJvcGRvd24tdG9nZ2xlIGRyb3Bkb3duLXRvZ2dsZS1zcGxpdCIsCiAgICAgICAgY2xhc3M6IF92bS5jb21wdXRlZFRvZ2dsZXJDbGFzc2VzLAogICAgICAgIG9uOiB7CiAgICAgICAgICAiY2xpY2siOiBfdm0udG9nZ2xlCiAgICAgICAgfQogICAgICB9LCAnYnV0dG9uJywgX3ZtLnRvZ2dsZXJBdHRycywgZmFsc2UpKSA6IF92bS5fZSgpXSksIF9jKCdkaXYnLCB7CiAgICAgICAgcmVmOiAibWVudSIsCiAgICAgICAgY2xhc3M6IF92bS5jb21wdXRlZE1lbnVDbGFzc2VzCiAgICAgIH0sIFtfdm0uX3QoImRlZmF1bHQiKV0sIDIpXSwgMik7CiAgICB9OwoKICAgIHZhciBDRHJvcGRvd252dWVfdHlwZV90ZW1wbGF0ZV9pZF8xMDMyNzEwOF9zdGF0aWNSZW5kZXJGbnMgPSBbXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRCb3VuZGluZ0NsaWVudFJlY3QuanMKCiAgICBmdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWxlbWVudCkgewogICAgICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGgsCiAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodCwKICAgICAgICB0b3A6IHJlY3QudG9wLAogICAgICAgIHJpZ2h0OiByZWN0LnJpZ2h0LAogICAgICAgIGJvdHRvbTogcmVjdC5ib3R0b20sCiAgICAgICAgbGVmdDogcmVjdC5sZWZ0LAogICAgICAgIHg6IHJlY3QubGVmdCwKICAgICAgICB5OiByZWN0LnRvcAogICAgICB9OwogICAgfSAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldFdpbmRvdy5qcwoKICAgIC8qOjogaW1wb3J0IHR5cGUgeyBXaW5kb3cgfSBmcm9tICcuLi90eXBlcyc7ICovCgogICAgLyo6OiBkZWNsYXJlIGZ1bmN0aW9uIGdldFdpbmRvdyhub2RlOiBOb2RlIHwgV2luZG93KTogV2luZG93OyAqLwoKCiAgICBmdW5jdGlvbiBnZXRXaW5kb3cobm9kZSkgewogICAgICBpZiAobm9kZS50b1N0cmluZygpICE9PSAnW29iamVjdCBXaW5kb3ddJykgewogICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gbm9kZS5vd25lckRvY3VtZW50OwogICAgICAgIHJldHVybiBvd25lckRvY3VtZW50ID8gb3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyA6IHdpbmRvdzsKICAgICAgfQoKICAgICAgcmV0dXJuIG5vZGU7CiAgICB9IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0V2luZG93U2Nyb2xsLmpzCgoKICAgIGZ1bmN0aW9uIGdldFdpbmRvd1Njcm9sbChub2RlKSB7CiAgICAgIHZhciB3aW4gPSBnZXRXaW5kb3cobm9kZSk7CiAgICAgIHZhciBzY3JvbGxMZWZ0ID0gd2luLnBhZ2VYT2Zmc2V0OwogICAgICB2YXIgc2Nyb2xsVG9wID0gd2luLnBhZ2VZT2Zmc2V0OwogICAgICByZXR1cm4gewogICAgICAgIHNjcm9sbExlZnQ6IHNjcm9sbExlZnQsCiAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AKICAgICAgfTsKICAgIH0gLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9pbnN0YW5jZU9mLmpzCgogICAgLyo6OiBkZWNsYXJlIGZ1bmN0aW9uIGlzRWxlbWVudChub2RlOiBtaXhlZCk6IGJvb2xlYW4gJWNoZWNrcyhub2RlIGluc3RhbmNlb2YKICAgICAgRWxlbWVudCk7ICovCgoKICAgIGZ1bmN0aW9uIGlzRWxlbWVudChub2RlKSB7CiAgICAgIHZhciBPd25FbGVtZW50ID0gZ2V0V2luZG93KG5vZGUpLkVsZW1lbnQ7CiAgICAgIHJldHVybiBub2RlIGluc3RhbmNlb2YgT3duRWxlbWVudCB8fCBub2RlIGluc3RhbmNlb2YgRWxlbWVudDsKICAgIH0KICAgIC8qOjogZGVjbGFyZSBmdW5jdGlvbiBpc0hUTUxFbGVtZW50KG5vZGU6IG1peGVkKTogYm9vbGVhbiAlY2hlY2tzKG5vZGUgaW5zdGFuY2VvZgogICAgICBIVE1MRWxlbWVudCk7ICovCgoKICAgIGZ1bmN0aW9uIGlzSFRNTEVsZW1lbnQobm9kZSkgewogICAgICB2YXIgT3duRWxlbWVudCA9IGdldFdpbmRvdyhub2RlKS5IVE1MRWxlbWVudDsKICAgICAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBPd25FbGVtZW50IHx8IG5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDsKICAgIH0gLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRIVE1MRWxlbWVudFNjcm9sbC5qcwoKCiAgICBmdW5jdGlvbiBnZXRIVE1MRWxlbWVudFNjcm9sbChlbGVtZW50KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgc2Nyb2xsTGVmdDogZWxlbWVudC5zY3JvbGxMZWZ0LAogICAgICAgIHNjcm9sbFRvcDogZWxlbWVudC5zY3JvbGxUb3AKICAgICAgfTsKICAgIH0gLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXROb2RlU2Nyb2xsLmpzCgoKICAgIGZ1bmN0aW9uIGdldE5vZGVTY3JvbGwobm9kZSkgewogICAgICBpZiAobm9kZSA9PT0gZ2V0V2luZG93KG5vZGUpIHx8ICFpc0hUTUxFbGVtZW50KG5vZGUpKSB7CiAgICAgICAgcmV0dXJuIGdldFdpbmRvd1Njcm9sbChub2RlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZ2V0SFRNTEVsZW1lbnRTY3JvbGwobm9kZSk7CiAgICAgIH0KICAgIH0gLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXROb2RlTmFtZS5qcwoKCiAgICBmdW5jdGlvbiBnZXROb2RlTmFtZShlbGVtZW50KSB7CiAgICAgIHJldHVybiBlbGVtZW50ID8gKGVsZW1lbnQubm9kZU5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCkgOiBudWxsOwogICAgfSAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldERvY3VtZW50RWxlbWVudC5qcwoKCiAgICBmdW5jdGlvbiBnZXREb2N1bWVudEVsZW1lbnQoZWxlbWVudCkgewogICAgICAvLyAkRmxvd0ZpeE1lOiBhc3N1bWUgYm9keSBpcyBhbHdheXMgYXZhaWxhYmxlCiAgICAgIHJldHVybiAoaXNFbGVtZW50KGVsZW1lbnQpID8gZWxlbWVudC5vd25lckRvY3VtZW50IDogZWxlbWVudC5kb2N1bWVudCkuZG9jdW1lbnRFbGVtZW50OwogICAgfSAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldFdpbmRvd1Njcm9sbEJhclguanMKCgogICAgZnVuY3Rpb24gZ2V0V2luZG93U2Nyb2xsQmFyWChlbGVtZW50KSB7CiAgICAgIC8vIElmIDxodG1sPiBoYXMgYSBDU1Mgd2lkdGggZ3JlYXRlciB0aGFuIHRoZSB2aWV3cG9ydCwgdGhlbiB0aGlzIHdpbGwgYmUKICAgICAgLy8gaW5jb3JyZWN0IGZvciBSVEwuCiAgICAgIC8vIFBvcHBlciAxIGlzIGJyb2tlbiBpbiB0aGlzIGNhc2UgYW5kIG5ldmVyIGhhZCBhIGJ1ZyByZXBvcnQgc28gbGV0J3MgYXNzdW1lCiAgICAgIC8vIGl0J3Mgbm90IGFuIGlzc3VlLiBJIGRvbid0IHRoaW5rIGFueW9uZSBldmVyIHNwZWNpZmllcyB3aWR0aCBvbiA8aHRtbD4KICAgICAgLy8gYW55d2F5LgogICAgICAvLyBCcm93c2VycyB3aGVyZSB0aGUgbGVmdCBzY3JvbGxiYXIgZG9lc24ndCBjYXVzZSBhbiBpc3N1ZSByZXBvcnQgYDBgIGZvcgogICAgICAvLyB0aGlzIChlLmcuIEVkZ2UgMjAxOSwgSUUxMSwgU2FmYXJpKQogICAgICByZXR1cm4gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSkubGVmdCArIGdldFdpbmRvd1Njcm9sbChlbGVtZW50KS5zY3JvbGxMZWZ0OwogICAgfSAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldENvbXB1dGVkU3R5bGUuanMKCgogICAgZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZV9nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIHsKICAgICAgcmV0dXJuIGdldFdpbmRvdyhlbGVtZW50KS5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpOwogICAgfSAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2lzU2Nyb2xsUGFyZW50LmpzCgoKICAgIGZ1bmN0aW9uIGlzU2Nyb2xsUGFyZW50KGVsZW1lbnQpIHsKICAgICAgLy8gRmlyZWZveCB3YW50cyB1cyB0byBjaGVjayBgLXhgIGFuZCBgLXlgIHZhcmlhdGlvbnMgYXMgd2VsbAogICAgICB2YXIgX2dldENvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlX2dldENvbXB1dGVkU3R5bGUoZWxlbWVudCksCiAgICAgICAgICBvdmVyZmxvdyA9IF9nZXRDb21wdXRlZFN0eWxlLm92ZXJmbG93LAogICAgICAgICAgb3ZlcmZsb3dYID0gX2dldENvbXB1dGVkU3R5bGUub3ZlcmZsb3dYLAogICAgICAgICAgb3ZlcmZsb3dZID0gX2dldENvbXB1dGVkU3R5bGUub3ZlcmZsb3dZOwoKICAgICAgcmV0dXJuIC9hdXRvfHNjcm9sbHxvdmVybGF5fGhpZGRlbi8udGVzdChvdmVyZmxvdyArIG92ZXJmbG93WSArIG92ZXJmbG93WCk7CiAgICB9IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0Q29tcG9zaXRlUmVjdC5qcwogICAgLy8gUmV0dXJucyB0aGUgY29tcG9zaXRlIHJlY3Qgb2YgYW4gZWxlbWVudCByZWxhdGl2ZSB0byBpdHMgb2Zmc2V0UGFyZW50LgogICAgLy8gQ29tcG9zaXRlIG1lYW5zIGl0IHRha2VzIGludG8gYWNjb3VudCB0cmFuc2Zvcm1zIGFzIHdlbGwgYXMgbGF5b3V0LgoKCiAgICBmdW5jdGlvbiBnZXRDb21wb3NpdGVSZWN0KGVsZW1lbnRPclZpcnR1YWxFbGVtZW50LCBvZmZzZXRQYXJlbnQsIGlzRml4ZWQpIHsKICAgICAgaWYgKGlzRml4ZWQgPT09IHZvaWQgMCkgewogICAgICAgIGlzRml4ZWQgPSBmYWxzZTsKICAgICAgfQoKICAgICAgdmFyIGRvY3VtZW50RWxlbWVudCA9IGdldERvY3VtZW50RWxlbWVudChvZmZzZXRQYXJlbnQpOwogICAgICB2YXIgcmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50T3JWaXJ0dWFsRWxlbWVudCk7CiAgICAgIHZhciBpc09mZnNldFBhcmVudEFuRWxlbWVudCA9IGlzSFRNTEVsZW1lbnQob2Zmc2V0UGFyZW50KTsKICAgICAgdmFyIHNjcm9sbCA9IHsKICAgICAgICBzY3JvbGxMZWZ0OiAwLAogICAgICAgIHNjcm9sbFRvcDogMAogICAgICB9OwogICAgICB2YXIgb2Zmc2V0cyA9IHsKICAgICAgICB4OiAwLAogICAgICAgIHk6IDAKICAgICAgfTsKCiAgICAgIGlmIChpc09mZnNldFBhcmVudEFuRWxlbWVudCB8fCAhaXNPZmZzZXRQYXJlbnRBbkVsZW1lbnQgJiYgIWlzRml4ZWQpIHsKICAgICAgICBpZiAoZ2V0Tm9kZU5hbWUob2Zmc2V0UGFyZW50KSAhPT0gJ2JvZHknIHx8IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wb3BwZXJqcy9wb3BwZXItY29yZS9pc3N1ZXMvMTA3OAogICAgICAgIGlzU2Nyb2xsUGFyZW50KGRvY3VtZW50RWxlbWVudCkpIHsKICAgICAgICAgIHNjcm9sbCA9IGdldE5vZGVTY3JvbGwob2Zmc2V0UGFyZW50KTsKICAgICAgICB9CgogICAgICAgIGlmIChpc0hUTUxFbGVtZW50KG9mZnNldFBhcmVudCkpIHsKICAgICAgICAgIG9mZnNldHMgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qob2Zmc2V0UGFyZW50KTsKICAgICAgICAgIG9mZnNldHMueCArPSBvZmZzZXRQYXJlbnQuY2xpZW50TGVmdDsKICAgICAgICAgIG9mZnNldHMueSArPSBvZmZzZXRQYXJlbnQuY2xpZW50VG9wOwogICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnRFbGVtZW50KSB7CiAgICAgICAgICBvZmZzZXRzLnggPSBnZXRXaW5kb3dTY3JvbGxCYXJYKGRvY3VtZW50RWxlbWVudCk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIHg6IHJlY3QubGVmdCArIHNjcm9sbC5zY3JvbGxMZWZ0IC0gb2Zmc2V0cy54LAogICAgICAgIHk6IHJlY3QudG9wICsgc2Nyb2xsLnNjcm9sbFRvcCAtIG9mZnNldHMueSwKICAgICAgICB3aWR0aDogcmVjdC53aWR0aCwKICAgICAgICBoZWlnaHQ6IHJlY3QuaGVpZ2h0CiAgICAgIH07CiAgICB9IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0TGF5b3V0UmVjdC5qcwogICAgLy8gUmV0dXJucyB0aGUgbGF5b3V0IHJlY3Qgb2YgYW4gZWxlbWVudCByZWxhdGl2ZSB0byBpdHMgb2Zmc2V0UGFyZW50LiBMYXlvdXQKICAgIC8vIG1lYW5zIGl0IGRvZXNuJ3QgdGFrZSBpbnRvIGFjY291bnQgdHJhbnNmb3Jtcy4KCgogICAgZnVuY3Rpb24gZ2V0TGF5b3V0UmVjdChlbGVtZW50KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgeDogZWxlbWVudC5vZmZzZXRMZWZ0LAogICAgICAgIHk6IGVsZW1lbnQub2Zmc2V0VG9wLAogICAgICAgIHdpZHRoOiBlbGVtZW50Lm9mZnNldFdpZHRoLAogICAgICAgIGhlaWdodDogZWxlbWVudC5vZmZzZXRIZWlnaHQKICAgICAgfTsKICAgIH0gLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9nZXRQYXJlbnROb2RlLmpzCgoKICAgIGZ1bmN0aW9uIGdldFBhcmVudE5vZGUoZWxlbWVudCkgewogICAgICBpZiAoZ2V0Tm9kZU5hbWUoZWxlbWVudCkgPT09ICdodG1sJykgewogICAgICAgIHJldHVybiBlbGVtZW50OwogICAgICB9CgogICAgICByZXR1cm4gKC8vICRGbG93Rml4TWU6IHRoaXMgaXMgYSBxdWlja2VyIChidXQgbGVzcyB0eXBlIHNhZmUpIHdheSB0byBzYXZlIHF1aXRlIHNvbWUgYnl0ZXMgZnJvbSB0aGUgYnVuZGxlCiAgICAgICAgZWxlbWVudC5hc3NpZ25lZFNsb3QgfHwgLy8gc3RlcCBpbnRvIHRoZSBzaGFkb3cgRE9NIG9mIHRoZSBwYXJlbnQgb2YgYSBzbG90dGVkIG5vZGUKICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUgfHwgLy8gRE9NIEVsZW1lbnQgZGV0ZWN0ZWQKICAgICAgICAvLyAkRmxvd0ZpeE1lOiBuZWVkIGEgYmV0dGVyIHdheSB0byBoYW5kbGUgdGhpcy4uLgogICAgICAgIGVsZW1lbnQuaG9zdCB8fCAvLyBTaGFkb3dSb290IGRldGVjdGVkCiAgICAgICAgLy8gJEZsb3dGaXhNZTogSFRNTEVsZW1lbnQgaXMgYSBOb2RlCiAgICAgICAgZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpIC8vIGZhbGxiYWNrCgogICAgICApOwogICAgfSAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldFNjcm9sbFBhcmVudC5qcwoKCiAgICBmdW5jdGlvbiBnZXRTY3JvbGxQYXJlbnQobm9kZSkgewogICAgICBpZiAoWydodG1sJywgJ2JvZHknLCAnI2RvY3VtZW50J10uaW5kZXhPZihnZXROb2RlTmFtZShub2RlKSkgPj0gMCkgewogICAgICAgIC8vICRGbG93Rml4TWU6IGFzc3VtZSBib2R5IGlzIGFsd2F5cyBhdmFpbGFibGUKICAgICAgICByZXR1cm4gbm9kZS5vd25lckRvY3VtZW50LmJvZHk7CiAgICAgIH0KCiAgICAgIGlmIChpc0hUTUxFbGVtZW50KG5vZGUpICYmIGlzU2Nyb2xsUGFyZW50KG5vZGUpKSB7CiAgICAgICAgcmV0dXJuIG5vZGU7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRTY3JvbGxQYXJlbnQoZ2V0UGFyZW50Tm9kZShub2RlKSk7CiAgICB9IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvbGlzdFNjcm9sbFBhcmVudHMuanMKCiAgICAvKgogICAgZ2l2ZW4gYSBET00gZWxlbWVudCwgcmV0dXJuIHRoZSBsaXN0IG9mIGFsbCBzY3JvbGwgcGFyZW50cywgdXAgdGhlIGxpc3Qgb2YgYW5jZXNvcnMKICAgIHVudGlsIHdlIGdldCB0byB0aGUgdG9wIHdpbmRvdyBvYmplY3QuIFRoaXMgbGlzdCBpcyB3aGF0IHdlIGF0dGFjaCBzY3JvbGwgbGlzdGVuZXJzCiAgICB0bywgYmVjYXVzZSBpZiBhbnkgb2YgdGhlc2UgcGFyZW50IGVsZW1lbnRzIHNjcm9sbCwgd2UnbGwgbmVlZCB0byByZS1jYWxjdWxhdGUgdGhlIAogICAgcmVmZXJlbmNlIGVsZW1lbnQncyBwb3NpdGlvbi4KICAgICovCgoKICAgIGZ1bmN0aW9uIGxpc3RTY3JvbGxQYXJlbnRzKGVsZW1lbnQsIGxpc3QpIHsKICAgICAgaWYgKGxpc3QgPT09IHZvaWQgMCkgewogICAgICAgIGxpc3QgPSBbXTsKICAgICAgfQoKICAgICAgdmFyIHNjcm9sbFBhcmVudCA9IGdldFNjcm9sbFBhcmVudChlbGVtZW50KTsKICAgICAgdmFyIGlzQm9keSA9IGdldE5vZGVOYW1lKHNjcm9sbFBhcmVudCkgPT09ICdib2R5JzsKICAgICAgdmFyIHdpbiA9IGdldFdpbmRvdyhzY3JvbGxQYXJlbnQpOwogICAgICB2YXIgdGFyZ2V0ID0gaXNCb2R5ID8gW3dpbl0uY29uY2F0KHdpbi52aXN1YWxWaWV3cG9ydCB8fCBbXSwgaXNTY3JvbGxQYXJlbnQoc2Nyb2xsUGFyZW50KSA/IHNjcm9sbFBhcmVudCA6IFtdKSA6IHNjcm9sbFBhcmVudDsKICAgICAgdmFyIHVwZGF0ZWRMaXN0ID0gbGlzdC5jb25jYXQodGFyZ2V0KTsKICAgICAgcmV0dXJuIGlzQm9keSA/IHVwZGF0ZWRMaXN0IDogLy8gJEZsb3dGaXhNZTogaXNCb2R5IHRlbGxzIHVzIHRhcmdldCB3aWxsIGJlIGFuIEhUTUxFbGVtZW50IGhlcmUKICAgICAgdXBkYXRlZExpc3QuY29uY2F0KGxpc3RTY3JvbGxQYXJlbnRzKGdldFBhcmVudE5vZGUodGFyZ2V0KSkpOwogICAgfSAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2lzVGFibGVFbGVtZW50LmpzCgoKICAgIGZ1bmN0aW9uIGlzVGFibGVFbGVtZW50KGVsZW1lbnQpIHsKICAgICAgcmV0dXJuIFsndGFibGUnLCAndGQnLCAndGgnXS5pbmRleE9mKGdldE5vZGVOYW1lKGVsZW1lbnQpKSA+PSAwOwogICAgfSAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldE9mZnNldFBhcmVudC5qcwoKCiAgICBmdW5jdGlvbiBnZXRUcnVlT2Zmc2V0UGFyZW50KGVsZW1lbnQpIHsKICAgICAgaWYgKCFpc0hUTUxFbGVtZW50KGVsZW1lbnQpIHx8IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wb3BwZXJqcy9wb3BwZXItY29yZS9pc3N1ZXMvODM3CiAgICAgIGdldENvbXB1dGVkU3R5bGVfZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQ7CgogICAgICBpZiAob2Zmc2V0UGFyZW50KSB7CiAgICAgICAgdmFyIGh0bWwgPSBnZXREb2N1bWVudEVsZW1lbnQob2Zmc2V0UGFyZW50KTsKCiAgICAgICAgaWYgKGdldE5vZGVOYW1lKG9mZnNldFBhcmVudCkgPT09ICdib2R5JyAmJiBnZXRDb21wdXRlZFN0eWxlX2dldENvbXB1dGVkU3R5bGUob2Zmc2V0UGFyZW50KS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycgJiYgZ2V0Q29tcHV0ZWRTdHlsZV9nZXRDb21wdXRlZFN0eWxlKGh0bWwpLnBvc2l0aW9uICE9PSAnc3RhdGljJykgewogICAgICAgICAgcmV0dXJuIGh0bWw7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gb2Zmc2V0UGFyZW50OwogICAgfSAvLyBgLm9mZnNldFBhcmVudGAgcmVwb3J0cyBgbnVsbGAgZm9yIGZpeGVkIGVsZW1lbnRzLCB3aGlsZSBhYnNvbHV0ZSBlbGVtZW50cwogICAgLy8gcmV0dXJuIHRoZSBjb250YWluaW5nIGJsb2NrCgoKICAgIGZ1bmN0aW9uIGdldENvbnRhaW5pbmdCbG9jayhlbGVtZW50KSB7CiAgICAgIHZhciBjdXJyZW50Tm9kZSA9IGdldFBhcmVudE5vZGUoZWxlbWVudCk7CgogICAgICB3aGlsZSAoaXNIVE1MRWxlbWVudChjdXJyZW50Tm9kZSkgJiYgWydodG1sJywgJ2JvZHknXS5pbmRleE9mKGdldE5vZGVOYW1lKGN1cnJlbnROb2RlKSkgPCAwKSB7CiAgICAgICAgdmFyIGNzcyA9IGdldENvbXB1dGVkU3R5bGVfZ2V0Q29tcHV0ZWRTdHlsZShjdXJyZW50Tm9kZSk7IC8vIFRoaXMgaXMgbm9uLWV4aGF1c3RpdmUgYnV0IGNvdmVycyB0aGUgbW9zdCBjb21tb24gQ1NTIHByb3BlcnRpZXMgdGhhdAogICAgICAgIC8vIGNyZWF0ZSBhIGNvbnRhaW5pbmcgYmxvY2suCgogICAgICAgIGlmIChjc3MudHJhbnNmb3JtICE9PSAnbm9uZScgfHwgY3NzLnBlcnNwZWN0aXZlICE9PSAnbm9uZScgfHwgY3NzLndpbGxDaGFuZ2UgJiYgY3NzLndpbGxDaGFuZ2UgIT09ICdhdXRvJykgewogICAgICAgICAgcmV0dXJuIGN1cnJlbnROb2RlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLnBhcmVudE5vZGU7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0gLy8gR2V0cyB0aGUgY2xvc2VzdCBhbmNlc3RvciBwb3NpdGlvbmVkIGVsZW1lbnQuIEhhbmRsZXMgc29tZSBlZGdlIGNhc2VzLAogICAgLy8gc3VjaCBhcyB0YWJsZSBhbmNlc3RvcnMgYW5kIGNyb3NzIGJyb3dzZXIgYnVncy4KCgogICAgZnVuY3Rpb24gZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQpIHsKICAgICAgdmFyIHdpbmRvdyA9IGdldFdpbmRvdyhlbGVtZW50KTsKICAgICAgdmFyIG9mZnNldFBhcmVudCA9IGdldFRydWVPZmZzZXRQYXJlbnQoZWxlbWVudCk7CgogICAgICB3aGlsZSAob2Zmc2V0UGFyZW50ICYmIGlzVGFibGVFbGVtZW50KG9mZnNldFBhcmVudCkgJiYgZ2V0Q29tcHV0ZWRTdHlsZV9nZXRDb21wdXRlZFN0eWxlKG9mZnNldFBhcmVudCkucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7CiAgICAgICAgb2Zmc2V0UGFyZW50ID0gZ2V0VHJ1ZU9mZnNldFBhcmVudChvZmZzZXRQYXJlbnQpOwogICAgICB9CgogICAgICBpZiAob2Zmc2V0UGFyZW50ICYmIGdldE5vZGVOYW1lKG9mZnNldFBhcmVudCkgPT09ICdib2R5JyAmJiBnZXRDb21wdXRlZFN0eWxlX2dldENvbXB1dGVkU3R5bGUob2Zmc2V0UGFyZW50KS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHsKICAgICAgICByZXR1cm4gd2luZG93OwogICAgICB9CgogICAgICByZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGdldENvbnRhaW5pbmdCbG9jayhlbGVtZW50KSB8fCB3aW5kb3c7CiAgICB9IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9lbnVtcy5qcwoKCiAgICB2YXIgZW51bXNfdG9wID0gJ3RvcCc7CiAgICB2YXIgYm90dG9tID0gJ2JvdHRvbSc7CiAgICB2YXIgcmlnaHQgPSAncmlnaHQnOwogICAgdmFyIGxlZnQgPSAnbGVmdCc7CiAgICB2YXIgYXV0byA9ICdhdXRvJzsKICAgIHZhciBiYXNlUGxhY2VtZW50cyA9IFtlbnVtc190b3AsIGJvdHRvbSwgcmlnaHQsIGxlZnRdOwogICAgdmFyIHN0YXJ0ID0gJ3N0YXJ0JzsKICAgIHZhciBlbmQgPSAnZW5kJzsKICAgIHZhciBlbnVtc19jbGlwcGluZ1BhcmVudHMgPSAnY2xpcHBpbmdQYXJlbnRzJzsKICAgIHZhciB2aWV3cG9ydCA9ICd2aWV3cG9ydCc7CiAgICB2YXIgZW51bXNfcG9wcGVyID0gJ3BvcHBlcic7CiAgICB2YXIgZW51bXNfcmVmZXJlbmNlID0gJ3JlZmVyZW5jZSc7CiAgICB2YXIgdmFyaWF0aW9uUGxhY2VtZW50cyA9IC8qI19fUFVSRV9fKi9iYXNlUGxhY2VtZW50cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGxhY2VtZW50KSB7CiAgICAgIHJldHVybiBhY2MuY29uY2F0KFtwbGFjZW1lbnQgKyAiLSIgKyBzdGFydCwgcGxhY2VtZW50ICsgIi0iICsgZW5kXSk7CiAgICB9LCBbXSk7CiAgICB2YXIgZW51bXNfcGxhY2VtZW50cyA9IC8qI19fUFVSRV9fKi9bXS5jb25jYXQoYmFzZVBsYWNlbWVudHMsIFthdXRvXSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHBsYWNlbWVudCkgewogICAgICByZXR1cm4gYWNjLmNvbmNhdChbcGxhY2VtZW50LCBwbGFjZW1lbnQgKyAiLSIgKyBzdGFydCwgcGxhY2VtZW50ICsgIi0iICsgZW5kXSk7CiAgICB9LCBbXSk7IC8vIG1vZGlmaWVycyB0aGF0IG5lZWQgdG8gcmVhZCB0aGUgRE9NCgogICAgdmFyIGJlZm9yZVJlYWQgPSAnYmVmb3JlUmVhZCc7CiAgICB2YXIgcmVhZCA9ICdyZWFkJzsKICAgIHZhciBhZnRlclJlYWQgPSAnYWZ0ZXJSZWFkJzsgLy8gcHVyZS1sb2dpYyBtb2RpZmllcnMKCiAgICB2YXIgYmVmb3JlTWFpbiA9ICdiZWZvcmVNYWluJzsKICAgIHZhciBtYWluID0gJ21haW4nOwogICAgdmFyIGFmdGVyTWFpbiA9ICdhZnRlck1haW4nOyAvLyBtb2RpZmllciB3aXRoIHRoZSBwdXJwb3NlIHRvIHdyaXRlIHRvIHRoZSBET00gKG9yIHdyaXRlIGludG8gYSBmcmFtZXdvcmsgc3RhdGUpCgogICAgdmFyIGJlZm9yZVdyaXRlID0gJ2JlZm9yZVdyaXRlJzsKICAgIHZhciB3cml0ZSA9ICd3cml0ZSc7CiAgICB2YXIgYWZ0ZXJXcml0ZSA9ICdhZnRlcldyaXRlJzsKICAgIHZhciBtb2RpZmllclBoYXNlcyA9IFtiZWZvcmVSZWFkLCByZWFkLCBhZnRlclJlYWQsIGJlZm9yZU1haW4sIG1haW4sIGFmdGVyTWFpbiwgYmVmb3JlV3JpdGUsIHdyaXRlLCBhZnRlcldyaXRlXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL29yZGVyTW9kaWZpZXJzLmpzCiAgICAvLyBzb3VyY2U6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ5ODc1MjU1CgogICAgZnVuY3Rpb24gb3JkZXIobW9kaWZpZXJzKSB7CiAgICAgIHZhciBtYXAgPSBuZXcgTWFwKCk7CiAgICAgIHZhciB2aXNpdGVkID0gbmV3IFNldCgpOwogICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgIG1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllcikgewogICAgICAgIG1hcC5zZXQobW9kaWZpZXIubmFtZSwgbW9kaWZpZXIpOwogICAgICB9KTsgLy8gT24gdmlzaXRpbmcgb2JqZWN0LCBjaGVjayBmb3IgaXRzIGRlcGVuZGVuY2llcyBhbmQgdmlzaXQgdGhlbSByZWN1cnNpdmVseQoKICAgICAgZnVuY3Rpb24gc29ydChtb2RpZmllcikgewogICAgICAgIHZpc2l0ZWQuYWRkKG1vZGlmaWVyLm5hbWUpOwogICAgICAgIHZhciByZXF1aXJlcyA9IFtdLmNvbmNhdChtb2RpZmllci5yZXF1aXJlcyB8fCBbXSwgbW9kaWZpZXIucmVxdWlyZXNJZkV4aXN0cyB8fCBbXSk7CiAgICAgICAgcmVxdWlyZXMuZm9yRWFjaChmdW5jdGlvbiAoZGVwKSB7CiAgICAgICAgICBpZiAoIXZpc2l0ZWQuaGFzKGRlcCkpIHsKICAgICAgICAgICAgdmFyIGRlcE1vZGlmaWVyID0gbWFwLmdldChkZXApOwoKICAgICAgICAgICAgaWYgKGRlcE1vZGlmaWVyKSB7CiAgICAgICAgICAgICAgc29ydChkZXBNb2RpZmllcik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXN1bHQucHVzaChtb2RpZmllcik7CiAgICAgIH0KCiAgICAgIG1vZGlmaWVycy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RpZmllcikgewogICAgICAgIGlmICghdmlzaXRlZC5oYXMobW9kaWZpZXIubmFtZSkpIHsKICAgICAgICAgIC8vIGNoZWNrIGZvciB2aXNpdGVkIG9iamVjdAogICAgICAgICAgc29ydChtb2RpZmllcik7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgICBmdW5jdGlvbiBvcmRlck1vZGlmaWVycyhtb2RpZmllcnMpIHsKICAgICAgLy8gb3JkZXIgYmFzZWQgb24gZGVwZW5kZW5jaWVzCiAgICAgIHZhciBvcmRlcmVkTW9kaWZpZXJzID0gb3JkZXIobW9kaWZpZXJzKTsgLy8gb3JkZXIgYmFzZWQgb24gcGhhc2UKCiAgICAgIHJldHVybiBtb2RpZmllclBoYXNlcy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGhhc2UpIHsKICAgICAgICByZXR1cm4gYWNjLmNvbmNhdChvcmRlcmVkTW9kaWZpZXJzLmZpbHRlcihmdW5jdGlvbiAobW9kaWZpZXIpIHsKICAgICAgICAgIHJldHVybiBtb2RpZmllci5waGFzZSA9PT0gcGhhc2U7CiAgICAgICAgfSkpOwogICAgICB9LCBbXSk7CiAgICB9IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9kZWJvdW5jZS5qcwoKCiAgICBmdW5jdGlvbiBkZWJvdW5jZShmbikgewogICAgICB2YXIgcGVuZGluZzsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoIXBlbmRpbmcpIHsKICAgICAgICAgIHBlbmRpbmcgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBwZW5kaW5nID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgIHJlc29sdmUoZm4oKSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcGVuZGluZzsKICAgICAgfTsKICAgIH0gLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL21lcmdlQnlOYW1lLmpzCgoKICAgIGZ1bmN0aW9uIG1lcmdlQnlOYW1lKG1vZGlmaWVycykgewogICAgICB2YXIgbWVyZ2VkID0gbW9kaWZpZXJzLnJlZHVjZShmdW5jdGlvbiAobWVyZ2VkLCBjdXJyZW50KSB7CiAgICAgICAgdmFyIGV4aXN0aW5nID0gbWVyZ2VkW2N1cnJlbnQubmFtZV07CiAgICAgICAgbWVyZ2VkW2N1cnJlbnQubmFtZV0gPSBleGlzdGluZyA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBleGlzdGluZyksIGN1cnJlbnQpLCB7fSwgewogICAgICAgICAgb3B0aW9uczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBleGlzdGluZy5vcHRpb25zKSwgY3VycmVudC5vcHRpb25zKSwKICAgICAgICAgIGRhdGE6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZXhpc3RpbmcuZGF0YSksIGN1cnJlbnQuZGF0YSkKICAgICAgICB9KSA6IGN1cnJlbnQ7CiAgICAgICAgcmV0dXJuIG1lcmdlZDsKICAgICAgfSwge30pOyAvLyBJRTExIGRvZXMgbm90IHN1cHBvcnQgT2JqZWN0LnZhbHVlcwoKICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG1lcmdlZCkubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXR1cm4gbWVyZ2VkW2tleV07CiAgICAgIH0pOwogICAgfSAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvaW5kZXguanMKCgogICAgdmFyIElOVkFMSURfRUxFTUVOVF9FUlJPUiA9ICdQb3BwZXI6IEludmFsaWQgcmVmZXJlbmNlIG9yIHBvcHBlciBhcmd1bWVudCBwcm92aWRlZC4gVGhleSBtdXN0IGJlIGVpdGhlciBhIERPTSBlbGVtZW50IG9yIHZpcnR1YWwgZWxlbWVudC4nOwogICAgdmFyIElORklOSVRFX0xPT1BfRVJST1IgPSAnUG9wcGVyOiBBbiBpbmZpbml0ZSBsb29wIGluIHRoZSBtb2RpZmllcnMgY3ljbGUgaGFzIGJlZW4gZGV0ZWN0ZWQhIFRoZSBjeWNsZSBoYXMgYmVlbiBpbnRlcnJ1cHRlZCB0byBwcmV2ZW50IGEgYnJvd3NlciBjcmFzaC4nOwogICAgdmFyIERFRkFVTFRfT1BUSU9OUyA9IHsKICAgICAgcGxhY2VtZW50OiAnYm90dG9tJywKICAgICAgbW9kaWZpZXJzOiBbXSwKICAgICAgc3RyYXRlZ3k6ICdhYnNvbHV0ZScKICAgIH07CgogICAgZnVuY3Rpb24gYXJlVmFsaWRFbGVtZW50cygpIHsKICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgfQoKICAgICAgcmV0dXJuICFhcmdzLnNvbWUoZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gIShlbGVtZW50ICYmIHR5cGVvZiBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCA9PT0gJ2Z1bmN0aW9uJyk7CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIHBvcHBlckdlbmVyYXRvcihnZW5lcmF0b3JPcHRpb25zKSB7CiAgICAgIGlmIChnZW5lcmF0b3JPcHRpb25zID09PSB2b2lkIDApIHsKICAgICAgICBnZW5lcmF0b3JPcHRpb25zID0ge307CiAgICAgIH0KCiAgICAgIHZhciBfZ2VuZXJhdG9yT3B0aW9ucyA9IGdlbmVyYXRvck9wdGlvbnMsCiAgICAgICAgICBfZ2VuZXJhdG9yT3B0aW9ucyRkZWYgPSBfZ2VuZXJhdG9yT3B0aW9ucy5kZWZhdWx0TW9kaWZpZXJzLAogICAgICAgICAgZGVmYXVsdE1vZGlmaWVycyA9IF9nZW5lcmF0b3JPcHRpb25zJGRlZiA9PT0gdm9pZCAwID8gW10gOiBfZ2VuZXJhdG9yT3B0aW9ucyRkZWYsCiAgICAgICAgICBfZ2VuZXJhdG9yT3B0aW9ucyRkZWYyID0gX2dlbmVyYXRvck9wdGlvbnMuZGVmYXVsdE9wdGlvbnMsCiAgICAgICAgICBkZWZhdWx0T3B0aW9ucyA9IF9nZW5lcmF0b3JPcHRpb25zJGRlZjIgPT09IHZvaWQgMCA/IERFRkFVTFRfT1BUSU9OUyA6IF9nZW5lcmF0b3JPcHRpb25zJGRlZjI7CiAgICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVQb3BwZXIocmVmZXJlbmNlLCBwb3BwZXIsIG9wdGlvbnMpIHsKICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7CiAgICAgICAgICBvcHRpb25zID0gZGVmYXVsdE9wdGlvbnM7CiAgICAgICAgfQoKICAgICAgICB2YXIgc3RhdGUgPSB7CiAgICAgICAgICBwbGFjZW1lbnQ6ICdib3R0b20nLAogICAgICAgICAgb3JkZXJlZE1vZGlmaWVyczogW10sCiAgICAgICAgICBvcHRpb25zOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfT1BUSU9OUyksIGRlZmF1bHRPcHRpb25zKSwKICAgICAgICAgIG1vZGlmaWVyc0RhdGE6IHt9LAogICAgICAgICAgZWxlbWVudHM6IHsKICAgICAgICAgICAgcmVmZXJlbmNlOiByZWZlcmVuY2UsCiAgICAgICAgICAgIHBvcHBlcjogcG9wcGVyCiAgICAgICAgICB9LAogICAgICAgICAgYXR0cmlidXRlczoge30sCiAgICAgICAgICBzdHlsZXM6IHt9CiAgICAgICAgfTsKICAgICAgICB2YXIgZWZmZWN0Q2xlYW51cEZucyA9IFtdOwogICAgICAgIHZhciBpc0Rlc3Ryb3llZCA9IGZhbHNlOwogICAgICAgIHZhciBpbnN0YW5jZSA9IHsKICAgICAgICAgIHN0YXRlOiBzdGF0ZSwKICAgICAgICAgIHNldE9wdGlvbnM6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykgewogICAgICAgICAgICBjbGVhbnVwTW9kaWZpZXJFZmZlY3RzKCk7CiAgICAgICAgICAgIHN0YXRlLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMpLCBzdGF0ZS5vcHRpb25zKSwgb3B0aW9ucyk7CiAgICAgICAgICAgIHN0YXRlLnNjcm9sbFBhcmVudHMgPSB7CiAgICAgICAgICAgICAgcmVmZXJlbmNlOiBpc0VsZW1lbnQocmVmZXJlbmNlKSA/IGxpc3RTY3JvbGxQYXJlbnRzKHJlZmVyZW5jZSkgOiByZWZlcmVuY2UuY29udGV4dEVsZW1lbnQgPyBsaXN0U2Nyb2xsUGFyZW50cyhyZWZlcmVuY2UuY29udGV4dEVsZW1lbnQpIDogW10sCiAgICAgICAgICAgICAgcG9wcGVyOiBsaXN0U2Nyb2xsUGFyZW50cyhwb3BwZXIpCiAgICAgICAgICAgIH07IC8vIE9yZGVycyB0aGUgbW9kaWZpZXJzIGJhc2VkIG9uIHRoZWlyIGRlcGVuZGVuY2llcyBhbmQgYHBoYXNlYAogICAgICAgICAgICAvLyBwcm9wZXJ0aWVzCgogICAgICAgICAgICB2YXIgb3JkZXJlZE1vZGlmaWVycyA9IG9yZGVyTW9kaWZpZXJzKG1lcmdlQnlOYW1lKFtdLmNvbmNhdChkZWZhdWx0TW9kaWZpZXJzLCBzdGF0ZS5vcHRpb25zLm1vZGlmaWVycykpKTsgLy8gU3RyaXAgb3V0IGRpc2FibGVkIG1vZGlmaWVycwoKICAgICAgICAgICAgc3RhdGUub3JkZXJlZE1vZGlmaWVycyA9IG9yZGVyZWRNb2RpZmllcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICAgICAgcmV0dXJuIG0uZW5hYmxlZDsKICAgICAgICAgICAgfSk7IC8vIFZhbGlkYXRlIHRoZSBwcm92aWRlZCBtb2RpZmllcnMgc28gdGhhdCB0aGUgY29uc3VtZXIgd2lsbCBnZXQgd2FybmVkCiAgICAgICAgICAgIC8vIGlmIG9uZSBvZiB0aGUgbW9kaWZpZXJzIGlzIGludmFsaWQgZm9yIGFueSByZWFzb24KCiAgICAgICAgICAgIGlmIChmYWxzZSkgewogICAgICAgICAgICAgIHZhciBfZ2V0Q29tcHV0ZWRTdHlsZSwgbWFyZ2luVG9wLCBtYXJnaW5SaWdodCwgbWFyZ2luQm90dG9tLCBtYXJnaW5MZWZ0LCBmbGlwTW9kaWZpZXIsIG1vZGlmaWVyczsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcnVuTW9kaWZpZXJFZmZlY3RzKCk7CiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZS51cGRhdGUoKTsKICAgICAgICAgIH0sCiAgICAgICAgICAvLyBTeW5jIHVwZGF0ZSDigJMgaXQgd2lsbCBhbHdheXMgYmUgZXhlY3V0ZWQsIGV2ZW4gaWYgbm90IG5lY2Vzc2FyeS4gVGhpcwogICAgICAgICAgLy8gaXMgdXNlZnVsIGZvciBsb3cgZnJlcXVlbmN5IHVwZGF0ZXMgd2hlcmUgc3luYyBiZWhhdmlvciBzaW1wbGlmaWVzIHRoZQogICAgICAgICAgLy8gbG9naWMuCiAgICAgICAgICAvLyBGb3IgaGlnaCBmcmVxdWVuY3kgdXBkYXRlcyAoZS5nLiBgcmVzaXplYCBhbmQgYHNjcm9sbGAgZXZlbnRzKSwgYWx3YXlzCiAgICAgICAgICAvLyBwcmVmZXIgdGhlIGFzeW5jIFBvcHBlciN1cGRhdGUgbWV0aG9kCiAgICAgICAgICBmb3JjZVVwZGF0ZTogZnVuY3Rpb24gZm9yY2VVcGRhdGUoKSB7CiAgICAgICAgICAgIGlmIChpc0Rlc3Ryb3llZCkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgdmFyIF9zdGF0ZSRlbGVtZW50cyA9IHN0YXRlLmVsZW1lbnRzLAogICAgICAgICAgICAgICAgcmVmZXJlbmNlID0gX3N0YXRlJGVsZW1lbnRzLnJlZmVyZW5jZSwKICAgICAgICAgICAgICAgIHBvcHBlciA9IF9zdGF0ZSRlbGVtZW50cy5wb3BwZXI7IC8vIERvbid0IHByb2NlZWQgaWYgYHJlZmVyZW5jZWAgb3IgYHBvcHBlcmAgYXJlIG5vdCB2YWxpZCBlbGVtZW50cwogICAgICAgICAgICAvLyBhbnltb3JlCgogICAgICAgICAgICBpZiAoIWFyZVZhbGlkRWxlbWVudHMocmVmZXJlbmNlLCBwb3BwZXIpKSB7CiAgICAgICAgICAgICAgaWYgKGZhbHNlKSB7fQoKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0gLy8gU3RvcmUgdGhlIHJlZmVyZW5jZSBhbmQgcG9wcGVyIHJlY3RzIHRvIGJlIHJlYWQgYnkgbW9kaWZpZXJzCgoKICAgICAgICAgICAgc3RhdGUucmVjdHMgPSB7CiAgICAgICAgICAgICAgcmVmZXJlbmNlOiBnZXRDb21wb3NpdGVSZWN0KHJlZmVyZW5jZSwgZ2V0T2Zmc2V0UGFyZW50KHBvcHBlciksIHN0YXRlLm9wdGlvbnMuc3RyYXRlZ3kgPT09ICdmaXhlZCcpLAogICAgICAgICAgICAgIHBvcHBlcjogZ2V0TGF5b3V0UmVjdChwb3BwZXIpCiAgICAgICAgICAgIH07IC8vIE1vZGlmaWVycyBoYXZlIHRoZSBhYmlsaXR5IHRvIHJlc2V0IHRoZSBjdXJyZW50IHVwZGF0ZSBjeWNsZS4gVGhlCiAgICAgICAgICAgIC8vIG1vc3QgY29tbW9uIHVzZSBjYXNlIGZvciB0aGlzIGlzIHRoZSBgZmxpcGAgbW9kaWZpZXIgY2hhbmdpbmcgdGhlCiAgICAgICAgICAgIC8vIHBsYWNlbWVudCwgd2hpY2ggdGhlbiBuZWVkcyB0byByZS1ydW4gYWxsIHRoZSBtb2RpZmllcnMsIGJlY2F1c2UgdGhlCiAgICAgICAgICAgIC8vIGxvZ2ljIHdhcyBwcmV2aW91c2x5IHJhbiBmb3IgdGhlIHByZXZpb3VzIHBsYWNlbWVudCBhbmQgaXMgdGhlcmVmb3JlCiAgICAgICAgICAgIC8vIHN0YWxlL2luY29ycmVjdAoKICAgICAgICAgICAgc3RhdGUucmVzZXQgPSBmYWxzZTsKICAgICAgICAgICAgc3RhdGUucGxhY2VtZW50ID0gc3RhdGUub3B0aW9ucy5wbGFjZW1lbnQ7IC8vIE9uIGVhY2ggdXBkYXRlIGN5Y2xlLCB0aGUgYG1vZGlmaWVyc0RhdGFgIHByb3BlcnR5IGZvciBlYWNoIG1vZGlmaWVyCiAgICAgICAgICAgIC8vIGlzIGZpbGxlZCB3aXRoIHRoZSBpbml0aWFsIGRhdGEgc3BlY2lmaWVkIGJ5IHRoZSBtb2RpZmllci4gVGhpcyBtZWFucwogICAgICAgICAgICAvLyBpdCBkb2Vzbid0IHBlcnNpc3QgYW5kIGlzIGZyZXNoIG9uIGVhY2ggdXBkYXRlLgogICAgICAgICAgICAvLyBUbyBlbnN1cmUgcGVyc2lzdGVudCBkYXRhLCB1c2UgYCR7bmFtZX0jcGVyc2lzdGVudGAKCiAgICAgICAgICAgIHN0YXRlLm9yZGVyZWRNb2RpZmllcnMuZm9yRWFjaChmdW5jdGlvbiAobW9kaWZpZXIpIHsKICAgICAgICAgICAgICByZXR1cm4gc3RhdGUubW9kaWZpZXJzRGF0YVttb2RpZmllci5uYW1lXSA9IE9iamVjdC5hc3NpZ24oe30sIG1vZGlmaWVyLmRhdGEpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdmFyIF9fZGVidWdfbG9vcHNfXyA9IDA7CgogICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgc3RhdGUub3JkZXJlZE1vZGlmaWVycy5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgICAgICBpZiAoZmFsc2UpIHt9CgogICAgICAgICAgICAgIGlmIChzdGF0ZS5yZXNldCA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgc3RhdGUucmVzZXQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGluZGV4ID0gLTE7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHZhciBfc3RhdGUkb3JkZXJlZE1vZGlmaWUgPSBzdGF0ZS5vcmRlcmVkTW9kaWZpZXJzW2luZGV4XSwKICAgICAgICAgICAgICAgICAgZm4gPSBfc3RhdGUkb3JkZXJlZE1vZGlmaWUuZm4sCiAgICAgICAgICAgICAgICAgIF9zdGF0ZSRvcmRlcmVkTW9kaWZpZTIgPSBfc3RhdGUkb3JkZXJlZE1vZGlmaWUub3B0aW9ucywKICAgICAgICAgICAgICAgICAgX29wdGlvbnMgPSBfc3RhdGUkb3JkZXJlZE1vZGlmaWUyID09PSB2b2lkIDAgPyB7fSA6IF9zdGF0ZSRvcmRlcmVkTW9kaWZpZTIsCiAgICAgICAgICAgICAgICAgIG5hbWUgPSBfc3RhdGUkb3JkZXJlZE1vZGlmaWUubmFtZTsKCiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICAgICAgc3RhdGUgPSBmbih7CiAgICAgICAgICAgICAgICAgIHN0YXRlOiBzdGF0ZSwKICAgICAgICAgICAgICAgICAgb3B0aW9uczogX29wdGlvbnMsCiAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICAgIGluc3RhbmNlOiBpbnN0YW5jZQogICAgICAgICAgICAgICAgfSkgfHwgc3RhdGU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgLy8gQXN5bmMgYW5kIG9wdGltaXN0aWNhbGx5IG9wdGltaXplZCB1cGRhdGUg4oCTIGl0IHdpbGwgbm90IGJlIGV4ZWN1dGVkIGlmCiAgICAgICAgICAvLyBub3QgbmVjZXNzYXJ5IChkZWJvdW5jZWQgdG8gcnVuIGF0IG1vc3Qgb25jZS1wZXItdGljaykKICAgICAgICAgIHVwZGF0ZTogZGVib3VuY2UoZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICBpbnN0YW5jZS5mb3JjZVVwZGF0ZSgpOwogICAgICAgICAgICAgIHJlc29sdmUoc3RhdGUpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pLAogICAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgICAgICAgY2xlYW51cE1vZGlmaWVyRWZmZWN0cygpOwogICAgICAgICAgICBpc0Rlc3Ryb3llZCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgaWYgKCFhcmVWYWxpZEVsZW1lbnRzKHJlZmVyZW5jZSwgcG9wcGVyKSkgewogICAgICAgICAgaWYgKGZhbHNlKSB7fQoKICAgICAgICAgIHJldHVybiBpbnN0YW5jZTsKICAgICAgICB9CgogICAgICAgIGluc3RhbmNlLnNldE9wdGlvbnMob3B0aW9ucykudGhlbihmdW5jdGlvbiAoc3RhdGUpIHsKICAgICAgICAgIGlmICghaXNEZXN0cm95ZWQgJiYgb3B0aW9ucy5vbkZpcnN0VXBkYXRlKSB7CiAgICAgICAgICAgIG9wdGlvbnMub25GaXJzdFVwZGF0ZShzdGF0ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7IC8vIE1vZGlmaWVycyBoYXZlIHRoZSBhYmlsaXR5IHRvIGV4ZWN1dGUgYXJiaXRyYXJ5IGNvZGUgYmVmb3JlIHRoZSBmaXJzdAogICAgICAgIC8vIHVwZGF0ZSBjeWNsZSBydW5zLiBUaGV5IHdpbGwgYmUgZXhlY3V0ZWQgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIHVwZGF0ZQogICAgICAgIC8vIGN5Y2xlLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGEgbW9kaWZpZXIgYWRkcyBzb21lIHBlcnNpc3RlbnQgZGF0YSB0aGF0CiAgICAgICAgLy8gb3RoZXIgbW9kaWZpZXJzIG5lZWQgdG8gdXNlLCBidXQgdGhlIG1vZGlmaWVyIGlzIHJ1biBhZnRlciB0aGUgZGVwZW5kZW50CiAgICAgICAgLy8gb25lLgoKICAgICAgICBmdW5jdGlvbiBydW5Nb2RpZmllckVmZmVjdHMoKSB7CiAgICAgICAgICBzdGF0ZS5vcmRlcmVkTW9kaWZpZXJzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYzKSB7CiAgICAgICAgICAgIHZhciBuYW1lID0gX3JlZjMubmFtZSwKICAgICAgICAgICAgICAgIF9yZWYzJG9wdGlvbnMgPSBfcmVmMy5vcHRpb25zLAogICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9yZWYzJG9wdGlvbnMgPT09IHZvaWQgMCA/IHt9IDogX3JlZjMkb3B0aW9ucywKICAgICAgICAgICAgICAgIGVmZmVjdCA9IF9yZWYzLmVmZmVjdDsKCiAgICAgICAgICAgIGlmICh0eXBlb2YgZWZmZWN0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgICAgdmFyIGNsZWFudXBGbiA9IGVmZmVjdCh7CiAgICAgICAgICAgICAgICBzdGF0ZTogc3RhdGUsCiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgICAgICAgaW5zdGFuY2U6IGluc3RhbmNlLAogICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICB2YXIgbm9vcEZuID0gZnVuY3Rpb24gbm9vcEZuKCkge307CgogICAgICAgICAgICAgIGVmZmVjdENsZWFudXBGbnMucHVzaChjbGVhbnVwRm4gfHwgbm9vcEZuKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBjbGVhbnVwTW9kaWZpZXJFZmZlY3RzKCkgewogICAgICAgICAgZWZmZWN0Q2xlYW51cEZucy5mb3JFYWNoKGZ1bmN0aW9uIChmbikgewogICAgICAgICAgICByZXR1cm4gZm4oKTsKICAgICAgICAgIH0pOwogICAgICAgICAgZWZmZWN0Q2xlYW51cEZucyA9IFtdOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGluc3RhbmNlOwogICAgICB9OwogICAgfQoKICAgIHZhciBsaWJfY3JlYXRlUG9wcGVyID0gLyojX19QVVJFX18qL3BvcHBlckdlbmVyYXRvcigpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzCiAgICAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL2V2ZW50TGlzdGVuZXJzLmpzCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzCgogICAgdmFyIHBhc3NpdmUgPSB7CiAgICAgIHBhc3NpdmU6IHRydWUKICAgIH07CgogICAgZnVuY3Rpb24gZWZmZWN0KF9yZWYpIHsKICAgICAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZSwKICAgICAgICAgIGluc3RhbmNlID0gX3JlZi5pbnN0YW5jZSwKICAgICAgICAgIG9wdGlvbnMgPSBfcmVmLm9wdGlvbnM7CiAgICAgIHZhciBfb3B0aW9ucyRzY3JvbGwgPSBvcHRpb25zLnNjcm9sbCwKICAgICAgICAgIHNjcm9sbCA9IF9vcHRpb25zJHNjcm9sbCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJHNjcm9sbCwKICAgICAgICAgIF9vcHRpb25zJHJlc2l6ZSA9IG9wdGlvbnMucmVzaXplLAogICAgICAgICAgcmVzaXplID0gX29wdGlvbnMkcmVzaXplID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkcmVzaXplOwogICAgICB2YXIgd2luZG93ID0gZ2V0V2luZG93KHN0YXRlLmVsZW1lbnRzLnBvcHBlcik7CiAgICAgIHZhciBzY3JvbGxQYXJlbnRzID0gW10uY29uY2F0KHN0YXRlLnNjcm9sbFBhcmVudHMucmVmZXJlbmNlLCBzdGF0ZS5zY3JvbGxQYXJlbnRzLnBvcHBlcik7CgogICAgICBpZiAoc2Nyb2xsKSB7CiAgICAgICAgc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzY3JvbGxQYXJlbnQpIHsKICAgICAgICAgIHNjcm9sbFBhcmVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBpbnN0YW5jZS51cGRhdGUsIHBhc3NpdmUpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAocmVzaXplKSB7CiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGluc3RhbmNlLnVwZGF0ZSwgcGFzc2l2ZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHNjcm9sbCkgewogICAgICAgICAgc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChzY3JvbGxQYXJlbnQpIHsKICAgICAgICAgICAgc2Nyb2xsUGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGluc3RhbmNlLnVwZGF0ZSwgcGFzc2l2ZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGlmIChyZXNpemUpIHsKICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBpbnN0YW5jZS51cGRhdGUsIHBhc3NpdmUpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlcwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIGV2ZW50TGlzdGVuZXJzID0gewogICAgICBuYW1lOiAnZXZlbnRMaXN0ZW5lcnMnLAogICAgICBlbmFibGVkOiB0cnVlLAogICAgICBwaGFzZTogJ3dyaXRlJywKICAgICAgZm46IGZ1bmN0aW9uIGZuKCkge30sCiAgICAgIGVmZmVjdDogZWZmZWN0LAogICAgICBkYXRhOiB7fQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2dldEJhc2VQbGFjZW1lbnQuanMKCiAgICBmdW5jdGlvbiBnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCkgewogICAgICByZXR1cm4gcGxhY2VtZW50LnNwbGl0KCctJylbMF07CiAgICB9IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRWYXJpYXRpb24uanMKCgogICAgZnVuY3Rpb24gZ2V0VmFyaWF0aW9uKHBsYWNlbWVudCkgewogICAgICByZXR1cm4gcGxhY2VtZW50LnNwbGl0KCctJylbMV07CiAgICB9IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQuanMKCgogICAgZnVuY3Rpb24gZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50KHBsYWNlbWVudCkgewogICAgICByZXR1cm4gWyd0b3AnLCAnYm90dG9tJ10uaW5kZXhPZihwbGFjZW1lbnQpID49IDAgPyAneCcgOiAneSc7CiAgICB9IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9jb21wdXRlT2Zmc2V0cy5qcwoKCiAgICBmdW5jdGlvbiBjb21wdXRlT2Zmc2V0cyhfcmVmKSB7CiAgICAgIHZhciByZWZlcmVuY2UgPSBfcmVmLnJlZmVyZW5jZSwKICAgICAgICAgIGVsZW1lbnQgPSBfcmVmLmVsZW1lbnQsCiAgICAgICAgICBwbGFjZW1lbnQgPSBfcmVmLnBsYWNlbWVudDsKICAgICAgdmFyIGJhc2VQbGFjZW1lbnQgPSBwbGFjZW1lbnQgPyBnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCkgOiBudWxsOwogICAgICB2YXIgdmFyaWF0aW9uID0gcGxhY2VtZW50ID8gZ2V0VmFyaWF0aW9uKHBsYWNlbWVudCkgOiBudWxsOwogICAgICB2YXIgY29tbW9uWCA9IHJlZmVyZW5jZS54ICsgcmVmZXJlbmNlLndpZHRoIC8gMiAtIGVsZW1lbnQud2lkdGggLyAyOwogICAgICB2YXIgY29tbW9uWSA9IHJlZmVyZW5jZS55ICsgcmVmZXJlbmNlLmhlaWdodCAvIDIgLSBlbGVtZW50LmhlaWdodCAvIDI7CiAgICAgIHZhciBvZmZzZXRzOwoKICAgICAgc3dpdGNoIChiYXNlUGxhY2VtZW50KSB7CiAgICAgICAgY2FzZSBlbnVtc190b3A6CiAgICAgICAgICBvZmZzZXRzID0gewogICAgICAgICAgICB4OiBjb21tb25YLAogICAgICAgICAgICB5OiByZWZlcmVuY2UueSAtIGVsZW1lbnQuaGVpZ2h0CiAgICAgICAgICB9OwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgYm90dG9tOgogICAgICAgICAgb2Zmc2V0cyA9IHsKICAgICAgICAgICAgeDogY29tbW9uWCwKICAgICAgICAgICAgeTogcmVmZXJlbmNlLnkgKyByZWZlcmVuY2UuaGVpZ2h0CiAgICAgICAgICB9OwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgcmlnaHQ6CiAgICAgICAgICBvZmZzZXRzID0gewogICAgICAgICAgICB4OiByZWZlcmVuY2UueCArIHJlZmVyZW5jZS53aWR0aCwKICAgICAgICAgICAgeTogY29tbW9uWQogICAgICAgICAgfTsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIGxlZnQ6CiAgICAgICAgICBvZmZzZXRzID0gewogICAgICAgICAgICB4OiByZWZlcmVuY2UueCAtIGVsZW1lbnQud2lkdGgsCiAgICAgICAgICAgIHk6IGNvbW1vblkKICAgICAgICAgIH07CiAgICAgICAgICBicmVhazsKCiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIG9mZnNldHMgPSB7CiAgICAgICAgICAgIHg6IHJlZmVyZW5jZS54LAogICAgICAgICAgICB5OiByZWZlcmVuY2UueQogICAgICAgICAgfTsKICAgICAgfQoKICAgICAgdmFyIG1haW5BeGlzID0gYmFzZVBsYWNlbWVudCA/IGdldE1haW5BeGlzRnJvbVBsYWNlbWVudChiYXNlUGxhY2VtZW50KSA6IG51bGw7CgogICAgICBpZiAobWFpbkF4aXMgIT0gbnVsbCkgewogICAgICAgIHZhciBsZW4gPSBtYWluQXhpcyA9PT0gJ3knID8gJ2hlaWdodCcgOiAnd2lkdGgnOwoKICAgICAgICBzd2l0Y2ggKHZhcmlhdGlvbikgewogICAgICAgICAgY2FzZSBzdGFydDoKICAgICAgICAgICAgb2Zmc2V0c1ttYWluQXhpc10gPSBNYXRoLmZsb29yKG9mZnNldHNbbWFpbkF4aXNdKSAtIE1hdGguZmxvb3IocmVmZXJlbmNlW2xlbl0gLyAyIC0gZWxlbWVudFtsZW5dIC8gMik7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgZW5kOgogICAgICAgICAgICBvZmZzZXRzW21haW5BeGlzXSA9IE1hdGguZmxvb3Iob2Zmc2V0c1ttYWluQXhpc10pICsgTWF0aC5jZWlsKHJlZmVyZW5jZVtsZW5dIC8gMiAtIGVsZW1lbnRbbGVuXSAvIDIpOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBkZWZhdWx0OgogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIG9mZnNldHM7CiAgICB9IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvcG9wcGVyT2Zmc2V0cy5qcwoKCiAgICBmdW5jdGlvbiBwb3BwZXJPZmZzZXRzX3BvcHBlck9mZnNldHMoX3JlZikgewogICAgICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLAogICAgICAgICAgbmFtZSA9IF9yZWYubmFtZTsgLy8gT2Zmc2V0cyBhcmUgdGhlIGFjdHVhbCBwb3NpdGlvbiB0aGUgcG9wcGVyIG5lZWRzIHRvIGhhdmUgdG8gYmUKICAgICAgLy8gcHJvcGVybHkgcG9zaXRpb25lZCBuZWFyIGl0cyByZWZlcmVuY2UgZWxlbWVudAogICAgICAvLyBUaGlzIGlzIHRoZSBtb3N0IGJhc2ljIHBsYWNlbWVudCwgYW5kIHdpbGwgYmUgYWRqdXN0ZWQgYnkKICAgICAgLy8gdGhlIG1vZGlmaWVycyBpbiB0aGUgbmV4dCBzdGVwCgogICAgICBzdGF0ZS5tb2RpZmllcnNEYXRhW25hbWVdID0gY29tcHV0ZU9mZnNldHMoewogICAgICAgIHJlZmVyZW5jZTogc3RhdGUucmVjdHMucmVmZXJlbmNlLAogICAgICAgIGVsZW1lbnQ6IHN0YXRlLnJlY3RzLnBvcHBlciwKICAgICAgICBzdHJhdGVneTogJ2Fic29sdXRlJywKICAgICAgICBwbGFjZW1lbnQ6IHN0YXRlLnBsYWNlbWVudAogICAgICB9KTsKICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlcwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIG1vZGlmaWVyc19wb3BwZXJPZmZzZXRzID0gewogICAgICBuYW1lOiAncG9wcGVyT2Zmc2V0cycsCiAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgIHBoYXNlOiAncmVhZCcsCiAgICAgIGZuOiBwb3BwZXJPZmZzZXRzX3BvcHBlck9mZnNldHMsCiAgICAgIGRhdGE6IHt9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvbW9kaWZpZXJzL2NvbXB1dGVTdHlsZXMuanMKICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXMKCiAgICB2YXIgdW5zZXRTaWRlcyA9IHsKICAgICAgdG9wOiAnYXV0bycsCiAgICAgIHJpZ2h0OiAnYXV0bycsCiAgICAgIGJvdHRvbTogJ2F1dG8nLAogICAgICBsZWZ0OiAnYXV0bycKICAgIH07IC8vIFJvdW5kIHRoZSBvZmZzZXRzIHRvIHRoZSBuZWFyZXN0IHN1aXRhYmxlIHN1YnBpeGVsIGJhc2VkIG9uIHRoZSBEUFIuCiAgICAvLyBab29taW5nIGNhbiBjaGFuZ2UgdGhlIERQUiwgYnV0IGl0IHNlZW1zIHRvIHJlcG9ydCBhIHZhbHVlIHRoYXQgd2lsbAogICAgLy8gY2xlYW5seSBkaXZpZGUgdGhlIHZhbHVlcyBpbnRvIHRoZSBhcHByb3ByaWF0ZSBzdWJwaXhlbHMuCgogICAgZnVuY3Rpb24gcm91bmRPZmZzZXRzKF9yZWYpIHsKICAgICAgdmFyIHggPSBfcmVmLngsCiAgICAgICAgICB5ID0gX3JlZi55OwogICAgICB2YXIgd2luID0gd2luZG93OwogICAgICB2YXIgZHByID0gd2luLmRldmljZVBpeGVsUmF0aW8gfHwgMTsKICAgICAgcmV0dXJuIHsKICAgICAgICB4OiBNYXRoLnJvdW5kKHggKiBkcHIpIC8gZHByIHx8IDAsCiAgICAgICAgeTogTWF0aC5yb3VuZCh5ICogZHByKSAvIGRwciB8fCAwCiAgICAgIH07CiAgICB9CgogICAgZnVuY3Rpb24gbWFwVG9TdHlsZXMoX3JlZjIpIHsKICAgICAgdmFyIF9PYmplY3QkYXNzaWduMjsKCiAgICAgIHZhciBwb3BwZXIgPSBfcmVmMi5wb3BwZXIsCiAgICAgICAgICBwb3BwZXJSZWN0ID0gX3JlZjIucG9wcGVyUmVjdCwKICAgICAgICAgIHBsYWNlbWVudCA9IF9yZWYyLnBsYWNlbWVudCwKICAgICAgICAgIG9mZnNldHMgPSBfcmVmMi5vZmZzZXRzLAogICAgICAgICAgcG9zaXRpb24gPSBfcmVmMi5wb3NpdGlvbiwKICAgICAgICAgIGdwdUFjY2VsZXJhdGlvbiA9IF9yZWYyLmdwdUFjY2VsZXJhdGlvbiwKICAgICAgICAgIGFkYXB0aXZlID0gX3JlZjIuYWRhcHRpdmU7CgogICAgICB2YXIgX3JvdW5kT2Zmc2V0cyA9IHJvdW5kT2Zmc2V0cyhvZmZzZXRzKSwKICAgICAgICAgIHggPSBfcm91bmRPZmZzZXRzLngsCiAgICAgICAgICB5ID0gX3JvdW5kT2Zmc2V0cy55OwoKICAgICAgdmFyIGhhc1ggPSBvZmZzZXRzLmhhc093blByb3BlcnR5KCd4Jyk7CiAgICAgIHZhciBoYXNZID0gb2Zmc2V0cy5oYXNPd25Qcm9wZXJ0eSgneScpOwogICAgICB2YXIgc2lkZVggPSBsZWZ0OwogICAgICB2YXIgc2lkZVkgPSBlbnVtc190b3A7CiAgICAgIHZhciB3aW4gPSB3aW5kb3c7CgogICAgICBpZiAoYWRhcHRpdmUpIHsKICAgICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gZ2V0T2Zmc2V0UGFyZW50KHBvcHBlcik7CgogICAgICAgIGlmIChvZmZzZXRQYXJlbnQgPT09IGdldFdpbmRvdyhwb3BwZXIpKSB7CiAgICAgICAgICBvZmZzZXRQYXJlbnQgPSBnZXREb2N1bWVudEVsZW1lbnQocG9wcGVyKTsKICAgICAgICB9IC8vICRGbG93Rml4TWU6IGZvcmNlIHR5cGUgcmVmaW5lbWVudCwgd2UgY29tcGFyZSBvZmZzZXRQYXJlbnQgd2l0aCB3aW5kb3cgYWJvdmUsIGJ1dCBGbG93IGRvZXNuJ3QgZGV0ZWN0IGl0CgogICAgICAgIC8qOjogb2Zmc2V0UGFyZW50ID0gKG9mZnNldFBhcmVudDogRWxlbWVudCk7ICovCgoKICAgICAgICBpZiAocGxhY2VtZW50ID09PSBlbnVtc190b3ApIHsKICAgICAgICAgIHNpZGVZID0gYm90dG9tOwogICAgICAgICAgeSAtPSBvZmZzZXRQYXJlbnQuY2xpZW50SGVpZ2h0IC0gcG9wcGVyUmVjdC5oZWlnaHQ7CiAgICAgICAgICB5ICo9IGdwdUFjY2VsZXJhdGlvbiA/IDEgOiAtMTsKICAgICAgICB9CgogICAgICAgIGlmIChwbGFjZW1lbnQgPT09IGxlZnQpIHsKICAgICAgICAgIHNpZGVYID0gcmlnaHQ7CiAgICAgICAgICB4IC09IG9mZnNldFBhcmVudC5jbGllbnRXaWR0aCAtIHBvcHBlclJlY3Qud2lkdGg7CiAgICAgICAgICB4ICo9IGdwdUFjY2VsZXJhdGlvbiA/IDEgOiAtMTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZhciBjb21tb25TdHlsZXMgPSBPYmplY3QuYXNzaWduKHsKICAgICAgICBwb3NpdGlvbjogcG9zaXRpb24KICAgICAgfSwgYWRhcHRpdmUgJiYgdW5zZXRTaWRlcyk7CgogICAgICBpZiAoZ3B1QWNjZWxlcmF0aW9uKSB7CiAgICAgICAgdmFyIF9PYmplY3QkYXNzaWduOwoKICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjb21tb25TdHlsZXMpLCB7fSwgKF9PYmplY3QkYXNzaWduID0ge30sIF9PYmplY3QkYXNzaWduW3NpZGVZXSA9IGhhc1kgPyAnMCcgOiAnJywgX09iamVjdCRhc3NpZ25bc2lkZVhdID0gaGFzWCA/ICcwJyA6ICcnLCBfT2JqZWN0JGFzc2lnbi50cmFuc2Zvcm0gPSAod2luLmRldmljZVBpeGVsUmF0aW8gfHwgMSkgPCAyID8gInRyYW5zbGF0ZSgiICsgeCArICJweCwgIiArIHkgKyAicHgpIiA6ICJ0cmFuc2xhdGUzZCgiICsgeCArICJweCwgIiArIHkgKyAicHgsIDApIiwgX09iamVjdCRhc3NpZ24pKTsKICAgICAgfQoKICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29tbW9uU3R5bGVzKSwge30sIChfT2JqZWN0JGFzc2lnbjIgPSB7fSwgX09iamVjdCRhc3NpZ24yW3NpZGVZXSA9IGhhc1kgPyB5ICsgInB4IiA6ICcnLCBfT2JqZWN0JGFzc2lnbjJbc2lkZVhdID0gaGFzWCA/IHggKyAicHgiIDogJycsIF9PYmplY3QkYXNzaWduMi50cmFuc2Zvcm0gPSAnJywgX09iamVjdCRhc3NpZ24yKSk7CiAgICB9CgogICAgZnVuY3Rpb24gY29tcHV0ZVN0eWxlcyhfcmVmMykgewogICAgICB2YXIgc3RhdGUgPSBfcmVmMy5zdGF0ZSwKICAgICAgICAgIG9wdGlvbnMgPSBfcmVmMy5vcHRpb25zOwogICAgICB2YXIgX29wdGlvbnMkZ3B1QWNjZWxlcmF0ID0gb3B0aW9ucy5ncHVBY2NlbGVyYXRpb24sCiAgICAgICAgICBncHVBY2NlbGVyYXRpb24gPSBfb3B0aW9ucyRncHVBY2NlbGVyYXQgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRncHVBY2NlbGVyYXQsCiAgICAgICAgICBfb3B0aW9ucyRhZGFwdGl2ZSA9IG9wdGlvbnMuYWRhcHRpdmUsCiAgICAgICAgICBhZGFwdGl2ZSA9IF9vcHRpb25zJGFkYXB0aXZlID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkYWRhcHRpdmU7CgogICAgICBpZiAoZmFsc2UpIHsKICAgICAgICB2YXIgdHJhbnNpdGlvblByb3BlcnR5OwogICAgICB9CgogICAgICB2YXIgY29tbW9uU3R5bGVzID0gewogICAgICAgIHBsYWNlbWVudDogZ2V0QmFzZVBsYWNlbWVudChzdGF0ZS5wbGFjZW1lbnQpLAogICAgICAgIHBvcHBlcjogc3RhdGUuZWxlbWVudHMucG9wcGVyLAogICAgICAgIHBvcHBlclJlY3Q6IHN0YXRlLnJlY3RzLnBvcHBlciwKICAgICAgICBncHVBY2NlbGVyYXRpb246IGdwdUFjY2VsZXJhdGlvbgogICAgICB9OwoKICAgICAgaWYgKHN0YXRlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cyAhPSBudWxsKSB7CiAgICAgICAgc3RhdGUuc3R5bGVzLnBvcHBlciA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuc3R5bGVzLnBvcHBlciksIG1hcFRvU3R5bGVzKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29tbW9uU3R5bGVzKSwge30sIHsKICAgICAgICAgIG9mZnNldHM6IHN0YXRlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cywKICAgICAgICAgIHBvc2l0aW9uOiBzdGF0ZS5vcHRpb25zLnN0cmF0ZWd5LAogICAgICAgICAgYWRhcHRpdmU6IGFkYXB0aXZlCiAgICAgICAgfSkpKTsKICAgICAgfQoKICAgICAgaWYgKHN0YXRlLm1vZGlmaWVyc0RhdGEuYXJyb3cgIT0gbnVsbCkgewogICAgICAgIHN0YXRlLnN0eWxlcy5hcnJvdyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuc3R5bGVzLmFycm93KSwgbWFwVG9TdHlsZXMoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjb21tb25TdHlsZXMpLCB7fSwgewogICAgICAgICAgb2Zmc2V0czogc3RhdGUubW9kaWZpZXJzRGF0YS5hcnJvdywKICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLAogICAgICAgICAgYWRhcHRpdmU6IGZhbHNlCiAgICAgICAgfSkpKTsKICAgICAgfQoKICAgICAgc3RhdGUuYXR0cmlidXRlcy5wb3BwZXIgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLmF0dHJpYnV0ZXMucG9wcGVyKSwge30sIHsKICAgICAgICAnZGF0YS1wb3BwZXItcGxhY2VtZW50Jzogc3RhdGUucGxhY2VtZW50CiAgICAgIH0pOwogICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICB2YXIgbW9kaWZpZXJzX2NvbXB1dGVTdHlsZXMgPSB7CiAgICAgIG5hbWU6ICdjb21wdXRlU3R5bGVzJywKICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgcGhhc2U6ICdiZWZvcmVXcml0ZScsCiAgICAgIGZuOiBjb21wdXRlU3R5bGVzLAogICAgICBkYXRhOiB7fQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9hcHBseVN0eWxlcy5qcwogICAgLy8gVGhpcyBtb2RpZmllciB0YWtlcyB0aGUgc3R5bGVzIHByZXBhcmVkIGJ5IHRoZSBgY29tcHV0ZVN0eWxlc2AgbW9kaWZpZXIKICAgIC8vIGFuZCBhcHBsaWVzIHRoZW0gdG8gdGhlIEhUTUxFbGVtZW50cyBzdWNoIGFzIHBvcHBlciBhbmQgYXJyb3cKCiAgICBmdW5jdGlvbiBhcHBseVN0eWxlcyhfcmVmKSB7CiAgICAgIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGU7CiAgICAgIE9iamVjdC5rZXlzKHN0YXRlLmVsZW1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgdmFyIHN0eWxlID0gc3RhdGUuc3R5bGVzW25hbWVdIHx8IHt9OwogICAgICAgIHZhciBhdHRyaWJ1dGVzID0gc3RhdGUuYXR0cmlidXRlc1tuYW1lXSB8fCB7fTsKICAgICAgICB2YXIgZWxlbWVudCA9IHN0YXRlLmVsZW1lbnRzW25hbWVdOyAvLyBhcnJvdyBpcyBvcHRpb25hbCArIHZpcnR1YWwgZWxlbWVudHMKCiAgICAgICAgaWYgKCFpc0hUTUxFbGVtZW50KGVsZW1lbnQpIHx8ICFnZXROb2RlTmFtZShlbGVtZW50KSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8gRmxvdyBkb2Vzbid0IHN1cHBvcnQgdG8gZXh0ZW5kIHRoaXMgcHJvcGVydHksIGJ1dCBpdCdzIHRoZSBtb3N0CiAgICAgICAgLy8gZWZmZWN0aXZlIHdheSB0byBhcHBseSBzdHlsZXMgdG8gYW4gSFRNTEVsZW1lbnQKICAgICAgICAvLyAkRmxvd0ZpeE1lCgoKICAgICAgICBPYmplY3QuYXNzaWduKGVsZW1lbnQuc3R5bGUsIHN0eWxlKTsKICAgICAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICB2YXIgdmFsdWUgPSBhdHRyaWJ1dGVzW25hbWVdOwoKICAgICAgICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSA9PT0gdHJ1ZSA/ICcnIDogdmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcHBseVN0eWxlc19lZmZlY3QoX3JlZjIpIHsKICAgICAgdmFyIHN0YXRlID0gX3JlZjIuc3RhdGU7CiAgICAgIHZhciBpbml0aWFsU3R5bGVzID0gewogICAgICAgIHBvcHBlcjogewogICAgICAgICAgcG9zaXRpb246IHN0YXRlLm9wdGlvbnMuc3RyYXRlZ3ksCiAgICAgICAgICBsZWZ0OiAnMCcsCiAgICAgICAgICB0b3A6ICcwJywKICAgICAgICAgIG1hcmdpbjogJzAnCiAgICAgICAgfSwKICAgICAgICBhcnJvdzogewogICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScKICAgICAgICB9LAogICAgICAgIHJlZmVyZW5jZToge30KICAgICAgfTsKICAgICAgT2JqZWN0LmFzc2lnbihzdGF0ZS5lbGVtZW50cy5wb3BwZXIuc3R5bGUsIGluaXRpYWxTdHlsZXMucG9wcGVyKTsKCiAgICAgIGlmIChzdGF0ZS5lbGVtZW50cy5hcnJvdykgewogICAgICAgIE9iamVjdC5hc3NpZ24oc3RhdGUuZWxlbWVudHMuYXJyb3cuc3R5bGUsIGluaXRpYWxTdHlsZXMuYXJyb3cpOwogICAgICB9CgogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIE9iamVjdC5rZXlzKHN0YXRlLmVsZW1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICB2YXIgZWxlbWVudCA9IHN0YXRlLmVsZW1lbnRzW25hbWVdOwogICAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBzdGF0ZS5hdHRyaWJ1dGVzW25hbWVdIHx8IHt9OwogICAgICAgICAgdmFyIHN0eWxlUHJvcGVydGllcyA9IE9iamVjdC5rZXlzKHN0YXRlLnN0eWxlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IHN0YXRlLnN0eWxlc1tuYW1lXSA6IGluaXRpYWxTdHlsZXNbbmFtZV0pOyAvLyBTZXQgYWxsIHZhbHVlcyB0byBhbiBlbXB0eSBzdHJpbmcgdG8gdW5zZXQgdGhlbQoKICAgICAgICAgIHZhciBzdHlsZSA9IHN0eWxlUHJvcGVydGllcy5yZWR1Y2UoZnVuY3Rpb24gKHN0eWxlLCBwcm9wZXJ0eSkgewogICAgICAgICAgICBzdHlsZVtwcm9wZXJ0eV0gPSAnJzsKICAgICAgICAgICAgcmV0dXJuIHN0eWxlOwogICAgICAgICAgfSwge30pOyAvLyBhcnJvdyBpcyBvcHRpb25hbCArIHZpcnR1YWwgZWxlbWVudHMKCiAgICAgICAgICBpZiAoIWlzSFRNTEVsZW1lbnQoZWxlbWVudCkgfHwgIWdldE5vZGVOYW1lKGVsZW1lbnQpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gLy8gRmxvdyBkb2Vzbid0IHN1cHBvcnQgdG8gZXh0ZW5kIHRoaXMgcHJvcGVydHksIGJ1dCBpdCdzIHRoZSBtb3N0CiAgICAgICAgICAvLyBlZmZlY3RpdmUgd2F5IHRvIGFwcGx5IHN0eWxlcyB0byBhbiBIVE1MRWxlbWVudAogICAgICAgICAgLy8gJEZsb3dGaXhNZQoKCiAgICAgICAgICBPYmplY3QuYXNzaWduKGVsZW1lbnQuc3R5bGUsIHN0eWxlKTsKICAgICAgICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGF0dHJpYnV0ZSkgewogICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXMKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgoKICAgIHZhciBtb2RpZmllcnNfYXBwbHlTdHlsZXMgPSB7CiAgICAgIG5hbWU6ICdhcHBseVN0eWxlcycsCiAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgIHBoYXNlOiAnd3JpdGUnLAogICAgICBmbjogYXBwbHlTdHlsZXMsCiAgICAgIGVmZmVjdDogYXBwbHlTdHlsZXNfZWZmZWN0LAogICAgICByZXF1aXJlczogWydjb21wdXRlU3R5bGVzJ10KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvb2Zmc2V0LmpzCgogICAgZnVuY3Rpb24gZGlzdGFuY2VBbmRTa2lkZGluZ1RvWFkocGxhY2VtZW50LCByZWN0cywgb2Zmc2V0KSB7CiAgICAgIHZhciBiYXNlUGxhY2VtZW50ID0gZ2V0QmFzZVBsYWNlbWVudChwbGFjZW1lbnQpOwogICAgICB2YXIgaW52ZXJ0RGlzdGFuY2UgPSBbbGVmdCwgZW51bXNfdG9wXS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpID49IDAgPyAtMSA6IDE7CgogICAgICB2YXIgX3JlZiA9IHR5cGVvZiBvZmZzZXQgPT09ICdmdW5jdGlvbicgPyBvZmZzZXQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZWN0cyksIHt9LCB7CiAgICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQKICAgICAgfSkpIDogb2Zmc2V0LAogICAgICAgICAgc2tpZGRpbmcgPSBfcmVmWzBdLAogICAgICAgICAgZGlzdGFuY2UgPSBfcmVmWzFdOwoKICAgICAgc2tpZGRpbmcgPSBza2lkZGluZyB8fCAwOwogICAgICBkaXN0YW5jZSA9IChkaXN0YW5jZSB8fCAwKSAqIGludmVydERpc3RhbmNlOwogICAgICByZXR1cm4gW2xlZnQsIHJpZ2h0XS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpID49IDAgPyB7CiAgICAgICAgeDogZGlzdGFuY2UsCiAgICAgICAgeTogc2tpZGRpbmcKICAgICAgfSA6IHsKICAgICAgICB4OiBza2lkZGluZywKICAgICAgICB5OiBkaXN0YW5jZQogICAgICB9OwogICAgfQoKICAgIGZ1bmN0aW9uIG9mZnNldF9vZmZzZXQoX3JlZjIpIHsKICAgICAgdmFyIHN0YXRlID0gX3JlZjIuc3RhdGUsCiAgICAgICAgICBvcHRpb25zID0gX3JlZjIub3B0aW9ucywKICAgICAgICAgIG5hbWUgPSBfcmVmMi5uYW1lOwogICAgICB2YXIgX29wdGlvbnMkb2Zmc2V0ID0gb3B0aW9ucy5vZmZzZXQsCiAgICAgICAgICBvZmZzZXQgPSBfb3B0aW9ucyRvZmZzZXQgPT09IHZvaWQgMCA/IFswLCAwXSA6IF9vcHRpb25zJG9mZnNldDsKICAgICAgdmFyIGRhdGEgPSBlbnVtc19wbGFjZW1lbnRzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwbGFjZW1lbnQpIHsKICAgICAgICBhY2NbcGxhY2VtZW50XSA9IGRpc3RhbmNlQW5kU2tpZGRpbmdUb1hZKHBsYWNlbWVudCwgc3RhdGUucmVjdHMsIG9mZnNldCk7CiAgICAgICAgcmV0dXJuIGFjYzsKICAgICAgfSwge30pOwogICAgICB2YXIgX2RhdGEkc3RhdGUkcGxhY2VtZW50ID0gZGF0YVtzdGF0ZS5wbGFjZW1lbnRdLAogICAgICAgICAgeCA9IF9kYXRhJHN0YXRlJHBsYWNlbWVudC54LAogICAgICAgICAgeSA9IF9kYXRhJHN0YXRlJHBsYWNlbWVudC55OwoKICAgICAgaWYgKHN0YXRlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0cyAhPSBudWxsKSB7CiAgICAgICAgc3RhdGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzLnggKz0geDsKICAgICAgICBzdGF0ZS5tb2RpZmllcnNEYXRhLnBvcHBlck9mZnNldHMueSArPSB5OwogICAgICB9CgogICAgICBzdGF0ZS5tb2RpZmllcnNEYXRhW25hbWVdID0gZGF0YTsKICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlcwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIG1vZGlmaWVyc19vZmZzZXQgPSB7CiAgICAgIG5hbWU6ICdvZmZzZXQnLAogICAgICBlbmFibGVkOiB0cnVlLAogICAgICBwaGFzZTogJ21haW4nLAogICAgICByZXF1aXJlczogWydwb3BwZXJPZmZzZXRzJ10sCiAgICAgIGZuOiBvZmZzZXRfb2Zmc2V0CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZ2V0T3Bwb3NpdGVQbGFjZW1lbnQuanMKCiAgICB2YXIgaGFzaCA9IHsKICAgICAgbGVmdDogJ3JpZ2h0JywKICAgICAgcmlnaHQ6ICdsZWZ0JywKICAgICAgYm90dG9tOiAndG9wJywKICAgICAgdG9wOiAnYm90dG9tJwogICAgfTsKCiAgICBmdW5jdGlvbiBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpIHsKICAgICAgcmV0dXJuIHBsYWNlbWVudC5yZXBsYWNlKC9sZWZ0fHJpZ2h0fGJvdHRvbXx0b3AvZywgZnVuY3Rpb24gKG1hdGNoZWQpIHsKICAgICAgICByZXR1cm4gaGFzaFttYXRjaGVkXTsKICAgICAgfSk7CiAgICB9IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRPcHBvc2l0ZVZhcmlhdGlvblBsYWNlbWVudC5qcwoKCiAgICB2YXIgZ2V0T3Bwb3NpdGVWYXJpYXRpb25QbGFjZW1lbnRfaGFzaCA9IHsKICAgICAgc3RhcnQ6ICdlbmQnLAogICAgICBlbmQ6ICdzdGFydCcKICAgIH07CgogICAgZnVuY3Rpb24gZ2V0T3Bwb3NpdGVWYXJpYXRpb25QbGFjZW1lbnQocGxhY2VtZW50KSB7CiAgICAgIHJldHVybiBwbGFjZW1lbnQucmVwbGFjZSgvc3RhcnR8ZW5kL2csIGZ1bmN0aW9uIChtYXRjaGVkKSB7CiAgICAgICAgcmV0dXJuIGdldE9wcG9zaXRlVmFyaWF0aW9uUGxhY2VtZW50X2hhc2hbbWF0Y2hlZF07CiAgICAgIH0pOwogICAgfSAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldFZpZXdwb3J0UmVjdC5qcwoKCiAgICBmdW5jdGlvbiBnZXRWaWV3cG9ydFJlY3QoZWxlbWVudCkgewogICAgICB2YXIgd2luID0gZ2V0V2luZG93KGVsZW1lbnQpOwogICAgICB2YXIgaHRtbCA9IGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KTsKICAgICAgdmFyIHZpc3VhbFZpZXdwb3J0ID0gd2luLnZpc3VhbFZpZXdwb3J0OwogICAgICB2YXIgd2lkdGggPSBodG1sLmNsaWVudFdpZHRoOwogICAgICB2YXIgaGVpZ2h0ID0gaHRtbC5jbGllbnRIZWlnaHQ7CiAgICAgIHZhciB4ID0gMDsKICAgICAgdmFyIHkgPSAwOyAvLyBOQjogVGhpcyBpc24ndCBzdXBwb3J0ZWQgb24gaU9TIDw9IDEyLiBJZiB0aGUga2V5Ym9hcmQgaXMgb3BlbiwgdGhlIHBvcHBlcgogICAgICAvLyBjYW4gYmUgb2JzY3VyZWQgdW5kZXJuZWF0aCBpdC4KICAgICAgLy8gQWxzbywgYGh0bWwuY2xpZW50SGVpZ2h0YCBhZGRzIHRoZSBib3R0b20gYmFyIGhlaWdodCBpbiBTYWZhcmkgaU9TLCBldmVuCiAgICAgIC8vIGlmIGl0IGlzbid0IG9wZW4sIHNvIGlmIHRoaXMgaXNuJ3QgYXZhaWxhYmxlLCB0aGUgcG9wcGVyIHdpbGwgYmUgZGV0ZWN0ZWQKICAgICAgLy8gdG8gb3ZlcmZsb3cgdGhlIGJvdHRvbSBvZiB0aGUgc2NyZWVuIHRvbyBlYXJseS4KCiAgICAgIGlmICh2aXN1YWxWaWV3cG9ydCkgewogICAgICAgIHdpZHRoID0gdmlzdWFsVmlld3BvcnQud2lkdGg7CiAgICAgICAgaGVpZ2h0ID0gdmlzdWFsVmlld3BvcnQuaGVpZ2h0OyAvLyBVc2VzIExheW91dCBWaWV3cG9ydCAobGlrZSBDaHJvbWU7IFNhZmFyaSBkb2VzIG5vdCBjdXJyZW50bHkpCiAgICAgICAgLy8gSW4gQ2hyb21lLCBpdCByZXR1cm5zIGEgdmFsdWUgdmVyeSBjbG9zZSB0byAwICgrLy0pIGJ1dCBjb250YWlucyByb3VuZGluZwogICAgICAgIC8vIGVycm9ycyBkdWUgdG8gZmxvYXRpbmcgcG9pbnQgbnVtYmVycywgc28gd2UgbmVlZCB0byBjaGVjayBwcmVjaXNpb24uCiAgICAgICAgLy8gU2FmYXJpIHJldHVybnMgYSBudW1iZXIgPD0gMCwgdXN1YWxseSA8IC0xIHdoZW4gcGluY2gtem9vbWVkCiAgICAgICAgLy8gRmVhdHVyZSBkZXRlY3Rpb24gZmFpbHMgaW4gbW9iaWxlIGVtdWxhdGlvbiBtb2RlIGluIENocm9tZS4KICAgICAgICAvLyBNYXRoLmFicyh3aW4uaW5uZXJXaWR0aCAvIHZpc3VhbFZpZXdwb3J0LnNjYWxlIC0gdmlzdWFsVmlld3BvcnQud2lkdGgpIDwKICAgICAgICAvLyAwLjAwMQogICAgICAgIC8vIEZhbGxiYWNrIGhlcmU6ICJOb3QgU2FmYXJpIiB1c2VyQWdlbnQKCiAgICAgICAgaWYgKCEvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7CiAgICAgICAgICB4ID0gdmlzdWFsVmlld3BvcnQub2Zmc2V0TGVmdDsKICAgICAgICAgIHkgPSB2aXN1YWxWaWV3cG9ydC5vZmZzZXRUb3A7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiB3aWR0aCwKICAgICAgICBoZWlnaHQ6IGhlaWdodCwKICAgICAgICB4OiB4ICsgZ2V0V2luZG93U2Nyb2xsQmFyWChlbGVtZW50KSwKICAgICAgICB5OiB5CiAgICAgIH07CiAgICB9IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9kb20tdXRpbHMvZ2V0RG9jdW1lbnRSZWN0LmpzCiAgICAvLyBHZXRzIHRoZSBlbnRpcmUgc2l6ZSBvZiB0aGUgc2Nyb2xsYWJsZSBkb2N1bWVudCBhcmVhLCBldmVuIGV4dGVuZGluZyBvdXRzaWRlCiAgICAvLyBvZiB0aGUgYDxodG1sPmAgYW5kIGA8Ym9keT5gIHJlY3QgYm91bmRzIGlmIGhvcml6b250YWxseSBzY3JvbGxhYmxlCgoKICAgIGZ1bmN0aW9uIGdldERvY3VtZW50UmVjdChlbGVtZW50KSB7CiAgICAgIHZhciBodG1sID0gZ2V0RG9jdW1lbnRFbGVtZW50KGVsZW1lbnQpOwogICAgICB2YXIgd2luU2Nyb2xsID0gZ2V0V2luZG93U2Nyb2xsKGVsZW1lbnQpOwogICAgICB2YXIgYm9keSA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5ib2R5OwogICAgICB2YXIgd2lkdGggPSBNYXRoLm1heChodG1sLnNjcm9sbFdpZHRoLCBodG1sLmNsaWVudFdpZHRoLCBib2R5ID8gYm9keS5zY3JvbGxXaWR0aCA6IDAsIGJvZHkgPyBib2R5LmNsaWVudFdpZHRoIDogMCk7CiAgICAgIHZhciBoZWlnaHQgPSBNYXRoLm1heChodG1sLnNjcm9sbEhlaWdodCwgaHRtbC5jbGllbnRIZWlnaHQsIGJvZHkgPyBib2R5LnNjcm9sbEhlaWdodCA6IDAsIGJvZHkgPyBib2R5LmNsaWVudEhlaWdodCA6IDApOwogICAgICB2YXIgeCA9IC13aW5TY3JvbGwuc2Nyb2xsTGVmdCArIGdldFdpbmRvd1Njcm9sbEJhclgoZWxlbWVudCk7CiAgICAgIHZhciB5ID0gLXdpblNjcm9sbC5zY3JvbGxUb3A7CgogICAgICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZV9nZXRDb21wdXRlZFN0eWxlKGJvZHkgfHwgaHRtbCkuZGlyZWN0aW9uID09PSAncnRsJykgewogICAgICAgIHggKz0gTWF0aC5tYXgoaHRtbC5jbGllbnRXaWR0aCwgYm9keSA/IGJvZHkuY2xpZW50V2lkdGggOiAwKSAtIHdpZHRoOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiB3aWR0aCwKICAgICAgICBoZWlnaHQ6IGhlaWdodCwKICAgICAgICB4OiB4LAogICAgICAgIHk6IHkKICAgICAgfTsKICAgIH0gLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL2RvbS11dGlscy9jb250YWlucy5qcwoKCiAgICBmdW5jdGlvbiBjb250YWlucyhwYXJlbnQsIGNoaWxkKSB7CiAgICAgIC8vICRGbG93Rml4TWU6IGhhc093blByb3BlcnR5IGRvZXNuJ3Qgc2VlbSB0byB3b3JrIGluIHRlc3RzCiAgICAgIHZhciBpc1NoYWRvdyA9IEJvb2xlYW4oY2hpbGQuZ2V0Um9vdE5vZGUgJiYgY2hpbGQuZ2V0Um9vdE5vZGUoKS5ob3N0KTsgLy8gRmlyc3QsIGF0dGVtcHQgd2l0aCBmYXN0ZXIgbmF0aXZlIG1ldGhvZAoKICAgICAgaWYgKHBhcmVudC5jb250YWlucyhjaGlsZCkpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSAvLyB0aGVuIGZhbGxiYWNrIHRvIGN1c3RvbSBpbXBsZW1lbnRhdGlvbiB3aXRoIFNoYWRvdyBET00gc3VwcG9ydAogICAgICBlbHNlIGlmIChpc1NoYWRvdykgewogICAgICAgICAgdmFyIG5leHQgPSBjaGlsZDsKCiAgICAgICAgICBkbyB7CiAgICAgICAgICAgIGlmIChuZXh0ICYmIHBhcmVudC5pc1NhbWVOb2RlKG5leHQpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0gLy8gJEZsb3dGaXhNZTogbmVlZCBhIGJldHRlciB3YXkgdG8gaGFuZGxlIHRoaXMuLi4KCgogICAgICAgICAgICBuZXh0ID0gbmV4dC5wYXJlbnROb2RlIHx8IG5leHQuaG9zdDsKICAgICAgICAgIH0gd2hpbGUgKG5leHQpOwogICAgICAgIH0gLy8gR2l2ZSB1cCwgdGhlIHJlc3VsdCBpcyBmYWxzZQoKCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0gLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL3JlY3RUb0NsaWVudFJlY3QuanMKCgogICAgZnVuY3Rpb24gcmVjdFRvQ2xpZW50UmVjdChyZWN0KSB7CiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlY3QpLCB7fSwgewogICAgICAgIGxlZnQ6IHJlY3QueCwKICAgICAgICB0b3A6IHJlY3QueSwKICAgICAgICByaWdodDogcmVjdC54ICsgcmVjdC53aWR0aCwKICAgICAgICBib3R0b206IHJlY3QueSArIHJlY3QuaGVpZ2h0CiAgICAgIH0pOwogICAgfSAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvZG9tLXV0aWxzL2dldENsaXBwaW5nUmVjdC5qcwoKCiAgICBmdW5jdGlvbiBnZXRJbm5lckJvdW5kaW5nQ2xpZW50UmVjdChlbGVtZW50KSB7CiAgICAgIHZhciByZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGVsZW1lbnQpOwogICAgICByZWN0LnRvcCA9IHJlY3QudG9wICsgZWxlbWVudC5jbGllbnRUb3A7CiAgICAgIHJlY3QubGVmdCA9IHJlY3QubGVmdCArIGVsZW1lbnQuY2xpZW50TGVmdDsKICAgICAgcmVjdC5ib3R0b20gPSByZWN0LnRvcCArIGVsZW1lbnQuY2xpZW50SGVpZ2h0OwogICAgICByZWN0LnJpZ2h0ID0gcmVjdC5sZWZ0ICsgZWxlbWVudC5jbGllbnRXaWR0aDsKICAgICAgcmVjdC53aWR0aCA9IGVsZW1lbnQuY2xpZW50V2lkdGg7CiAgICAgIHJlY3QuaGVpZ2h0ID0gZWxlbWVudC5jbGllbnRIZWlnaHQ7CiAgICAgIHJlY3QueCA9IHJlY3QubGVmdDsKICAgICAgcmVjdC55ID0gcmVjdC50b3A7CiAgICAgIHJldHVybiByZWN0OwogICAgfQoKICAgIGZ1bmN0aW9uIGdldENsaWVudFJlY3RGcm9tTWl4ZWRUeXBlKGVsZW1lbnQsIGNsaXBwaW5nUGFyZW50KSB7CiAgICAgIHJldHVybiBjbGlwcGluZ1BhcmVudCA9PT0gdmlld3BvcnQgPyByZWN0VG9DbGllbnRSZWN0KGdldFZpZXdwb3J0UmVjdChlbGVtZW50KSkgOiBpc0hUTUxFbGVtZW50KGNsaXBwaW5nUGFyZW50KSA/IGdldElubmVyQm91bmRpbmdDbGllbnRSZWN0KGNsaXBwaW5nUGFyZW50KSA6IHJlY3RUb0NsaWVudFJlY3QoZ2V0RG9jdW1lbnRSZWN0KGdldERvY3VtZW50RWxlbWVudChlbGVtZW50KSkpOwogICAgfSAvLyBBICJjbGlwcGluZyBwYXJlbnQiIGlzIGFuIG92ZXJmbG93YWJsZSBjb250YWluZXIgd2l0aCB0aGUgY2hhcmFjdGVyaXN0aWMgb2YKICAgIC8vIGNsaXBwaW5nIChvciBoaWRpbmcpIG92ZXJmbG93aW5nIGVsZW1lbnRzIHdpdGggYSBwb3NpdGlvbiBkaWZmZXJlbnQgZnJvbQogICAgLy8gYGluaXRpYWxgCgoKICAgIGZ1bmN0aW9uIGdldENsaXBwaW5nUGFyZW50cyhlbGVtZW50KSB7CiAgICAgIHZhciBjbGlwcGluZ1BhcmVudHMgPSBsaXN0U2Nyb2xsUGFyZW50cyhnZXRQYXJlbnROb2RlKGVsZW1lbnQpKTsKICAgICAgdmFyIGNhbkVzY2FwZUNsaXBwaW5nID0gWydhYnNvbHV0ZScsICdmaXhlZCddLmluZGV4T2YoZ2V0Q29tcHV0ZWRTdHlsZV9nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uKSA+PSAwOwogICAgICB2YXIgY2xpcHBlckVsZW1lbnQgPSBjYW5Fc2NhcGVDbGlwcGluZyAmJiBpc0hUTUxFbGVtZW50KGVsZW1lbnQpID8gZ2V0T2Zmc2V0UGFyZW50KGVsZW1lbnQpIDogZWxlbWVudDsKCiAgICAgIGlmICghaXNFbGVtZW50KGNsaXBwZXJFbGVtZW50KSkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfSAvLyAkRmxvd0ZpeE1lOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svZmxvdy9pc3N1ZXMvMTQxNAoKCiAgICAgIHJldHVybiBjbGlwcGluZ1BhcmVudHMuZmlsdGVyKGZ1bmN0aW9uIChjbGlwcGluZ1BhcmVudCkgewogICAgICAgIHJldHVybiBpc0VsZW1lbnQoY2xpcHBpbmdQYXJlbnQpICYmIGNvbnRhaW5zKGNsaXBwaW5nUGFyZW50LCBjbGlwcGVyRWxlbWVudCkgJiYgZ2V0Tm9kZU5hbWUoY2xpcHBpbmdQYXJlbnQpICE9PSAnYm9keSc7CiAgICAgIH0pOwogICAgfSAvLyBHZXRzIHRoZSBtYXhpbXVtIGFyZWEgdGhhdCB0aGUgZWxlbWVudCBpcyB2aXNpYmxlIGluIGR1ZSB0byBhbnkgbnVtYmVyIG9mCiAgICAvLyBjbGlwcGluZyBwYXJlbnRzCgoKICAgIGZ1bmN0aW9uIGdldENsaXBwaW5nUmVjdChlbGVtZW50LCBib3VuZGFyeSwgcm9vdEJvdW5kYXJ5KSB7CiAgICAgIHZhciBtYWluQ2xpcHBpbmdQYXJlbnRzID0gYm91bmRhcnkgPT09ICdjbGlwcGluZ1BhcmVudHMnID8gZ2V0Q2xpcHBpbmdQYXJlbnRzKGVsZW1lbnQpIDogW10uY29uY2F0KGJvdW5kYXJ5KTsKICAgICAgdmFyIGNsaXBwaW5nUGFyZW50cyA9IFtdLmNvbmNhdChtYWluQ2xpcHBpbmdQYXJlbnRzLCBbcm9vdEJvdW5kYXJ5XSk7CiAgICAgIHZhciBmaXJzdENsaXBwaW5nUGFyZW50ID0gY2xpcHBpbmdQYXJlbnRzWzBdOwogICAgICB2YXIgY2xpcHBpbmdSZWN0ID0gY2xpcHBpbmdQYXJlbnRzLnJlZHVjZShmdW5jdGlvbiAoYWNjUmVjdCwgY2xpcHBpbmdQYXJlbnQpIHsKICAgICAgICB2YXIgcmVjdCA9IGdldENsaWVudFJlY3RGcm9tTWl4ZWRUeXBlKGVsZW1lbnQsIGNsaXBwaW5nUGFyZW50KTsKICAgICAgICBhY2NSZWN0LnRvcCA9IE1hdGgubWF4KHJlY3QudG9wLCBhY2NSZWN0LnRvcCk7CiAgICAgICAgYWNjUmVjdC5yaWdodCA9IE1hdGgubWluKHJlY3QucmlnaHQsIGFjY1JlY3QucmlnaHQpOwogICAgICAgIGFjY1JlY3QuYm90dG9tID0gTWF0aC5taW4ocmVjdC5ib3R0b20sIGFjY1JlY3QuYm90dG9tKTsKICAgICAgICBhY2NSZWN0LmxlZnQgPSBNYXRoLm1heChyZWN0LmxlZnQsIGFjY1JlY3QubGVmdCk7CiAgICAgICAgcmV0dXJuIGFjY1JlY3Q7CiAgICAgIH0sIGdldENsaWVudFJlY3RGcm9tTWl4ZWRUeXBlKGVsZW1lbnQsIGZpcnN0Q2xpcHBpbmdQYXJlbnQpKTsKICAgICAgY2xpcHBpbmdSZWN0LndpZHRoID0gY2xpcHBpbmdSZWN0LnJpZ2h0IC0gY2xpcHBpbmdSZWN0LmxlZnQ7CiAgICAgIGNsaXBwaW5nUmVjdC5oZWlnaHQgPSBjbGlwcGluZ1JlY3QuYm90dG9tIC0gY2xpcHBpbmdSZWN0LnRvcDsKICAgICAgY2xpcHBpbmdSZWN0LnggPSBjbGlwcGluZ1JlY3QubGVmdDsKICAgICAgY2xpcHBpbmdSZWN0LnkgPSBjbGlwcGluZ1JlY3QudG9wOwogICAgICByZXR1cm4gY2xpcHBpbmdSZWN0OwogICAgfSAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZ2V0RnJlc2hTaWRlT2JqZWN0LmpzCgoKICAgIGZ1bmN0aW9uIGdldEZyZXNoU2lkZU9iamVjdCgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB0b3A6IDAsCiAgICAgICAgcmlnaHQ6IDAsCiAgICAgICAgYm90dG9tOiAwLAogICAgICAgIGxlZnQ6IDAKICAgICAgfTsKICAgIH0gLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL21lcmdlUGFkZGluZ09iamVjdC5qcwoKCiAgICBmdW5jdGlvbiBtZXJnZVBhZGRpbmdPYmplY3QocGFkZGluZ09iamVjdCkgewogICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBnZXRGcmVzaFNpZGVPYmplY3QoKSksIHBhZGRpbmdPYmplY3QpOwogICAgfSAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AcG9wcGVyanMvY29yZS9saWIvdXRpbHMvZXhwYW5kVG9IYXNoTWFwLmpzCgoKICAgIGZ1bmN0aW9uIGV4cGFuZFRvSGFzaE1hcCh2YWx1ZSwga2V5cykgewogICAgICByZXR1cm4ga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKGhhc2hNYXAsIGtleSkgewogICAgICAgIGhhc2hNYXBba2V5XSA9IHZhbHVlOwogICAgICAgIHJldHVybiBoYXNoTWFwOwogICAgICB9LCB7fSk7CiAgICB9IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9kZXRlY3RPdmVyZmxvdy5qcwogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlcwoKCiAgICBmdW5jdGlvbiBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwgb3B0aW9ucykgewogICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7CiAgICAgICAgb3B0aW9ucyA9IHt9OwogICAgICB9CgogICAgICB2YXIgX29wdGlvbnMgPSBvcHRpb25zLAogICAgICAgICAgX29wdGlvbnMkcGxhY2VtZW50ID0gX29wdGlvbnMucGxhY2VtZW50LAogICAgICAgICAgcGxhY2VtZW50ID0gX29wdGlvbnMkcGxhY2VtZW50ID09PSB2b2lkIDAgPyBzdGF0ZS5wbGFjZW1lbnQgOiBfb3B0aW9ucyRwbGFjZW1lbnQsCiAgICAgICAgICBfb3B0aW9ucyRib3VuZGFyeSA9IF9vcHRpb25zLmJvdW5kYXJ5LAogICAgICAgICAgYm91bmRhcnkgPSBfb3B0aW9ucyRib3VuZGFyeSA9PT0gdm9pZCAwID8gZW51bXNfY2xpcHBpbmdQYXJlbnRzIDogX29wdGlvbnMkYm91bmRhcnksCiAgICAgICAgICBfb3B0aW9ucyRyb290Qm91bmRhcnkgPSBfb3B0aW9ucy5yb290Qm91bmRhcnksCiAgICAgICAgICByb290Qm91bmRhcnkgPSBfb3B0aW9ucyRyb290Qm91bmRhcnkgPT09IHZvaWQgMCA/IHZpZXdwb3J0IDogX29wdGlvbnMkcm9vdEJvdW5kYXJ5LAogICAgICAgICAgX29wdGlvbnMkZWxlbWVudENvbnRlID0gX29wdGlvbnMuZWxlbWVudENvbnRleHQsCiAgICAgICAgICBlbGVtZW50Q29udGV4dCA9IF9vcHRpb25zJGVsZW1lbnRDb250ZSA9PT0gdm9pZCAwID8gZW51bXNfcG9wcGVyIDogX29wdGlvbnMkZWxlbWVudENvbnRlLAogICAgICAgICAgX29wdGlvbnMkYWx0Qm91bmRhcnkgPSBfb3B0aW9ucy5hbHRCb3VuZGFyeSwKICAgICAgICAgIGFsdEJvdW5kYXJ5ID0gX29wdGlvbnMkYWx0Qm91bmRhcnkgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkYWx0Qm91bmRhcnksCiAgICAgICAgICBfb3B0aW9ucyRwYWRkaW5nID0gX29wdGlvbnMucGFkZGluZywKICAgICAgICAgIHBhZGRpbmcgPSBfb3B0aW9ucyRwYWRkaW5nID09PSB2b2lkIDAgPyAwIDogX29wdGlvbnMkcGFkZGluZzsKICAgICAgdmFyIHBhZGRpbmdPYmplY3QgPSBtZXJnZVBhZGRpbmdPYmplY3QodHlwZW9mIHBhZGRpbmcgIT09ICdudW1iZXInID8gcGFkZGluZyA6IGV4cGFuZFRvSGFzaE1hcChwYWRkaW5nLCBiYXNlUGxhY2VtZW50cykpOwogICAgICB2YXIgYWx0Q29udGV4dCA9IGVsZW1lbnRDb250ZXh0ID09PSBlbnVtc19wb3BwZXIgPyBlbnVtc19yZWZlcmVuY2UgOiBlbnVtc19wb3BwZXI7CiAgICAgIHZhciByZWZlcmVuY2VFbGVtZW50ID0gc3RhdGUuZWxlbWVudHMucmVmZXJlbmNlOwogICAgICB2YXIgcG9wcGVyUmVjdCA9IHN0YXRlLnJlY3RzLnBvcHBlcjsKICAgICAgdmFyIGVsZW1lbnQgPSBzdGF0ZS5lbGVtZW50c1thbHRCb3VuZGFyeSA/IGFsdENvbnRleHQgOiBlbGVtZW50Q29udGV4dF07CiAgICAgIHZhciBjbGlwcGluZ0NsaWVudFJlY3QgPSBnZXRDbGlwcGluZ1JlY3QoaXNFbGVtZW50KGVsZW1lbnQpID8gZWxlbWVudCA6IGVsZW1lbnQuY29udGV4dEVsZW1lbnQgfHwgZ2V0RG9jdW1lbnRFbGVtZW50KHN0YXRlLmVsZW1lbnRzLnBvcHBlciksIGJvdW5kYXJ5LCByb290Qm91bmRhcnkpOwogICAgICB2YXIgcmVmZXJlbmNlQ2xpZW50UmVjdCA9IGdldEJvdW5kaW5nQ2xpZW50UmVjdChyZWZlcmVuY2VFbGVtZW50KTsKICAgICAgdmFyIHBvcHBlck9mZnNldHMgPSBjb21wdXRlT2Zmc2V0cyh7CiAgICAgICAgcmVmZXJlbmNlOiByZWZlcmVuY2VDbGllbnRSZWN0LAogICAgICAgIGVsZW1lbnQ6IHBvcHBlclJlY3QsCiAgICAgICAgc3RyYXRlZ3k6ICdhYnNvbHV0ZScsCiAgICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQKICAgICAgfSk7CiAgICAgIHZhciBwb3BwZXJDbGllbnRSZWN0ID0gcmVjdFRvQ2xpZW50UmVjdChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBvcHBlclJlY3QpLCBwb3BwZXJPZmZzZXRzKSk7CiAgICAgIHZhciBlbGVtZW50Q2xpZW50UmVjdCA9IGVsZW1lbnRDb250ZXh0ID09PSBlbnVtc19wb3BwZXIgPyBwb3BwZXJDbGllbnRSZWN0IDogcmVmZXJlbmNlQ2xpZW50UmVjdDsgLy8gcG9zaXRpdmUgPSBvdmVyZmxvd2luZyB0aGUgY2xpcHBpbmcgcmVjdAogICAgICAvLyAwIG9yIG5lZ2F0aXZlID0gd2l0aGluIHRoZSBjbGlwcGluZyByZWN0CgogICAgICB2YXIgb3ZlcmZsb3dPZmZzZXRzID0gewogICAgICAgIHRvcDogY2xpcHBpbmdDbGllbnRSZWN0LnRvcCAtIGVsZW1lbnRDbGllbnRSZWN0LnRvcCArIHBhZGRpbmdPYmplY3QudG9wLAogICAgICAgIGJvdHRvbTogZWxlbWVudENsaWVudFJlY3QuYm90dG9tIC0gY2xpcHBpbmdDbGllbnRSZWN0LmJvdHRvbSArIHBhZGRpbmdPYmplY3QuYm90dG9tLAogICAgICAgIGxlZnQ6IGNsaXBwaW5nQ2xpZW50UmVjdC5sZWZ0IC0gZWxlbWVudENsaWVudFJlY3QubGVmdCArIHBhZGRpbmdPYmplY3QubGVmdCwKICAgICAgICByaWdodDogZWxlbWVudENsaWVudFJlY3QucmlnaHQgLSBjbGlwcGluZ0NsaWVudFJlY3QucmlnaHQgKyBwYWRkaW5nT2JqZWN0LnJpZ2h0CiAgICAgIH07CiAgICAgIHZhciBvZmZzZXREYXRhID0gc3RhdGUubW9kaWZpZXJzRGF0YS5vZmZzZXQ7IC8vIE9mZnNldHMgY2FuIGJlIGFwcGxpZWQgb25seSB0byB0aGUgcG9wcGVyIGVsZW1lbnQKCiAgICAgIGlmIChlbGVtZW50Q29udGV4dCA9PT0gZW51bXNfcG9wcGVyICYmIG9mZnNldERhdGEpIHsKICAgICAgICB2YXIgb2Zmc2V0ID0gb2Zmc2V0RGF0YVtwbGFjZW1lbnRdOwogICAgICAgIE9iamVjdC5rZXlzKG92ZXJmbG93T2Zmc2V0cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICB2YXIgbXVsdGlwbHkgPSBbcmlnaHQsIGJvdHRvbV0uaW5kZXhPZihrZXkpID49IDAgPyAxIDogLTE7CiAgICAgICAgICB2YXIgYXhpcyA9IFtlbnVtc190b3AsIGJvdHRvbV0uaW5kZXhPZihrZXkpID49IDAgPyAneScgOiAneCc7CiAgICAgICAgICBvdmVyZmxvd09mZnNldHNba2V5XSArPSBvZmZzZXRbYXhpc10gKiBtdWx0aXBseTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIG92ZXJmbG93T2Zmc2V0czsKICAgIH0gLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3V0aWxzL2NvbXB1dGVBdXRvUGxhY2VtZW50LmpzCgogICAgLyo6OiB0eXBlIE92ZXJmbG93c01hcCA9IHsgW0NvbXB1dGVkUGxhY2VtZW50XTogbnVtYmVyIH07ICovCgogICAgLyo7OyB0eXBlIE92ZXJmbG93c01hcCA9IHsgW2tleSBpbiBDb21wdXRlZFBsYWNlbWVudF06IG51bWJlciB9OyAqLwoKCiAgICBmdW5jdGlvbiBjb21wdXRlQXV0b1BsYWNlbWVudChzdGF0ZSwgb3B0aW9ucykgewogICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7CiAgICAgICAgb3B0aW9ucyA9IHt9OwogICAgICB9CgogICAgICB2YXIgX29wdGlvbnMgPSBvcHRpb25zLAogICAgICAgICAgcGxhY2VtZW50ID0gX29wdGlvbnMucGxhY2VtZW50LAogICAgICAgICAgYm91bmRhcnkgPSBfb3B0aW9ucy5ib3VuZGFyeSwKICAgICAgICAgIHJvb3RCb3VuZGFyeSA9IF9vcHRpb25zLnJvb3RCb3VuZGFyeSwKICAgICAgICAgIHBhZGRpbmcgPSBfb3B0aW9ucy5wYWRkaW5nLAogICAgICAgICAgZmxpcFZhcmlhdGlvbnMgPSBfb3B0aW9ucy5mbGlwVmFyaWF0aW9ucywKICAgICAgICAgIF9vcHRpb25zJGFsbG93ZWRBdXRvUCA9IF9vcHRpb25zLmFsbG93ZWRBdXRvUGxhY2VtZW50cywKICAgICAgICAgIGFsbG93ZWRBdXRvUGxhY2VtZW50cyA9IF9vcHRpb25zJGFsbG93ZWRBdXRvUCA9PT0gdm9pZCAwID8gZW51bXNfcGxhY2VtZW50cyA6IF9vcHRpb25zJGFsbG93ZWRBdXRvUDsKICAgICAgdmFyIHZhcmlhdGlvbiA9IGdldFZhcmlhdGlvbihwbGFjZW1lbnQpOwogICAgICB2YXIgcGxhY2VtZW50cyA9IHZhcmlhdGlvbiA/IGZsaXBWYXJpYXRpb25zID8gdmFyaWF0aW9uUGxhY2VtZW50cyA6IHZhcmlhdGlvblBsYWNlbWVudHMuZmlsdGVyKGZ1bmN0aW9uIChwbGFjZW1lbnQpIHsKICAgICAgICByZXR1cm4gZ2V0VmFyaWF0aW9uKHBsYWNlbWVudCkgPT09IHZhcmlhdGlvbjsKICAgICAgfSkgOiBiYXNlUGxhY2VtZW50czsgLy8gJEZsb3dGaXhNZQoKICAgICAgdmFyIGFsbG93ZWRQbGFjZW1lbnRzID0gcGxhY2VtZW50cy5maWx0ZXIoZnVuY3Rpb24gKHBsYWNlbWVudCkgewogICAgICAgIHJldHVybiBhbGxvd2VkQXV0b1BsYWNlbWVudHMuaW5kZXhPZihwbGFjZW1lbnQpID49IDA7CiAgICAgIH0pOwoKICAgICAgaWYgKGFsbG93ZWRQbGFjZW1lbnRzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIGFsbG93ZWRQbGFjZW1lbnRzID0gcGxhY2VtZW50czsKCiAgICAgICAgaWYgKGZhbHNlKSB7fQogICAgICB9IC8vICRGbG93Rml4TWU6IEZsb3cgc2VlbXMgdG8gaGF2ZSBwcm9ibGVtcyB3aXRoIHR3byBhcnJheSB1bmlvbnMuLi4KCgogICAgICB2YXIgb3ZlcmZsb3dzID0gYWxsb3dlZFBsYWNlbWVudHMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHBsYWNlbWVudCkgewogICAgICAgIGFjY1twbGFjZW1lbnRdID0gZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIHsKICAgICAgICAgIHBsYWNlbWVudDogcGxhY2VtZW50LAogICAgICAgICAgYm91bmRhcnk6IGJvdW5kYXJ5LAogICAgICAgICAgcm9vdEJvdW5kYXJ5OiByb290Qm91bmRhcnksCiAgICAgICAgICBwYWRkaW5nOiBwYWRkaW5nCiAgICAgICAgfSlbZ2V0QmFzZVBsYWNlbWVudChwbGFjZW1lbnQpXTsKICAgICAgICByZXR1cm4gYWNjOwogICAgICB9LCB7fSk7CiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhvdmVyZmxvd3MpLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICByZXR1cm4gb3ZlcmZsb3dzW2FdIC0gb3ZlcmZsb3dzW2JdOwogICAgICB9KTsKICAgIH0gLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9mbGlwLmpzCiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzCgoKICAgIGZ1bmN0aW9uIGdldEV4cGFuZGVkRmFsbGJhY2tQbGFjZW1lbnRzKHBsYWNlbWVudCkgewogICAgICBpZiAoZ2V0QmFzZVBsYWNlbWVudChwbGFjZW1lbnQpID09PSBhdXRvKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CgogICAgICB2YXIgb3Bwb3NpdGVQbGFjZW1lbnQgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChwbGFjZW1lbnQpOwogICAgICByZXR1cm4gW2dldE9wcG9zaXRlVmFyaWF0aW9uUGxhY2VtZW50KHBsYWNlbWVudCksIG9wcG9zaXRlUGxhY2VtZW50LCBnZXRPcHBvc2l0ZVZhcmlhdGlvblBsYWNlbWVudChvcHBvc2l0ZVBsYWNlbWVudCldOwogICAgfQoKICAgIGZ1bmN0aW9uIGZsaXAoX3JlZikgewogICAgICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLAogICAgICAgICAgb3B0aW9ucyA9IF9yZWYub3B0aW9ucywKICAgICAgICAgIG5hbWUgPSBfcmVmLm5hbWU7CgogICAgICBpZiAoc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXS5fc2tpcCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIF9vcHRpb25zJG1haW5BeGlzID0gb3B0aW9ucy5tYWluQXhpcywKICAgICAgICAgIGNoZWNrTWFpbkF4aXMgPSBfb3B0aW9ucyRtYWluQXhpcyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJG1haW5BeGlzLAogICAgICAgICAgX29wdGlvbnMkYWx0QXhpcyA9IG9wdGlvbnMuYWx0QXhpcywKICAgICAgICAgIGNoZWNrQWx0QXhpcyA9IF9vcHRpb25zJGFsdEF4aXMgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRhbHRBeGlzLAogICAgICAgICAgc3BlY2lmaWVkRmFsbGJhY2tQbGFjZW1lbnRzID0gb3B0aW9ucy5mYWxsYmFja1BsYWNlbWVudHMsCiAgICAgICAgICBwYWRkaW5nID0gb3B0aW9ucy5wYWRkaW5nLAogICAgICAgICAgYm91bmRhcnkgPSBvcHRpb25zLmJvdW5kYXJ5LAogICAgICAgICAgcm9vdEJvdW5kYXJ5ID0gb3B0aW9ucy5yb290Qm91bmRhcnksCiAgICAgICAgICBhbHRCb3VuZGFyeSA9IG9wdGlvbnMuYWx0Qm91bmRhcnksCiAgICAgICAgICBfb3B0aW9ucyRmbGlwVmFyaWF0aW8gPSBvcHRpb25zLmZsaXBWYXJpYXRpb25zLAogICAgICAgICAgZmxpcFZhcmlhdGlvbnMgPSBfb3B0aW9ucyRmbGlwVmFyaWF0aW8gPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRmbGlwVmFyaWF0aW8sCiAgICAgICAgICBhbGxvd2VkQXV0b1BsYWNlbWVudHMgPSBvcHRpb25zLmFsbG93ZWRBdXRvUGxhY2VtZW50czsKICAgICAgdmFyIHByZWZlcnJlZFBsYWNlbWVudCA9IHN0YXRlLm9wdGlvbnMucGxhY2VtZW50OwogICAgICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQocHJlZmVycmVkUGxhY2VtZW50KTsKICAgICAgdmFyIGlzQmFzZVBsYWNlbWVudCA9IGJhc2VQbGFjZW1lbnQgPT09IHByZWZlcnJlZFBsYWNlbWVudDsKICAgICAgdmFyIGZhbGxiYWNrUGxhY2VtZW50cyA9IHNwZWNpZmllZEZhbGxiYWNrUGxhY2VtZW50cyB8fCAoaXNCYXNlUGxhY2VtZW50IHx8ICFmbGlwVmFyaWF0aW9ucyA/IFtnZXRPcHBvc2l0ZVBsYWNlbWVudChwcmVmZXJyZWRQbGFjZW1lbnQpXSA6IGdldEV4cGFuZGVkRmFsbGJhY2tQbGFjZW1lbnRzKHByZWZlcnJlZFBsYWNlbWVudCkpOwogICAgICB2YXIgcGxhY2VtZW50cyA9IFtwcmVmZXJyZWRQbGFjZW1lbnRdLmNvbmNhdChmYWxsYmFja1BsYWNlbWVudHMpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwbGFjZW1lbnQpIHsKICAgICAgICByZXR1cm4gYWNjLmNvbmNhdChnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCkgPT09IGF1dG8gPyBjb21wdXRlQXV0b1BsYWNlbWVudChzdGF0ZSwgewogICAgICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnQsCiAgICAgICAgICBib3VuZGFyeTogYm91bmRhcnksCiAgICAgICAgICByb290Qm91bmRhcnk6IHJvb3RCb3VuZGFyeSwKICAgICAgICAgIHBhZGRpbmc6IHBhZGRpbmcsCiAgICAgICAgICBmbGlwVmFyaWF0aW9uczogZmxpcFZhcmlhdGlvbnMsCiAgICAgICAgICBhbGxvd2VkQXV0b1BsYWNlbWVudHM6IGFsbG93ZWRBdXRvUGxhY2VtZW50cwogICAgICAgIH0pIDogcGxhY2VtZW50KTsKICAgICAgfSwgW10pOwogICAgICB2YXIgcmVmZXJlbmNlUmVjdCA9IHN0YXRlLnJlY3RzLnJlZmVyZW5jZTsKICAgICAgdmFyIHBvcHBlclJlY3QgPSBzdGF0ZS5yZWN0cy5wb3BwZXI7CiAgICAgIHZhciBjaGVja3NNYXAgPSBuZXcgTWFwKCk7CiAgICAgIHZhciBtYWtlRmFsbGJhY2tDaGVja3MgPSB0cnVlOwogICAgICB2YXIgZmlyc3RGaXR0aW5nUGxhY2VtZW50ID0gcGxhY2VtZW50c1swXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGxhY2VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBwbGFjZW1lbnQgPSBwbGFjZW1lbnRzW2ldOwoKICAgICAgICB2YXIgX2Jhc2VQbGFjZW1lbnQgPSBnZXRCYXNlUGxhY2VtZW50KHBsYWNlbWVudCk7CgogICAgICAgIHZhciBpc1N0YXJ0VmFyaWF0aW9uID0gZ2V0VmFyaWF0aW9uKHBsYWNlbWVudCkgPT09IHN0YXJ0OwogICAgICAgIHZhciBpc1ZlcnRpY2FsID0gW2VudW1zX3RvcCwgYm90dG9tXS5pbmRleE9mKF9iYXNlUGxhY2VtZW50KSA+PSAwOwogICAgICAgIHZhciBsZW4gPSBpc1ZlcnRpY2FsID8gJ3dpZHRoJyA6ICdoZWlnaHQnOwogICAgICAgIHZhciBvdmVyZmxvdyA9IGRldGVjdE92ZXJmbG93KHN0YXRlLCB7CiAgICAgICAgICBwbGFjZW1lbnQ6IHBsYWNlbWVudCwKICAgICAgICAgIGJvdW5kYXJ5OiBib3VuZGFyeSwKICAgICAgICAgIHJvb3RCb3VuZGFyeTogcm9vdEJvdW5kYXJ5LAogICAgICAgICAgYWx0Qm91bmRhcnk6IGFsdEJvdW5kYXJ5LAogICAgICAgICAgcGFkZGluZzogcGFkZGluZwogICAgICAgIH0pOwogICAgICAgIHZhciBtYWluVmFyaWF0aW9uU2lkZSA9IGlzVmVydGljYWwgPyBpc1N0YXJ0VmFyaWF0aW9uID8gcmlnaHQgOiBsZWZ0IDogaXNTdGFydFZhcmlhdGlvbiA/IGJvdHRvbSA6IGVudW1zX3RvcDsKCiAgICAgICAgaWYgKHJlZmVyZW5jZVJlY3RbbGVuXSA+IHBvcHBlclJlY3RbbGVuXSkgewogICAgICAgICAgbWFpblZhcmlhdGlvblNpZGUgPSBnZXRPcHBvc2l0ZVBsYWNlbWVudChtYWluVmFyaWF0aW9uU2lkZSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgYWx0VmFyaWF0aW9uU2lkZSA9IGdldE9wcG9zaXRlUGxhY2VtZW50KG1haW5WYXJpYXRpb25TaWRlKTsKICAgICAgICB2YXIgY2hlY2tzID0gW107CgogICAgICAgIGlmIChjaGVja01haW5BeGlzKSB7CiAgICAgICAgICBjaGVja3MucHVzaChvdmVyZmxvd1tfYmFzZVBsYWNlbWVudF0gPD0gMCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoY2hlY2tBbHRBeGlzKSB7CiAgICAgICAgICBjaGVja3MucHVzaChvdmVyZmxvd1ttYWluVmFyaWF0aW9uU2lkZV0gPD0gMCwgb3ZlcmZsb3dbYWx0VmFyaWF0aW9uU2lkZV0gPD0gMCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoY2hlY2tzLmV2ZXJ5KGZ1bmN0aW9uIChjaGVjaykgewogICAgICAgICAgcmV0dXJuIGNoZWNrOwogICAgICAgIH0pKSB7CiAgICAgICAgICBmaXJzdEZpdHRpbmdQbGFjZW1lbnQgPSBwbGFjZW1lbnQ7CiAgICAgICAgICBtYWtlRmFsbGJhY2tDaGVja3MgPSBmYWxzZTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgY2hlY2tzTWFwLnNldChwbGFjZW1lbnQsIGNoZWNrcyk7CiAgICAgIH0KCiAgICAgIGlmIChtYWtlRmFsbGJhY2tDaGVja3MpIHsKICAgICAgICAvLyBgMmAgbWF5IGJlIGRlc2lyZWQgaW4gc29tZSBjYXNlcyDigJMgcmVzZWFyY2ggbGF0ZXIKICAgICAgICB2YXIgbnVtYmVyT2ZDaGVja3MgPSBmbGlwVmFyaWF0aW9ucyA/IDMgOiAxOwoKICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChfaSkgewogICAgICAgICAgdmFyIGZpdHRpbmdQbGFjZW1lbnQgPSBwbGFjZW1lbnRzLmZpbmQoZnVuY3Rpb24gKHBsYWNlbWVudCkgewogICAgICAgICAgICB2YXIgY2hlY2tzID0gY2hlY2tzTWFwLmdldChwbGFjZW1lbnQpOwoKICAgICAgICAgICAgaWYgKGNoZWNrcykgewogICAgICAgICAgICAgIHJldHVybiBjaGVja3Muc2xpY2UoMCwgX2kpLmV2ZXJ5KGZ1bmN0aW9uIChjaGVjaykgewogICAgICAgICAgICAgICAgcmV0dXJuIGNoZWNrOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAoZml0dGluZ1BsYWNlbWVudCkgewogICAgICAgICAgICBmaXJzdEZpdHRpbmdQbGFjZW1lbnQgPSBmaXR0aW5nUGxhY2VtZW50OwogICAgICAgICAgICByZXR1cm4gImJyZWFrIjsKICAgICAgICAgIH0KICAgICAgICB9OwoKICAgICAgICBmb3IgKHZhciBfaSA9IG51bWJlck9mQ2hlY2tzOyBfaSA+IDA7IF9pLS0pIHsKICAgICAgICAgIHZhciBfcmV0ID0gX2xvb3AoX2kpOwoKICAgICAgICAgIGlmIChfcmV0ID09PSAiYnJlYWsiKSBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChzdGF0ZS5wbGFjZW1lbnQgIT09IGZpcnN0Rml0dGluZ1BsYWNlbWVudCkgewogICAgICAgIHN0YXRlLm1vZGlmaWVyc0RhdGFbbmFtZV0uX3NraXAgPSB0cnVlOwogICAgICAgIHN0YXRlLnBsYWNlbWVudCA9IGZpcnN0Rml0dGluZ1BsYWNlbWVudDsKICAgICAgICBzdGF0ZS5yZXNldCA9IHRydWU7CiAgICAgIH0KICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlcwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIG1vZGlmaWVyc19mbGlwID0gewogICAgICBuYW1lOiAnZmxpcCcsCiAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgIHBoYXNlOiAnbWFpbicsCiAgICAgIGZuOiBmbGlwLAogICAgICByZXF1aXJlc0lmRXhpc3RzOiBbJ29mZnNldCddLAogICAgICBkYXRhOiB7CiAgICAgICAgX3NraXA6IGZhbHNlCiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy9nZXRBbHRBeGlzLmpzCgogICAgZnVuY3Rpb24gZ2V0QWx0QXhpcyhheGlzKSB7CiAgICAgIHJldHVybiBheGlzID09PSAneCcgPyAneScgOiAneCc7CiAgICB9IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi91dGlscy93aXRoaW4uanMKCgogICAgZnVuY3Rpb24gd2l0aGluKG1pbiwgdmFsdWUsIG1heCkgewogICAgICByZXR1cm4gTWF0aC5tYXgobWluLCBNYXRoLm1pbih2YWx1ZSwgbWF4KSk7CiAgICB9IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvcHJldmVudE92ZXJmbG93LmpzCgoKICAgIGZ1bmN0aW9uIHByZXZlbnRPdmVyZmxvdyhfcmVmKSB7CiAgICAgIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsCiAgICAgICAgICBvcHRpb25zID0gX3JlZi5vcHRpb25zLAogICAgICAgICAgbmFtZSA9IF9yZWYubmFtZTsKICAgICAgdmFyIF9vcHRpb25zJG1haW5BeGlzID0gb3B0aW9ucy5tYWluQXhpcywKICAgICAgICAgIGNoZWNrTWFpbkF4aXMgPSBfb3B0aW9ucyRtYWluQXhpcyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJG1haW5BeGlzLAogICAgICAgICAgX29wdGlvbnMkYWx0QXhpcyA9IG9wdGlvbnMuYWx0QXhpcywKICAgICAgICAgIGNoZWNrQWx0QXhpcyA9IF9vcHRpb25zJGFsdEF4aXMgPT09IHZvaWQgMCA/IGZhbHNlIDogX29wdGlvbnMkYWx0QXhpcywKICAgICAgICAgIGJvdW5kYXJ5ID0gb3B0aW9ucy5ib3VuZGFyeSwKICAgICAgICAgIHJvb3RCb3VuZGFyeSA9IG9wdGlvbnMucm9vdEJvdW5kYXJ5LAogICAgICAgICAgYWx0Qm91bmRhcnkgPSBvcHRpb25zLmFsdEJvdW5kYXJ5LAogICAgICAgICAgcGFkZGluZyA9IG9wdGlvbnMucGFkZGluZywKICAgICAgICAgIF9vcHRpb25zJHRldGhlciA9IG9wdGlvbnMudGV0aGVyLAogICAgICAgICAgdGV0aGVyID0gX29wdGlvbnMkdGV0aGVyID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkdGV0aGVyLAogICAgICAgICAgX29wdGlvbnMkdGV0aGVyT2Zmc2V0ID0gb3B0aW9ucy50ZXRoZXJPZmZzZXQsCiAgICAgICAgICB0ZXRoZXJPZmZzZXQgPSBfb3B0aW9ucyR0ZXRoZXJPZmZzZXQgPT09IHZvaWQgMCA/IDAgOiBfb3B0aW9ucyR0ZXRoZXJPZmZzZXQ7CiAgICAgIHZhciBvdmVyZmxvdyA9IGRldGVjdE92ZXJmbG93KHN0YXRlLCB7CiAgICAgICAgYm91bmRhcnk6IGJvdW5kYXJ5LAogICAgICAgIHJvb3RCb3VuZGFyeTogcm9vdEJvdW5kYXJ5LAogICAgICAgIHBhZGRpbmc6IHBhZGRpbmcsCiAgICAgICAgYWx0Qm91bmRhcnk6IGFsdEJvdW5kYXJ5CiAgICAgIH0pOwogICAgICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQoc3RhdGUucGxhY2VtZW50KTsKICAgICAgdmFyIHZhcmlhdGlvbiA9IGdldFZhcmlhdGlvbihzdGF0ZS5wbGFjZW1lbnQpOwogICAgICB2YXIgaXNCYXNlUGxhY2VtZW50ID0gIXZhcmlhdGlvbjsKICAgICAgdmFyIG1haW5BeGlzID0gZ2V0TWFpbkF4aXNGcm9tUGxhY2VtZW50KGJhc2VQbGFjZW1lbnQpOwogICAgICB2YXIgYWx0QXhpcyA9IGdldEFsdEF4aXMobWFpbkF4aXMpOwogICAgICB2YXIgcG9wcGVyT2Zmc2V0cyA9IHN0YXRlLm1vZGlmaWVyc0RhdGEucG9wcGVyT2Zmc2V0czsKICAgICAgdmFyIHJlZmVyZW5jZVJlY3QgPSBzdGF0ZS5yZWN0cy5yZWZlcmVuY2U7CiAgICAgIHZhciBwb3BwZXJSZWN0ID0gc3RhdGUucmVjdHMucG9wcGVyOwogICAgICB2YXIgdGV0aGVyT2Zmc2V0VmFsdWUgPSB0eXBlb2YgdGV0aGVyT2Zmc2V0ID09PSAnZnVuY3Rpb24nID8gdGV0aGVyT2Zmc2V0KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUucmVjdHMpLCB7fSwgewogICAgICAgIHBsYWNlbWVudDogc3RhdGUucGxhY2VtZW50CiAgICAgIH0pKSA6IHRldGhlck9mZnNldDsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgeDogMCwKICAgICAgICB5OiAwCiAgICAgIH07CgogICAgICBpZiAoIXBvcHBlck9mZnNldHMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmIChjaGVja01haW5BeGlzKSB7CiAgICAgICAgdmFyIG1haW5TaWRlID0gbWFpbkF4aXMgPT09ICd5JyA/IGVudW1zX3RvcCA6IGxlZnQ7CiAgICAgICAgdmFyIGFsdFNpZGUgPSBtYWluQXhpcyA9PT0gJ3knID8gYm90dG9tIDogcmlnaHQ7CiAgICAgICAgdmFyIGxlbiA9IG1haW5BeGlzID09PSAneScgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7CiAgICAgICAgdmFyIG9mZnNldCA9IHBvcHBlck9mZnNldHNbbWFpbkF4aXNdOwogICAgICAgIHZhciBtaW4gPSBwb3BwZXJPZmZzZXRzW21haW5BeGlzXSArIG92ZXJmbG93W21haW5TaWRlXTsKICAgICAgICB2YXIgbWF4ID0gcG9wcGVyT2Zmc2V0c1ttYWluQXhpc10gLSBvdmVyZmxvd1thbHRTaWRlXTsKICAgICAgICB2YXIgYWRkaXRpdmUgPSB0ZXRoZXIgPyAtcG9wcGVyUmVjdFtsZW5dIC8gMiA6IDA7CiAgICAgICAgdmFyIG1pbkxlbiA9IHZhcmlhdGlvbiA9PT0gc3RhcnQgPyByZWZlcmVuY2VSZWN0W2xlbl0gOiBwb3BwZXJSZWN0W2xlbl07CiAgICAgICAgdmFyIG1heExlbiA9IHZhcmlhdGlvbiA9PT0gc3RhcnQgPyAtcG9wcGVyUmVjdFtsZW5dIDogLXJlZmVyZW5jZVJlY3RbbGVuXTsgLy8gV2UgbmVlZCB0byBpbmNsdWRlIHRoZSBhcnJvdyBpbiB0aGUgY2FsY3VsYXRpb24gc28gdGhlIGFycm93IGRvZXNuJ3QgZ28KICAgICAgICAvLyBvdXRzaWRlIHRoZSByZWZlcmVuY2UgYm91bmRzCgogICAgICAgIHZhciBhcnJvd0VsZW1lbnQgPSBzdGF0ZS5lbGVtZW50cy5hcnJvdzsKICAgICAgICB2YXIgYXJyb3dSZWN0ID0gdGV0aGVyICYmIGFycm93RWxlbWVudCA/IGdldExheW91dFJlY3QoYXJyb3dFbGVtZW50KSA6IHsKICAgICAgICAgIHdpZHRoOiAwLAogICAgICAgICAgaGVpZ2h0OiAwCiAgICAgICAgfTsKICAgICAgICB2YXIgYXJyb3dQYWRkaW5nT2JqZWN0ID0gc3RhdGUubW9kaWZpZXJzRGF0YVsnYXJyb3cjcGVyc2lzdGVudCddID8gc3RhdGUubW9kaWZpZXJzRGF0YVsnYXJyb3cjcGVyc2lzdGVudCddLnBhZGRpbmcgOiBnZXRGcmVzaFNpZGVPYmplY3QoKTsKICAgICAgICB2YXIgYXJyb3dQYWRkaW5nTWluID0gYXJyb3dQYWRkaW5nT2JqZWN0W21haW5TaWRlXTsKICAgICAgICB2YXIgYXJyb3dQYWRkaW5nTWF4ID0gYXJyb3dQYWRkaW5nT2JqZWN0W2FsdFNpZGVdOyAvLyBJZiB0aGUgcmVmZXJlbmNlIGxlbmd0aCBpcyBzbWFsbGVyIHRoYW4gdGhlIGFycm93IGxlbmd0aCwgd2UgZG9uJ3Qgd2FudAogICAgICAgIC8vIHRvIGluY2x1ZGUgaXRzIGZ1bGwgc2l6ZSBpbiB0aGUgY2FsY3VsYXRpb24uIElmIHRoZSByZWZlcmVuY2UgaXMgc21hbGwKICAgICAgICAvLyBhbmQgbmVhciB0aGUgZWRnZSBvZiBhIGJvdW5kYXJ5LCB0aGUgcG9wcGVyIGNhbiBvdmVyZmxvdyBldmVuIGlmIHRoZQogICAgICAgIC8vIHJlZmVyZW5jZSBpcyBub3Qgb3ZlcmZsb3dpbmcgYXMgd2VsbCAoZS5nLiB2aXJ0dWFsIGVsZW1lbnRzIHdpdGggbm8KICAgICAgICAvLyB3aWR0aCBvciBoZWlnaHQpCgogICAgICAgIHZhciBhcnJvd0xlbiA9IHdpdGhpbigwLCByZWZlcmVuY2VSZWN0W2xlbl0sIGFycm93UmVjdFtsZW5dKTsKICAgICAgICB2YXIgbWluT2Zmc2V0ID0gaXNCYXNlUGxhY2VtZW50ID8gcmVmZXJlbmNlUmVjdFtsZW5dIC8gMiAtIGFkZGl0aXZlIC0gYXJyb3dMZW4gLSBhcnJvd1BhZGRpbmdNaW4gLSB0ZXRoZXJPZmZzZXRWYWx1ZSA6IG1pbkxlbiAtIGFycm93TGVuIC0gYXJyb3dQYWRkaW5nTWluIC0gdGV0aGVyT2Zmc2V0VmFsdWU7CiAgICAgICAgdmFyIG1heE9mZnNldCA9IGlzQmFzZVBsYWNlbWVudCA/IC1yZWZlcmVuY2VSZWN0W2xlbl0gLyAyICsgYWRkaXRpdmUgKyBhcnJvd0xlbiArIGFycm93UGFkZGluZ01heCArIHRldGhlck9mZnNldFZhbHVlIDogbWF4TGVuICsgYXJyb3dMZW4gKyBhcnJvd1BhZGRpbmdNYXggKyB0ZXRoZXJPZmZzZXRWYWx1ZTsKICAgICAgICB2YXIgYXJyb3dPZmZzZXRQYXJlbnQgPSBzdGF0ZS5lbGVtZW50cy5hcnJvdyAmJiBnZXRPZmZzZXRQYXJlbnQoc3RhdGUuZWxlbWVudHMuYXJyb3cpOwogICAgICAgIHZhciBjbGllbnRPZmZzZXQgPSBhcnJvd09mZnNldFBhcmVudCA/IG1haW5BeGlzID09PSAneScgPyBhcnJvd09mZnNldFBhcmVudC5jbGllbnRUb3AgfHwgMCA6IGFycm93T2Zmc2V0UGFyZW50LmNsaWVudExlZnQgfHwgMCA6IDA7CiAgICAgICAgdmFyIG9mZnNldE1vZGlmaWVyVmFsdWUgPSBzdGF0ZS5tb2RpZmllcnNEYXRhLm9mZnNldCA/IHN0YXRlLm1vZGlmaWVyc0RhdGEub2Zmc2V0W3N0YXRlLnBsYWNlbWVudF1bbWFpbkF4aXNdIDogMDsKICAgICAgICB2YXIgdGV0aGVyTWluID0gcG9wcGVyT2Zmc2V0c1ttYWluQXhpc10gKyBtaW5PZmZzZXQgLSBvZmZzZXRNb2RpZmllclZhbHVlIC0gY2xpZW50T2Zmc2V0OwogICAgICAgIHZhciB0ZXRoZXJNYXggPSBwb3BwZXJPZmZzZXRzW21haW5BeGlzXSArIG1heE9mZnNldCAtIG9mZnNldE1vZGlmaWVyVmFsdWU7CiAgICAgICAgdmFyIHByZXZlbnRlZE9mZnNldCA9IHdpdGhpbih0ZXRoZXIgPyBNYXRoLm1pbihtaW4sIHRldGhlck1pbikgOiBtaW4sIG9mZnNldCwgdGV0aGVyID8gTWF0aC5tYXgobWF4LCB0ZXRoZXJNYXgpIDogbWF4KTsKICAgICAgICBwb3BwZXJPZmZzZXRzW21haW5BeGlzXSA9IHByZXZlbnRlZE9mZnNldDsKICAgICAgICBkYXRhW21haW5BeGlzXSA9IHByZXZlbnRlZE9mZnNldCAtIG9mZnNldDsKICAgICAgfQoKICAgICAgaWYgKGNoZWNrQWx0QXhpcykgewogICAgICAgIHZhciBfbWFpblNpZGUgPSBtYWluQXhpcyA9PT0gJ3gnID8gZW51bXNfdG9wIDogbGVmdDsKCiAgICAgICAgdmFyIF9hbHRTaWRlID0gbWFpbkF4aXMgPT09ICd4JyA/IGJvdHRvbSA6IHJpZ2h0OwoKICAgICAgICB2YXIgX29mZnNldCA9IHBvcHBlck9mZnNldHNbYWx0QXhpc107CgogICAgICAgIHZhciBfbWluID0gX29mZnNldCArIG92ZXJmbG93W19tYWluU2lkZV07CgogICAgICAgIHZhciBfbWF4ID0gX29mZnNldCAtIG92ZXJmbG93W19hbHRTaWRlXTsKCiAgICAgICAgdmFyIF9wcmV2ZW50ZWRPZmZzZXQgPSB3aXRoaW4oX21pbiwgX29mZnNldCwgX21heCk7CgogICAgICAgIHBvcHBlck9mZnNldHNbYWx0QXhpc10gPSBfcHJldmVudGVkT2Zmc2V0OwogICAgICAgIGRhdGFbYWx0QXhpc10gPSBfcHJldmVudGVkT2Zmc2V0IC0gX29mZnNldDsKICAgICAgfQoKICAgICAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IGRhdGE7CiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXMKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgoKICAgIHZhciBtb2RpZmllcnNfcHJldmVudE92ZXJmbG93ID0gewogICAgICBuYW1lOiAncHJldmVudE92ZXJmbG93JywKICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgcGhhc2U6ICdtYWluJywKICAgICAgZm46IHByZXZlbnRPdmVyZmxvdywKICAgICAgcmVxdWlyZXNJZkV4aXN0czogWydvZmZzZXQnXQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL21vZGlmaWVycy9hcnJvdy5qcwogICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlcwoKICAgIGZ1bmN0aW9uIGFycm93KF9yZWYpIHsKICAgICAgdmFyIF9zdGF0ZSRtb2RpZmllcnNEYXRhJDsKCiAgICAgIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsCiAgICAgICAgICBuYW1lID0gX3JlZi5uYW1lOwogICAgICB2YXIgYXJyb3dFbGVtZW50ID0gc3RhdGUuZWxlbWVudHMuYXJyb3c7CiAgICAgIHZhciBwb3BwZXJPZmZzZXRzID0gc3RhdGUubW9kaWZpZXJzRGF0YS5wb3BwZXJPZmZzZXRzOwogICAgICB2YXIgYmFzZVBsYWNlbWVudCA9IGdldEJhc2VQbGFjZW1lbnQoc3RhdGUucGxhY2VtZW50KTsKICAgICAgdmFyIGF4aXMgPSBnZXRNYWluQXhpc0Zyb21QbGFjZW1lbnQoYmFzZVBsYWNlbWVudCk7CiAgICAgIHZhciBpc1ZlcnRpY2FsID0gW2xlZnQsIHJpZ2h0XS5pbmRleE9mKGJhc2VQbGFjZW1lbnQpID49IDA7CiAgICAgIHZhciBsZW4gPSBpc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnOwoKICAgICAgaWYgKCFhcnJvd0VsZW1lbnQgfHwgIXBvcHBlck9mZnNldHMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBwYWRkaW5nT2JqZWN0ID0gc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lICsgIiNwZXJzaXN0ZW50Il0ucGFkZGluZzsKICAgICAgdmFyIGFycm93UmVjdCA9IGdldExheW91dFJlY3QoYXJyb3dFbGVtZW50KTsKICAgICAgdmFyIG1pblByb3AgPSBheGlzID09PSAneScgPyBlbnVtc190b3AgOiBsZWZ0OwogICAgICB2YXIgbWF4UHJvcCA9IGF4aXMgPT09ICd5JyA/IGJvdHRvbSA6IHJpZ2h0OwogICAgICB2YXIgZW5kRGlmZiA9IHN0YXRlLnJlY3RzLnJlZmVyZW5jZVtsZW5dICsgc3RhdGUucmVjdHMucmVmZXJlbmNlW2F4aXNdIC0gcG9wcGVyT2Zmc2V0c1theGlzXSAtIHN0YXRlLnJlY3RzLnBvcHBlcltsZW5dOwogICAgICB2YXIgc3RhcnREaWZmID0gcG9wcGVyT2Zmc2V0c1theGlzXSAtIHN0YXRlLnJlY3RzLnJlZmVyZW5jZVtheGlzXTsKICAgICAgdmFyIGFycm93T2Zmc2V0UGFyZW50ID0gZ2V0T2Zmc2V0UGFyZW50KGFycm93RWxlbWVudCk7CiAgICAgIHZhciBjbGllbnRTaXplID0gYXJyb3dPZmZzZXRQYXJlbnQgPyBheGlzID09PSAneScgPyBhcnJvd09mZnNldFBhcmVudC5jbGllbnRIZWlnaHQgfHwgMCA6IGFycm93T2Zmc2V0UGFyZW50LmNsaWVudFdpZHRoIHx8IDAgOiAwOwogICAgICB2YXIgY2VudGVyVG9SZWZlcmVuY2UgPSBlbmREaWZmIC8gMiAtIHN0YXJ0RGlmZiAvIDI7IC8vIE1ha2Ugc3VyZSB0aGUgYXJyb3cgZG9lc24ndCBvdmVyZmxvdyB0aGUgcG9wcGVyIGlmIHRoZSBjZW50ZXIgcG9pbnQgaXMKICAgICAgLy8gb3V0c2lkZSBvZiB0aGUgcG9wcGVyIGJvdW5kcwoKICAgICAgdmFyIG1pbiA9IHBhZGRpbmdPYmplY3RbbWluUHJvcF07CiAgICAgIHZhciBtYXggPSBjbGllbnRTaXplIC0gYXJyb3dSZWN0W2xlbl0gLSBwYWRkaW5nT2JqZWN0W21heFByb3BdOwogICAgICB2YXIgY2VudGVyID0gY2xpZW50U2l6ZSAvIDIgLSBhcnJvd1JlY3RbbGVuXSAvIDIgKyBjZW50ZXJUb1JlZmVyZW5jZTsKICAgICAgdmFyIG9mZnNldCA9IHdpdGhpbihtaW4sIGNlbnRlciwgbWF4KTsgLy8gUHJldmVudHMgYnJlYWtpbmcgc3ludGF4IGhpZ2hsaWdodGluZy4uLgoKICAgICAgdmFyIGF4aXNQcm9wID0gYXhpczsKICAgICAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IChfc3RhdGUkbW9kaWZpZXJzRGF0YSQgPSB7fSwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkW2F4aXNQcm9wXSA9IG9mZnNldCwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkLmNlbnRlck9mZnNldCA9IG9mZnNldCAtIGNlbnRlciwgX3N0YXRlJG1vZGlmaWVyc0RhdGEkKTsKICAgIH0KCiAgICBmdW5jdGlvbiBhcnJvd19lZmZlY3QoX3JlZjIpIHsKICAgICAgdmFyIHN0YXRlID0gX3JlZjIuc3RhdGUsCiAgICAgICAgICBvcHRpb25zID0gX3JlZjIub3B0aW9ucywKICAgICAgICAgIG5hbWUgPSBfcmVmMi5uYW1lOwogICAgICB2YXIgX29wdGlvbnMkZWxlbWVudCA9IG9wdGlvbnMuZWxlbWVudCwKICAgICAgICAgIGFycm93RWxlbWVudCA9IF9vcHRpb25zJGVsZW1lbnQgPT09IHZvaWQgMCA/ICdbZGF0YS1wb3BwZXItYXJyb3ddJyA6IF9vcHRpb25zJGVsZW1lbnQsCiAgICAgICAgICBfb3B0aW9ucyRwYWRkaW5nID0gb3B0aW9ucy5wYWRkaW5nLAogICAgICAgICAgcGFkZGluZyA9IF9vcHRpb25zJHBhZGRpbmcgPT09IHZvaWQgMCA/IDAgOiBfb3B0aW9ucyRwYWRkaW5nOwoKICAgICAgaWYgKGFycm93RWxlbWVudCA9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIENTUyBzZWxlY3RvcgoKCiAgICAgIGlmICh0eXBlb2YgYXJyb3dFbGVtZW50ID09PSAnc3RyaW5nJykgewogICAgICAgIGFycm93RWxlbWVudCA9IHN0YXRlLmVsZW1lbnRzLnBvcHBlci5xdWVyeVNlbGVjdG9yKGFycm93RWxlbWVudCk7CgogICAgICAgIGlmICghYXJyb3dFbGVtZW50KSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoZmFsc2UpIHt9CgogICAgICBpZiAoIWNvbnRhaW5zKHN0YXRlLmVsZW1lbnRzLnBvcHBlciwgYXJyb3dFbGVtZW50KSkgewogICAgICAgIGlmIChmYWxzZSkge30KCiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBzdGF0ZS5lbGVtZW50cy5hcnJvdyA9IGFycm93RWxlbWVudDsKICAgICAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lICsgIiNwZXJzaXN0ZW50Il0gPSB7CiAgICAgICAgcGFkZGluZzogbWVyZ2VQYWRkaW5nT2JqZWN0KHR5cGVvZiBwYWRkaW5nICE9PSAnbnVtYmVyJyA/IHBhZGRpbmcgOiBleHBhbmRUb0hhc2hNYXAocGFkZGluZywgYmFzZVBsYWNlbWVudHMpKQogICAgICB9OwogICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVudXNlZC1tb2R1bGVzCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICB2YXIgbW9kaWZpZXJzX2Fycm93ID0gewogICAgICBuYW1lOiAnYXJyb3cnLAogICAgICBlbmFibGVkOiB0cnVlLAogICAgICBwaGFzZTogJ21haW4nLAogICAgICBmbjogYXJyb3csCiAgICAgIGVmZmVjdDogYXJyb3dfZWZmZWN0LAogICAgICByZXF1aXJlczogWydwb3BwZXJPZmZzZXRzJ10sCiAgICAgIHJlcXVpcmVzSWZFeGlzdHM6IFsncHJldmVudE92ZXJmbG93J10KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bwb3BwZXJqcy9jb3JlL2xpYi9tb2RpZmllcnMvaGlkZS5qcwoKICAgIGZ1bmN0aW9uIGdldFNpZGVPZmZzZXRzKG92ZXJmbG93LCByZWN0LCBwcmV2ZW50ZWRPZmZzZXRzKSB7CiAgICAgIGlmIChwcmV2ZW50ZWRPZmZzZXRzID09PSB2b2lkIDApIHsKICAgICAgICBwcmV2ZW50ZWRPZmZzZXRzID0gewogICAgICAgICAgeDogMCwKICAgICAgICAgIHk6IDAKICAgICAgICB9OwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIHRvcDogb3ZlcmZsb3cudG9wIC0gcmVjdC5oZWlnaHQgLSBwcmV2ZW50ZWRPZmZzZXRzLnksCiAgICAgICAgcmlnaHQ6IG92ZXJmbG93LnJpZ2h0IC0gcmVjdC53aWR0aCArIHByZXZlbnRlZE9mZnNldHMueCwKICAgICAgICBib3R0b206IG92ZXJmbG93LmJvdHRvbSAtIHJlY3QuaGVpZ2h0ICsgcHJldmVudGVkT2Zmc2V0cy55LAogICAgICAgIGxlZnQ6IG92ZXJmbG93LmxlZnQgLSByZWN0LndpZHRoIC0gcHJldmVudGVkT2Zmc2V0cy54CiAgICAgIH07CiAgICB9CgogICAgZnVuY3Rpb24gaXNBbnlTaWRlRnVsbHlDbGlwcGVkKG92ZXJmbG93KSB7CiAgICAgIHJldHVybiBbZW51bXNfdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0XS5zb21lKGZ1bmN0aW9uIChzaWRlKSB7CiAgICAgICAgcmV0dXJuIG92ZXJmbG93W3NpZGVdID49IDA7CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIGhpZGUoX3JlZikgewogICAgICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLAogICAgICAgICAgbmFtZSA9IF9yZWYubmFtZTsKICAgICAgdmFyIHJlZmVyZW5jZVJlY3QgPSBzdGF0ZS5yZWN0cy5yZWZlcmVuY2U7CiAgICAgIHZhciBwb3BwZXJSZWN0ID0gc3RhdGUucmVjdHMucG9wcGVyOwogICAgICB2YXIgcHJldmVudGVkT2Zmc2V0cyA9IHN0YXRlLm1vZGlmaWVyc0RhdGEucHJldmVudE92ZXJmbG93OwogICAgICB2YXIgcmVmZXJlbmNlT3ZlcmZsb3cgPSBkZXRlY3RPdmVyZmxvdyhzdGF0ZSwgewogICAgICAgIGVsZW1lbnRDb250ZXh0OiAncmVmZXJlbmNlJwogICAgICB9KTsKICAgICAgdmFyIHBvcHBlckFsdE92ZXJmbG93ID0gZGV0ZWN0T3ZlcmZsb3coc3RhdGUsIHsKICAgICAgICBhbHRCb3VuZGFyeTogdHJ1ZQogICAgICB9KTsKICAgICAgdmFyIHJlZmVyZW5jZUNsaXBwaW5nT2Zmc2V0cyA9IGdldFNpZGVPZmZzZXRzKHJlZmVyZW5jZU92ZXJmbG93LCByZWZlcmVuY2VSZWN0KTsKICAgICAgdmFyIHBvcHBlckVzY2FwZU9mZnNldHMgPSBnZXRTaWRlT2Zmc2V0cyhwb3BwZXJBbHRPdmVyZmxvdywgcG9wcGVyUmVjdCwgcHJldmVudGVkT2Zmc2V0cyk7CiAgICAgIHZhciBpc1JlZmVyZW5jZUhpZGRlbiA9IGlzQW55U2lkZUZ1bGx5Q2xpcHBlZChyZWZlcmVuY2VDbGlwcGluZ09mZnNldHMpOwogICAgICB2YXIgaGFzUG9wcGVyRXNjYXBlZCA9IGlzQW55U2lkZUZ1bGx5Q2xpcHBlZChwb3BwZXJFc2NhcGVPZmZzZXRzKTsKICAgICAgc3RhdGUubW9kaWZpZXJzRGF0YVtuYW1lXSA9IHsKICAgICAgICByZWZlcmVuY2VDbGlwcGluZ09mZnNldHM6IHJlZmVyZW5jZUNsaXBwaW5nT2Zmc2V0cywKICAgICAgICBwb3BwZXJFc2NhcGVPZmZzZXRzOiBwb3BwZXJFc2NhcGVPZmZzZXRzLAogICAgICAgIGlzUmVmZXJlbmNlSGlkZGVuOiBpc1JlZmVyZW5jZUhpZGRlbiwKICAgICAgICBoYXNQb3BwZXJFc2NhcGVkOiBoYXNQb3BwZXJFc2NhcGVkCiAgICAgIH07CiAgICAgIHN0YXRlLmF0dHJpYnV0ZXMucG9wcGVyID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5hdHRyaWJ1dGVzLnBvcHBlciksIHt9LCB7CiAgICAgICAgJ2RhdGEtcG9wcGVyLXJlZmVyZW5jZS1oaWRkZW4nOiBpc1JlZmVyZW5jZUhpZGRlbiwKICAgICAgICAnZGF0YS1wb3BwZXItZXNjYXBlZCc6IGhhc1BvcHBlckVzY2FwZWQKICAgICAgfSk7CiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW51c2VkLW1vZHVsZXMKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgoKICAgIHZhciBtb2RpZmllcnNfaGlkZSA9IHsKICAgICAgbmFtZTogJ2hpZGUnLAogICAgICBlbmFibGVkOiB0cnVlLAogICAgICBwaGFzZTogJ21haW4nLAogICAgICByZXF1aXJlc0lmRXhpc3RzOiBbJ3ByZXZlbnRPdmVyZmxvdyddLAogICAgICBmbjogaGlkZQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHBvcHBlcmpzL2NvcmUvbGliL3BvcHBlci5qcwoKICAgIHZhciBwb3BwZXJfZGVmYXVsdE1vZGlmaWVycyA9IFtldmVudExpc3RlbmVycywgbW9kaWZpZXJzX3BvcHBlck9mZnNldHMsIG1vZGlmaWVyc19jb21wdXRlU3R5bGVzLCBtb2RpZmllcnNfYXBwbHlTdHlsZXMsIG1vZGlmaWVyc19vZmZzZXQsIG1vZGlmaWVyc19mbGlwLCBtb2RpZmllcnNfcHJldmVudE92ZXJmbG93LCBtb2RpZmllcnNfYXJyb3csIG1vZGlmaWVyc19oaWRlXTsKICAgIHZhciBwb3BwZXJfY3JlYXRlUG9wcGVyID0gLyojX19QVVJFX18qL3BvcHBlckdlbmVyYXRvcih7CiAgICAgIGRlZmF1bHRNb2RpZmllcnM6IHBvcHBlcl9kZWZhdWx0TW9kaWZpZXJzCiAgICB9KTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnVzZWQtbW9kdWxlcwogICAgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvZGlyZWN0aXZlcy9DQ2xpY2thd2F5LmpzCgogICAgdmFyIEhBTkRMRVIgPSAnY19jbGlja2F3YXlfaGFuZGxlcic7CgogICAgZnVuY3Rpb24gc2V0TGlzdGVuZXJzKGVsLCBiaW5kaW5nLCB2bm9kZSkgewogICAgICB2YXIgY2FsbGJhY2sgPSBiaW5kaW5nLnZhbHVlOwoKICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgZWxbSEFORExFUl0gPSBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlbC5jb250YWlucyhlLnRhcmdldCkgfHwgY2FsbGJhY2suY2FsbCh2bm9kZS5jb250ZXh0LCBlKTsKICAgICAgfTsKCiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGJpbmRpbmcuYXJnIHx8ICdjbGljaycsIGVsW0hBTkRMRVJdKTsKICAgIH0KCiAgICBmdW5jdGlvbiB1bnNldExpc3RlbmVycyhlbCwgYmluZGluZykgewogICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihiaW5kaW5nLmFyZyB8fCAnY2xpY2snLCBlbFtIQU5ETEVSXSk7CiAgICAgIGRlbGV0ZSBlbFtIQU5ETEVSXTsKICAgIH0KICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIENDbGlja2F3YXkgPSB7CiAgICAgIGJpbmQ6IHNldExpc3RlbmVycywKICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoZWwsIGJpbmRpbmcsIHZub2RlKSB7CiAgICAgICAgaWYgKGJpbmRpbmcudmFsdWUgIT09IGJpbmRpbmcub2xkVmFsdWUpIHsKICAgICAgICAgIHVuc2V0TGlzdGVuZXJzKGVsLCBiaW5kaW5nKTsKICAgICAgICAgIHNldExpc3RlbmVycyhlbCwgYmluZGluZywgdm5vZGUpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdW5iaW5kOiB1bnNldExpc3RlbmVycwogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2Ryb3Bkb3duL0NEcm9wZG93bi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ0Ryb3Bkb3dudnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgICAgIGlmIChrZXkgaW4gb2JqKSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgICAgd3JpdGFibGU6IHRydWUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpba2V5XSA9IHZhbHVlOwogICAgICB9CgogICAgICByZXR1cm4gb2JqOwogICAgfSAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICB2YXIgQ0Ryb3Bkb3dudnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ0Ryb3Bkb3duJywKICAgICAgZGlyZWN0aXZlczogewogICAgICAgIENDbGlja2F3YXk6IENDbGlja2F3YXkKICAgICAgfSwKICAgICAgY29tcG9uZW50czogewogICAgICAgIENMaW5rOiBDTGluawogICAgICB9LAogICAgICBwcm9wczogewogICAgICAgIHRvZ2dsZXJUZXh0OiB7CiAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICBkZWZhdWx0OiAnRHJvcGRvd24nCiAgICAgICAgfSwKICAgICAgICBzaG93OiBCb29sZWFuLAogICAgICAgIGRpc2FibGVkOiBCb29sZWFuLAogICAgICAgIGFkZE1lbnVDbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XSwKICAgICAgICBhZGRUb2dnbGVyQ2xhc3NlczogW1N0cmluZywgQXJyYXksIE9iamVjdF0sCiAgICAgICAgaW5OYXY6IEJvb2xlYW4sCiAgICAgICAgY2FyZXQ6IHsKICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICBkZWZhdWx0OiB0cnVlCiAgICAgICAgfSwKICAgICAgICBjb2xvcjogU3RyaW5nLAogICAgICAgIHNpemU6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkgewogICAgICAgICAgICByZXR1cm4gWycnLCAnc20nLCAnbGcnXS5pbmNsdWRlcyh2YWwpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc3BsaXQ6IEJvb2xlYW4sCiAgICAgICAgcGxhY2VtZW50OiB7CiAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcihwb3NpdGlvbikgewogICAgICAgICAgICByZXR1cm4gWycnLCAndG9wLWVuZCcsICd0b3AnLCAndG9wLXN0YXJ0JywgJ2JvdHRvbS1lbmQnLCAnYm90dG9tJywgJ2JvdHRvbS1zdGFydCcsICdyaWdodC1zdGFydCcsICdyaWdodCcsICdyaWdodC1lbmQnLCAnbGVmdC1zdGFydCcsICdsZWZ0JywgJ2xlZnQtZW5kJ10uaW5jbHVkZXMocG9zaXRpb24pOwogICAgICAgICAgfSwKICAgICAgICAgIGRlZmF1bHQ6ICdib3R0b20tc3RhcnQnCiAgICAgICAgfSwKICAgICAgICBvZmZzZXQ6IHsKICAgICAgICAgIHR5cGU6IEFycmF5LAogICAgICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgICAgIHJldHVybiBbMCwgMF07CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBmbGlwOiB7CiAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgZGVmYXVsdDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgY3VzdG9tUG9wcGVyT3B0aW9uczogT2JqZWN0CiAgICAgIH0sCiAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZpc2libGU6IHRoaXMuc2hvdwogICAgICAgIH07CiAgICAgIH0sCiAgICAgIHdhdGNoOiB7CiAgICAgICAgc2hvdzogZnVuY3Rpb24gc2hvdyh2YWwpIHsKICAgICAgICAgIHRoaXMudmlzaWJsZSA9IHZhbDsKICAgICAgICB9LAogICAgICAgIHZpc2libGU6IHsKICAgICAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgICAgIHZhbCA/IHRoaXMuY3JlYXRlUG9wcGVyKCkgOiB0aGlzLnJlbW92ZVBvcHBlcigpOwogICAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6c2hvdycsIHZhbCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICAgIHRoaXMuJG9uKCdkcm9wZG93bi1jbG9zZScsIHRoaXMuaGlkZSk7CiAgICAgIH0sCiAgICAgIG1ldGhvZHM6IHsKICAgICAgICBjaGVja0NsaWNrOiBmdW5jdGlvbiBjaGVja0NsaWNrKGUpIHsKICAgICAgICAgIGlmICh0aGlzLiRzY29wZWRTbG90cy50b2dnbGVyICYmIHRoaXMuJGVsLmZpcnN0RWxlbWVudENoaWxkLmNvbnRhaW5zKGUudGFyZ2V0KSkgewogICAgICAgICAgICB0aGlzLnRvZ2dsZShlKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoKSB7CiAgICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTsKICAgICAgICB9LAogICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKGUpIHsKICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgIHRoaXMudmlzaWJsZSA9ICF0aGlzLnZpc2libGU7CiAgICAgICAgfSwKICAgICAgICByZW1vdmVQb3BwZXI6IGZ1bmN0aW9uIHJlbW92ZVBvcHBlcigpIHsKICAgICAgICAgIGlmICh0aGlzLl9wb3BwZXIpIHsKICAgICAgICAgICAgdGhpcy5fcG9wcGVyLmRlc3Ryb3koKTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLl9wb3BwZXIgPSBudWxsOwogICAgICAgIH0sCiAgICAgICAgY3JlYXRlUG9wcGVyOiBmdW5jdGlvbiBjcmVhdGVQb3BwZXIoKSB7CiAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICAgIHRoaXMucmVtb3ZlUG9wcGVyKCk7CgogICAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHsKICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLl9wb3BwZXIgPSBwb3BwZXJfY3JlYXRlUG9wcGVyKCAvL25vdCBmaXJzdCBjaGlsZCBiZWNhdXNlIG9mIHNwbGl0IGJ1dHRvbnMKICAgICAgICAgICAgX3RoaXMuJGVsLmNoaWxkcmVuW190aGlzLiRlbC5jaGlsZHJlbi5sZW5ndGggLSAyXSwgX3RoaXMuJHJlZnMubWVudSwgX3RoaXMuY3VzdG9tUG9wcGVyT3B0aW9ucyB8fCBfdGhpcy5kZWZhdWx0UG9wcGVyT3B0aW9ucyk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgZGVmYXVsdFBvcHBlck9wdGlvbnM6IGZ1bmN0aW9uIGRlZmF1bHRQb3BwZXJPcHRpb25zKCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcGxhY2VtZW50OiB0aGlzLnBsYWNlbWVudCwKICAgICAgICAgICAgbW9kaWZpZXJzOiBbewogICAgICAgICAgICAgIG5hbWU6ICdvZmZzZXQnLAogICAgICAgICAgICAgIG9wdGlvbnM6IHsKICAgICAgICAgICAgICAgIG9mZnNldDogdGhpcy5vZmZzZXQKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBuYW1lOiAnZmxpcCcsCiAgICAgICAgICAgICAgZW5hYmxlZDogdGhpcy5mbGlwCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICBuYW1lOiAncHJldmVudE92ZXJmbG93JywKICAgICAgICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfV0KICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICBjYXJyZXRDbGFzczogZnVuY3Rpb24gY2FycmV0Q2xhc3MoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5wbGFjZW1lbnQuaW5jbHVkZXMoJ3RvcCcpID8gJ2Ryb3B1cCcgOiB0aGlzLnBsYWNlbWVudC5pbmNsdWRlcygncmlnaHQnKSA/ICdkcm9wcmlnaHQnIDogdGhpcy5wbGFjZW1lbnQuaW5jbHVkZXMoJ2xlZnQnKSA/ICdkcm9wbGVmdCcgOiAnZHJvcGRvd24nOwogICAgICAgIH0sCiAgICAgICAgY29tcHV0ZWREcm9wZG93bkNsYXNzZXM6IGZ1bmN0aW9uIGNvbXB1dGVkRHJvcGRvd25DbGFzc2VzKCkgewogICAgICAgICAgcmV0dXJuIFt0aGlzLmNhcnJldENsYXNzLCB7CiAgICAgICAgICAgICdzaG93JzogdGhpcy52aXNpYmxlLAogICAgICAgICAgICAnbmF2LWl0ZW0nOiB0aGlzLmluTmF2LAogICAgICAgICAgICAnYnRuLWdyb3VwJzogdGhpcy5zcGxpdHRlZFRvZ2dsZXIKICAgICAgICAgIH1dOwogICAgICAgIH0sCiAgICAgICAgdG9nZ2xlclRhZzogZnVuY3Rpb24gdG9nZ2xlclRhZygpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmluTmF2ID8gQ0xpbmsgOiAnYnV0dG9uJzsKICAgICAgICB9LAogICAgICAgIHNwbGl0dGVkVG9nZ2xlcjogZnVuY3Rpb24gc3BsaXR0ZWRUb2dnbGVyKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuc3BsaXQgJiYgIXRoaXMuaW5OYXY7CiAgICAgICAgfSwKICAgICAgICBjb21wdXRlZFRvZ2dsZXJDbGFzc2VzOiBmdW5jdGlvbiBjb21wdXRlZFRvZ2dsZXJDbGFzc2VzKCkgewogICAgICAgICAgdmFyIF9yZWY7CgogICAgICAgICAgcmV0dXJuIFt0aGlzLmFkZFRvZ2dsZXJDbGFzc2VzLCB0aGlzLmluTmF2ID8gJ25hdi1saW5rJyA6ICdidG4nLCAoX3JlZiA9IHsKICAgICAgICAgICAgJ2Ryb3Bkb3duLXRvZ2dsZSc6IHRoaXMuY2FyZXQgJiYgIXRoaXMuc3BsaXQKICAgICAgICAgIH0sIENEcm9wZG93bnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYsICJidG4tIi5jb25jYXQodGhpcy5zaXplKSwgdGhpcy5zaXplICYmICF0aGlzLmluTmF2KSwgQ0Ryb3Bkb3dudnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2Rpc2FibGVkJywgdGhpcy5kaXNhYmxlZCksIENEcm9wZG93bnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYsICIiLmNvbmNhdCh0aGlzLmluTmF2ID8gJ2JnJyA6ICdidG4nLCAiLSIpLmNvbmNhdCh0aGlzLmNvbG9yKSwgdGhpcy5jb2xvciksIF9yZWYpXTsKICAgICAgICB9LAogICAgICAgIHRvZ2dsZXJBdHRyczogZnVuY3Rpb24gdG9nZ2xlckF0dHJzKCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgJ3R5cGUnOiB0aGlzLmluTmF2ID8gbnVsbCA6ICdidXR0b24nLAogICAgICAgICAgICAnYXJpYS1leHBhbmRlZCc6IHRoaXMudmlzaWJsZSA/ICd0cnVlJyA6ICdmYWxzZScsCiAgICAgICAgICAgICdhcmlhLWhhc3BvcHVwJzogJ3RydWUnCiAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgY29tcHV0ZWRNZW51Q2xhc3NlczogZnVuY3Rpb24gY29tcHV0ZWRNZW51Q2xhc3NlcygpIHsKICAgICAgICAgIHJldHVybiBbdGhpcy5hZGRNZW51Q2xhc3NlcywgJ2Ryb3Bkb3duLW1lbnUnLCB7CiAgICAgICAgICAgICdzaG93JzogdGhpcy52aXNpYmxlCiAgICAgICAgICB9XTsKICAgICAgICB9CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvZHJvcGRvd24vQ0Ryb3Bkb3duLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIGRyb3Bkb3duX0NEcm9wZG93bnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENEcm9wZG93bnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9kcm9wZG93bi9DRHJvcGRvd24udnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDRHJvcGRvd25fY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKShkcm9wZG93bl9DRHJvcGRvd252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENEcm9wZG93bnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzEwMzI3MTA4X3JlbmRlciwgQ0Ryb3Bkb3dudnVlX3R5cGVfdGVtcGxhdGVfaWRfMTAzMjcxMDhfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENEcm9wZG93biA9IENEcm9wZG93bl9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2Ryb3Bkb3duL0NEcm9wZG93bkhlYWRlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ0Ryb3Bkb3duSGVhZGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgICAgIGlmIChrZXkgaW4gb2JqKSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgICAgd3JpdGFibGU6IHRydWUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpba2V5XSA9IHZhbHVlOwogICAgICB9CgogICAgICByZXR1cm4gb2JqOwogICAgfQogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICB2YXIgQ0Ryb3Bkb3duSGVhZGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBmdW5jdGlvbmFsOiB0cnVlLAogICAgICBuYW1lOiAnQ0Ryb3Bkb3duSGVhZGVyJywKICAgICAgcHJvcHM6IHsKICAgICAgICB0YWc6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIGRlZmF1bHQ6ICdkaXYnCiAgICAgICAgfSwKICAgICAgICBjb2xvcjogU3RyaW5nCiAgICAgIH0sCiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgsIF9yZWYpIHsKICAgICAgICB2YXIgcHJvcHMgPSBfcmVmLnByb3BzLAogICAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhLAogICAgICAgICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47CiAgICAgICAgcmV0dXJuIGgocHJvcHMudGFnLCBhKGRhdGEsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAnZHJvcGRvd24taGVhZGVyJywKICAgICAgICAgIGNsYXNzOiBDRHJvcGRvd25IZWFkZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eSh7fSwgImJnLSIuY29uY2F0KHByb3BzLmNvbG9yKSwgcHJvcHMuY29sb3IpCiAgICAgICAgfSksIGNoaWxkcmVuKTsKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9kcm9wZG93bi9DRHJvcGRvd25IZWFkZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgZHJvcGRvd25fQ0Ryb3Bkb3duSGVhZGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0Ryb3Bkb3duSGVhZGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2Ryb3Bkb3duL0NEcm9wZG93bkhlYWRlci52dWUKCiAgICB2YXIgQ0Ryb3Bkb3duSGVhZGVyX3JlbmRlciwgQ0Ryb3Bkb3duSGVhZGVyX3N0YXRpY1JlbmRlckZuczsKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0Ryb3Bkb3duSGVhZGVyX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkoZHJvcGRvd25fQ0Ryb3Bkb3duSGVhZGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDRHJvcGRvd25IZWFkZXJfcmVuZGVyLCBDRHJvcGRvd25IZWFkZXJfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENEcm9wZG93bkhlYWRlciA9IENEcm9wZG93bkhlYWRlcl9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2Ryb3Bkb3duL0NEcm9wZG93bkRpdmlkZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0Ryb3Bkb3duRGl2aWRlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgZnVuY3Rpb25hbDogdHJ1ZSwKICAgICAgbmFtZTogJ0NEcm9wZG93bkRpdmlkZXInLAogICAgICBwcm9wczogewogICAgICAgIHRhZzogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgZGVmYXVsdDogJ2RpdicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgsIF9yZWYpIHsKICAgICAgICB2YXIgcHJvcHMgPSBfcmVmLnByb3BzLAogICAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhOwogICAgICAgIHJldHVybiBoKHByb3BzLnRhZywgYShkYXRhLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogJ2Ryb3Bkb3duLWRpdmlkZXInLAogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgcm9sZTogJ3NlcGFyYXRvcicKICAgICAgICAgIH0KICAgICAgICB9KSk7CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvZHJvcGRvd24vQ0Ryb3Bkb3duRGl2aWRlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBkcm9wZG93bl9DRHJvcGRvd25EaXZpZGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0Ryb3Bkb3duRGl2aWRlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9kcm9wZG93bi9DRHJvcGRvd25EaXZpZGVyLnZ1ZQoKICAgIHZhciBDRHJvcGRvd25EaXZpZGVyX3JlbmRlciwgQ0Ryb3Bkb3duRGl2aWRlcl9zdGF0aWNSZW5kZXJGbnM7CiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENEcm9wZG93bkRpdmlkZXJfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKShkcm9wZG93bl9DRHJvcGRvd25EaXZpZGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDRHJvcGRvd25EaXZpZGVyX3JlbmRlciwgQ0Ryb3Bkb3duRGl2aWRlcl9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0Ryb3Bkb3duRGl2aWRlciA9IENEcm9wZG93bkRpdmlkZXJfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9kcm9wZG93bi9DRHJvcGRvd25JdGVtLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICBmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgICAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgICAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgICAgICB9KTsKICAgICAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBrZXlzOwogICAgfQoKICAgIGZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgICAgIGlmIChpICUgMikgewogICAgICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgIENEcm9wZG93bkl0ZW12dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQoKICAgIGZ1bmN0aW9uIENEcm9wZG93bkl0ZW12dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICAgICAgaWYgKGtleSBpbiBvYmopIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgICB3cml0YWJsZTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIG9ialtrZXldID0gdmFsdWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBvYmo7CiAgICB9CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgoKICAgIHZhciBDRHJvcGRvd25JdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ0Ryb3Bkb3duSXRlbScsCiAgICAgIHByb3BzOiBwcm9wc0ZhY3RvcnkoKSwKICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgIHZhciBkYXRhID0gewogICAgICAgICAgcHJvcHM6IHRoaXMuX3Byb3BzLAogICAgICAgICAgc3RhdGljQ2xhc3M6ICdkcm9wZG93bi1pdGVtJywKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIHJvbGU6ICdtZW51aXRlbScKICAgICAgICAgIH0sCiAgICAgICAgICBvbjogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLiRsaXN0ZW5lcnMpLCB7fSwgewogICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkgewogICAgICAgICAgICAgIF90aGlzLiRwYXJlbnQuJGVtaXQoJ2Ryb3Bkb3duLWNsb3NlJyk7CgogICAgICAgICAgICAgIF90aGlzLiRlbWl0KCdjbGljaycsIGUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KQogICAgICAgIH07CgogICAgICAgIGlmICh0aGlzLnRvKSB7CiAgICAgICAgICBkYXRhLm5hdGl2ZU9uID0gewogICAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soZSkgewogICAgICAgICAgICAgIF90aGlzLiRwYXJlbnQuJGVtaXQoJ2Ryb3Bkb3duLWNsb3NlJyk7CgogICAgICAgICAgICAgIF90aGlzLiRlbWl0KCdjbGljaycsIGUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGgoQ0xpbmssIGRhdGEsIHRoaXMuJHNsb3RzLmRlZmF1bHQpOwogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2Ryb3Bkb3duL0NEcm9wZG93bkl0ZW0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgZHJvcGRvd25fQ0Ryb3Bkb3duSXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENEcm9wZG93bkl0ZW12dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvZHJvcGRvd24vQ0Ryb3Bkb3duSXRlbS52dWUKCiAgICB2YXIgQ0Ryb3Bkb3duSXRlbV9yZW5kZXIsIENEcm9wZG93bkl0ZW1fc3RhdGljUmVuZGVyRm5zOwogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDRHJvcGRvd25JdGVtX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkoZHJvcGRvd25fQ0Ryb3Bkb3duSXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0Ryb3Bkb3duSXRlbV9yZW5kZXIsIENEcm9wZG93bkl0ZW1fc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENEcm9wZG93bkl0ZW0gPSBDRHJvcGRvd25JdGVtX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2Ryb3Bkb3duL2luZGV4LmpzCiAgICAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvZWxlbWVudC1jb3Zlci9DRWxlbWVudENvdmVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1kZDFlZTlhNCYKCiAgICB2YXIgQ0VsZW1lbnRDb3ZlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkX2RkMWVlOWE0X3JlbmRlciA9IGZ1bmN0aW9uIENFbGVtZW50Q292ZXJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF9kZDFlZTlhNF9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdkaXYnLCB7CiAgICAgICAgc3R5bGU6IF92bS5vdXRlckNvbnRhaW5lclN0eWxlcwogICAgICB9LCBbX3ZtLmNlbnRlciA/IF9jKCdkaXYnLCB7CiAgICAgICAgc3R5bGU6IF92bS5jZW50ZXJpbmdTdHlsZXMKICAgICAgfSwgW192bS5fdCgiZGVmYXVsdCIsIFtfYygnQ1NwaW5uZXInLCB7CiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJncm93IjogIiIsCiAgICAgICAgICAic2l6ZSI6ICJsZyIsCiAgICAgICAgICAiY29sb3IiOiAicHJpbWFyeSIKICAgICAgICB9CiAgICAgIH0pXSldLCAyKSA6IF92bS5fdCgiZGVmYXVsdCIsIFtfYygnQ1NwaW5uZXInLCB7CiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJzaXplIjogImxnIiwKICAgICAgICAgICJjb2xvciI6ICJwcmltYXJ5IgogICAgICAgIH0KICAgICAgfSldKV0sIDIpOwogICAgfTsKCiAgICB2YXIgQ0VsZW1lbnRDb3ZlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkX2RkMWVlOWE0X3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvc3Bpbm5lci9DU3Bpbm5lci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ1NwaW5uZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICAgICAgaWYgKGtleSBpbiBvYmopIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgICB3cml0YWJsZTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIG9ialtrZXldID0gdmFsdWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBvYmo7CiAgICB9CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgoKICAgIHZhciBDU3Bpbm5lcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NTcGlubmVyJywKICAgICAgZnVuY3Rpb25hbDogdHJ1ZSwKICAgICAgcHJvcHM6IHsKICAgICAgICBncm93OiBCb29sZWFuLAogICAgICAgIGNvbG9yOiBTdHJpbmcsCiAgICAgICAgc2l6ZTogU3RyaW5nLAogICAgICAgIHRhZzogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgZGVmYXVsdDogJ2RpdicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgsIF9yZWYpIHsKICAgICAgICB2YXIgX3JlZjI7CgogICAgICAgIHZhciBwcm9wcyA9IF9yZWYucHJvcHMsCiAgICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgICAgdmFyIHR5cGUgPSBwcm9wcy5ncm93ID8gJ2dyb3cnIDogJ2JvcmRlcic7CiAgICAgICAgcmV0dXJuIGgocHJvcHMudGFnLCBhKGRhdGEsIHsKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIHJvbGU6ICdzdGF0dXMnLAogICAgICAgICAgICAnYXJpYS1oaWRkZW4nOiAnZmFsc2UnLAogICAgICAgICAgICAnYXJpYS1sYWJlbCc6ICdMb2FkaW5nJwogICAgICAgICAgfSwKICAgICAgICAgIGNsYXNzOiBbInNwaW5uZXItIi5jb25jYXQodHlwZSksIChfcmVmMiA9IHt9LCBDU3Bpbm5lcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYyLCAic3Bpbm5lci0iLmNvbmNhdCh0eXBlLCAiLSIpLmNvbmNhdChwcm9wcy5zaXplKSwgcHJvcHMuc2l6ZSksIENTcGlubmVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZjIsICJ0ZXh0LSIuY29uY2F0KHByb3BzLmNvbG9yKSwgcHJvcHMuY29sb3IpLCBfcmVmMildCiAgICAgICAgfSkpOwogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3NwaW5uZXIvQ1NwaW5uZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgc3Bpbm5lcl9DU3Bpbm5lcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENTcGlubmVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3NwaW5uZXIvQ1NwaW5uZXIudnVlCgogICAgdmFyIENTcGlubmVyX3JlbmRlciwgQ1NwaW5uZXJfc3RhdGljUmVuZGVyRm5zOwogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDU3Bpbm5lcl9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHNwaW5uZXJfQ1NwaW5uZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENTcGlubmVyX3JlbmRlciwgQ1NwaW5uZXJfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENTcGlubmVyID0gQ1NwaW5uZXJfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9lbGVtZW50LWNvdmVyL0NFbGVtZW50Q292ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIGZ1bmN0aW9uIENFbGVtZW50Q292ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19vd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgICAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgICAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgICAgICB9KTsKICAgICAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBrZXlzOwogICAgfQoKICAgIGZ1bmN0aW9uIENFbGVtZW50Q292ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgICAgIGlmIChpICUgMikgewogICAgICAgICAgQ0VsZW1lbnRDb3ZlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX293bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICBDRWxlbWVudENvdmVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIENFbGVtZW50Q292ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19vd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9CgogICAgZnVuY3Rpb24gQ0VsZW1lbnRDb3ZlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogICAgICBpZiAoa2V5IGluIG9iaikgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9iajsKICAgIH0gLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgoKICAgIHZhciBDRWxlbWVudENvdmVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ0VsZW1lbnRDb3ZlcicsCiAgICAgIHByb3BzOiB7CiAgICAgICAgYm91bmRhcmllczogQXJyYXksCiAgICAgICAgY2VudGVyOiB7CiAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgZGVmYXVsdDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgb3BhY2l0eTogewogICAgICAgICAgdHlwZTogTnVtYmVyLAogICAgICAgICAgZGVmYXVsdDogMC40CiAgICAgICAgfQogICAgICB9LAogICAgICBjb21wb25lbnRzOiB7CiAgICAgICAgQ1NwaW5uZXI6IENTcGlubmVyCiAgICAgIH0sCiAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGNvbnRhaW5lckNvb3JkczogewogICAgICAgICAgICB0b3A6IDAsCiAgICAgICAgICAgIGJvdHRvbTogMCwKICAgICAgICAgICAgbGVmdDogMCwKICAgICAgICAgICAgcmlnaHQ6IDAKICAgICAgICAgIH0sCiAgICAgICAgICBwYXJlbnRDb29yZHM6IG51bGwKICAgICAgICB9OwogICAgICB9LAogICAgICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICAgIGlmICh0aGlzLmJvdW5kYXJpZXMpIHsKICAgICAgICAgIHRoaXMuc2V0T2Zmc2V0cygpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgY29tcHV0ZWQ6IHsKICAgICAgICBvdXRlckNvbnRhaW5lclN0eWxlczogZnVuY3Rpb24gb3V0ZXJDb250YWluZXJTdHlsZXMoKSB7CiAgICAgICAgICByZXR1cm4gQ0VsZW1lbnRDb3ZlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX29iamVjdFNwcmVhZChDRWxlbWVudENvdmVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmNvbnRhaW5lckNvb3JkcyksIHt9LCB7CiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLAogICAgICAgICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICJyZ2IoMjU1LDI1NSwyNTUsIi5jb25jYXQodGhpcy5vcGFjaXR5LCAiKSIpCiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGNlbnRlcmluZ1N0eWxlczogZnVuY3Rpb24gY2VudGVyaW5nU3R5bGVzKCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsCiAgICAgICAgICAgIHRvcDogJzUwJScsCiAgICAgICAgICAgIGxlZnQ6ICc1MCUnLAogICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSknCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfSwKICAgICAgbWV0aG9kczogewogICAgICAgIHNldE9mZnNldHM6IGZ1bmN0aW9uIHNldE9mZnNldHMoKSB7CiAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLiRlbC5wYXJlbnRFbGVtZW50OwogICAgICAgICAgdGhpcy5wYXJlbnRDb29yZHMgPSBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICB0aGlzLmJvdW5kYXJpZXMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZikgewogICAgICAgICAgICB2YXIgc2lkZXMgPSBfcmVmLnNpZGVzLAogICAgICAgICAgICAgICAgcXVlcnkgPSBfcmVmLnF1ZXJ5OwogICAgICAgICAgICB2YXIgZWxlbWVudCA9IHBhcmVudC5xdWVyeVNlbGVjdG9yKHF1ZXJ5KTsKCiAgICAgICAgICAgIGlmICghZWxlbWVudCB8fCAhc2lkZXMpIHsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBjb29yZHMgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgICAgICBzaWRlcy5mb3JFYWNoKGZ1bmN0aW9uIChzaWRlKSB7CiAgICAgICAgICAgICAgdmFyIHNpZGVNYXJnaW4gPSBNYXRoLmFicyhjb29yZHNbc2lkZV0gLSBfdGhpcy5wYXJlbnRDb29yZHNbc2lkZV0pOwogICAgICAgICAgICAgIF90aGlzLmNvbnRhaW5lckNvb3Jkc1tzaWRlXSA9IHNpZGVNYXJnaW4gKyAncHgnOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9lbGVtZW50LWNvdmVyL0NFbGVtZW50Q292ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgZWxlbWVudF9jb3Zlcl9DRWxlbWVudENvdmVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0VsZW1lbnRDb3ZlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9lbGVtZW50LWNvdmVyL0NFbGVtZW50Q292ZXIudnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDRWxlbWVudENvdmVyX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkoZWxlbWVudF9jb3Zlcl9DRWxlbWVudENvdmVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDRWxlbWVudENvdmVydnVlX3R5cGVfdGVtcGxhdGVfaWRfZGQxZWU5YTRfcmVuZGVyLCBDRWxlbWVudENvdmVydnVlX3R5cGVfdGVtcGxhdGVfaWRfZGQxZWU5YTRfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENFbGVtZW50Q292ZXIgPSBDRWxlbWVudENvdmVyX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2VsZW1lbnQtY292ZXIvaW5kZXguanMKICAgIC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9lbWJlZC9DRW1iZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIHZhciBDRW1iZWR2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19wcm9wcyA9IHsKICAgICAgdHlwZTogewogICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICBkZWZhdWx0OiAnaWZyYW1lJywKICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih0eXBlKSB7CiAgICAgICAgICByZXR1cm4gWydpZnJhbWUnLCAnZW1iZWQnLCAndmlkZW8nLCAnb2JqZWN0JywgJ2ltZyddLmluY2x1ZGVzKHR5cGUpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmF0aW86IHsKICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgZGVmYXVsdDogJzE2Ynk5JywKICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcihyYXRpbykgewogICAgICAgICAgcmV0dXJuIFsnMjFieTknLCAnMTZieTknLCAnNGJ5MycsICcxYnkxJ10uaW5jbHVkZXMocmF0aW8pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdGFnOiB7CiAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgIGRlZmF1bHQ6ICdkaXYnCiAgICAgIH0KICAgIH07CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENFbWJlZHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgZnVuY3Rpb25hbDogdHJ1ZSwKICAgICAgbmFtZTogJ0NFbWJlZCcsCiAgICAgIHByb3BzOiBDRW1iZWR2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19wcm9wcywKICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgX3JlZikgewogICAgICAgIHZhciBwcm9wcyA9IF9yZWYucHJvcHMsCiAgICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGEsCiAgICAgICAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjsKICAgICAgICByZXR1cm4gaChwcm9wcy50YWcsIHsKICAgICAgICAgIHJlZjogZGF0YS5yZWYsCiAgICAgICAgICBzdGF0aWNDbGFzczogJ2VtYmVkLXJlc3BvbnNpdmUnLAogICAgICAgICAgY2xhc3M6ICJlbWJlZC1yZXNwb25zaXZlLSIuY29uY2F0KHByb3BzLnJhdGlvKQogICAgICAgIH0sIFtoKHByb3BzLnR5cGUsIGEoZGF0YSwgewogICAgICAgICAgcmVmOiAnJywKICAgICAgICAgIHN0YXRpY0NsYXNzOiAnZW1iZWQtcmVzcG9uc2l2ZS1pdGVtJwogICAgICAgIH0pLCBjaGlsZHJlbildKTsKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9lbWJlZC9DRW1iZWQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgZW1iZWRfQ0VtYmVkdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0VtYmVkdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2VtYmVkL0NFbWJlZC52dWUKCiAgICB2YXIgQ0VtYmVkX3JlbmRlciwgQ0VtYmVkX3N0YXRpY1JlbmRlckZuczsKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0VtYmVkX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkoZW1iZWRfQ0VtYmVkdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDRW1iZWRfcmVuZGVyLCBDRW1iZWRfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENFbWJlZCA9IENFbWJlZF9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9lbWJlZC9pbmRleC5qcwogICAgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2Zvcm0vQ0Zvcm0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0Zvcm12dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDRm9ybScsCiAgICAgIGZ1bmN0aW9uYWw6IHRydWUsCiAgICAgIHByb3BzOiB7CiAgICAgICAgaW5saW5lOiBCb29sZWFuLAogICAgICAgIHdhc1ZhbGlkYXRlZDogQm9vbGVhbgogICAgICB9LAogICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfcmVmKSB7CiAgICAgICAgdmFyIHByb3BzID0gX3JlZi5wcm9wcywKICAgICAgICAgICAgZGF0YSA9IF9yZWYuZGF0YSwKICAgICAgICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuOwogICAgICAgIHJldHVybiBoKCdmb3JtJywgYShkYXRhLCB7CiAgICAgICAgICBjbGFzczogewogICAgICAgICAgICAnZm9ybS1pbmxpbmUnOiBwcm9wcy5pbmxpbmUsCiAgICAgICAgICAgICd3YXMtdmFsaWRhdGVkJzogcHJvcHMud2FzVmFsaWRhdGVkCiAgICAgICAgICB9CiAgICAgICAgfSksIGNoaWxkcmVuKTsKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9mb3JtL0NGb3JtLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIGZvcm1fQ0Zvcm12dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDRm9ybXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9mb3JtL0NGb3JtLnZ1ZQoKICAgIHZhciBDRm9ybV9yZW5kZXIsIENGb3JtX3N0YXRpY1JlbmRlckZuczsKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0Zvcm1fY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKShmb3JtX0NGb3JtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDRm9ybV9yZW5kZXIsIENGb3JtX3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDRm9ybSA9IENGb3JtX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvZm9ybS9DRm9ybUdyb3VwLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1iNTIxZTc4NiYKCiAgICB2YXIgQ0Zvcm1Hcm91cHZ1ZV90eXBlX3RlbXBsYXRlX2lkX2I1MjFlNzg2X3JlbmRlciA9IGZ1bmN0aW9uIENGb3JtR3JvdXB2dWVfdHlwZV90ZW1wbGF0ZV9pZF9iNTIxZTc4Nl9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdkaXYnLCB7CiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJyb2xlIjogImdyb3VwIgogICAgICAgIH0KICAgICAgfSwgW192bS53cmFwcGVyQ2xhc3NlcyA/IFtfdm0uX3QoImxhYmVsIiksIF9jKCdkaXYnLCB7CiAgICAgICAgY2xhc3M6IF92bS53cmFwcGVyQ2xhc3NlcwogICAgICB9LCBbX3ZtLnByZXBlbmQgfHwgX3ZtLiRzbG90cy5wcmVwZW5kIHx8IF92bS4kc2xvdHNbJ3ByZXBlbmQtY29udGVudCddID8gX2MoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogImlucHV0LWdyb3VwLXByZXBlbmQiCiAgICAgIH0sIFtfdm0uX3QoInByZXBlbmQiLCBbX2MoJ3NwYW4nLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJpbnB1dC1ncm91cC10ZXh0IgogICAgICB9LCBbX3ZtLl90KCJwcmVwZW5kLWNvbnRlbnQiLCBbX3ZtLl92KF92bS5fcyhfdm0ucHJlcGVuZCkpXSldLCAyKV0pXSwgMikgOiBfdm0uX2UoKSwgX3ZtLl90KCJpbnB1dCIpLCBfdm0uX3QoImxhYmVsLWFmdGVyLWlucHV0IiksIF92bS5hcHBlbmQgfHwgX3ZtLiRzbG90cy5hcHBlbmQgfHwgX3ZtLiRzbG90c1snYXBwZW5kLWNvbnRlbnQnXSA/IF9jKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJpbnB1dC1ncm91cC1hcHBlbmQiCiAgICAgIH0sIFtfdm0uX3QoImFwcGVuZCIsIFtfYygnc3BhbicsIHsKICAgICAgICBzdGF0aWNDbGFzczogImlucHV0LWdyb3VwLXRleHQiCiAgICAgIH0sIFtfdm0uX3QoImFwcGVuZC1jb250ZW50IiwgW192bS5fdihfdm0uX3MoX3ZtLmFwcGVuZCkpXSldLCAyKV0pXSwgMikgOiBfdm0uX2UoKSwgX3ZtLl90KCJ2YWxpZC1mZWVkYmFjayIsIFtfdm0udmFsaWRGZWVkYmFjayA/IF9jKCdkaXYnLCB7CiAgICAgICAgY2xhc3M6IF92bS50b29sdGlwRmVlZGJhY2sgPyAndmFsaWQtdG9vbHRpcCcgOiAndmFsaWQtZmVlZGJhY2snLAogICAgICAgIGRvbVByb3BzOiB7CiAgICAgICAgICAidGV4dENvbnRlbnQiOiBfdm0uX3MoX3ZtLnZhbGlkRmVlZGJhY2spCiAgICAgICAgfQogICAgICB9KSA6IF92bS5fZSgpXSksIF92bS5fdCgiaW52YWxpZC1mZWVkYmFjayIsIFtfdm0uaW52YWxpZEZlZWRiYWNrID8gX2MoJ2RpdicsIHsKICAgICAgICBjbGFzczogX3ZtLnRvb2x0aXBGZWVkYmFjayA/ICdpbnZhbGlkLXRvb2x0aXAnIDogJ2ludmFsaWQtZmVlZGJhY2snLAogICAgICAgIGRvbVByb3BzOiB7CiAgICAgICAgICAidGV4dENvbnRlbnQiOiBfdm0uX3MoX3ZtLmludmFsaWRGZWVkYmFjaykKICAgICAgICB9CiAgICAgIH0pIDogX3ZtLl9lKCldKSwgX3ZtLl90KCJkZXNjcmlwdGlvbiIsIFtfdm0uZGVzY3JpcHRpb24gPyBfYygnc21hbGwnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJmb3JtLXRleHQgdGV4dC1tdXRlZCB3LTEwMCIsCiAgICAgICAgZG9tUHJvcHM6IHsKICAgICAgICAgICJ0ZXh0Q29udGVudCI6IF92bS5fcyhfdm0uZGVzY3JpcHRpb24pCiAgICAgICAgfQogICAgICB9KSA6IF92bS5fZSgpXSldLCAyKV0gOiBbX3ZtLl90KCJsYWJlbCIpLCBfdm0ucHJlcGVuZCB8fCBfdm0uJHNsb3RzLnByZXBlbmQgfHwgX3ZtLiRzbG90c1sncHJlcGVuZC1jb250ZW50J10gPyBfYygnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiaW5wdXQtZ3JvdXAtcHJlcGVuZCIKICAgICAgfSwgW192bS5fdCgicHJlcGVuZCIsIFtfYygnc3BhbicsIHsKICAgICAgICBzdGF0aWNDbGFzczogImlucHV0LWdyb3VwLXRleHQiCiAgICAgIH0sIFtfdm0uX3QoInByZXBlbmQtY29udGVudCIsIFtfdm0uX3YoX3ZtLl9zKF92bS5wcmVwZW5kKSldKV0sIDIpXSldLCAyKSA6IF92bS5fZSgpLCBfdm0uX3QoImlucHV0IiksIF92bS5fdCgibGFiZWwtYWZ0ZXItaW5wdXQiKSwgX3ZtLmFwcGVuZCB8fCBfdm0uJHNsb3RzLmFwcGVuZCB8fCBfdm0uJHNsb3RzWydhcHBlbmQtY29udGVudCddID8gX2MoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogImlucHV0LWdyb3VwLWFwcGVuZCIKICAgICAgfSwgW192bS5fdCgiYXBwZW5kIiwgW19jKCdzcGFuJywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiaW5wdXQtZ3JvdXAtdGV4dCIKICAgICAgfSwgW192bS5fdCgiYXBwZW5kLWNvbnRlbnQiLCBbX3ZtLl92KF92bS5fcyhfdm0uYXBwZW5kKSldKV0sIDIpXSldLCAyKSA6IF92bS5fZSgpLCBfdm0uX3QoInZhbGlkLWZlZWRiYWNrIiwgW192bS52YWxpZEZlZWRiYWNrID8gX2MoJ2RpdicsIHsKICAgICAgICBjbGFzczogX3ZtLnRvb2x0aXBGZWVkYmFjayA/ICd2YWxpZC10b29sdGlwJyA6ICd2YWxpZC1mZWVkYmFjaycsCiAgICAgICAgZG9tUHJvcHM6IHsKICAgICAgICAgICJ0ZXh0Q29udGVudCI6IF92bS5fcyhfdm0udmFsaWRGZWVkYmFjaykKICAgICAgICB9CiAgICAgIH0pIDogX3ZtLl9lKCldKSwgX3ZtLl90KCJpbnZhbGlkLWZlZWRiYWNrIiwgW192bS5pbnZhbGlkRmVlZGJhY2sgPyBfYygnZGl2JywgewogICAgICAgIGNsYXNzOiBfdm0udG9vbHRpcEZlZWRiYWNrID8gJ2ludmFsaWQtdG9vbHRpcCcgOiAnaW52YWxpZC1mZWVkYmFjaycsCiAgICAgICAgZG9tUHJvcHM6IHsKICAgICAgICAgICJ0ZXh0Q29udGVudCI6IF92bS5fcyhfdm0uaW52YWxpZEZlZWRiYWNrKQogICAgICAgIH0KICAgICAgfSkgOiBfdm0uX2UoKV0pLCBfdm0uX3QoImRlc2NyaXB0aW9uIiwgW192bS5kZXNjcmlwdGlvbiA/IF9jKCdzbWFsbCcsIHsKICAgICAgICBzdGF0aWNDbGFzczogImZvcm0tdGV4dCB0ZXh0LW11dGVkIHctMTAwIiwKICAgICAgICBkb21Qcm9wczogewogICAgICAgICAgInRleHRDb250ZW50IjogX3ZtLl9zKF92bS5kZXNjcmlwdGlvbikKICAgICAgICB9CiAgICAgIH0pIDogX3ZtLl9lKCldKV1dLCAyKTsKICAgIH07CgogICAgdmFyIENGb3JtR3JvdXB2dWVfdHlwZV90ZW1wbGF0ZV9pZF9iNTIxZTc4Nl9zdGF0aWNSZW5kZXJGbnMgPSBbXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9mb3JtL2Zvcm0tcHJvcHMuanMKCiAgICB2YXIgZm9ybUdyb3VwQWx3YXlzU2hhcmVkUHJvcHMgPSB7CiAgICAgIHZhbGlkRmVlZGJhY2s6IFN0cmluZywKICAgICAgaW52YWxpZEZlZWRiYWNrOiBTdHJpbmcsCiAgICAgIHRvb2x0aXBGZWVkYmFjazogQm9vbGVhbiwKICAgICAgZGVzY3JpcHRpb246IFN0cmluZwogICAgfTsKICAgIHZhciBmb3JtR3JvdXBTaGFyZWRQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIGZvcm1Hcm91cEFsd2F5c1NoYXJlZFByb3BzLCB7CiAgICAgIGFwcGVuZDogU3RyaW5nLAogICAgICBwcmVwZW5kOiBTdHJpbmcKICAgIH0pOwogICAgdmFyIGZvcm1Hcm91cFByb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgZm9ybUdyb3VwU2hhcmVkUHJvcHMsIHsKICAgICAgd3JhcHBlckNsYXNzZXM6IFtTdHJpbmcsIEFycmF5LCBPYmplY3RdCiAgICB9KTsKICAgIHZhciB1bml2ZXJzYWxQcm9wcyA9IHsKICAgICAgbGFiZWw6IFN0cmluZywKICAgICAgd2FzVmFsaWRhdGVkOiBCb29sZWFuLAogICAgICBpc1ZhbGlkOiB7CiAgICAgICAgdHlwZTogW0Jvb2xlYW4sIEZ1bmN0aW9uXSwKICAgICAgICBkZWZhdWx0OiBudWxsCiAgICAgIH0sCiAgICAgIGFkZElucHV0Q2xhc3NlczogW1N0cmluZywgQXJyYXksIE9iamVjdF0sCiAgICAgIGFkZExhYmVsQ2xhc3NlczogW1N0cmluZywgQXJyYXksIE9iamVjdF0KICAgIH07CiAgICB2YXIgZm9ybV9wcm9wc19wcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIHVuaXZlcnNhbFByb3BzLCB7CiAgICAgIGhvcml6b250YWw6IFtCb29sZWFuLCBPYmplY3RdLAogICAgICBzaXplOiB7CiAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHN0cikgewogICAgICAgICAgcmV0dXJuIFsnJywgJ3NtJywgJ2xnJ10uaW5jbHVkZXMoc3RyKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGFkZFdyYXBwZXJDbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XQogICAgfSk7CiAgICB2YXIgdGV4dElucHV0c1Byb3BzID0gewogICAgICByZWFkb25seTogQm9vbGVhbiwKICAgICAgcGxhaW50ZXh0OiBCb29sZWFuLAogICAgICB2YWx1ZTogW1N0cmluZywgTnVtYmVyXSwKICAgICAgbGF6eTogewogICAgICAgIHR5cGU6IFtCb29sZWFuLCBOdW1iZXJdLAogICAgICAgIGRlZmF1bHQ6IDQwMAogICAgICB9CiAgICB9OyAvLyBIdG1sIHByb3BzOiBkaXNhYmxlZCwgcmVxdWlyZWQsIGFjY2VwdCwgaWQsIHBsYWNlaG9sZGVyCgogICAgdmFyIGlucHV0RmlsZVByb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgZm9ybUdyb3VwQWx3YXlzU2hhcmVkUHJvcHMsIGZvcm1fcHJvcHNfcHJvcHMsIHsKICAgICAgY3VzdG9tOiBCb29sZWFuLAogICAgICBwbGFjZWhvbGRlcjogU3RyaW5nLAogICAgICBtdWx0aXBsZTogQm9vbGVhbgogICAgfSk7IC8vIEh0bWwgcHJvcHM6IGRpc2FibGVkLCByZXF1aXJlZCwgcm93cywgY29scywgcGxhY2Vob2xkZXIsIGlkCgogICAgdmFyIHRleHRhcmVhUHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCBmb3JtR3JvdXBTaGFyZWRQcm9wcywgZm9ybV9wcm9wc19wcm9wcywgdGV4dElucHV0c1Byb3BzKTsgLy8gSFRNTCBwcm9wczogZGlzYWJsZWQsIHJlcXVpcmVkLCBwbGFjZWhvbGRlciwgaWQKCiAgICB2YXIgaW5wdXRQcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIGZvcm1Hcm91cFNoYXJlZFByb3BzLCBmb3JtX3Byb3BzX3Byb3BzLCB0ZXh0SW5wdXRzUHJvcHMsIHsKICAgICAgdHlwZTogewogICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICBkZWZhdWx0OiAndGV4dCcKICAgICAgfQogICAgfSk7IC8vIEh0bWwgcHJvcHM6IGRpc2FibGVkLCBpZCByZXF1aXJlZCBkb24ndCB1c2UgbXVsdGlwbGUKCiAgICB2YXIgc2VsZWN0UHJvcHMgPSBPYmplY3QuYXNzaWduKHt9LCBmb3JtR3JvdXBTaGFyZWRQcm9wcywgZm9ybV9wcm9wc19wcm9wcywgewogICAgICBvcHRpb25zOiBBcnJheSwKICAgICAgdmFsdWU6IFtTdHJpbmcsIE51bWJlciwgQm9vbGVhbiwgQXJyYXldLAogICAgICBwbGFpbnRleHQ6IEJvb2xlYW4sCiAgICAgIHBsYWNlaG9sZGVyOiBTdHJpbmcsCiAgICAgIGN1c3RvbTogQm9vbGVhbgogICAgfSk7IC8vIEh0bWwgcHJvcHM6IGlkLCBkaXNhYmxlZCwgcmVxdWlyZWQKCiAgICB2YXIgaW5wdXRDaGVja2JveFByb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgZm9ybUdyb3VwQWx3YXlzU2hhcmVkUHJvcHMsIHVuaXZlcnNhbFByb3BzLCB7CiAgICAgIGNoZWNrZWQ6IEJvb2xlYW4sCiAgICAgIGN1c3RvbTogQm9vbGVhbiwKICAgICAgaW5saW5lOiBCb29sZWFuCiAgICB9KTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2Zvcm0vQ0Zvcm1Hcm91cC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDRm9ybUdyb3VwdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ0Zvcm1Hcm91cCcsCiAgICAgIGluaGVyaXRBdHRyczogZmFsc2UsCiAgICAgIHByb3BzOiBmb3JtR3JvdXBQcm9wcyAvLyB7CiAgICAgIC8vICAgdmFsaWRGZWVkYmFjazogU3RyaW5nLAogICAgICAvLyAgIGludmFsaWRGZWVkYmFjazogU3RyaW5nLAogICAgICAvLyAgIHRvb2x0aXBGZWVkYmFjazogQm9vbGVhbiwKICAgICAgLy8gICBkZXNjcmlwdGlvbjogU3RyaW5nLAogICAgICAvLyAgIGFwcGVuZDogU3RyaW5nLAogICAgICAvLyAgIHByZXBlbmQ6IFN0cmluZywKICAgICAgLy8gICB3cmFwcGVyQ2xhc3NlczogW1N0cmluZywgQXJyYXksIE9iamVjdF0sCiAgICAgIC8vIH0sCgogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9mb3JtL0NGb3JtR3JvdXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgZm9ybV9DRm9ybUdyb3VwdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0Zvcm1Hcm91cHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9mb3JtL0NGb3JtR3JvdXAudnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDRm9ybUdyb3VwX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkoZm9ybV9DRm9ybUdyb3VwdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDRm9ybUdyb3VwdnVlX3R5cGVfdGVtcGxhdGVfaWRfYjUyMWU3ODZfcmVuZGVyLCBDRm9ybUdyb3VwdnVlX3R5cGVfdGVtcGxhdGVfaWRfYjUyMWU3ODZfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENGb3JtR3JvdXAgPSBDRm9ybUdyb3VwX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvZm9ybS9DSW5wdXQudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTEzYmNkNWQyJgoKICAgIHZhciBDSW5wdXR2dWVfdHlwZV90ZW1wbGF0ZV9pZF8xM2JjZDVkMl9yZW5kZXIgPSBmdW5jdGlvbiBDSW5wdXR2dWVfdHlwZV90ZW1wbGF0ZV9pZF8xM2JjZDVkMl9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdDRm9ybUdyb3VwJywgX3ZtLl9iKHsKICAgICAgICBzY29wZWRTbG90czogX3ZtLl91KFt7CiAgICAgICAgICBrZXk6ICJsYWJlbCIsCiAgICAgICAgICBmbjogZnVuY3Rpb24gZm4oKSB7CiAgICAgICAgICAgIHJldHVybiBbX3ZtLl90KCJsYWJlbCIsIFtfdm0ubGFiZWwgPyBfYygnbGFiZWwnLCB7CiAgICAgICAgICAgICAgY2xhc3M6IF92bS5sYWJlbENsYXNzZXMsCiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICJmb3IiOiBfdm0uc2FmZUlkCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBbX3ZtLl92KCIgIiArIF92bS5fcyhfdm0ubGFiZWwpICsgIiAiKV0pIDogX3ZtLl9lKCldKV07CiAgICAgICAgICB9LAogICAgICAgICAgcHJveHk6IHRydWUKICAgICAgICB9LCB7CiAgICAgICAgICBrZXk6ICJpbnB1dCIsCiAgICAgICAgICBmbjogZnVuY3Rpb24gZm4oKSB7CiAgICAgICAgICAgIHJldHVybiBbX2MoJ2lucHV0JywgX3ZtLl9nKF92bS5fYih7CiAgICAgICAgICAgICAgY2xhc3M6IF92bS5pbnB1dENsYXNzZXMsCiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICJpZCI6IF92bS5zYWZlSWQsCiAgICAgICAgICAgICAgICAidHlwZSI6IF92bS50eXBlLAogICAgICAgICAgICAgICAgInJlYWRvbmx5IjogX3ZtLnJlYWRvbmx5IHx8IF92bS5wbGFpbnRleHQKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGRvbVByb3BzOiB7CiAgICAgICAgICAgICAgICAidmFsdWUiOiBfdm0uc3RhdGUKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAiaW5wdXQiOiBmdW5jdGlvbiBpbnB1dCgkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbklucHV0KCRldmVudCk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImNoYW5nZSI6IGZ1bmN0aW9uIGNoYW5nZSgkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkNoYW5nZSgkZXZlbnQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgJ2lucHV0JywgX3ZtLiRhdHRycywgZmFsc2UpLCBfdm0ubGlzdGVuZXJzKSldOwogICAgICAgICAgfSwKICAgICAgICAgIHByb3h5OiB0cnVlCiAgICAgICAgfSwgX3ZtLl9sKF92bS4kb3B0aW9ucy5zbG90cywgZnVuY3Rpb24gKHNsb3QpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGtleTogc2xvdCwKICAgICAgICAgICAgZm46IGZ1bmN0aW9uIGZuKCkgewogICAgICAgICAgICAgIHJldHVybiBbX3ZtLl90KHNsb3QpXTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcHJveHk6IHRydWUKICAgICAgICAgIH07CiAgICAgICAgfSldLCBudWxsLCB0cnVlKQogICAgICB9LCAnQ0Zvcm1Hcm91cCcsIHsKICAgICAgICBhcHBlbmQ6IF92bS5hcHBlbmQsCiAgICAgICAgcHJlcGVuZDogX3ZtLnByZXBlbmQsCiAgICAgICAgdmFsaWRGZWVkYmFjazogX3ZtLnZhbGlkRmVlZGJhY2ssCiAgICAgICAgaW52YWxpZEZlZWRiYWNrOiBfdm0uaW52YWxpZEZlZWRiYWNrLAogICAgICAgIHRvb2x0aXBGZWVkYmFjazogX3ZtLnRvb2x0aXBGZWVkYmFjaywKICAgICAgICBkZXNjcmlwdGlvbjogX3ZtLmRlc2NyaXB0aW9uLAogICAgICAgIHdyYXBwZXJDbGFzc2VzOiBfdm0ud3JhcHBlckNsYXNzZXMsCiAgICAgICAgY2xhc3M6IF92bS5jb21wdXRlZENsYXNzZXMKICAgICAgfSwgZmFsc2UpKTsKICAgIH07CgogICAgdmFyIENJbnB1dHZ1ZV90eXBlX3RlbXBsYXRlX2lkXzEzYmNkNWQyX3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AY29yZXVpL3V0aWxzL3NyYy9tYWtlLXVpZC5qcwogICAgLy9mdW5jdGlvbiBmb3IgVUkgcmVsZXRlZCBJRCBhc3NpZ25tZW50LCBkdWUgdG8gb25lIGluIDEwXjE1IHByb2JhYmlsaXR5IG9mIGR1cGxpY2F0aW9uCgogICAgdmFyIG1ha2VVaWQgPSBmdW5jdGlvbiBtYWtlVWlkKCkgewogICAgICB2YXIga2V5ID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIpOwogICAgICByZXR1cm4gJ3VpZC0nICsga2V5OwogICAgfTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIG1ha2VfdWlkID0gbWFrZVVpZDsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9mb3JtL2Zvcm0tbWl4aW5zLmpzCgogICAgZnVuY3Rpb24gZm9ybV9taXhpbnNfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgICAgIGlmIChrZXkgaW4gb2JqKSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgICAgd3JpdGFibGU6IHRydWUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpba2V5XSA9IHZhbHVlOwogICAgICB9CgogICAgICByZXR1cm4gb2JqOwogICAgfQoKICAgIHZhciBzaGFyZWRDb21wdXRlZFByb3BzID0gewogICAgICBjb21wdXRlZDogewogICAgICAgIGNvbXB1dGVkSXNWYWxpZDogZnVuY3Rpb24gY29tcHV0ZWRJc1ZhbGlkKCkgewogICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmlzVmFsaWQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCh0aGlzLnN0YXRlKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkOwogICAgICAgIH0sCiAgICAgICAgdmFsaWRhdGlvbkNsYXNzOiBmdW5jdGlvbiB2YWxpZGF0aW9uQ2xhc3MoKSB7CiAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuY29tcHV0ZWRJc1ZhbGlkID09PSAnYm9vbGVhbicpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcHV0ZWRJc1ZhbGlkID8gJ2lzLXZhbGlkJyA6ICdpcy1pbnZhbGlkJzsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHNhZmVJZDogZnVuY3Rpb24gc2FmZUlkKCkgewogICAgICAgICAgaWYgKHRoaXMuaWQgfHwgdGhpcy4kYXR0cnMuaWQpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWQgfHwgdGhpcy4kYXR0cnMuaWQ7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIG1ha2VfdWlkKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgdmFyIHdyYXBwZXJDb21wdXRlZFByb3BzID0gewogICAgICBjb21wdXRlZDogewogICAgICAgIGlzSG9yaXpvbnRhbDogZnVuY3Rpb24gaXNIb3Jpem9udGFsKCkgewogICAgICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5ob3Jpem9udGFsKTsKICAgICAgICB9LAogICAgICAgIGhhdmVJbnB1dEdyb3VwOiBmdW5jdGlvbiBoYXZlSW5wdXRHcm91cCgpIHsKICAgICAgICAgIHJldHVybiBCb29sZWFuKHRoaXMudG9vbHRpcEZlZWRiYWNrIHx8IHRoaXMuYXBwZW5kIHx8IHRoaXMucHJlcGVuZCB8fCB0aGlzLiRzbG90cy5hcHBlbmQgfHwgdGhpcy4kc2xvdHMucHJlcGVuZCB8fCB0aGlzLiRzbG90c1snYXBwZW5kLWNvbnRlbnQnXSB8fCB0aGlzLiRzbG90c1sncHJlcGVuZC1jb250ZW50J10pOwogICAgICAgIH0sCiAgICAgICAgaGF2ZVdyYXBwZXI6IGZ1bmN0aW9uIGhhdmVXcmFwcGVyKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuaGF2ZUlucHV0R3JvdXAgfHwgQm9vbGVhbih0aGlzLmFkZFdyYXBwZXJDbGFzc2VzIHx8IHRoaXMuaXNIb3Jpem9udGFsKTsKICAgICAgICB9LAogICAgICAgIHdyYXBwZXJDbGFzc2VzOiBmdW5jdGlvbiB3cmFwcGVyQ2xhc3NlcygpIHsKICAgICAgICAgIGlmICh0aGlzLmhhdmVXcmFwcGVyKSB7CiAgICAgICAgICAgIHZhciBfcmVmOwoKICAgICAgICAgICAgcmV0dXJuIFt0aGlzLmFkZFdyYXBwZXJDbGFzc2VzLCAoX3JlZiA9IHt9LCBmb3JtX21peGluc19kZWZpbmVQcm9wZXJ0eShfcmVmLCB0aGlzLmhvcml6b250YWwuaW5wdXQgfHwgJ2NvbC1zbS05JywgdGhpcy5pc0hvcml6b250YWwpLCBmb3JtX21peGluc19kZWZpbmVQcm9wZXJ0eShfcmVmLCAnaW5wdXQtZ3JvdXAnLCB0aGlzLmhhdmVJbnB1dEdyb3VwKSwgZm9ybV9taXhpbnNfZGVmaW5lUHJvcGVydHkoX3JlZiwgImlucHV0LWdyb3VwLSIuY29uY2F0KHRoaXMuc2l6ZSksIHRoaXMuaGF2ZUN1c3RvbVNpemUpLCBfcmVmKV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgdmFyIHdhdGNoVmFsdWUgPSB7CiAgICAgIHdhdGNoOiB7CiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKHZhbCkgewogICAgICAgICAgdGhpcy5zdGF0ZSA9IHZhbDsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgICB2YXIgY2xhc3Nlc0NvbXB1dGVkUHJvcHMgPSB7CiAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgaGF2ZUN1c3RvbVNpemU6IGZ1bmN0aW9uIGhhdmVDdXN0b21TaXplKCkgewogICAgICAgICAgcmV0dXJuIFsnc20nLCAnbGcnXS5pbmNsdWRlcyh0aGlzLnNpemUpOwogICAgICAgIH0sCiAgICAgICAgY29tcHV0ZWRDbGFzc2VzOiBmdW5jdGlvbiBjb21wdXRlZENsYXNzZXMoKSB7CiAgICAgICAgICByZXR1cm4gWydmb3JtLWdyb3VwJywgewogICAgICAgICAgICAnd2FzLXZhbGlkYXRlZCc6IHRoaXMud2FzVmFsaWRhdGVkLAogICAgICAgICAgICAnZm9ybS1yb3cnOiB0aGlzLmlzSG9yaXpvbnRhbAogICAgICAgICAgfV07CiAgICAgICAgfSwKICAgICAgICBsYWJlbENsYXNzZXM6IGZ1bmN0aW9uIGxhYmVsQ2xhc3NlcygpIHsKICAgICAgICAgIHZhciBfcmVmMjsKCiAgICAgICAgICByZXR1cm4gW3RoaXMuYWRkTGFiZWxDbGFzc2VzLCAoX3JlZjIgPSB7CiAgICAgICAgICAgICdjb2wtZm9ybS1sYWJlbCc6IHRoaXMuaXNIb3Jpem9udGFsCiAgICAgICAgICB9LCBmb3JtX21peGluc19kZWZpbmVQcm9wZXJ0eShfcmVmMiwgdGhpcy5ob3Jpem9udGFsLmxhYmVsIHx8ICdjb2wtc20tMycsIHRoaXMuaXNIb3Jpem9udGFsKSwgZm9ybV9taXhpbnNfZGVmaW5lUHJvcGVydHkoX3JlZjIsICJjb2wtZm9ybS1sYWJlbC0iLmNvbmNhdCh0aGlzLnNpemUpLCB0aGlzLmhhdmVDdXN0b21TaXplKSwgX3JlZjIpXTsKICAgICAgICB9LAogICAgICAgIGN1c3RvbVNpemVDbGFzczogZnVuY3Rpb24gY3VzdG9tU2l6ZUNsYXNzKCkgewogICAgICAgICAgaWYgKHRoaXMuaGF2ZUN1c3RvbVNpemUgJiYgIXRoaXMuaGF2ZVdyYXBwZXIpIHsKICAgICAgICAgICAgcmV0dXJuICJmb3JtLWNvbnRyb2wtIi5jb25jYXQodGhpcy5zaXplKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGlucHV0Q2xhc3NlczogZnVuY3Rpb24gaW5wdXRDbGFzc2VzKCkgewogICAgICAgICAgcmV0dXJuIFt0aGlzLmlucHV0Q2xhc3MgfHwgImZvcm0tY29udHJvbCIuY29uY2F0KHRoaXMucGxhaW50ZXh0ID8gJy1wbGFpbnRleHQnIDogJycpLCB0aGlzLnZhbGlkYXRpb25DbGFzcywgdGhpcy5hZGRJbnB1dENsYXNzZXMsIHRoaXMuY3VzdG9tU2l6ZUNsYXNzXTsKICAgICAgICB9CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9mb3JtL0NJbnB1dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsKICAgICAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307CgogICAgICB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7CgogICAgICB2YXIga2V5LCBpOwoKICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgICAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsKCiAgICAgICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07CiAgICAgICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOwogICAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsKICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQoKICAgIGZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsKICAgICAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307CiAgICAgIHZhciB0YXJnZXQgPSB7fTsKICAgICAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOwogICAgICB2YXIga2V5LCBpOwoKICAgICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBrZXkgPSBzb3VyY2VLZXlzW2ldOwogICAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7CiAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0gLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgoKICAgIHZhciBtaXhpbnMgPSBPYmplY3QudmFsdWVzKGZvcm1fbWl4aW5zX25hbWVzcGFjZU9iamVjdCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENJbnB1dHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NJbnB1dCcsCiAgICAgIHNsb3RzOiBbJ3ByZXBlbmQnLCAncHJlcGVuZC1jb250ZW50JywgJ2FwcGVuZC1jb250ZW50JywgJ2FwcGVuZCcsICdsYWJlbC1hZnRlci1pbnB1dCcsICd2YWxpZC1mZWVkYmFjaycsICdpbnZhbGlkLWZlZWRiYWNrJywgJ2Rlc2NyaXB0aW9uJ10sCiAgICAgIGluaGVyaXRBdHRyczogZmFsc2UsCiAgICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBDRm9ybUdyb3VwOiBDRm9ybUdyb3VwCiAgICAgIH0sCiAgICAgIG1peGluczogbWl4aW5zLAogICAgICBwcm9wczogaW5wdXRQcm9wcywKICAgICAgLy8gSHRtbCBwcm9wczogZGlzYWJsZWQsIHJlcXVpcmVkLCByb3dzLCBjb2xzLCBwbGFjZWhvbGRlcgogICAgICAvLyB7CiAgICAgIC8vICAgdmFsaWRGZWVkYmFjazogU3RyaW5nLAogICAgICAvLyAgIGludmFsaWRGZWVkYmFjazogU3RyaW5nLAogICAgICAvLyAgIHRvb2x0aXBGZWVkYmFjazogQm9vbGVhbiwKICAgICAgLy8gICBkZXNjcmlwdGlvbjogU3RyaW5nLAogICAgICAvLyAgIGFwcGVuZDogU3RyaW5nLAogICAgICAvLyAgIHByZXBlbmQ6IFN0cmluZywKICAgICAgLy8gICBsYWJlbDogU3RyaW5nLAogICAgICAvLyAgIHdhc1ZhbGlkYXRlZDogQm9vbGVhbiwKICAgICAgLy8gICBpc1ZhbGlkOiB7CiAgICAgIC8vICAgICB0eXBlOiBbQm9vbGVhbiwgRnVuY3Rpb25dLAogICAgICAvLyAgICAgZGVmYXVsdDogbnVsbAogICAgICAvLyAgIH0sCiAgICAgIC8vICAgYWRkSW5wdXRDbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XSwKICAgICAgLy8gICBhZGRMYWJlbENsYXNzZXM6IFtTdHJpbmcsIEFycmF5LCBPYmplY3RdLAogICAgICAvLyAgIGhvcml6b250YWw6IFtCb29sZWFuLCBPYmplY3RdLAogICAgICAvLyAgIHNpemU6IHsKICAgICAgLy8gICAgIHR5cGU6IFN0cmluZywKICAgICAgLy8gICAgIHZhbGlkYXRvcjogc3RyID0+IFsnJywnc20nLCdsZyddLmluY2x1ZGVzKHN0cikKICAgICAgLy8gICB9LAogICAgICAvLyAgIGFkZFdyYXBwZXJDbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XSwKICAgICAgLy8gICByZWFkb25seTogQm9vbGVhbiwKICAgICAgLy8gICBwbGFpbnRleHQ6IEJvb2xlYW4sCiAgICAgIC8vICAgdmFsdWU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIC8vICAgbGF6eTogewogICAgICAvLyAgICAgdHlwZTogW0Jvb2xlYW4sIE51bWJlcl0sCiAgICAgIC8vICAgICBkZWZhdWx0OiA0MDAKICAgICAgLy8gICB9LAogICAgICAvLyAgIHR5cGU6IHsKICAgICAgLy8gICAgIHR5cGU6IFN0cmluZywKICAgICAgLy8gICAgIGRlZmF1bHQ6ICd0ZXh0JwogICAgICAvLyAgIH0KICAgICAgLy8gfSwKICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgc3RhdGU6IHRoaXMudmFsdWUsCiAgICAgICAgICBzeW5jVGltZW91dDogbnVsbAogICAgICAgIH07CiAgICAgIH0sCiAgICAgIC8vd2F0Y2hWYWx1ZSBtaXhpbgogICAgICAvLyB3YXRjaDogewogICAgICAvLyAgIHZhbHVlICh2YWwpIHsKICAgICAgLy8gICAgIHRoaXMuc3RhdGUgPSB2YWwKICAgICAgLy8gICB9CiAgICAgIC8vIH0sCiAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgbGlzdGVuZXJzOiBmdW5jdGlvbiBsaXN0ZW5lcnMoKSB7CiAgICAgICAgICB2YXIgX3RoaXMkJGxpc3RlbmVycyA9IHRoaXMuJGxpc3RlbmVycywKICAgICAgICAgICAgICBpbnB1dCA9IF90aGlzJCRsaXN0ZW5lcnMuaW5wdXQsCiAgICAgICAgICAgICAgY2hhbmdlID0gX3RoaXMkJGxpc3RlbmVycy5jaGFuZ2UsCiAgICAgICAgICAgICAgbGlzdGVuZXJzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF90aGlzJCRsaXN0ZW5lcnMsIFsiaW5wdXQiLCAiY2hhbmdlIl0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzCgoKICAgICAgICAgIHJldHVybiBsaXN0ZW5lcnM7CiAgICAgICAgfSAvLyBjbGFzc2VzQ29tcHV0ZWRQcm9wcyBtaXhpbgogICAgICAgIC8vIGhhdmVDdXN0b21TaXplICgpIHsKICAgICAgICAvLyAgIHJldHVybiBbJ3NtJywnbGcnXS5pbmNsdWRlcyh0aGlzLnNpemUpCiAgICAgICAgLy8gfSwKICAgICAgICAvLyBjb21wdXRlZENsYXNzZXMgKCkgewogICAgICAgIC8vICAgcmV0dXJuIFsKICAgICAgICAvLyAgICAgJ2Zvcm0tZ3JvdXAnLAogICAgICAgIC8vICAgICB7CiAgICAgICAgLy8gICAgICAnd2FzLXZhbGlkYXRlZCc6IHRoaXMud2FzVmFsaWRhdGVkLAogICAgICAgIC8vICAgICAgJ2Zvcm0tcm93JzogdGhpcy5pc0hvcml6b250YWwKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vICAgXQogICAgICAgIC8vIH0sCiAgICAgICAgLy8gbGFiZWxDbGFzc2VzICgpIHsKICAgICAgICAvLyAgIHJldHVybiBbCiAgICAgICAgLy8gICAgIHRoaXMuYWRkTGFiZWxDbGFzc2VzLAogICAgICAgIC8vICAgICB7CiAgICAgICAgLy8gICAgICAgJ2NvbC1mb3JtLWxhYmVsJzogdGhpcy5pc0hvcml6b250YWwsCiAgICAgICAgLy8gICAgICAgW3RoaXMuaG9yaXpvbnRhbC5sYWJlbCB8fCAnY29sLXNtLTMnXTogdGhpcy5pc0hvcml6b250YWwsCiAgICAgICAgLy8gICAgICAgW2Bjb2wtZm9ybS1sYWJlbC0ke3RoaXMuc2l6ZX1gXTogdGhpcy5oYXZlQ3VzdG9tU2l6ZSwKICAgICAgICAvLyAgICAgfQogICAgICAgIC8vICAgXQogICAgICAgIC8vIH0sCiAgICAgICAgLy8gY3VzdG9tU2l6ZUNsYXNzICgpIHsKICAgICAgICAvLyAgIGlmICh0aGlzLmhhdmVDdXN0b21TaXplICYmICF0aGlzLmhhdmVXcmFwcGVyKSB7CiAgICAgICAgLy8gICAgIHJldHVybiBgZm9ybS1jb250cm9sLSR7dGhpcy5zaXplfWAKICAgICAgICAvLyAgIH0KICAgICAgICAvLyB9LAogICAgICAgIC8vIGlucHV0Q2xhc3NlcyAoKSB7CiAgICAgICAgLy8gICByZXR1cm4gWwogICAgICAgIC8vICAgICB0aGlzLmlucHV0Q2xhc3MgfHwgYGZvcm0tY29udHJvbCR7dGhpcy5wbGFpbnRleHQgPyAnLXBsYWludGV4dCcgOiAnJ31gLAogICAgICAgIC8vICAgICB0aGlzLnZhbGlkYXRpb25DbGFzcywKICAgICAgICAvLyAgICAgdGhpcy5hZGRJbnB1dENsYXNzZXMsCiAgICAgICAgLy8gICAgIHRoaXMuY3VzdG9tU2l6ZUNsYXNzCiAgICAgICAgLy8gICBdCiAgICAgICAgLy8gfQogICAgICAgIC8vIHZhbGlkYXRpb25Db21wdXRlZFByb3BzIG1peGluCiAgICAgICAgLy8gY29tcHV0ZWRJc1ZhbGlkICgpIHsKICAgICAgICAvLyAgIGlmICh0eXBlb2YgdGhpcy5pc1ZhbGlkID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgLy8gICAgIHJldHVybiB0aGlzLmlzVmFsaWQodGhpcy5zdGF0ZSkKICAgICAgICAvLyAgIH0KICAgICAgICAvLyAgIHJldHVybiB0aGlzLmlzVmFsaWQKICAgICAgICAvLyB9LAogICAgICAgIC8vIHZhbGlkYXRpb25DbGFzcyAoKSB7CiAgICAgICAgLy8gICBpZiAodHlwZW9mIHRoaXMuY29tcHV0ZWRJc1ZhbGlkID09PSAnYm9vbGVhbicpIHsKICAgICAgICAvLyAgICAgcmV0dXJuIHRoaXMuY29tcHV0ZWRJc1ZhbGlkID8gJ2lzLXZhbGlkJyA6ICdpcy1pbnZhbGlkJwogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0KICAgICAgICAvL3dyYXBwZXJDb21wdXRlZFByb3BzIG1peGluCiAgICAgICAgLy8gaXNIb3Jpem9udGFsICgpIHsKICAgICAgICAvLyAgIHJldHVybiBCb29sZWFuKHRoaXMuaG9yaXpvbnRhbCkKICAgICAgICAvLyB9LAogICAgICAgIC8vIGhhdmVJbnB1dEdyb3VwICgpIHsKICAgICAgICAvLyAgIHJldHVybiBCb29sZWFuKAogICAgICAgIC8vICAgICB0aGlzLnRvb2x0aXBGZWVkYmFjayB8fCAKICAgICAgICAvLyAgICAgdGhpcy5hcHBlbmQgfHwKICAgICAgICAvLyAgICAgdGhpcy5wcmVwZW5kIHx8IAogICAgICAgIC8vICAgICB0aGlzLiRzbG90cy5hcHBlbmQgfHwgCiAgICAgICAgLy8gICAgIHRoaXMuJHNsb3RzLnByZXBlbmQgfHwgCiAgICAgICAgLy8gICAgIHRoaXMuJHNsb3RzWydhcHBlbmQtY29udGVudCddIHx8CiAgICAgICAgLy8gICAgIHRoaXMuJHNsb3RzWydwcmVwZW5kLWNvbnRlbnQnXQogICAgICAgIC8vICAgKQogICAgICAgIC8vIH0sCiAgICAgICAgLy8gaGF2ZVdyYXBwZXIgKCkgewogICAgICAgIC8vICAgcmV0dXJuIHRoaXMuaGF2ZUlucHV0R3JvdXAgfHwgQm9vbGVhbih0aGlzLmFkZFdyYXBwZXJDbGFzc2VzIHx8IHRoaXMuaXNIb3Jpem9udGFsKQogICAgICAgIC8vIH0sCiAgICAgICAgLy8gd3JhcHBlckNsYXNzZXMgKCkgewogICAgICAgIC8vICAgaWYgKHRoaXMuaGF2ZVdyYXBwZXIpIHsKICAgICAgICAvLyAgICAgcmV0dXJuIFsKICAgICAgICAvLyAgICAgICB0aGlzLmFkZFdyYXBwZXJDbGFzc2VzLAogICAgICAgIC8vICAgICAgIHsKICAgICAgICAvLyAgICAgICAgIFt0aGlzLmhvcml6b250YWwuaW5wdXQgfHwgJ2NvbC1zbS05J10gOiB0aGlzLmlzSG9yaXpvbnRhbCwKICAgICAgICAvLyAgICAgICAgICdpbnB1dC1ncm91cCcgOiB0aGlzLmhhdmVJbnB1dEdyb3VwLAogICAgICAgIC8vICAgICAgICAgW2BpbnB1dC1ncm91cC0ke3RoaXMuc2l6ZX1gXTogdGhpcy5oYXZlQ3VzdG9tU2l6ZQogICAgICAgIC8vICAgICAgIH0KICAgICAgICAvLyAgICAgXQogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0KCiAgICAgIH0sCiAgICAgIG1ldGhvZHM6IHsKICAgICAgICBvbklucHV0OiBmdW5jdGlvbiBvbklucHV0KGUpIHsKICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgICAgdGhpcy5zdGF0ZSA9IGUudGFyZ2V0LnZhbHVlOwogICAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLnN0YXRlLCBlKTsKCiAgICAgICAgICBpZiAodGhpcy5sYXp5ID09PSB0cnVlKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zeW5jVGltZW91dCk7CiAgICAgICAgICB0aGlzLnN5bmNUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLiRlbWl0KCd1cGRhdGU6dmFsdWUnLCBfdGhpcy5zdGF0ZSwgZSk7CiAgICAgICAgICB9LCB0aGlzLmxhenkgIT09IGZhbHNlID8gdGhpcy5sYXp5IDogMCk7CiAgICAgICAgfSwKICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgICAgdGhpcy5zdGF0ZSA9IGUudGFyZ2V0LnZhbHVlOwogICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdGhpcy5zdGF0ZSwgZSk7CiAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dmFsdWUnLCB0aGlzLnN0YXRlLCBlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvZm9ybS9DSW5wdXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgZm9ybV9DSW5wdXR2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDSW5wdXR2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvZm9ybS9DSW5wdXQudnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDSW5wdXRfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKShmb3JtX0NJbnB1dHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0lucHV0dnVlX3R5cGVfdGVtcGxhdGVfaWRfMTNiY2Q1ZDJfcmVuZGVyLCBDSW5wdXR2dWVfdHlwZV90ZW1wbGF0ZV9pZF8xM2JjZDVkMl9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0lucHV0ID0gQ0lucHV0X2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvZm9ybS9DSW5wdXRDaGVja2JveC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9ZWY0ZTJmMDgmCgogICAgdmFyIENJbnB1dENoZWNrYm94dnVlX3R5cGVfdGVtcGxhdGVfaWRfZWY0ZTJmMDhfcmVuZGVyID0gZnVuY3Rpb24gQ0lucHV0Q2hlY2tib3h2dWVfdHlwZV90ZW1wbGF0ZV9pZF9lZjRlMmYwOF9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdDRm9ybUdyb3VwJywgX3ZtLl9iKHsKICAgICAgICBzY29wZWRTbG90czogX3ZtLl91KFt7CiAgICAgICAgICBrZXk6ICJpbnB1dCIsCiAgICAgICAgICBmbjogZnVuY3Rpb24gZm4oKSB7CiAgICAgICAgICAgIHJldHVybiBbX2MoJ2lucHV0JywgX3ZtLl9nKF92bS5fYih7CiAgICAgICAgICAgICAgY2xhc3M6IF92bS5pbnB1dENsYXNzZXMsCiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICJpZCI6IF92bS5zYWZlSWQsCiAgICAgICAgICAgICAgICAidHlwZSI6IF92bS4kb3B0aW9ucy50eXBlCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBkb21Qcm9wczogewogICAgICAgICAgICAgICAgImNoZWNrZWQiOiBfdm0uc3RhdGUKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAiY2hhbmdlIjogZnVuY3Rpb24gY2hhbmdlKCRldmVudCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uQ2hhbmdlKCRldmVudCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAnaW5wdXQnLCBfdm0uJGF0dHJzLCBmYWxzZSksIF92bS4kbGlzdGVuZXJzKSldOwogICAgICAgICAgfSwKICAgICAgICAgIHByb3h5OiB0cnVlCiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAibGFiZWwtYWZ0ZXItaW5wdXQiLAogICAgICAgICAgZm46IGZ1bmN0aW9uIGZuKCkgewogICAgICAgICAgICByZXR1cm4gW192bS5fdCgibGFiZWwiLCBbX3ZtLmxhYmVsIHx8IF92bS5jdXN0b20gPyBfYygnbGFiZWwnLCB7CiAgICAgICAgICAgICAgY2xhc3M6IF92bS5sYWJlbENsYXNzZXMsCiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICJmb3IiOiBfdm0uc2FmZUlkCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBbX3ZtLl92KCIgIiArIF92bS5fcyhfdm0ubGFiZWwpICsgIiAiKV0pIDogX3ZtLl9lKCldKV07CiAgICAgICAgICB9LAogICAgICAgICAgcHJveHk6IHRydWUKICAgICAgICB9LCBfdm0uX2woWyd2YWxpZC1mZWVkYmFjaycsICdpbnZhbGlkLWZlZWRiYWNrJywgJ2Rlc2NyaXB0aW9uJ10sIGZ1bmN0aW9uIChzbG90KSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBrZXk6IHNsb3QsCiAgICAgICAgICAgIGZuOiBmdW5jdGlvbiBmbigpIHsKICAgICAgICAgICAgICByZXR1cm4gW192bS5fdChzbG90KV07CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHByb3h5OiB0cnVlCiAgICAgICAgICB9OwogICAgICAgIH0pXSwgbnVsbCwgdHJ1ZSkKICAgICAgfSwgJ0NGb3JtR3JvdXAnLCB7CiAgICAgICAgdmFsaWRGZWVkYmFjazogX3ZtLnZhbGlkRmVlZGJhY2ssCiAgICAgICAgaW52YWxpZEZlZWRiYWNrOiBfdm0uaW52YWxpZEZlZWRiYWNrLAogICAgICAgIHRvb2x0aXBGZWVkYmFjazogX3ZtLnRvb2x0aXBGZWVkYmFjaywKICAgICAgICBkZXNjcmlwdGlvbjogX3ZtLmRlc2NyaXB0aW9uLAogICAgICAgIGNsYXNzOiBfdm0uY29tcHV0ZWRDbGFzc2VzCiAgICAgIH0sIGZhbHNlKSk7CiAgICB9OwoKICAgIHZhciBDSW5wdXRDaGVja2JveHZ1ZV90eXBlX3RlbXBsYXRlX2lkX2VmNGUyZjA4X3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvZm9ybS9DSW5wdXRDaGVja2JveC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ0lucHV0Q2hlY2tib3h2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICAgICAgaWYgKGtleSBpbiBvYmopIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgICB3cml0YWJsZTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIG9ialtrZXldID0gdmFsdWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBvYmo7CiAgICB9IC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIENJbnB1dENoZWNrYm94dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ0lucHV0Q2hlY2tib3gnLAogICAgICBpbmhlcml0QXR0cnM6IGZhbHNlLAogICAgICBjb21wb25lbnRzOiB7CiAgICAgICAgQ0Zvcm1Hcm91cDogQ0Zvcm1Hcm91cAogICAgICB9LAogICAgICBtaXhpbnM6IFtzaGFyZWRDb21wdXRlZFByb3BzXSwKICAgICAgcHJvcHM6IGlucHV0Q2hlY2tib3hQcm9wcywKICAgICAgLy8gewogICAgICAvLyB2YWxpZEZlZWRiYWNrOiBTdHJpbmcsCiAgICAgIC8vIGludmFsaWRGZWVkYmFjazogU3RyaW5nLAogICAgICAvLyB0b29sdGlwRmVlZGJhY2s6IEJvb2xlYW4sCiAgICAgIC8vIGRlc2NyaXB0aW9uOiBTdHJpbmcsCiAgICAgIC8vIGxhYmVsOiBTdHJpbmcsCiAgICAgIC8vIHdhc1ZhbGlkYXRlZDogQm9vbGVhbiwKICAgICAgLy8gaXNWYWxpZDogewogICAgICAvLyAgIHR5cGU6IFtCb29sZWFuLCBGdW5jdGlvbl0sCiAgICAgIC8vICAgZGVmYXVsdDogbnVsbAogICAgICAvLyB9LAogICAgICAvLyBhZGRJbnB1dENsYXNzZXM6IFtTdHJpbmcsIEFycmF5LCBPYmplY3RdLAogICAgICAvLyBhZGRMYWJlbENsYXNzZXM6IFtTdHJpbmcsIEFycmF5LCBPYmplY3RdLAogICAgICAvLyBjaGVja2VkOiBCb29sZWFuLAogICAgICAvLyBjdXN0b206IEJvb2xlYW4sCiAgICAgIC8vIGlubGluZTogQm9vbGVhbgogICAgICAvLyB9LAogICAgICB0eXBlOiAnY2hlY2tib3gnLAogICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBzdGF0ZTogdW5kZWZpbmVkCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgd2F0Y2g6IHsKICAgICAgICBjaGVja2VkOiB7CiAgICAgICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgICAgICB0aGlzLnN0YXRlID0gdmFsOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgY29tcHV0ZWQ6IHsKICAgICAgICBjdXN0b21UeXBlOiBmdW5jdGlvbiBjdXN0b21UeXBlKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuJG9wdGlvbnMudHlwZSA9PT0gJ2NoZWNrYm94JyA/ICdjaGVja2JveCcgOiAncmFkaW8nOwogICAgICAgIH0sCiAgICAgICAgY29tcHV0ZWRDbGFzc2VzOiBmdW5jdGlvbiBjb21wdXRlZENsYXNzZXMoKSB7CiAgICAgICAgICB2YXIgX3JlZjsKCiAgICAgICAgICB2YXIgY29udHJvbENsYXNzID0gdGhpcy5jdXN0b20gPyAnY3VzdG9tLWNvbnRyb2wnIDogJ2Zvcm0tY2hlY2snOwogICAgICAgICAgcmV0dXJuIF9yZWYgPSB7fSwgQ0lucHV0Q2hlY2tib3h2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfcmVmLCAiIi5jb25jYXQoY29udHJvbENsYXNzKSwgdHJ1ZSksIENJbnB1dENoZWNrYm94dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZiwgIiIuY29uY2F0KGNvbnRyb2xDbGFzcywgIi1pbmxpbmUiKSwgdGhpcy5pbmxpbmUpLCBDSW5wdXRDaGVja2JveHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYsICJjdXN0b20tIi5jb25jYXQodGhpcy5jdXN0b21UeXBlKSwgdGhpcy5jdXN0b20pLCBDSW5wdXRDaGVja2JveHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYsICd3YXMtdmFsaWRhdGVkJywgdGhpcy53YXNWYWxpZGF0ZWQpLCBfcmVmOwogICAgICAgIH0sCiAgICAgICAgbGFiZWxDbGFzc2VzOiBmdW5jdGlvbiBsYWJlbENsYXNzZXMoKSB7CiAgICAgICAgICByZXR1cm4gW3RoaXMuYWRkTGFiZWxDbGFzc2VzLCB0aGlzLmN1c3RvbSA/ICdjdXN0b20tY29udHJvbC1sYWJlbCcgOiAnZm9ybS1jaGVjay1sYWJlbCddOwogICAgICAgIH0sCiAgICAgICAgaW5wdXRDbGFzc2VzOiBmdW5jdGlvbiBpbnB1dENsYXNzZXMoKSB7CiAgICAgICAgICByZXR1cm4gW3RoaXMuY3VzdG9tID8gJ2N1c3RvbS1jb250cm9sLWlucHV0JyA6ICdmb3JtLWNoZWNrLWlucHV0JywgdGhpcy52YWxpZGF0aW9uQ2xhc3MsIHRoaXMuYWRkSW5wdXRDbGFzc2VzXTsKICAgICAgICB9IC8vIHZhbGlkYXRpb25Db21wdXRlZFByb3BzIG1peGluCiAgICAgICAgLy8gY29tcHV0ZWRJc1ZhbGlkICgpIHsKICAgICAgICAvLyAgIGlmICh0eXBlb2YgdGhpcy5pc1ZhbGlkID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgLy8gICAgIHJldHVybiB0aGlzLmlzVmFsaWQodGhpcy5zdGF0ZSkKICAgICAgICAvLyAgIH0KICAgICAgICAvLyAgIHJldHVybiB0aGlzLmlzVmFsaWQKICAgICAgICAvLyB9LAogICAgICAgIC8vIHZhbGlkYXRpb25DbGFzcyAoKSB7CiAgICAgICAgLy8gICBpZiAodHlwZW9mIHRoaXMuY29tcHV0ZWRJc1ZhbGlkID09PSAnYm9vbGVhbicpIHsKICAgICAgICAvLyAgICAgcmV0dXJuIHRoaXMuY29tcHV0ZWRJc1ZhbGlkID8gJ2lzLXZhbGlkJyA6ICdpcy1pbnZhbGlkJwogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0KCiAgICAgIH0sCiAgICAgIG1ldGhvZHM6IHsKICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgICAgdGhpcy5zdGF0ZSA9IGUudGFyZ2V0LmNoZWNrZWQ7CiAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6Y2hlY2tlZCcsIGUudGFyZ2V0LmNoZWNrZWQsIGUpOwogICAgICAgIH0KICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9mb3JtL0NJbnB1dENoZWNrYm94LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIGZvcm1fQ0lucHV0Q2hlY2tib3h2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDSW5wdXRDaGVja2JveHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9mb3JtL0NJbnB1dENoZWNrYm94LnZ1ZQoKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0lucHV0Q2hlY2tib3hfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKShmb3JtX0NJbnB1dENoZWNrYm94dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDSW5wdXRDaGVja2JveHZ1ZV90eXBlX3RlbXBsYXRlX2lkX2VmNGUyZjA4X3JlbmRlciwgQ0lucHV0Q2hlY2tib3h2dWVfdHlwZV90ZW1wbGF0ZV9pZF9lZjRlMmYwOF9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0lucHV0Q2hlY2tib3ggPSBDSW5wdXRDaGVja2JveF9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzP3siY2FjaGVEaXJlY3RvcnkiOiJub2RlX21vZHVsZXMvLmNhY2hlL3Z1ZS1sb2FkZXIiLCJjYWNoZUlkZW50aWZpZXIiOiI0ODc1MDdiOS12dWUtbG9hZGVyLXRlbXBsYXRlIn0hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy90ZW1wbGF0ZUxvYWRlci5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2Zvcm0vQ0lucHV0RmlsZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDlmNDJkNGUmCgogICAgdmFyIENJbnB1dEZpbGV2dWVfdHlwZV90ZW1wbGF0ZV9pZF8wOWY0MmQ0ZV9yZW5kZXIgPSBmdW5jdGlvbiBDSW5wdXRGaWxldnVlX3R5cGVfdGVtcGxhdGVfaWRfMDlmNDJkNGVfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygnQ0Zvcm1Hcm91cCcsIF92bS5fYih7CiAgICAgICAgc2NvcGVkU2xvdHM6IF92bS5fdShbewogICAgICAgICAga2V5OiAibGFiZWwiLAogICAgICAgICAgZm46IGZ1bmN0aW9uIGZuKCkgewogICAgICAgICAgICByZXR1cm4gW192bS5fdCgibGFiZWwiLCBbX3ZtLmxhYmVsID8gX2MoJ2xhYmVsJywgewogICAgICAgICAgICAgIGNsYXNzOiBfdm0ubGFiZWxDbGFzc2VzLAogICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAiZm9yIjogX3ZtLnNhZmVJZAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgW192bS5fdigiICIgKyBfdm0uX3MoX3ZtLmxhYmVsKSArICIgIildKSA6IF92bS5fZSgpXSldOwogICAgICAgICAgfSwKICAgICAgICAgIHByb3h5OiB0cnVlCiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiaW5wdXQiLAogICAgICAgICAgZm46IGZ1bmN0aW9uIGZuKCkgewogICAgICAgICAgICByZXR1cm4gW19jKCdpbnB1dCcsIF92bS5fZyhfdm0uX2IoewogICAgICAgICAgICAgIGNsYXNzOiBfdm0uaW5wdXRDbGFzc2VzLAogICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAiaWQiOiBfdm0uc2FmZUlkLAogICAgICAgICAgICAgICAgIm11bHRpcGxlIjogX3ZtLm11bHRpcGxlLAogICAgICAgICAgICAgICAgInR5cGUiOiAiZmlsZSIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAiY2hhbmdlIjogZnVuY3Rpb24gY2hhbmdlKCRldmVudCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uQ2hhbmdlKCRldmVudCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAnaW5wdXQnLCBfdm0uJGF0dHJzLCBmYWxzZSksIF92bS5saXN0ZW5lcnMpKSwgX3ZtLmN1c3RvbSA/IF9jKCdsYWJlbCcsIHsKICAgICAgICAgICAgICBzdGF0aWNDbGFzczogImN1c3RvbS1maWxlLWxhYmVsIiwKICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgImZvciI6IF92bS5zYWZlSWQKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIFtfdm0uX3YoIiAiICsgX3ZtLl9zKF92bS5jb21wdXRlZFBsYWNlaG9sZGVyKSArICIgIildKSA6IF92bS5fZSgpXTsKICAgICAgICAgIH0sCiAgICAgICAgICBwcm94eTogdHJ1ZQogICAgICAgIH0sIF92bS5fbChfdm0uJG9wdGlvbnMuc2xvdHMsIGZ1bmN0aW9uIChzbG90KSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBrZXk6IHNsb3QsCiAgICAgICAgICAgIGZuOiBmdW5jdGlvbiBmbigpIHsKICAgICAgICAgICAgICByZXR1cm4gW192bS5fdChzbG90KV07CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHByb3h5OiB0cnVlCiAgICAgICAgICB9OwogICAgICAgIH0pXSwgbnVsbCwgdHJ1ZSkKICAgICAgfSwgJ0NGb3JtR3JvdXAnLCB7CiAgICAgICAgdmFsaWRGZWVkYmFjazogX3ZtLnZhbGlkRmVlZGJhY2ssCiAgICAgICAgaW52YWxpZEZlZWRiYWNrOiBfdm0uaW52YWxpZEZlZWRiYWNrLAogICAgICAgIHRvb2x0aXBGZWVkYmFjazogX3ZtLnRvb2x0aXBGZWVkYmFjaywKICAgICAgICBkZXNjcmlwdGlvbjogX3ZtLmRlc2NyaXB0aW9uLAogICAgICAgIHdyYXBwZXJDbGFzc2VzOiBfdm0ud3JhcHBlckNsYXNzZXMsCiAgICAgICAgY2xhc3M6IF92bS5jb21wdXRlZENsYXNzZXMKICAgICAgfSwgZmFsc2UpKTsKICAgIH07CgogICAgdmFyIENJbnB1dEZpbGV2dWVfdHlwZV90ZW1wbGF0ZV9pZF8wOWY0MmQ0ZV9zdGF0aWNSZW5kZXJGbnMgPSBbXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2Zvcm0vQ0lucHV0RmlsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ0lucHV0RmlsZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsKICAgICAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307CiAgICAgIHZhciB0YXJnZXQgPSBDSW5wdXRGaWxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsKICAgICAgdmFyIGtleSwgaTsKCiAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICAgICAgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7CgogICAgICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOwogICAgICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsKICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7CiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KCiAgICBmdW5jdGlvbiBDSW5wdXRGaWxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7CiAgICAgIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OwogICAgICB2YXIgdGFyZ2V0ID0ge307CiAgICAgIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsKICAgICAgdmFyIGtleSwgaTsKCiAgICAgIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAga2V5ID0gc291cmNlS2V5c1tpXTsKICAgICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOwogICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07CiAgICAgIH0KCiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9IC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgoKICAgIHZhciBDSW5wdXRGaWxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfbWl4aW5zID0gT2JqZWN0LnZhbHVlcyhmb3JtX21peGluc19uYW1lc3BhY2VPYmplY3QpLmZpbHRlcihmdW5jdGlvbiAoaSwga2V5KSB7CiAgICAgIHJldHVybiBrZXkgIT09ICd3YXRjaFZhbHVlJzsKICAgIH0pOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDSW5wdXRGaWxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ0lucHV0RmlsZScsCiAgICAgIGluaGVyaXRBdHRyczogZmFsc2UsCiAgICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBDRm9ybUdyb3VwOiBDRm9ybUdyb3VwCiAgICAgIH0sCiAgICAgIG1peGluczogQ0lucHV0RmlsZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX21peGlucywKICAgICAgc2xvdHM6IFsnbGFiZWwtYWZ0ZXItaW5wdXQnLCAndmFsaWQtZmVlZGJhY2snLCAnaW52YWxpZC1mZWVkYmFjaycsICdkZXNjcmlwdGlvbiddLAogICAgICBwcm9wczogaW5wdXRGaWxlUHJvcHMsCiAgICAgIC8vIHsKICAgICAgLy8gdmFsaWRGZWVkYmFjazogU3RyaW5nLAogICAgICAvLyBpbnZhbGlkRmVlZGJhY2s6IFN0cmluZywKICAgICAgLy8gdG9vbHRpcEZlZWRiYWNrOiBCb29sZWFuLAogICAgICAvLyBkZXNjcmlwdGlvbjogU3RyaW5nLAogICAgICAvLyBsYWJlbDogU3RyaW5nLAogICAgICAvLyB3YXNWYWxpZGF0ZWQ6IEJvb2xlYW4sCiAgICAgIC8vIGlzVmFsaWQ6IHsKICAgICAgLy8gICB0eXBlOiBbQm9vbGVhbiwgRnVuY3Rpb25dLAogICAgICAvLyAgIGRlZmF1bHQ6IG51bGwKICAgICAgLy8gfSwKICAgICAgLy8gYWRkSW5wdXRDbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XSwKICAgICAgLy8gYWRkTGFiZWxDbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XSwKICAgICAgLy8gaG9yaXpvbnRhbDogW0Jvb2xlYW4sIE9iamVjdF0sCiAgICAgIC8vIHNpemU6IHsKICAgICAgLy8gICB0eXBlOiBTdHJpbmcsCiAgICAgIC8vICAgdmFsaWRhdG9yOiBzdHIgPT4gWycnLCdzbScsJ2xnJ10uaW5jbHVkZXMoc3RyKQogICAgICAvLyB9LAogICAgICAvLyBhZGRXcmFwcGVyQ2xhc3NlczogW1N0cmluZywgQXJyYXksIE9iamVjdF0sCiAgICAgIC8vIGN1c3RvbTogQm9vbGVhbiwKICAgICAgLy8gcGxhY2Vob2xkZXI6IFN0cmluZywKICAgICAgLy8gbXVsdGlwbGU6IEJvb2xlYW4KICAgICAgLy8gfSwKICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgc3RhdGU6IG51bGwKICAgICAgICB9OwogICAgICB9LAogICAgICBjb21wdXRlZDogewogICAgICAgIGNvbXB1dGVkUGxhY2Vob2xkZXI6IGZ1bmN0aW9uIGNvbXB1dGVkUGxhY2Vob2xkZXIoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5wbGFjZWhvbGRlciB8fCAiQ2hvb3NlIGZpbGUiLmNvbmNhdCh0aGlzLm11bHRpcGxlID8gJ3MnIDogJycsICIuLi4iKTsKICAgICAgICB9LAogICAgICAgIC8vIGNsYXNzZXNDb21wdXRlZFByb3BzIG1peGluCiAgICAgICAgLy8gaGF2ZUN1c3RvbVNpemUgKCkgewogICAgICAgIC8vICAgcmV0dXJuIFsnc20nLCdsZyddLmluY2x1ZGVzKHRoaXMuc2l6ZSkKICAgICAgICAvLyB9LAogICAgICAgIGNvbXB1dGVkQ2xhc3NlczogZnVuY3Rpb24gY29tcHV0ZWRDbGFzc2VzKCkgewogICAgICAgICAgcmV0dXJuIFt0aGlzLmlzSG9yaXpvbnRhbCA/ICdmb3JtLXJvdycgOiB0aGlzLmN1c3RvbSA/ICdjdXN0b20tZmlsZScgOiAnZm9ybS1ncm91cCBwb3NpdGlvbi1yZWxhdGl2ZScsIHsKICAgICAgICAgICAgJ3dhcy12YWxpZGF0ZWQnOiB0aGlzLndhc1ZhbGlkYXRlZAogICAgICAgICAgfV07CiAgICAgICAgfSwKICAgICAgICAvLyBsYWJlbENsYXNzZXMgKCkgewogICAgICAgIC8vICAgcmV0dXJuIFsKICAgICAgICAvLyAgICAgdGhpcy5hZGRMYWJlbENsYXNzZXMsCiAgICAgICAgLy8gICAgIHsKICAgICAgICAvLyAgICAgICAnY29sLWZvcm0tbGFiZWwnOiB0aGlzLmlzSG9yaXpvbnRhbCwKICAgICAgICAvLyAgICAgICBbdGhpcy5ob3Jpem9udGFsLmxhYmVsIHx8ICdjb2wtc20tMyddOiB0aGlzLmlzSG9yaXpvbnRhbCwKICAgICAgICAvLyAgICAgICBbYGNvbC1mb3JtLWxhYmVsLSR7dGhpcy5zaXplfWBdOiB0aGlzLmhhdmVDdXN0b21TaXplLAogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICBdCiAgICAgICAgLy8gfSwKICAgICAgICAvLyBjdXN0b21TaXplQ2xhc3MgKCkgewogICAgICAgIC8vICAgaWYgKHRoaXMuaGF2ZUN1c3RvbVNpemUgJiYgIXRoaXMuaGF2ZVdyYXBwZXIpIHsKICAgICAgICAvLyAgICAgcmV0dXJuIGBmb3JtLWNvbnRyb2wtJHt0aGlzLnNpemV9YAogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0sCiAgICAgICAgaW5wdXRDbGFzczogZnVuY3Rpb24gaW5wdXRDbGFzcygpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbSA/ICdjdXN0b20tZmlsZS1pbnB1dCcgOiAnZm9ybS1jb250cm9sLWZpbGUnOwogICAgICAgIH0sCiAgICAgICAgLy8gaW5wdXRDbGFzc2VzICgpIHsKICAgICAgICAvLyAgIHJldHVybiBbCiAgICAgICAgLy8gICAgIHRoaXMuaW5wdXRDbGFzcyB8fCBgZm9ybS1jb250cm9sJHt0aGlzLnBsYWludGV4dCA/ICctcGxhaW50ZXh0JyA6ICcnfWAsCiAgICAgICAgLy8gICAgIHRoaXMudmFsaWRhdGlvbkNsYXNzLAogICAgICAgIC8vICAgICB0aGlzLmFkZElucHV0Q2xhc3NlcywKICAgICAgICAvLyAgICAgdGhpcy5jdXN0b21TaXplQ2xhc3MKICAgICAgICAvLyAgIF0KICAgICAgICAvLyB9CiAgICAgICAgLy8gdmFsaWRhdGlvbkNvbXB1dGVkUHJvcHMgbWl4aW4KICAgICAgICAvLyBjb21wdXRlZElzVmFsaWQgKCkgewogICAgICAgIC8vICAgaWYgKHR5cGVvZiB0aGlzLmlzVmFsaWQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAvLyAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZCh0aGlzLnN0YXRlKQogICAgICAgIC8vICAgfQogICAgICAgIC8vICAgcmV0dXJuIHRoaXMuaXNWYWxpZAogICAgICAgIC8vIH0sCiAgICAgICAgLy8gdmFsaWRhdGlvbkNsYXNzICgpIHsKICAgICAgICAvLyAgIGlmICh0eXBlb2YgdGhpcy5jb21wdXRlZElzVmFsaWQgPT09ICdib29sZWFuJykgewogICAgICAgIC8vICAgICByZXR1cm4gdGhpcy5jb21wdXRlZElzVmFsaWQgPyAnaXMtdmFsaWQnIDogJ2lzLWludmFsaWQnCiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gfQogICAgICAgIC8vd3JhcHBlckNvbXB1dGVkUHJvcHMgbWl4aW4KICAgICAgICAvLyBpc0hvcml6b250YWwgKCkgewogICAgICAgIC8vICAgcmV0dXJuIEJvb2xlYW4odGhpcy5ob3Jpem9udGFsKQogICAgICAgIC8vIH0sCiAgICAgICAgaGF2ZUlucHV0R3JvdXA6IGZ1bmN0aW9uIGhhdmVJbnB1dEdyb3VwKCkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgbGlzdGVuZXJzOiBmdW5jdGlvbiBsaXN0ZW5lcnMoKSB7CiAgICAgICAgICB2YXIgX3RoaXMkJGxpc3RlbmVycyA9IHRoaXMuJGxpc3RlbmVycywKICAgICAgICAgICAgICBjaGFuZ2UgPSBfdGhpcyQkbGlzdGVuZXJzLmNoYW5nZSwKICAgICAgICAgICAgICBsaXN0ZW5lcnMgPSBDSW5wdXRGaWxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3RoaXMkJGxpc3RlbmVycywgWyJjaGFuZ2UiXSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMKCiAgICAgICAgICByZXR1cm4gbGlzdGVuZXJzOwogICAgICAgIH0gLy8gaGF2ZVdyYXBwZXIgKCkgewogICAgICAgIC8vICAgcmV0dXJuIHRoaXMuaGF2ZUlucHV0R3JvdXAgfHwgQm9vbGVhbih0aGlzLmFkZFdyYXBwZXJDbGFzc2VzIHx8IHRoaXMuaXNIb3Jpem9udGFsKQogICAgICAgIC8vIH0sCiAgICAgICAgLy8gd3JhcHBlckNsYXNzZXMgKCkgewogICAgICAgIC8vICAgaWYgKHRoaXMuaGF2ZVdyYXBwZXIpIHsKICAgICAgICAvLyAgICAgcmV0dXJuIFsKICAgICAgICAvLyAgICAgICB0aGlzLmFkZFdyYXBwZXJDbGFzc2VzLAogICAgICAgIC8vICAgICAgIHsKICAgICAgICAvLyAgICAgICAgIFt0aGlzLmhvcml6b250YWwuaW5wdXQgfHwgJ2NvbC1zbS05J10gOiB0aGlzLmlzSG9yaXpvbnRhbCwKICAgICAgICAvLyAgICAgICAgICdpbnB1dC1ncm91cCcgOiB0aGlzLmhhdmVJbnB1dEdyb3VwLAogICAgICAgIC8vICAgICAgICAgW2BpbnB1dC1ncm91cC0ke3RoaXMuc2l6ZX1gXTogdGhpcy5oYXZlQ3VzdG9tU2l6ZQogICAgICAgIC8vICAgICAgIH0KICAgICAgICAvLyAgICAgXQogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0KCiAgICAgIH0sCiAgICAgIG1ldGhvZHM6IHsKICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgICAgdGhpcy5zdGF0ZSA9IGUudGFyZ2V0LmZpbGVzOwogICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgZS50YXJnZXQuZmlsZXMsIGUpOwogICAgICAgIH0KICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9mb3JtL0NJbnB1dEZpbGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgZm9ybV9DSW5wdXRGaWxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0lucHV0RmlsZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9mb3JtL0NJbnB1dEZpbGUudnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDSW5wdXRGaWxlX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkoZm9ybV9DSW5wdXRGaWxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDSW5wdXRGaWxldnVlX3R5cGVfdGVtcGxhdGVfaWRfMDlmNDJkNGVfcmVuZGVyLCBDSW5wdXRGaWxldnVlX3R5cGVfdGVtcGxhdGVfaWRfMDlmNDJkNGVfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENJbnB1dEZpbGUgPSBDSW5wdXRGaWxlX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvZm9ybS9DSW5wdXRSYWRpby52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDSW5wdXRSYWRpb3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NJbnB1dFJhZGlvJywKICAgICAgZXh0ZW5kczogQ0lucHV0Q2hlY2tib3gsCiAgICAgIHR5cGU6ICdyYWRpbycKICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvZm9ybS9DSW5wdXRSYWRpby52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBmb3JtX0NJbnB1dFJhZGlvdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0lucHV0UmFkaW92dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvZm9ybS9DSW5wdXRSYWRpby52dWUKCiAgICB2YXIgQ0lucHV0UmFkaW9fcmVuZGVyLCBDSW5wdXRSYWRpb19zdGF0aWNSZW5kZXJGbnM7CiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENJbnB1dFJhZGlvX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkoZm9ybV9DSW5wdXRSYWRpb3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0lucHV0UmFkaW9fcmVuZGVyLCBDSW5wdXRSYWRpb19zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0lucHV0UmFkaW8gPSBDSW5wdXRSYWRpb19jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzP3siY2FjaGVEaXJlY3RvcnkiOiJub2RlX21vZHVsZXMvLmNhY2hlL3Z1ZS1sb2FkZXIiLCJjYWNoZUlkZW50aWZpZXIiOiI0ODc1MDdiOS12dWUtbG9hZGVyLXRlbXBsYXRlIn0hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy90ZW1wbGF0ZUxvYWRlci5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2Zvcm0vQ0lucHV0UmFkaW9Hcm91cC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9OGExOWQ3YTYmCgogICAgdmFyIENJbnB1dFJhZGlvR3JvdXB2dWVfdHlwZV90ZW1wbGF0ZV9pZF84YTE5ZDdhNl9yZW5kZXIgPSBmdW5jdGlvbiBDSW5wdXRSYWRpb0dyb3VwdnVlX3R5cGVfdGVtcGxhdGVfaWRfOGExOWQ3YTZfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygnZGl2JywgewogICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAnZm9ybS1pbmxpbmUnOiBfdm0uaW5saW5lCiAgICAgICAgfQogICAgICB9LCBfdm0uX2woX3ZtLmNvbXB1dGVkT3B0aW9ucywgZnVuY3Rpb24gKHJlZiwga2V5KSB7CiAgICAgICAgdmFyIHZhbHVlID0gcmVmLnZhbHVlOwogICAgICAgIHZhciBsYWJlbCA9IHJlZi5sYWJlbDsKICAgICAgICB2YXIgcHJvcHMgPSByZWYucHJvcHM7CiAgICAgICAgcmV0dXJuIF9jKCdDSW5wdXRSYWRpbycsIF92bS5fYih7CiAgICAgICAgICBrZXk6IGtleSwKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICJsYWJlbCI6IGxhYmVsLAogICAgICAgICAgICAibmFtZSI6IF92bS5ncm91cE5hbWUsCiAgICAgICAgICAgICJ2YWx1ZSI6IHZhbHVlLAogICAgICAgICAgICAiY2hlY2tlZCI6IF92bS5jaGVja2VkID09PSB2YWx1ZSwKICAgICAgICAgICAgImN1c3RvbSI6IF92bS5jdXN0b20sCiAgICAgICAgICAgICJpbmxpbmUiOiBfdm0uaW5saW5lCiAgICAgICAgICB9LAogICAgICAgICAgb246IHsKICAgICAgICAgICAgImNoYW5nZSI6IGZ1bmN0aW9uIGNoYW5nZSgkZXZlbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX3ZtLmNoYW5nZSgkZXZlbnQsIHZhbHVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sICdDSW5wdXRSYWRpbycsIHByb3BzLCBmYWxzZSkpOwogICAgICB9KSwgMSk7CiAgICB9OwoKICAgIHZhciBDSW5wdXRSYWRpb0dyb3VwdnVlX3R5cGVfdGVtcGxhdGVfaWRfOGExOWQ3YTZfc3RhdGljUmVuZGVyRm5zID0gW107IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9mb3JtL0NJbnB1dFJhZGlvR3JvdXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgICAgICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7CgogICAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgewogICAgICAgIF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsKICAgICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgcmV0dXJuIF90eXBlb2Yob2JqKTsKICAgIH0gLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICB2YXIgQ0lucHV0UmFkaW9Hcm91cHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NJbnB1dFJhZGlvR3JvdXAnLAogICAgICBjb21wb25lbnRzOiB7CiAgICAgICAgQ0lucHV0UmFkaW86IENJbnB1dFJhZGlvCiAgICAgIH0sCiAgICAgIHByb3BzOiB7CiAgICAgICAgb3B0aW9uczogewogICAgICAgICAgdHlwZTogQXJyYXksCiAgICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgY2hlY2tlZDogU3RyaW5nLAogICAgICAgIG5hbWU6IFN0cmluZywKICAgICAgICBjdXN0b206IEJvb2xlYW4sCiAgICAgICAgaW5saW5lOiBCb29sZWFuCiAgICAgIH0sCiAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgY29tcHV0ZWRPcHRpb25zOiBmdW5jdGlvbiBjb21wdXRlZE9wdGlvbnMoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7CiAgICAgICAgICAgIGlmIChfdHlwZW9mKG9wdGlvbikgIT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGxhYmVsOiBvcHRpb24sCiAgICAgICAgICAgICAgICB2YWx1ZTogb3B0aW9uCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIG9wdGlvbjsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgZ3JvdXBOYW1lOiBmdW5jdGlvbiBncm91cE5hbWUoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5uYW1lIHx8ICdyYWRpbycgKyB0aGlzLl91aWQ7CiAgICAgICAgfQogICAgICB9LAogICAgICBtZXRob2RzOiB7CiAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiBjaGFuZ2UoZSwgb3B0aW9uKSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6Y2hlY2tlZCcsIG9wdGlvbiwgZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2Zvcm0vQ0lucHV0UmFkaW9Hcm91cC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBmb3JtX0NJbnB1dFJhZGlvR3JvdXB2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDSW5wdXRSYWRpb0dyb3VwdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2Zvcm0vQ0lucHV0UmFkaW9Hcm91cC52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENJbnB1dFJhZGlvR3JvdXBfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKShmb3JtX0NJbnB1dFJhZGlvR3JvdXB2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENJbnB1dFJhZGlvR3JvdXB2dWVfdHlwZV90ZW1wbGF0ZV9pZF84YTE5ZDdhNl9yZW5kZXIsIENJbnB1dFJhZGlvR3JvdXB2dWVfdHlwZV90ZW1wbGF0ZV9pZF84YTE5ZDdhNl9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0lucHV0UmFkaW9Hcm91cCA9IENJbnB1dFJhZGlvR3JvdXBfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9mb3JtL0NTZWxlY3QudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWVkZGY3NGIwJgoKICAgIHZhciBDU2VsZWN0dnVlX3R5cGVfdGVtcGxhdGVfaWRfZWRkZjc0YjBfcmVuZGVyID0gZnVuY3Rpb24gQ1NlbGVjdHZ1ZV90eXBlX3RlbXBsYXRlX2lkX2VkZGY3NGIwX3JlbmRlcigpIHsKICAgICAgdmFyIF92bSA9IHRoaXM7CgogICAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogICAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogICAgICByZXR1cm4gX2MoJ0NGb3JtR3JvdXAnLCBfdm0uX2IoewogICAgICAgIHNjb3BlZFNsb3RzOiBfdm0uX3UoW3sKICAgICAgICAgIGtleTogImxhYmVsIiwKICAgICAgICAgIGZuOiBmdW5jdGlvbiBmbigpIHsKICAgICAgICAgICAgcmV0dXJuIFtfdm0uX3QoImxhYmVsIiwgW192bS5sYWJlbCA/IF9jKCdsYWJlbCcsIHsKICAgICAgICAgICAgICBjbGFzczogX3ZtLmxhYmVsQ2xhc3NlcywKICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgImZvciI6IF92bS5zYWZlSWQKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIFtfdm0uX3YoIiAiICsgX3ZtLl9zKF92bS5sYWJlbCkgKyAiICIpXSkgOiBfdm0uX2UoKV0pXTsKICAgICAgICAgIH0sCiAgICAgICAgICBwcm94eTogdHJ1ZQogICAgICAgIH0sIHsKICAgICAgICAgIGtleTogImlucHV0IiwKICAgICAgICAgIGZuOiBmdW5jdGlvbiBmbigpIHsKICAgICAgICAgICAgcmV0dXJuIFtfYygnc2VsZWN0JywgX3ZtLl9nKF92bS5fYih7CiAgICAgICAgICAgICAgY2xhc3M6IF92bS5pbnB1dENsYXNzZXMsCiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICJpZCI6IF92bS5zYWZlSWQKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAiY2hhbmdlIjogZnVuY3Rpb24gY2hhbmdlKCRldmVudCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLm9uU2VsZWN0KCRldmVudCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCAnc2VsZWN0JywgX3ZtLiRhdHRycywgZmFsc2UpLCBfdm0uJGxpc3RlbmVycyksIFtfdm0ucGxhY2Vob2xkZXIgPyBfYygnb3B0aW9uJywgewogICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAidmFsdWUiOiAiIiwKICAgICAgICAgICAgICAgICJzZWxlY3RlZCI6ICIiLAogICAgICAgICAgICAgICAgImhpZGRlbiI6ICIiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBbX3ZtLl92KCIgIiArIF92bS5fcyhfdm0ucGxhY2Vob2xkZXIpICsgIiAiKV0pIDogX3ZtLl9lKCksIF92bS5fbChfdm0ub3B0aW9ucywgZnVuY3Rpb24gKG9wdGlvbiwga2V5KSB7CiAgICAgICAgICAgICAgcmV0dXJuIFtfdHlwZW9mMihvcHRpb24pID09PSAnb2JqZWN0JyA/IF9jKCdvcHRpb24nLCBfdm0uX2IoewogICAgICAgICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgICAiZGlzYWJsZWQiOiBvcHRpb24uZGlzYWJsZWQsCiAgICAgICAgICAgICAgICAgICJkYXRhLWtleSI6IGtleQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGRvbVByb3BzOiB7CiAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6IG9wdGlvbi52YWx1ZSwKICAgICAgICAgICAgICAgICAgInNlbGVjdGVkIjogb3B0aW9uLnZhbHVlID09PSBfdm0udmFsdWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCAnb3B0aW9uJywgb3B0aW9uLmF0dHJzLCBmYWxzZSksIFtfdm0uX3YoIiAiICsgX3ZtLl9zKG9wdGlvbi5sYWJlbCB8fCBvcHRpb24udmFsdWUpICsgIiAiKV0pIDogX2MoJ29wdGlvbicsIHsKICAgICAgICAgICAgICAgIGtleToga2V5LAogICAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgICAgImRhdGEta2V5Ijoga2V5CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZG9tUHJvcHM6IHsKICAgICAgICAgICAgICAgICAgInZhbHVlIjogb3B0aW9uLAogICAgICAgICAgICAgICAgICAic2VsZWN0ZWQiOiBvcHRpb24gPT09IF92bS52YWx1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIFtfdm0uX3YoIiAiICsgX3ZtLl9zKG9wdGlvbikgKyAiICIpXSldOwogICAgICAgICAgICB9KV0sIDIpXTsKICAgICAgICAgIH0sCiAgICAgICAgICBwcm94eTogdHJ1ZQogICAgICAgIH0sIF92bS5fbChfdm0uJG9wdGlvbnMuc2xvdHMsIGZ1bmN0aW9uIChzbG90KSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBrZXk6IHNsb3QsCiAgICAgICAgICAgIGZuOiBmdW5jdGlvbiBmbigpIHsKICAgICAgICAgICAgICByZXR1cm4gW192bS5fdChzbG90KV07CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHByb3h5OiB0cnVlCiAgICAgICAgICB9OwogICAgICAgIH0pXSwgbnVsbCwgdHJ1ZSkKICAgICAgfSwgJ0NGb3JtR3JvdXAnLCB7CiAgICAgICAgYXBwZW5kOiBfdm0uYXBwZW5kLAogICAgICAgIHByZXBlbmQ6IF92bS5wcmVwZW5kLAogICAgICAgIHZhbGlkRmVlZGJhY2s6IF92bS52YWxpZEZlZWRiYWNrLAogICAgICAgIGludmFsaWRGZWVkYmFjazogX3ZtLmludmFsaWRGZWVkYmFjaywKICAgICAgICB0b29sdGlwRmVlZGJhY2s6IF92bS50b29sdGlwRmVlZGJhY2ssCiAgICAgICAgZGVzY3JpcHRpb246IF92bS5kZXNjcmlwdGlvbiwKICAgICAgICB3cmFwcGVyQ2xhc3NlczogX3ZtLndyYXBwZXJDbGFzc2VzLAogICAgICAgIGNsYXNzOiBfdm0uY29tcHV0ZWRDbGFzc2VzCiAgICAgIH0sIGZhbHNlKSk7CiAgICB9OwoKICAgIHZhciBDU2VsZWN0dnVlX3R5cGVfdGVtcGxhdGVfaWRfZWRkZjc0YjBfc3RhdGljUmVuZGVyRm5zID0gW107IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9mb3JtL0NTZWxlY3QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgdmFyIENTZWxlY3R2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19taXhpbnMgPSBPYmplY3QudmFsdWVzKGZvcm1fbWl4aW5zX25hbWVzcGFjZU9iamVjdCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENTZWxlY3R2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDU2VsZWN0JywKICAgICAgaW5oZXJpdEF0dHJzOiBmYWxzZSwKICAgICAgY29tcG9uZW50czogewogICAgICAgIENGb3JtR3JvdXA6IENGb3JtR3JvdXAKICAgICAgfSwKICAgICAgc2xvdHM6IFsncHJlcGVuZCcsICdwcmVwZW5kLWNvbnRlbnQnLCAnYXBwZW5kLWNvbnRlbnQnLCAnYXBwZW5kJywgJ2xhYmVsLWFmdGVyLWlucHV0JywgJ3ZhbGlkLWZlZWRiYWNrJywgJ2ludmFsaWQtZmVlZGJhY2snLCAnZGVzY3JpcHRpb24nXSwKICAgICAgbWl4aW5zOiBDU2VsZWN0dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfbWl4aW5zLAogICAgICBwcm9wczogc2VsZWN0UHJvcHMsCiAgICAgIC8vIEh0bWwgcHJvcHM6IGRpc2FibGVkLCByZXF1aXJlZCBkb24ndCB1c2UgbXVsdGlwbGUKICAgICAgLy8gewogICAgICAvLyAgIHZhbGlkRmVlZGJhY2s6IFN0cmluZywKICAgICAgLy8gICBpbnZhbGlkRmVlZGJhY2s6IFN0cmluZywKICAgICAgLy8gICB0b29sdGlwRmVlZGJhY2s6IEJvb2xlYW4sCiAgICAgIC8vICAgZGVzY3JpcHRpb246IFN0cmluZywKICAgICAgLy8gICBhcHBlbmQ6IFN0cmluZywKICAgICAgLy8gICBwcmVwZW5kOiBTdHJpbmcsCiAgICAgIC8vICAgbGFiZWw6IFN0cmluZywKICAgICAgLy8gICB3YXNWYWxpZGF0ZWQ6IEJvb2xlYW4sCiAgICAgIC8vICAgaXNWYWxpZDogewogICAgICAvLyAgICAgdHlwZTogW0Jvb2xlYW4sIEZ1bmN0aW9uXSwKICAgICAgLy8gICAgIGRlZmF1bHQ6IG51bGwKICAgICAgLy8gICB9LAogICAgICAvLyAgIGFkZElucHV0Q2xhc3NlczogW1N0cmluZywgQXJyYXksIE9iamVjdF0sCiAgICAgIC8vICAgYWRkTGFiZWxDbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XSwKICAgICAgLy8gICBob3Jpem9udGFsOiBbQm9vbGVhbiwgT2JqZWN0XSwKICAgICAgLy8gICBzaXplOiB7CiAgICAgIC8vICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIC8vICAgICB2YWxpZGF0b3I6IHN0ciA9PiBbJycsJ3NtJywnbGcnXS5pbmNsdWRlcyhzdHIpCiAgICAgIC8vICAgfSwKICAgICAgLy8gICBhZGRXcmFwcGVyQ2xhc3NlczogW1N0cmluZywgQXJyYXksIE9iamVjdF0sCiAgICAgIC8vICAgb3B0aW9uczogQXJyYXksCiAgICAgIC8vICAgdmFsdWU6IFtTdHJpbmcsIE51bWJlciwgQm9vbGVhbiwgQXJyYXldLAogICAgICAvLyAgIHBsYWludGV4dDogQm9vbGVhbiwKICAgICAgLy8gICBwbGFjZWhvbGRlcjogU3RyaW5nLAogICAgICAvLyAgIGN1c3RvbTogQm9vbGVhbgogICAgICAvLyB9LAogICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBzdGF0ZTogdGhpcy52YWx1ZSB8fCB1bmRlZmluZWQKICAgICAgICB9OwogICAgICB9LAogICAgICAvL3dhdGNoVmFsdWUgbWl4aW4KICAgICAgLy8gd2F0Y2g6IHsKICAgICAgLy8gICB2YWx1ZSAodmFsKSB7CiAgICAgIC8vICAgICB0aGlzLnN0YXRlID0gdmFsCiAgICAgIC8vICAgfQogICAgICAvLyB9LAogICAgICBjb21wdXRlZDogewogICAgICAgIC8vIGNsYXNzZXNDb21wdXRlZFByb3BzIG1peGluCiAgICAgICAgLy8gaGF2ZUN1c3RvbVNpemUgKCkgewogICAgICAgIC8vICAgcmV0dXJuIFsnc20nLCdsZyddLmluY2x1ZGVzKHRoaXMuc2l6ZSkKICAgICAgICAvLyB9LAogICAgICAgIC8vIGNvbXB1dGVkQ2xhc3NlcyAoKSB7CiAgICAgICAgLy8gICByZXR1cm4gWwogICAgICAgIC8vICAgICAnZm9ybS1ncm91cCcsCiAgICAgICAgLy8gICAgIHsKICAgICAgICAvLyAgICAgICd3YXMtdmFsaWRhdGVkJzogdGhpcy53YXNWYWxpZGF0ZWQsCiAgICAgICAgLy8gICAgICAnZm9ybS1yb3cnOiB0aGlzLmlzSG9yaXpvbnRhbAogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICBdCiAgICAgICAgLy8gfSwKICAgICAgICAvLyBsYWJlbENsYXNzZXMgKCkgewogICAgICAgIC8vICAgcmV0dXJuIFsKICAgICAgICAvLyAgICAgdGhpcy5hZGRMYWJlbENsYXNzZXMsCiAgICAgICAgLy8gICAgIHsKICAgICAgICAvLyAgICAgICAnY29sLWZvcm0tbGFiZWwnOiB0aGlzLmlzSG9yaXpvbnRhbCwKICAgICAgICAvLyAgICAgICBbdGhpcy5ob3Jpem9udGFsLmxhYmVsIHx8ICdjb2wtc20tMyddOiB0aGlzLmlzSG9yaXpvbnRhbCwKICAgICAgICAvLyAgICAgICBbYGNvbC1mb3JtLWxhYmVsLSR7dGhpcy5zaXplfWBdOiB0aGlzLmhhdmVDdXN0b21TaXplLAogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICBdCiAgICAgICAgLy8gfSwKICAgICAgICBjdXN0b21TaXplQ2xhc3M6IGZ1bmN0aW9uIGN1c3RvbVNpemVDbGFzcygpIHsKICAgICAgICAgIGlmICh0aGlzLmhhdmVDdXN0b21TaXplICYmICF0aGlzLmhhdmVXcmFwcGVyKSB7CiAgICAgICAgICAgIHJldHVybiAiIi5jb25jYXQodGhpcy5jdXN0b20gPyAnY3VzdG9tLXNlbGVjdCcgOiAnZm9ybS1jb250cm9sJywgIi0iKS5jb25jYXQodGhpcy5zaXplKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGlucHV0Q2xhc3M6IGZ1bmN0aW9uIGlucHV0Q2xhc3MoKSB7CiAgICAgICAgICB2YXIgc3RhbmRhcmRDbGFzcyA9ICJmb3JtLWNvbnRyb2wiLmNvbmNhdCh0aGlzLnBsYWludGV4dCA/ICctcGxhaW50ZXh0JyA6ICcnKTsKICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbSA/ICdjdXN0b20tc2VsZWN0JyA6IHN0YW5kYXJkQ2xhc3M7CiAgICAgICAgfSAvLyBpbnB1dENsYXNzZXMgKCkgewogICAgICAgIC8vICAgcmV0dXJuIFsKICAgICAgICAvLyAgICAgdGhpcy5pbnB1dENsYXNzIHx8IGBmb3JtLWNvbnRyb2wke3RoaXMucGxhaW50ZXh0ID8gJy1wbGFpbnRleHQnIDogJyd9YCwKICAgICAgICAvLyAgICAgdGhpcy52YWxpZGF0aW9uQ2xhc3MsCiAgICAgICAgLy8gICAgIHRoaXMuYWRkSW5wdXRDbGFzc2VzLAogICAgICAgIC8vICAgICB0aGlzLmN1c3RvbVNpemVDbGFzcwogICAgICAgIC8vICAgXQogICAgICAgIC8vIH0KICAgICAgICAvLyB2YWxpZGF0aW9uQ29tcHV0ZWRQcm9wcyBtaXhpbgogICAgICAgIC8vIGNvbXB1dGVkSXNWYWxpZCAoKSB7CiAgICAgICAgLy8gICBpZiAodHlwZW9mIHRoaXMuaXNWYWxpZCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIC8vICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKHRoaXMuc3RhdGUpCiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gICByZXR1cm4gdGhpcy5pc1ZhbGlkCiAgICAgICAgLy8gfSwKICAgICAgICAvLyB2YWxpZGF0aW9uQ2xhc3MgKCkgewogICAgICAgIC8vICAgaWYgKHR5cGVvZiB0aGlzLmNvbXB1dGVkSXNWYWxpZCA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgLy8gICAgIHJldHVybiB0aGlzLmNvbXB1dGVkSXNWYWxpZCA/ICdpcy12YWxpZCcgOiAnaXMtaW52YWxpZCcKICAgICAgICAvLyAgIH0KICAgICAgICAvLyB9LAogICAgICAgIC8vd3JhcHBlckNvbXB1dGVkUHJvcHMgbWl4aW4KICAgICAgICAvLyBpc0hvcml6b250YWwgKCkgewogICAgICAgIC8vICAgcmV0dXJuIEJvb2xlYW4odGhpcy5ob3Jpem9udGFsKQogICAgICAgIC8vIH0sCiAgICAgICAgLy8gaGF2ZUlucHV0R3JvdXAgKCkgewogICAgICAgIC8vICAgcmV0dXJuIEJvb2xlYW4oCiAgICAgICAgLy8gICAgIHRoaXMudG9vbHRpcEZlZWRiYWNrIHx8IAogICAgICAgIC8vICAgICB0aGlzLmFwcGVuZCB8fAogICAgICAgIC8vICAgICB0aGlzLnByZXBlbmQgfHwgCiAgICAgICAgLy8gICAgIHRoaXMuJHNsb3RzLmFwcGVuZCB8fCAKICAgICAgICAvLyAgICAgdGhpcy4kc2xvdHMucHJlcGVuZCB8fCAKICAgICAgICAvLyAgICAgdGhpcy4kc2xvdHNbJ2FwcGVuZC1jb250ZW50J10gfHwKICAgICAgICAvLyAgICAgdGhpcy4kc2xvdHNbJ3ByZXBlbmQtY29udGVudCddCiAgICAgICAgLy8gICApCiAgICAgICAgLy8gfSwKICAgICAgICAvLyBoYXZlV3JhcHBlciAoKSB7CiAgICAgICAgLy8gICByZXR1cm4gdGhpcy5oYXZlSW5wdXRHcm91cCB8fCBCb29sZWFuKHRoaXMuYWRkV3JhcHBlckNsYXNzZXMgfHwgdGhpcy5pc0hvcml6b250YWwpCiAgICAgICAgLy8gfSwKICAgICAgICAvLyB3cmFwcGVyQ2xhc3NlcyAoKSB7CiAgICAgICAgLy8gICBpZiAodGhpcy5oYXZlV3JhcHBlcikgewogICAgICAgIC8vICAgICByZXR1cm4gWwogICAgICAgIC8vICAgICAgIHRoaXMuYWRkV3JhcHBlckNsYXNzZXMsCiAgICAgICAgLy8gICAgICAgewogICAgICAgIC8vICAgICAgICAgW3RoaXMuaG9yaXpvbnRhbC5pbnB1dCB8fCAnY29sLXNtLTknXSA6IHRoaXMuaXNIb3Jpem9udGFsLAogICAgICAgIC8vICAgICAgICAgJ2lucHV0LWdyb3VwJyA6IHRoaXMuaGF2ZUlucHV0R3JvdXAsCiAgICAgICAgLy8gICAgICAgICBbYGlucHV0LWdyb3VwLSR7dGhpcy5zaXplfWBdOiB0aGlzLmhhdmVDdXN0b21TaXplCiAgICAgICAgLy8gICAgICAgfQogICAgICAgIC8vICAgICBdCiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gfQoKICAgICAgfSwKICAgICAgbWV0aG9kczogewogICAgICAgIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdChlKSB7CiAgICAgICAgICBpZiAodGhpcy4kYXR0cnMubXVsdGlwbGUgIT09IHVuZGVmaW5lZCkgcmV0dXJuOwogICAgICAgICAgdmFyIG9wdGlvbkluZGV4ID0gZS50YXJnZXQuc2VsZWN0ZWRPcHRpb25zWzBdLmRhdGFzZXQua2V5OwogICAgICAgICAgdmFyIG9wdGlvbiA9IHRoaXMub3B0aW9uc1tvcHRpb25JbmRleF07CiAgICAgICAgICB2YXIgdmFsdWUgPSBvcHRpb24udmFsdWUgIT09IHVuZGVmaW5lZCA/IG9wdGlvbi52YWx1ZSA6IG9wdGlvbjsKICAgICAgICAgIHRoaXMuc3RhdGUgPSB2YWx1ZTsKICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTp2YWx1ZScsIHZhbHVlLCBlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvZm9ybS9DU2VsZWN0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIGZvcm1fQ1NlbGVjdHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENTZWxlY3R2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvZm9ybS9DU2VsZWN0LnZ1ZQoKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ1NlbGVjdF9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKGZvcm1fQ1NlbGVjdHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ1NlbGVjdHZ1ZV90eXBlX3RlbXBsYXRlX2lkX2VkZGY3NGIwX3JlbmRlciwgQ1NlbGVjdHZ1ZV90eXBlX3RlbXBsYXRlX2lkX2VkZGY3NGIwX3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDU2VsZWN0ID0gQ1NlbGVjdF9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzP3siY2FjaGVEaXJlY3RvcnkiOiJub2RlX21vZHVsZXMvLmNhY2hlL3Z1ZS1sb2FkZXIiLCJjYWNoZUlkZW50aWZpZXIiOiI0ODc1MDdiOS12dWUtbG9hZGVyLXRlbXBsYXRlIn0hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy90ZW1wbGF0ZUxvYWRlci5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2Zvcm0vQ1RleHRhcmVhLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01OTJlNDMzMCYKCiAgICB2YXIgQ1RleHRhcmVhdnVlX3R5cGVfdGVtcGxhdGVfaWRfNTkyZTQzMzBfcmVuZGVyID0gZnVuY3Rpb24gQ1RleHRhcmVhdnVlX3R5cGVfdGVtcGxhdGVfaWRfNTkyZTQzMzBfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygnQ0Zvcm1Hcm91cCcsIF92bS5fYih7CiAgICAgICAgc2NvcGVkU2xvdHM6IF92bS5fdShbewogICAgICAgICAga2V5OiAibGFiZWwiLAogICAgICAgICAgZm46IGZ1bmN0aW9uIGZuKCkgewogICAgICAgICAgICByZXR1cm4gW192bS5fdCgibGFiZWwiLCBbX3ZtLmxhYmVsID8gX2MoJ2xhYmVsJywgewogICAgICAgICAgICAgIGNsYXNzOiBfdm0ubGFiZWxDbGFzc2VzLAogICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAiZm9yIjogX3ZtLnNhZmVJZAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgW192bS5fdigiICIgKyBfdm0uX3MoX3ZtLmxhYmVsKSArICIgIildKSA6IF92bS5fZSgpXSldOwogICAgICAgICAgfSwKICAgICAgICAgIHByb3h5OiB0cnVlCiAgICAgICAgfSwgewogICAgICAgICAga2V5OiAiaW5wdXQiLAogICAgICAgICAgZm46IGZ1bmN0aW9uIGZuKCkgewogICAgICAgICAgICByZXR1cm4gW19jKCd0ZXh0YXJlYScsIF92bS5fZyhfdm0uX2IoewogICAgICAgICAgICAgIGNsYXNzOiBfdm0uaW5wdXRDbGFzc2VzLAogICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICAiaWQiOiBfdm0uc2FmZUlkLAogICAgICAgICAgICAgICAgInJlYWRvbmx5IjogX3ZtLnJlYWRvbmx5IHx8IF92bS5wbGFpbnRleHQKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGRvbVByb3BzOiB7CiAgICAgICAgICAgICAgICAidmFsdWUiOiBfdm0uc3RhdGUKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICAgICAiaW5wdXQiOiBmdW5jdGlvbiBpbnB1dCgkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbklucHV0KCRldmVudCk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgImNoYW5nZSI6IGZ1bmN0aW9uIGNoYW5nZSgkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF92bS5vbkNoYW5nZSgkZXZlbnQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgJ3RleHRhcmVhJywgX3ZtLiRhdHRycywgZmFsc2UpLCBfdm0ubGlzdGVuZXJzKSldOwogICAgICAgICAgfSwKICAgICAgICAgIHByb3h5OiB0cnVlCiAgICAgICAgfSwgX3ZtLl9sKF92bS4kb3B0aW9ucy5zbG90cywgZnVuY3Rpb24gKHNsb3QpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGtleTogc2xvdCwKICAgICAgICAgICAgZm46IGZ1bmN0aW9uIGZuKCkgewogICAgICAgICAgICAgIHJldHVybiBbX3ZtLl90KHNsb3QpXTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcHJveHk6IHRydWUKICAgICAgICAgIH07CiAgICAgICAgfSldLCBudWxsLCB0cnVlKQogICAgICB9LCAnQ0Zvcm1Hcm91cCcsIHsKICAgICAgICBhcHBlbmQ6IF92bS5hcHBlbmQsCiAgICAgICAgcHJlcGVuZDogX3ZtLnByZXBlbmQsCiAgICAgICAgdmFsaWRGZWVkYmFjazogX3ZtLnZhbGlkRmVlZGJhY2ssCiAgICAgICAgaW52YWxpZEZlZWRiYWNrOiBfdm0uaW52YWxpZEZlZWRiYWNrLAogICAgICAgIHRvb2x0aXBGZWVkYmFjazogX3ZtLnRvb2x0aXBGZWVkYmFjaywKICAgICAgICBkZXNjcmlwdGlvbjogX3ZtLmRlc2NyaXB0aW9uLAogICAgICAgIHdyYXBwZXJDbGFzc2VzOiBfdm0ud3JhcHBlckNsYXNzZXMsCiAgICAgICAgY2xhc3M6IF92bS5jb21wdXRlZENsYXNzZXMKICAgICAgfSwgZmFsc2UpKTsKICAgIH07CgogICAgdmFyIENUZXh0YXJlYXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzU5MmU0MzMwX3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvZm9ybS9DVGV4dGFyZWEudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIGZ1bmN0aW9uIENUZXh0YXJlYXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsKICAgICAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307CiAgICAgIHZhciB0YXJnZXQgPSBDVGV4dGFyZWF2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOwogICAgICB2YXIga2V5LCBpOwoKICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgICAgICB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsKCiAgICAgICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07CiAgICAgICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOwogICAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsKICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQoKICAgIGZ1bmN0aW9uIENUZXh0YXJlYXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgewogICAgICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsKICAgICAgdmFyIHRhcmdldCA9IHt9OwogICAgICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7CiAgICAgIHZhciBrZXksIGk7CgogICAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgewogICAgICAgIGtleSA9IHNvdXJjZUtleXNbaV07CiAgICAgICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsKICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOwogICAgICB9CgogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfSAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwoKCiAgICB2YXIgQ1RleHRhcmVhdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfbWl4aW5zID0gT2JqZWN0LnZhbHVlcyhmb3JtX21peGluc19uYW1lc3BhY2VPYmplY3QpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDVGV4dGFyZWF2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDVGV4dGFyZWEnLAogICAgICBzbG90czogWydwcmVwZW5kJywgJ3ByZXBlbmQtY29udGVudCcsICdhcHBlbmQtY29udGVudCcsICdhcHBlbmQnLCAnbGFiZWwtYWZ0ZXItaW5wdXQnLCAndmFsaWQtZmVlZGJhY2snLCAnaW52YWxpZC1mZWVkYmFjaycsICdkZXNjcmlwdGlvbiddLAogICAgICBpbmhlcml0QXR0cnM6IGZhbHNlLAogICAgICBjb21wb25lbnRzOiB7CiAgICAgICAgQ0Zvcm1Hcm91cDogQ0Zvcm1Hcm91cAogICAgICB9LAogICAgICBtaXhpbnM6IENUZXh0YXJlYXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX21peGlucywKICAgICAgcHJvcHM6IHRleHRhcmVhUHJvcHMsCiAgICAgIC8vIEh0bWwgcHJvcHM6IGRpc2FibGVkLCByZXF1aXJlZCwgcm93cywgY29scywgcGxhY2Vob2xkZXIKICAgICAgLy8gewogICAgICAvLyAgIHZhbGlkRmVlZGJhY2s6IFN0cmluZywKICAgICAgLy8gICBpbnZhbGlkRmVlZGJhY2s6IFN0cmluZywKICAgICAgLy8gICB0b29sdGlwRmVlZGJhY2s6IEJvb2xlYW4sCiAgICAgIC8vICAgZGVzY3JpcHRpb246IFN0cmluZywKICAgICAgLy8gICBhcHBlbmQ6IFN0cmluZywKICAgICAgLy8gICBwcmVwZW5kOiBTdHJpbmcsCiAgICAgIC8vICAgbGFiZWw6IFN0cmluZywKICAgICAgLy8gICB3YXNWYWxpZGF0ZWQ6IEJvb2xlYW4sCiAgICAgIC8vICAgaXNWYWxpZDogewogICAgICAvLyAgICAgdHlwZTogW0Jvb2xlYW4sIEZ1bmN0aW9uXSwKICAgICAgLy8gICAgIGRlZmF1bHQ6IG51bGwKICAgICAgLy8gICB9LAogICAgICAvLyAgIGFkZElucHV0Q2xhc3NlczogW1N0cmluZywgQXJyYXksIE9iamVjdF0sCiAgICAgIC8vICAgYWRkTGFiZWxDbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XSwKICAgICAgLy8gICBob3Jpem9udGFsOiBbQm9vbGVhbiwgT2JqZWN0XSwKICAgICAgLy8gICBzaXplOiB7CiAgICAgIC8vICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIC8vICAgICB2YWxpZGF0b3I6IHN0ciA9PiBbJycsJ3NtJywnbGcnXS5pbmNsdWRlcyhzdHIpCiAgICAgIC8vICAgfSwKICAgICAgLy8gICBhZGRXcmFwcGVyQ2xhc3NlczogW1N0cmluZywgQXJyYXksIE9iamVjdF0sCiAgICAgIC8vICAgcmVhZG9ubHk6IEJvb2xlYW4sCiAgICAgIC8vICAgcGxhaW50ZXh0OiBCb29sZWFuLAogICAgICAvLyAgIHZhbHVlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICAvLyAgIGxhenk6IHsKICAgICAgLy8gICAgIHR5cGU6IFtCb29sZWFuLCBOdW1iZXJdLAogICAgICAvLyAgICAgZGVmYXVsdDogNDAwCiAgICAgIC8vICAgfQogICAgICAvLyB9LAogICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBzdGF0ZTogdGhpcy52YWx1ZQogICAgICAgIH07CiAgICAgIH0sCiAgICAgIC8vd2F0Y2hWYWx1ZSBtaXhpbgogICAgICAvLyB3YXRjaDogewogICAgICAvLyAgIHZhbHVlICh2YWwpIHsKICAgICAgLy8gICAgIHRoaXMuc3RhdGUgPSB2YWwKICAgICAgLy8gICB9CiAgICAgIC8vIH0sCiAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgbGlzdGVuZXJzOiBmdW5jdGlvbiBsaXN0ZW5lcnMoKSB7CiAgICAgICAgICB2YXIgX3RoaXMkJGxpc3RlbmVycyA9IHRoaXMuJGxpc3RlbmVycywKICAgICAgICAgICAgICBpbnB1dCA9IF90aGlzJCRsaXN0ZW5lcnMuaW5wdXQsCiAgICAgICAgICAgICAgY2hhbmdlID0gX3RoaXMkJGxpc3RlbmVycy5jaGFuZ2UsCiAgICAgICAgICAgICAgbGlzdGVuZXJzID0gQ1RleHRhcmVhdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3RoaXMkJGxpc3RlbmVycywgWyJpbnB1dCIsICJjaGFuZ2UiXSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnMKCiAgICAgICAgICByZXR1cm4gbGlzdGVuZXJzOwogICAgICAgIH0gLy8gY2xhc3Nlc0NvbXB1dGVkUHJvcHMgbWl4aW4KICAgICAgICAvLyBoYXZlQ3VzdG9tU2l6ZSAoKSB7CiAgICAgICAgLy8gICByZXR1cm4gWydzbScsJ2xnJ10uaW5jbHVkZXModGhpcy5zaXplKQogICAgICAgIC8vIH0sCiAgICAgICAgLy8gY29tcHV0ZWRDbGFzc2VzICgpIHsKICAgICAgICAvLyAgIHJldHVybiBbCiAgICAgICAgLy8gICAgICdmb3JtLWdyb3VwJywKICAgICAgICAvLyAgICAgewogICAgICAgIC8vICAgICAgJ3dhcy12YWxpZGF0ZWQnOiB0aGlzLndhc1ZhbGlkYXRlZCwKICAgICAgICAvLyAgICAgICdmb3JtLXJvdyc6IHRoaXMuaXNIb3Jpem9udGFsCiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyAgIF0KICAgICAgICAvLyB9LAogICAgICAgIC8vIGxhYmVsQ2xhc3NlcyAoKSB7CiAgICAgICAgLy8gICByZXR1cm4gWwogICAgICAgIC8vICAgICB0aGlzLmFkZExhYmVsQ2xhc3NlcywKICAgICAgICAvLyAgICAgewogICAgICAgIC8vICAgICAgICdjb2wtZm9ybS1sYWJlbCc6IHRoaXMuaXNIb3Jpem9udGFsLAogICAgICAgIC8vICAgICAgIFt0aGlzLmhvcml6b250YWwubGFiZWwgfHwgJ2NvbC1zbS0zJ106IHRoaXMuaXNIb3Jpem9udGFsLAogICAgICAgIC8vICAgICAgIFtgY29sLWZvcm0tbGFiZWwtJHt0aGlzLnNpemV9YF06IHRoaXMuaGF2ZUN1c3RvbVNpemUsCiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyAgIF0KICAgICAgICAvLyB9LAogICAgICAgIC8vIGN1c3RvbVNpemVDbGFzcyAoKSB7CiAgICAgICAgLy8gICBpZiAodGhpcy5oYXZlQ3VzdG9tU2l6ZSAmJiAhdGhpcy5oYXZlV3JhcHBlcikgewogICAgICAgIC8vICAgICByZXR1cm4gYGZvcm0tY29udHJvbC0ke3RoaXMuc2l6ZX1gCiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gfSwKICAgICAgICAvLyBpbnB1dENsYXNzZXMgKCkgewogICAgICAgIC8vICAgcmV0dXJuIFsKICAgICAgICAvLyAgICAgdGhpcy5pbnB1dENsYXNzIHx8IGBmb3JtLWNvbnRyb2wke3RoaXMucGxhaW50ZXh0ID8gJy1wbGFpbnRleHQnIDogJyd9YCwKICAgICAgICAvLyAgICAgdGhpcy52YWxpZGF0aW9uQ2xhc3MsCiAgICAgICAgLy8gICAgIHRoaXMuYWRkSW5wdXRDbGFzc2VzLAogICAgICAgIC8vICAgICB0aGlzLmN1c3RvbVNpemVDbGFzcwogICAgICAgIC8vICAgXQogICAgICAgIC8vIH0KICAgICAgICAvLyB2YWxpZGF0aW9uQ29tcHV0ZWRQcm9wcyBtaXhpbgogICAgICAgIC8vIGNvbXB1dGVkSXNWYWxpZCAoKSB7CiAgICAgICAgLy8gICBpZiAodHlwZW9mIHRoaXMuaXNWYWxpZCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIC8vICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkKHRoaXMuc3RhdGUpCiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gICByZXR1cm4gdGhpcy5pc1ZhbGlkCiAgICAgICAgLy8gfSwKICAgICAgICAvLyB2YWxpZGF0aW9uQ2xhc3MgKCkgewogICAgICAgIC8vICAgaWYgKHR5cGVvZiB0aGlzLmNvbXB1dGVkSXNWYWxpZCA9PT0gJ2Jvb2xlYW4nKSB7CiAgICAgICAgLy8gICAgIHJldHVybiB0aGlzLmNvbXB1dGVkSXNWYWxpZCA/ICdpcy12YWxpZCcgOiAnaXMtaW52YWxpZCcKICAgICAgICAvLyAgIH0KICAgICAgICAvLyB9CiAgICAgICAgLy93cmFwcGVyQ29tcHV0ZWRQcm9wcyBtaXhpbgogICAgICAgIC8vIGlzSG9yaXpvbnRhbCAoKSB7CiAgICAgICAgLy8gICByZXR1cm4gQm9vbGVhbih0aGlzLmhvcml6b250YWwpCiAgICAgICAgLy8gfSwKICAgICAgICAvLyBoYXZlSW5wdXRHcm91cCAoKSB7CiAgICAgICAgLy8gICByZXR1cm4gQm9vbGVhbigKICAgICAgICAvLyAgICAgdGhpcy50b29sdGlwRmVlZGJhY2sgfHwgCiAgICAgICAgLy8gICAgIHRoaXMuYXBwZW5kIHx8CiAgICAgICAgLy8gICAgIHRoaXMucHJlcGVuZCB8fCAKICAgICAgICAvLyAgICAgdGhpcy4kc2xvdHMuYXBwZW5kIHx8IAogICAgICAgIC8vICAgICB0aGlzLiRzbG90cy5wcmVwZW5kIHx8IAogICAgICAgIC8vICAgICB0aGlzLiRzbG90c1snYXBwZW5kLWNvbnRlbnQnXSB8fAogICAgICAgIC8vICAgICB0aGlzLiRzbG90c1sncHJlcGVuZC1jb250ZW50J10KICAgICAgICAvLyAgICkKICAgICAgICAvLyB9LAogICAgICAgIC8vIGhhdmVXcmFwcGVyICgpIHsKICAgICAgICAvLyAgIHJldHVybiB0aGlzLmhhdmVJbnB1dEdyb3VwIHx8IEJvb2xlYW4odGhpcy5hZGRXcmFwcGVyQ2xhc3NlcyB8fCB0aGlzLmlzSG9yaXpvbnRhbCkKICAgICAgICAvLyB9LAogICAgICAgIC8vIHdyYXBwZXJDbGFzc2VzICgpIHsKICAgICAgICAvLyAgIGlmICh0aGlzLmhhdmVXcmFwcGVyKSB7CiAgICAgICAgLy8gICAgIHJldHVybiBbCiAgICAgICAgLy8gICAgICAgdGhpcy5hZGRXcmFwcGVyQ2xhc3NlcywKICAgICAgICAvLyAgICAgICB7CiAgICAgICAgLy8gICAgICAgICBbdGhpcy5ob3Jpem9udGFsLmlucHV0IHx8ICdjb2wtc20tOSddIDogdGhpcy5pc0hvcml6b250YWwsCiAgICAgICAgLy8gICAgICAgICAnaW5wdXQtZ3JvdXAnIDogdGhpcy5oYXZlSW5wdXRHcm91cCwKICAgICAgICAvLyAgICAgICAgIFtgaW5wdXQtZ3JvdXAtJHt0aGlzLnNpemV9YF06IHRoaXMuaGF2ZUN1c3RvbVNpemUKICAgICAgICAvLyAgICAgICB9CiAgICAgICAgLy8gICAgIF0KICAgICAgICAvLyAgIH0KICAgICAgICAvLyB9CgogICAgICB9LAogICAgICBtZXRob2RzOiB7CiAgICAgICAgb25JbnB1dDogZnVuY3Rpb24gb25JbnB1dChlKSB7CiAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICAgIHRoaXMuc3RhdGUgPSBlLnRhcmdldC52YWx1ZTsKICAgICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdGhpcy5zdGF0ZSwgZSk7CiAgICAgICAgICBpZiAodGhpcy5sYXp5ID09PSB0cnVlKSByZXR1cm47CiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zeW5jVGltZW91dCk7CiAgICAgICAgICB0aGlzLnN5bmNUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLiRlbWl0KCd1cGRhdGU6dmFsdWUnLCBfdGhpcy5zdGF0ZSwgZSk7CiAgICAgICAgICB9LCB0aGlzLmxhenkgIT09IGZhbHNlID8gdGhpcy5sYXp5IDogMCk7CiAgICAgICAgfSwKICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICAgICAgdGhpcy5zdGF0ZSA9IGUudGFyZ2V0LnZhbHVlOwogICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdGhpcy5zdGF0ZSwgZSk7CiAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6dmFsdWUnLCB0aGlzLnN0YXRlLCBlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvZm9ybS9DVGV4dGFyZWEudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgZm9ybV9DVGV4dGFyZWF2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDVGV4dGFyZWF2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvZm9ybS9DVGV4dGFyZWEudnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDVGV4dGFyZWFfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKShmb3JtX0NUZXh0YXJlYXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ1RleHRhcmVhdnVlX3R5cGVfdGVtcGxhdGVfaWRfNTkyZTQzMzBfcmVuZGVyLCBDVGV4dGFyZWF2dWVfdHlwZV90ZW1wbGF0ZV9pZF81OTJlNDMzMF9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1RleHRhcmVhID0gQ1RleHRhcmVhX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2Zvcm0vaW5kZXguanMKICAgIC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9ncmlkL0NDb250YWluZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0NvbnRhaW5lcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgZnVuY3Rpb25hbDogdHJ1ZSwKICAgICAgbmFtZTogJ0NDb250YWluZXInLAogICAgICBwcm9wczogewogICAgICAgIGZsdWlkOiBCb29sZWFuLAogICAgICAgIHRhZzogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgZGVmYXVsdDogJ2RpdicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgsIF9yZWYpIHsKICAgICAgICB2YXIgcHJvcHMgPSBfcmVmLnByb3BzLAogICAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhLAogICAgICAgICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47CiAgICAgICAgcmV0dXJuIGgocHJvcHMudGFnLCBhKGRhdGEsIHsKICAgICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAgICdjb250YWluZXInOiAhcHJvcHMuZmx1aWQsCiAgICAgICAgICAgICdjb250YWluZXItZmx1aWQnOiBwcm9wcy5mbHVpZAogICAgICAgICAgfQogICAgICAgIH0pLCBjaGlsZHJlbik7CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvZ3JpZC9DQ29udGFpbmVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIGdyaWRfQ0NvbnRhaW5lcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENDb250YWluZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvZ3JpZC9DQ29udGFpbmVyLnZ1ZQoKICAgIHZhciBDQ29udGFpbmVyX3JlbmRlciwgQ0NvbnRhaW5lcl9zdGF0aWNSZW5kZXJGbnM7CiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENDb250YWluZXJfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKShncmlkX0NDb250YWluZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENDb250YWluZXJfcmVuZGVyLCBDQ29udGFpbmVyX3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDQ29udGFpbmVyID0gQ0NvbnRhaW5lcl9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2dyaWQvQ1Jvdy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ1Jvd3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogICAgICBpZiAoa2V5IGluIG9iaikgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9iajsKICAgIH0KCiAgICB2YXIgQ1Jvd3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3Byb3BzID0gewogICAgICB0YWc6IHsKICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgZGVmYXVsdDogJ2RpdicKICAgICAgfSwKICAgICAgZ3V0dGVyczogewogICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgZGVmYXVsdDogdHJ1ZQogICAgICB9LAogICAgICBhbGlnblZlcnRpY2FsOiB7CiAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHN0cikgewogICAgICAgICAgcmV0dXJuIFsnJywgJ3N0YXJ0JywgJ2VuZCcsICdjZW50ZXInLCAnYmFzZWxpbmUnLCAnc3RyZXRjaCddLmluY2x1ZGVzKHN0cik7CiAgICAgICAgfQogICAgICB9LAogICAgICBhbGlnbkhvcml6b250YWw6IHsKICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3Ioc3RyKSB7CiAgICAgICAgICByZXR1cm4gWycnLCAnc3RhcnQnLCAnZW5kJywgJ2NlbnRlcicsICdiZXR3ZWVuJywgJ2Fyb3VuZCddLmluY2x1ZGVzKHN0cik7CiAgICAgICAgfQogICAgICB9LAogICAgICBmb3JtOiBCb29sZWFuCiAgICB9OwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDUm93dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBmdW5jdGlvbmFsOiB0cnVlLAogICAgICBuYW1lOiAnQ1JvdycsCiAgICAgIHByb3BzOiBDUm93dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfcHJvcHMsCiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgsIF9yZWYpIHsKICAgICAgICB2YXIgX2NsYXNzOwoKICAgICAgICB2YXIgcHJvcHMgPSBfcmVmLnByb3BzLAogICAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhLAogICAgICAgICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47CiAgICAgICAgcmV0dXJuIGgocHJvcHMudGFnLCBhKGRhdGEsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiBwcm9wcy5mb3JtID8gJ2Zvcm0tcm93JyA6ICdyb3cnLAogICAgICAgICAgY2xhc3M6IChfY2xhc3MgPSB7CiAgICAgICAgICAgICduby1ndXR0ZXJzJzogIXByb3BzLmd1dHRlcnMKICAgICAgICAgIH0sIENSb3d2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfY2xhc3MsICJhbGlnbi1pdGVtcy0iLmNvbmNhdChwcm9wcy5hbGlnblZlcnRpY2FsKSwgcHJvcHMuYWxpZ25WZXJ0aWNhbCksIENSb3d2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfY2xhc3MsICJqdXN0aWZ5LWNvbnRlbnQtIi5jb25jYXQocHJvcHMuYWxpZ25Ib3Jpem9udGFsKSwgcHJvcHMuYWxpZ25Ib3Jpem9udGFsKSwgX2NsYXNzKQogICAgICAgIH0pLCBjaGlsZHJlbik7CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvZ3JpZC9DUm93LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIGdyaWRfQ1Jvd3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENSb3d2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvZ3JpZC9DUm93LnZ1ZQoKICAgIHZhciBDUm93X3JlbmRlciwgQ1Jvd19zdGF0aWNSZW5kZXJGbnM7CiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENSb3dfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKShncmlkX0NSb3d2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENSb3dfcmVuZGVyLCBDUm93X3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDUm93ID0gQ1Jvd19jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2dyaWQvQ0NvbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ0NvbHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3R5cGVvZihvYmopIHsKICAgICAgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsKCiAgICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7CiAgICAgICAgQ0NvbHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7CiAgICAgICAgICByZXR1cm4gdHlwZW9mIG9iajsKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIENDb2x2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc190eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICAgICAgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/ICJzeW1ib2wiIDogdHlwZW9mIG9iajsKICAgICAgICB9OwogICAgICB9CgogICAgICByZXR1cm4gQ0NvbHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3R5cGVvZihvYmopOwogICAgfQogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICB2YXIgQ0NvbHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgZnVuY3Rpb25hbDogdHJ1ZSwKICAgICAgbmFtZTogJ0NDb2wnLAogICAgICBwcm9wczogewogICAgICAgIGNvbDogW0Jvb2xlYW4sIFN0cmluZywgTnVtYmVyLCBPYmplY3RdLAogICAgICAgIHhzOiBbQm9vbGVhbiwgU3RyaW5nLCBOdW1iZXIsIE9iamVjdF0sCiAgICAgICAgc206IFtCb29sZWFuLCBTdHJpbmcsIE51bWJlciwgT2JqZWN0XSwKICAgICAgICBtZDogW0Jvb2xlYW4sIFN0cmluZywgTnVtYmVyLCBPYmplY3RdLAogICAgICAgIGxnOiBbQm9vbGVhbiwgU3RyaW5nLCBOdW1iZXIsIE9iamVjdF0sCiAgICAgICAgeGw6IFtCb29sZWFuLCBTdHJpbmcsIE51bWJlciwgT2JqZWN0XSwKICAgICAgICB0YWc6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIGRlZmF1bHQ6ICdkaXYnCiAgICAgICAgfQogICAgICB9LAogICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfcmVmKSB7CiAgICAgICAgdmFyIHByb3BzID0gX3JlZi5wcm9wcywKICAgICAgICAgICAgZGF0YSA9IF9yZWYuZGF0YSwKICAgICAgICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuOwogICAgICAgIHZhciBjbGFzc2VzID0gW107CiAgICAgICAgdmFyIHN1ZmZpeGVzID0gewogICAgICAgICAgJ2NvbCc6ICcnLAogICAgICAgICAgJ3hzJzogJy14cycsCiAgICAgICAgICAnc20nOiAnLXNtJywKICAgICAgICAgICdtZCc6ICctbWQnLAogICAgICAgICAgJ2xnJzogJy1sZycsCiAgICAgICAgICAneGwnOiAnLXhsJwogICAgICAgIH07CiAgICAgICAgT2JqZWN0LmtleXMoc3VmZml4ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgdmFyIHByb3AgPSBwcm9wc1trZXldOwoKICAgICAgICAgIGlmIChwcm9wID09PSB0cnVlKSB7CiAgICAgICAgICAgIGNsYXNzZXMucHVzaCgiY29sIi5jb25jYXQoc3VmZml4ZXNba2V5XSkpOwogICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJvcCA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHByb3AgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIGNsYXNzZXMucHVzaCgiY29sIi5jb25jYXQoc3VmZml4ZXNba2V5XSwgIi0iKS5jb25jYXQocHJvcCkpOwogICAgICAgICAgfSBlbHNlIGlmIChDQ29sdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfdHlwZW9mKHByb3ApID09PSAnb2JqZWN0JykgewogICAgICAgICAgICBpZiAocHJvcC5zaXplKSB7CiAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKCJjb2wiLmNvbmNhdChzdWZmaXhlc1trZXldLCAiLSIpLmNvbmNhdChwcm9wLnNpemUpKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHByb3Aub2Zmc2V0KSB7CiAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKCJvZmZzZXQiLmNvbmNhdChzdWZmaXhlc1trZXldLCAiLSIpLmNvbmNhdChwcm9wLm9mZnNldCkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAocHJvcC5vcmRlcikgewogICAgICAgICAgICAgIGNsYXNzZXMucHVzaCgib3JkZXIiLmNvbmNhdChzdWZmaXhlc1trZXldLCAiLSIpLmNvbmNhdChwcm9wLm9yZGVyKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm4gaChwcm9wcy50YWcsIGEoZGF0YSwgewogICAgICAgICAgY2xhc3M6IGNsYXNzZXMubGVuZ3RoID8gY2xhc3NlcyA6ICdjb2wnCiAgICAgICAgfSksIGNoaWxkcmVuKTsKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9ncmlkL0NDb2wudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgZ3JpZF9DQ29sdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0NvbHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9ncmlkL0NDb2wudnVlCgogICAgdmFyIENDb2xfcmVuZGVyLCBDQ29sX3N0YXRpY1JlbmRlckZuczsKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0NvbF9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKGdyaWRfQ0NvbHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0NvbF9yZW5kZXIsIENDb2xfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENDb2wgPSBDQ29sX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2dyaWQvaW5kZXguanMKICAgIC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvaW1hZ2UvaW5kZXguanMKICAgIC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9qdW1ib3Ryb24vQ0p1bWJvdHJvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ0p1bWJvdHJvbnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogICAgICBpZiAoa2V5IGluIG9iaikgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9iajsKICAgIH0KICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIENKdW1ib3Ryb252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIGZ1bmN0aW9uYWw6IHRydWUsCiAgICAgIG5hbWU6ICdDSnVtYm90cm9uJywKICAgICAgcHJvcHM6IHsKICAgICAgICB0YWc6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIGRlZmF1bHQ6ICdkaXYnCiAgICAgICAgfSwKICAgICAgICBmbHVpZDogQm9vbGVhbiwKICAgICAgICBjb2xvcjogU3RyaW5nLAogICAgICAgIGJvcmRlckNvbG9yOiBTdHJpbmcsCiAgICAgICAgdGV4dENvbG9yOiBTdHJpbmcKICAgICAgfSwKICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgX3JlZikgewogICAgICAgIHZhciBfY2xhc3M7CgogICAgICAgIHZhciBwcm9wcyA9IF9yZWYucHJvcHMsCiAgICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGEsCiAgICAgICAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjsKICAgICAgICByZXR1cm4gaChwcm9wcy50YWcsIGEoZGF0YSwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICdqdW1ib3Ryb24nLAogICAgICAgICAgY2xhc3M6IChfY2xhc3MgPSB7CiAgICAgICAgICAgICdqdW1ib3Ryb24tZmx1aWQnOiBwcm9wcy5mbHVpZAogICAgICAgICAgfSwgQ0p1bWJvdHJvbnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9jbGFzcywgInRleHQtIi5jb25jYXQocHJvcHMudGV4dENvbG9yKSwgcHJvcHMudGV4dENvbG9yKSwgQ0p1bWJvdHJvbnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9jbGFzcywgImJnLSIuY29uY2F0KHByb3BzLmNvbG9yKSwgcHJvcHMuY29sb3IpLCBDSnVtYm90cm9udnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX2NsYXNzLCAiYm9yZGVyLSIuY29uY2F0KHByb3BzLmJvcmRlckNvbG9yKSwgcHJvcHMuYm9yZGVyQ29sb3IpLCBDSnVtYm90cm9udnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX2NsYXNzLCAnYm9yZGVyJywgcHJvcHMuYm9yZGVyQ29sb3IpLCBfY2xhc3MpCiAgICAgICAgfSksIGNoaWxkcmVuKTsKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9qdW1ib3Ryb24vQ0p1bWJvdHJvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBqdW1ib3Ryb25fQ0p1bWJvdHJvbnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENKdW1ib3Ryb252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvanVtYm90cm9uL0NKdW1ib3Ryb24udnVlCgogICAgdmFyIENKdW1ib3Ryb25fcmVuZGVyLCBDSnVtYm90cm9uX3N0YXRpY1JlbmRlckZuczsKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0p1bWJvdHJvbl9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKGp1bWJvdHJvbl9DSnVtYm90cm9udnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDSnVtYm90cm9uX3JlbmRlciwgQ0p1bWJvdHJvbl9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0p1bWJvdHJvbiA9IENKdW1ib3Ryb25fY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvanVtYm90cm9uL2luZGV4LmpzCiAgICAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2xpbmsvaW5kZXguanMKICAgIC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9saXN0LWdyb3VwL0NMaXN0R3JvdXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIGZ1bmN0aW9uIENMaXN0R3JvdXB2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICAgICAgaWYgKGtleSBpbiBvYmopIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgICB3cml0YWJsZTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIG9ialtrZXldID0gdmFsdWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBvYmo7CiAgICB9CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgoKICAgIHZhciBDTGlzdEdyb3VwdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBmdW5jdGlvbmFsOiB0cnVlLAogICAgICBuYW1lOiAnQ0xpc3RHcm91cCcsCiAgICAgIHByb3BzOiB7CiAgICAgICAgdGFnOiB7CiAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICBkZWZhdWx0OiAndWwnCiAgICAgICAgfSwKICAgICAgICBmbHVzaDogQm9vbGVhbiwKICAgICAgICBob3Jpem9udGFsOiBbQm9vbGVhbiwgU3RyaW5nXSwKICAgICAgICBhY2NlbnQ6IEJvb2xlYW4KICAgICAgfSwKICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgX3JlZikgewogICAgICAgIHZhciBfY2xhc3M7CgogICAgICAgIHZhciBwcm9wcyA9IF9yZWYucHJvcHMsCiAgICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGEsCiAgICAgICAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjsKICAgICAgICB2YXIgaG9yID0gcHJvcHMuaG9yaXpvbnRhbDsKICAgICAgICB2YXIgaG9yaXpvbnRhbENsYXNzU3VmZml4ID0gdHlwZW9mIGhvciA9PT0gJ3N0cmluZycgPyAiLSIuY29uY2F0KGhvcikgOiAnJzsKICAgICAgICB2YXIgY29tcG9uZW50RGF0YSA9IHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAnbGlzdC1ncm91cCcsCiAgICAgICAgICBjbGFzczogKF9jbGFzcyA9IHsKICAgICAgICAgICAgJ2xpc3QtZ3JvdXAtZmx1c2gnOiAhaG9yICYmIHByb3BzLmZsdXNoCiAgICAgICAgICB9LCBDTGlzdEdyb3VwdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX2NsYXNzLCAibGlzdC1ncm91cC1ob3Jpem9udGFsIi5jb25jYXQoaG9yaXpvbnRhbENsYXNzU3VmZml4KSwgaG9yKSwgQ0xpc3RHcm91cHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9jbGFzcywgJ2xpc3QtZ3JvdXAtYWNjZW50JywgcHJvcHMuYWNjZW50KSwgX2NsYXNzKSwKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIHJvbGU6IGRhdGEuYXR0cnMgPyBkYXRhLmF0dHJzLnJvbGUgfHwgJ2xpc3QtaXRlbXMnIDogJ2xpc3QtaXRlbXMnCiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gaChwcm9wcy50YWcsIGEoZGF0YSwgY29tcG9uZW50RGF0YSksIGNoaWxkcmVuKTsKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9saXN0LWdyb3VwL0NMaXN0R3JvdXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgbGlzdF9ncm91cF9DTGlzdEdyb3VwdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0xpc3RHcm91cHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9saXN0LWdyb3VwL0NMaXN0R3JvdXAudnVlCgogICAgdmFyIENMaXN0R3JvdXBfcmVuZGVyLCBDTGlzdEdyb3VwX3N0YXRpY1JlbmRlckZuczsKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0xpc3RHcm91cF9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKGxpc3RfZ3JvdXBfQ0xpc3RHcm91cHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0xpc3RHcm91cF9yZW5kZXIsIENMaXN0R3JvdXBfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENMaXN0R3JvdXAgPSBDTGlzdEdyb3VwX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvbGlzdC1ncm91cC9DTGlzdEdyb3VwSXRlbS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ0xpc3RHcm91cEl0ZW12dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICAgICAgaWYgKGtleSBpbiBvYmopIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgICB3cml0YWJsZTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIG9ialtrZXldID0gdmFsdWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBvYmo7CiAgICB9CgogICAgdmFyIENMaXN0R3JvdXBJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfcHJvcHMgPSBPYmplY3QuYXNzaWduKHsKICAgICAgdGFnOiB7CiAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgIGRlZmF1bHQ6ICdsaScKICAgICAgfSwKICAgICAgYWN0aW9uOiBCb29sZWFuLAogICAgICBjb2xvcjogU3RyaW5nLAogICAgICBhY2NlbnQ6IFN0cmluZwogICAgfSwgcHJvcHNGYWN0b3J5KCkpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDTGlzdEdyb3VwSXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgZnVuY3Rpb25hbDogdHJ1ZSwKICAgICAgbmFtZTogJ0NMaXN0R3JvdXBJdGVtJywKICAgICAgcHJvcHM6IENMaXN0R3JvdXBJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfcHJvcHMsCiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgsIF9yZWYpIHsKICAgICAgICB2YXIgX2NsYXNzOwoKICAgICAgICB2YXIgcHJvcHMgPSBfcmVmLnByb3BzLAogICAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhLAogICAgICAgICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47CiAgICAgICAgdmFyIHRhZyA9IHByb3BzLmhyZWYgfHwgcHJvcHMudG8gPyBDTGluayA6IHByb3BzLnRhZzsKICAgICAgICB2YXIgaXNBY3Rpb24gPSBCb29sZWFuKHByb3BzLmFjdGlvbiB8fCBwcm9wcy5ocmVmIHx8IHByb3BzLnRvIHx8IHByb3BzLnRhZyA9PT0gJ2J1dHRvbicpOwogICAgICAgIHZhciBhdHRycyA9IHt9OwogICAgICAgIHZhciBpdGVtUHJvcHMgPSB7fTsKCiAgICAgICAgaWYgKHRhZyA9PT0gJ2J1dHRvbicpIHsKICAgICAgICAgIGlmICghZGF0YS5hdHRycyB8fCAhZGF0YS5hdHRycy50eXBlKSB7CiAgICAgICAgICAgIGF0dHJzLnR5cGUgPSAnYnV0dG9uJzsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAocHJvcHMuZGlzYWJsZWQpIHsKICAgICAgICAgICAgYXR0cnMuZGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpdGVtUHJvcHMgPSBwaWNrX2J5X2tleXMocHJvcHMsIE9iamVjdC5rZXlzKHByb3BzRmFjdG9yeSgpKSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgY29tcG9uZW50RGF0YSA9IHsKICAgICAgICAgIGF0dHJzOiBhdHRycywKICAgICAgICAgIHByb3BzOiBpdGVtUHJvcHMsCiAgICAgICAgICBzdGF0aWNDbGFzczogJ2xpc3QtZ3JvdXAtaXRlbScsCiAgICAgICAgICBjbGFzczogKF9jbGFzcyA9IHt9LCBDTGlzdEdyb3VwSXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9jbGFzcywgImxpc3QtZ3JvdXAtaXRlbS0iLmNvbmNhdChwcm9wcy5jb2xvciksIHByb3BzLmNvbG9yKSwgQ0xpc3RHcm91cEl0ZW12dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfY2xhc3MsICJsaXN0LWdyb3VwLWl0ZW0tYWNjZW50LSIuY29uY2F0KHByb3BzLmFjY2VudCksIHByb3BzLmFjY2VudCksIENMaXN0R3JvdXBJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX2NsYXNzLCAnbGlzdC1ncm91cC1pdGVtLWFjdGlvbicsIGlzQWN0aW9uKSwgQ0xpc3RHcm91cEl0ZW12dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfY2xhc3MsICdhY3RpdmUnLCBwcm9wcy5hY3RpdmUpLCBDTGlzdEdyb3VwSXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9jbGFzcywgJ2Rpc2FibGVkJywgcHJvcHMuZGlzYWJsZWQpLCBfY2xhc3MpCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gaCh0YWcsIGEoZGF0YSwgY29tcG9uZW50RGF0YSksIGNoaWxkcmVuKTsKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9saXN0LWdyb3VwL0NMaXN0R3JvdXBJdGVtLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIGxpc3RfZ3JvdXBfQ0xpc3RHcm91cEl0ZW12dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDTGlzdEdyb3VwSXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9saXN0LWdyb3VwL0NMaXN0R3JvdXBJdGVtLnZ1ZQoKICAgIHZhciBDTGlzdEdyb3VwSXRlbV9yZW5kZXIsIENMaXN0R3JvdXBJdGVtX3N0YXRpY1JlbmRlckZuczsKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0xpc3RHcm91cEl0ZW1fY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKShsaXN0X2dyb3VwX0NMaXN0R3JvdXBJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDTGlzdEdyb3VwSXRlbV9yZW5kZXIsIENMaXN0R3JvdXBJdGVtX3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDTGlzdEdyb3VwSXRlbSA9IENMaXN0R3JvdXBJdGVtX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvbGlzdC1ncm91cC9DTGlzdEdyb3VwSXRlbURpdmlkZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTIxMjM2Zjk5JgoKICAgIHZhciBDTGlzdEdyb3VwSXRlbURpdmlkZXJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF8yMTIzNmY5OV9yZW5kZXIgPSBmdW5jdGlvbiBDTGlzdEdyb3VwSXRlbURpdmlkZXJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF8yMTIzNmY5OV9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJsaXN0LWdyb3VwLWl0ZW0tZGl2aWRlciIKICAgICAgfSk7CiAgICB9OwoKICAgIHZhciBDTGlzdEdyb3VwSXRlbURpdmlkZXJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF8yMTIzNmY5OV9zdGF0aWNSZW5kZXJGbnMgPSBbXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL2xpc3QtZ3JvdXAvQ0xpc3RHcm91cEl0ZW1EaXZpZGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDTGlzdEdyb3VwSXRlbURpdmlkZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDTGlzdEdyb3VwSXRlbURpdmlkZXInCiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2xpc3QtZ3JvdXAvQ0xpc3RHcm91cEl0ZW1EaXZpZGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIGxpc3RfZ3JvdXBfQ0xpc3RHcm91cEl0ZW1EaXZpZGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0xpc3RHcm91cEl0ZW1EaXZpZGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2xpc3QtZ3JvdXAvQ0xpc3RHcm91cEl0ZW1EaXZpZGVyLnZ1ZQoKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0xpc3RHcm91cEl0ZW1EaXZpZGVyX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkobGlzdF9ncm91cF9DTGlzdEdyb3VwSXRlbURpdmlkZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENMaXN0R3JvdXBJdGVtRGl2aWRlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzIxMjM2Zjk5X3JlbmRlciwgQ0xpc3RHcm91cEl0ZW1EaXZpZGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfMjEyMzZmOTlfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENMaXN0R3JvdXBJdGVtRGl2aWRlciA9IENMaXN0R3JvdXBJdGVtRGl2aWRlcl9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9saXN0LWdyb3VwL2luZGV4LmpzCiAgICAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvbWVkaWEvQ01lZGlhLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1mOWEzODRmYSYKCiAgICB2YXIgQ01lZGlhdnVlX3R5cGVfdGVtcGxhdGVfaWRfZjlhMzg0ZmFfcmVuZGVyID0gZnVuY3Rpb24gQ01lZGlhdnVlX3R5cGVfdGVtcGxhdGVfaWRfZjlhMzg0ZmFfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygnZGl2JywgewogICAgICAgIGNsYXNzOiBfdm0ubWVkaWFDbGFzc2VzCiAgICAgIH0sIFtfYygnZGl2JywgewogICAgICAgIGNsYXNzOiBfdm0uYXNpZGVDbGFzc2VzCiAgICAgIH0sIFtfdm0uX3QoImFzaWRlIiwgW19jKCdDSW1nJywgX3ZtLl9iKHt9LCAnQ0ltZycsIF92bS5jb21wdXRlZEFzaWRlSW1hZ2VQcm9wcywgZmFsc2UpKV0pXSwgMiksIF9jKCdkaXYnLCB7CiAgICAgICAgY2xhc3M6IF92bS5tZWRpYUJvZHlDbGFzc2VzCiAgICAgIH0sIFtfdm0uX3QoImRlZmF1bHQiKV0sIDIpXSk7CiAgICB9OwoKICAgIHZhciBDTWVkaWF2dWVfdHlwZV90ZW1wbGF0ZV9pZF9mOWEzODRmYV9zdGF0aWNSZW5kZXJGbnMgPSBbXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL21lZGlhL0NNZWRpYS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ01lZGlhdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ01lZGlhJywKICAgICAgY29tcG9uZW50czogewogICAgICAgIENJbWc6IENJbWcKICAgICAgfSwKICAgICAgcHJvcHM6IHsKICAgICAgICBhZGRBc2lkZU1hcmdpbjogewogICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB9LAogICAgICAgIGFkZEFzaWRlQ2xhc3NlczogW1N0cmluZywgQXJyYXksIE9iamVjdF0sCiAgICAgICAgYWRkQm9keUNsYXNzZXM6IFtTdHJpbmcsIEFycmF5LCBPYmplY3RdLAogICAgICAgIGFzaWRlUmlnaHQ6IEJvb2xlYW4sCiAgICAgICAgYXNpZGVJbWFnZVByb3BzOiBPYmplY3QsCiAgICAgICAgYXNpZGVWZXJ0aWNhbFBvc2l0aW9uOiB7CiAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICBkZWZhdWx0OiAnc3RhcnQnLAogICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsKSB7CiAgICAgICAgICAgIHJldHVybiBbJ3N0YXJ0JywgJ2NlbnRlcicsICdlbmQnLCAnc3RyZXRjaCddLmluY2x1ZGVzKHZhbCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBjb21wdXRlZDogewogICAgICAgIGNvbXB1dGVkQXNpZGVJbWFnZVByb3BzOiBmdW5jdGlvbiBjb21wdXRlZEFzaWRlSW1hZ2VQcm9wcygpIHsKICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHsKICAgICAgICAgICAgcGxhY2Vob2xkZXJDb2xvcjogJyM3Nzc3NzcnLAogICAgICAgICAgICB3aWR0aDogJzY0cHgnLAogICAgICAgICAgICBoZWlnaHQ6IHRoaXMuYXNpZGVWZXJ0aWNhbFBvc2l0aW9uID09PSAnc3RyZXRjaCcgPyAnMTAwJScgOiAnNjRweCcKICAgICAgICAgIH0sIHRoaXMuYXNpZGVJbWFnZVByb3BzIHx8IHt9KTsKICAgICAgICB9LAogICAgICAgIGFzaWRlQ2xhc3NlczogZnVuY3Rpb24gYXNpZGVDbGFzc2VzKCkgewogICAgICAgICAgcmV0dXJuIFt0aGlzLmFkZEFzaWRlTWFyZ2luID8gIm0iLmNvbmNhdCh0aGlzLmFzaWRlUmlnaHQgPyAnbCcgOiAncicsICItMyIpIDogJycsIHRoaXMuYWRkQXNpZGVDbGFzc2VzLCAiYWxpZ24tc2VsZi0iLmNvbmNhdCh0aGlzLmFzaWRlVmVydGljYWxQb3NpdGlvbildOwogICAgICAgIH0sCiAgICAgICAgbWVkaWFCb2R5Q2xhc3NlczogZnVuY3Rpb24gbWVkaWFCb2R5Q2xhc3NlcygpIHsKICAgICAgICAgIHJldHVybiBbJ21lZGlhLWJvZHknLCB0aGlzLmFkZEJvZHlDbGFzc2VzXTsKICAgICAgICB9LAogICAgICAgIG1lZGlhQ2xhc3NlczogZnVuY3Rpb24gbWVkaWFDbGFzc2VzKCkgewogICAgICAgICAgcmV0dXJuIFsnbWVkaWEnLCB7CiAgICAgICAgICAgICdkLWZsZXggZmxleC1yb3ctcmV2ZXJzZSc6IHRoaXMuYXNpZGVSaWdodAogICAgICAgICAgfV07CiAgICAgICAgfQogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL21lZGlhL0NNZWRpYS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBtZWRpYV9DTWVkaWF2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDTWVkaWF2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvbWVkaWEvQ01lZGlhLnZ1ZQoKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ01lZGlhX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkobWVkaWFfQ01lZGlhdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDTWVkaWF2dWVfdHlwZV90ZW1wbGF0ZV9pZF9mOWEzODRmYV9yZW5kZXIsIENNZWRpYXZ1ZV90eXBlX3RlbXBsYXRlX2lkX2Y5YTM4NGZhX3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDTWVkaWEgPSBDTWVkaWFfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvbWVkaWEvaW5kZXguanMKICAgIC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9tb2RhbC9DTW9kYWwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTE4MTY5NTc0JgoKICAgIHZhciBDTW9kYWx2dWVfdHlwZV90ZW1wbGF0ZV9pZF8xODE2OTU3NF9yZW5kZXIgPSBmdW5jdGlvbiBDTW9kYWx2dWVfdHlwZV90ZW1wbGF0ZV9pZF8xODE2OTU3NF9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdkaXYnLCBbX2MoJ2RpdicsIHsKICAgICAgICBjbGFzczogX3ZtLm1vZGFsQ2xhc3NlcywKICAgICAgICBhdHRyczogewogICAgICAgICAgInRhYmluZGV4IjogIi0xIiwKICAgICAgICAgICJyb2xlIjogImRpYWxvZyIKICAgICAgICB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICAiY2xpY2siOiBmdW5jdGlvbiBjbGljaygkZXZlbnQpIHsKICAgICAgICAgICAgcmV0dXJuIF92bS5tb2RhbENsaWNrKCRldmVudCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBbX2MoJ2RpdicsIHsKICAgICAgICBjbGFzczogX3ZtLmRpYWxvZ0NsYXNzZXMsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJyb2xlIjogImRvY3VtZW50IgogICAgICAgIH0KICAgICAgfSwgW19jKCdkaXYnLCB7CiAgICAgICAgY2xhc3M6IF92bS5jb250ZW50Q2xhc3NlcwogICAgICB9LCBbX3ZtLl90KCJoZWFkZXItd3JhcHBlciIsIFtfYygnaGVhZGVyJywgewogICAgICAgIHN0YXRpY0NsYXNzOiAibW9kYWwtaGVhZGVyIgogICAgICB9LCBbX3ZtLl90KCJoZWFkZXIiLCBbX2MoJ2g1JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAibW9kYWwtdGl0bGUiCiAgICAgIH0sIFtfdm0uX3YoIiAiICsgX3ZtLl9zKF92bS50aXRsZSkgKyAiICIpXSksIF9jKCdDQnV0dG9uQ2xvc2UnLCB7CiAgICAgICAgb246IHsKICAgICAgICAgICJjbGljayI6IGZ1bmN0aW9uIGNsaWNrKCRldmVudCkgewogICAgICAgICAgICByZXR1cm4gX3ZtLmhpZGUoJGV2ZW50KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pXSldLCAyKV0pLCBfdm0uX3QoImJvZHktd3JhcHBlciIsIFtfYygnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAibW9kYWwtYm9keSIKICAgICAgfSwgW192bS5fdCgiZGVmYXVsdCIpXSwgMildKSwgX3ZtLl90KCJmb290ZXItd3JhcHBlciIsIFtfYygnZm9vdGVyJywgewogICAgICAgIHN0YXRpY0NsYXNzOiAibW9kYWwtZm9vdGVyIgogICAgICB9LCBbX3ZtLl90KCJmb290ZXIiLCBbX2MoJ2J1dHRvbicsIHsKICAgICAgICBzdGF0aWNDbGFzczogImJ0biBidG4tc2Vjb25kYXJ5IiwKICAgICAgICBhdHRyczogewogICAgICAgICAgInR5cGUiOiAiYnV0dG9uIgogICAgICAgIH0sCiAgICAgICAgb246IHsKICAgICAgICAgICJjbGljayI6IGZ1bmN0aW9uIGNsaWNrKCRldmVudCkgewogICAgICAgICAgICByZXR1cm4gX3ZtLmhpZGUoJGV2ZW50KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIFtfdm0uX3YoIiBDYW5jZWwgIildKSwgX2MoJ2J1dHRvbicsIHsKICAgICAgICBjbGFzczogX3ZtLmJ0bkNsYXNzZXMsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJ0eXBlIjogImJ1dHRvbiIKICAgICAgICB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICAiY2xpY2siOiBmdW5jdGlvbiBjbGljaygkZXZlbnQpIHsKICAgICAgICAgICAgcmV0dXJuIF92bS5oaWRlKCRldmVudCwgdHJ1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBbX3ZtLl92KCIgT0sgIildKV0pXSwgMildKV0sIDIpXSldKSwgX3ZtLmJhY2tkcm9wICYmIChfdm0udmlzaWJsZSB8fCBfdm0uaXNUcmFuc2l0aW9uaW5nKSA/IF9jKCdkaXYnLCB7CiAgICAgICAgY2xhc3M6IF92bS5iYWNrZHJvcENsYXNzZXMKICAgICAgfSkgOiBfdm0uX2UoKV0pOwogICAgfTsKCiAgICB2YXIgQ01vZGFsdnVlX3R5cGVfdGVtcGxhdGVfaWRfMTgxNjk1NzRfc3RhdGljUmVuZGVyRm5zID0gW107IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9tb2RhbC9DTW9kYWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIGZ1bmN0aW9uIENNb2RhbHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogICAgICBpZiAoa2V5IGluIG9iaikgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9iajsKICAgIH0gLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICB2YXIgQ01vZGFsdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ01vZGFsJywKICAgICAgY29tcG9uZW50czogewogICAgICAgIENCdXR0b25DbG9zZTogQ0J1dHRvbkNsb3NlCiAgICAgIH0sCiAgICAgIHByb3BzOiB7CiAgICAgICAgc2hvdzogQm9vbGVhbiwKICAgICAgICBjZW50ZXJlZDogQm9vbGVhbiwKICAgICAgICB0aXRsZTogU3RyaW5nLAogICAgICAgIHNpemU6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkgewogICAgICAgICAgICByZXR1cm4gWycnLCAnc20nLCAnbGcnLCAneGwnXS5pbmNsdWRlcyh2YWwpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY29sb3I6IFN0cmluZywKICAgICAgICBib3JkZXJDb2xvcjogU3RyaW5nLAogICAgICAgIGZhZGU6IHsKICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICBkZWZhdWx0OiB0cnVlCiAgICAgICAgfSwKICAgICAgICBiYWNrZHJvcDogewogICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB9LAogICAgICAgIGNsb3NlT25CYWNrZHJvcDogewogICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB9LAogICAgICAgIGFkZENvbnRlbnRDbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XQogICAgICB9LAogICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2aXNpYmxlOiB0aGlzLnNob3csCiAgICAgICAgICBpc1RyYW5zaXRpb25pbmc6IGZhbHNlLAogICAgICAgICAgdGltZW91dDogbnVsbAogICAgICAgIH07CiAgICAgIH0sCiAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgYmFja2Ryb3BDbGFzc2VzOiBmdW5jdGlvbiBiYWNrZHJvcENsYXNzZXMoKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAnbW9kYWwtYmFja2Ryb3AnOiB0cnVlLAogICAgICAgICAgICAnZmFkZSc6IHRoaXMuZmFkZSwKICAgICAgICAgICAgJ3Nob3cnOiB0aGlzLnZpc2libGUgfHwgIXRoaXMuZmFkZQogICAgICAgICAgfTsKICAgICAgICB9LAogICAgICAgIG1vZGFsQ2xhc3NlczogZnVuY3Rpb24gbW9kYWxDbGFzc2VzKCkgewogICAgICAgICAgcmV0dXJuIFsnbW9kYWwgb3ZlcmZsb3ctYXV0bycsIENNb2RhbHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KHsKICAgICAgICAgICAgJ2ZhZGUnOiB0aGlzLmZhZGUsCiAgICAgICAgICAgICdzaG93JzogdGhpcy52aXNpYmxlLAogICAgICAgICAgICAnZC1ibG9jayc6IHRoaXMudmlzaWJsZSB8fCB0aGlzLmlzVHJhbnNpdGlvbmluZwogICAgICAgICAgfSwgIm1vZGFsLSIuY29uY2F0KHRoaXMuY29sb3IpLCB0aGlzLmNvbG9yKV07CiAgICAgICAgfSwKICAgICAgICBkaWFsb2dDbGFzc2VzOiBmdW5jdGlvbiBkaWFsb2dDbGFzc2VzKCkgewogICAgICAgICAgcmV0dXJuIFsnbW9kYWwtZGlhbG9nJywgQ01vZGFsdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoewogICAgICAgICAgICAnbW9kYWwtZGlhbG9nLWNlbnRlcmVkJzogdGhpcy5jZW50ZXJlZAogICAgICAgICAgfSwgIm1vZGFsLSIuY29uY2F0KHRoaXMuc2l6ZSksIHRoaXMuc2l6ZSldOwogICAgICAgIH0sCiAgICAgICAgY29udGVudENsYXNzZXM6IGZ1bmN0aW9uIGNvbnRlbnRDbGFzc2VzKCkgewogICAgICAgICAgcmV0dXJuIFt0aGlzLmFkZENvbnRlbnRDbGFzc2VzLCAnbW9kYWwtY29udGVudCcsIENNb2RhbHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KHt9LCAiYm9yZGVyLSIuY29uY2F0KHRoaXMuYm9yZGVyQ29sb3IpLCB0aGlzLmJvcmRlckNvbG9yKV07CiAgICAgICAgfSwKICAgICAgICBidG5DbGFzc2VzOiBmdW5jdGlvbiBidG5DbGFzc2VzKCkgewogICAgICAgICAgcmV0dXJuIFsiYnRuIGJ0bi0iLmNvbmNhdCh0aGlzLmNvbG9yIHx8ICdwcmltYXJ5JyldOwogICAgICAgIH0KICAgICAgfSwKICAgICAgd2F0Y2g6IHsKICAgICAgICBzaG93OiBmdW5jdGlvbiBzaG93KHZhbCkgewogICAgICAgICAgdGhpcy50b2dnbGUodmFsKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1ldGhvZHM6IHsKICAgICAgICBtb2RhbENsaWNrOiBmdW5jdGlvbiBtb2RhbENsaWNrKGUpIHsKICAgICAgICAgIGlmIChlLnRhcmdldCA9PT0gdGhpcy4kZWwuZmlyc3RFbGVtZW50Q2hpbGQgJiYgdGhpcy5jbG9zZU9uQmFja2Ryb3ApIHsKICAgICAgICAgICAgdGhpcy5oaWRlKGUpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgaGlkZTogZnVuY3Rpb24gaGlkZShlKSB7CiAgICAgICAgICB2YXIgYWNjZXB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTsKICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpzaG93JywgZmFsc2UsIGUsIGFjY2VwdCk7CiAgICAgICAgfSwKICAgICAgICB0b2dnbGU6IGZ1bmN0aW9uIHRvZ2dsZShuZXdWYWwpIHsKICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLnZpc2libGUgPSBuZXdWYWw7CiAgICAgICAgICB9LCAwKTsKCiAgICAgICAgICBpZiAodGhpcy5mYWRlKSB7CiAgICAgICAgICAgIHRoaXMuaXNUcmFuc2l0aW9uaW5nID0gdHJ1ZTsKICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7CiAgICAgICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzLmlzVHJhbnNpdGlvbmluZyA9IGZhbHNlOwogICAgICAgICAgICB9LCAxNTApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9tb2RhbC9DTW9kYWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgbW9kYWxfQ01vZGFsdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ01vZGFsdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL21vZGFsL0NNb2RhbC52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENNb2RhbF9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKG1vZGFsX0NNb2RhbHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ01vZGFsdnVlX3R5cGVfdGVtcGxhdGVfaWRfMTgxNjk1NzRfcmVuZGVyLCBDTW9kYWx2dWVfdHlwZV90ZW1wbGF0ZV9pZF8xODE2OTU3NF9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ01vZGFsID0gQ01vZGFsX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL21vZGFsL2luZGV4LmpzCiAgICAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvbmF2L0NOYXYudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTRmYzY5NjQ0JgoKICAgIHZhciBDTmF2dnVlX3R5cGVfdGVtcGxhdGVfaWRfNGZjNjk2NDRfcmVuZGVyID0gZnVuY3Rpb24gQ05hdnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzRmYzY5NjQ0X3JlbmRlcigpIHsKICAgICAgdmFyIF92bSA9IHRoaXM7CgogICAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogICAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogICAgICByZXR1cm4gX2MoX3ZtLnRhZyB8fCAndWwnLCB7CiAgICAgICAgdGFnOiAiY29tcG9uZW50IiwKICAgICAgICBjbGFzczogX3ZtLm5hdkNsYXNzZXMsCiAgICAgICAgb246IHsKICAgICAgICAgICJjbGljayI6IF92bS5vbkNsaWNrCiAgICAgICAgfQogICAgICB9LCBbX3ZtLl90KCJkZWZhdWx0IildLCAyKTsKICAgIH07CgogICAgdmFyIENOYXZ2dWVfdHlwZV90ZW1wbGF0ZV9pZF80ZmM2OTY0NF9zdGF0aWNSZW5kZXJGbnMgPSBbXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL25hdi9DTmF2LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICBmdW5jdGlvbiBDTmF2dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgICAgIGlmIChrZXkgaW4gb2JqKSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgICAgd3JpdGFibGU6IHRydWUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpba2V5XSA9IHZhbHVlOwogICAgICB9CgogICAgICByZXR1cm4gb2JqOwogICAgfSAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICB2YXIgQ05hdnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NOYXYnLAogICAgICBwcm9wczogewogICAgICAgIHZhcmlhbnQ6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkgewogICAgICAgICAgICByZXR1cm4gWycnLCAndGFicycsICdwaWxscyddLmluY2x1ZGVzKHZhbCk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBmaWxsOiBCb29sZWFuLAogICAgICAgIGp1c3RpZmllZDogQm9vbGVhbiwKICAgICAgICB2ZXJ0aWNhbDogW0Jvb2xlYW4sIFN0cmluZ10sCiAgICAgICAgaW5DYXJkOiBCb29sZWFuLAogICAgICAgIHRhZzogU3RyaW5nCiAgICAgIH0sCiAgICAgIHByb3ZpZGU6IGZ1bmN0aW9uIHByb3ZpZGUoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdmFyIG5hdiA9IHt9OwogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuYXYsICdhY3RpdmUnLCB7CiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLmFjdGl2ZUl0ZW1JbnN0YW5jZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgbmF2OiBuYXYKICAgICAgICB9OwogICAgICB9LAogICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBhY3RpdmVJdGVtSW5zdGFuY2U6IG51bGwKICAgICAgICB9OwogICAgICB9LAogICAgICBjb21wdXRlZDogewogICAgICAgIG5hdkNsYXNzZXM6IGZ1bmN0aW9uIG5hdkNsYXNzZXMoKSB7CiAgICAgICAgICB2YXIgX3JlZjsKCiAgICAgICAgICB2YXIgdmVydGljYWxTdWZmaXggPSB0aGlzLnZlcnRpY2FsID09PSB0cnVlID8gJycgOiAnLScgKyB0aGlzLnZlcnRpY2FsOwogICAgICAgICAgcmV0dXJuIF9yZWYgPSB7CiAgICAgICAgICAgICduYXYnOiB0cnVlCiAgICAgICAgICB9LCBDTmF2dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZiwgIm5hdi0iLmNvbmNhdCh0aGlzLnZhcmlhbnQpLCB0aGlzLnZhcmlhbnQpLCBDTmF2dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZiwgImZsZXgiLmNvbmNhdCh2ZXJ0aWNhbFN1ZmZpeCwgIi1jb2x1bW4iKSwgdGhpcy52ZXJ0aWNhbCksIENOYXZ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfcmVmLCAnbmF2LWZpbGwnLCB0aGlzLmZpbGwpLCBDTmF2dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ25hdi1qdXN0aWZpZWQnLCB0aGlzLmp1c3RpZmllZCksIENOYXZ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfcmVmLCAiY2FyZC1oZWFkZXItIi5jb25jYXQodGhpcy52YXJpYW50KSwgdGhpcy5pbkNhcmQgJiYgdGhpcy52YXJpYW50KSwgX3JlZjsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1ldGhvZHM6IHsKICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHsKICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICAgIHRoaXMuJGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgaWYgKGl0ZW0uJGVsLmNvbnRhaW5zKGUudGFyZ2V0KSAmJiAhaXRlbS5kaXNhYmxlZCkgewogICAgICAgICAgICAgIF90aGlzMi5hY3RpdmVJdGVtSW5zdGFuY2UgPSBpdGVtOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvbmF2L0NOYXYudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgbmF2X0NOYXZ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDTmF2dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL25hdi9DTmF2LnZ1ZQoKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ05hdl9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKG5hdl9DTmF2dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDTmF2dnVlX3R5cGVfdGVtcGxhdGVfaWRfNGZjNjk2NDRfcmVuZGVyLCBDTmF2dnVlX3R5cGVfdGVtcGxhdGVfaWRfNGZjNjk2NDRfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENOYXYgPSBDTmF2X2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvbmF2L0NOYXZJdGVtLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01NDBmZGYxYSYKCiAgICB2YXIgQ05hdkl0ZW12dWVfdHlwZV90ZW1wbGF0ZV9pZF81NDBmZGYxYV9yZW5kZXIgPSBmdW5jdGlvbiBDTmF2SXRlbXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzU0MGZkZjFhX3JlbmRlcigpIHsKICAgICAgdmFyIF92bSA9IHRoaXM7CgogICAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogICAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogICAgICByZXR1cm4gX2MoJ2xpJywgewogICAgICAgIHN0YXRpY0NsYXNzOiAibmF2LWl0ZW0iCiAgICAgIH0sIFtfYygnQ0xpbmsnLCBfdm0uX2IoewogICAgICAgIHN0YXRpY0NsYXNzOiAibmF2LWxpbmsiLAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAiYWN0aXZlIjogX3ZtLmlzQWN0aXZlCiAgICAgICAgfQogICAgICB9LCAnQ0xpbmsnLCBfdm0uJHByb3BzLCBmYWxzZSksIFtfdm0uX3QoImRlZmF1bHQiKV0sIDIpXSwgMSk7CiAgICB9OwoKICAgIHZhciBDTmF2SXRlbXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzU0MGZkZjFhX3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvbmF2L0NOYXZJdGVtLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENOYXZJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ05hdkl0ZW0nLAogICAgICBjb21wb25lbnRzOiB7CiAgICAgICAgQ0xpbms6IENMaW5rCiAgICAgIH0sCiAgICAgIGluamVjdDogewogICAgICAgIG5hdjogewogICAgICAgICAgZGVmYXVsdDoge30KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHByb3BzOiBDTGlua3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3Byb3BzLAogICAgICBjb21wdXRlZDogewogICAgICAgIGlzQWN0aXZlOiBmdW5jdGlvbiBpc0FjdGl2ZSgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLm5hdi5hY3RpdmUgPyB0aGlzLm5hdi5hY3RpdmUgPT09IHRoaXMgOiB0aGlzLmFjdGl2ZTsKICAgICAgICB9CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvbmF2L0NOYXZJdGVtLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIG5hdl9DTmF2SXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENOYXZJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL25hdi9DTmF2SXRlbS52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENOYXZJdGVtX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkobmF2X0NOYXZJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDTmF2SXRlbXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzU0MGZkZjFhX3JlbmRlciwgQ05hdkl0ZW12dWVfdHlwZV90ZW1wbGF0ZV9pZF81NDBmZGYxYV9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ05hdkl0ZW0gPSBDTmF2SXRlbV9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9uYXYvaW5kZXguanMKICAgIC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9uYXZiYXIvQ05hdmJhci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ05hdmJhcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogICAgICBpZiAoa2V5IGluIG9iaikgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9iajsKICAgIH0KCiAgICB2YXIgQ05hdmJhcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3Byb3BzID0gewogICAgICB0YWc6IHsKICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgZGVmYXVsdDogJ25hdicKICAgICAgfSwKICAgICAgbGlnaHQ6IEJvb2xlYW4sCiAgICAgIGNvbG9yOiBTdHJpbmcsCiAgICAgIGV4cGFuZGFibGU6IHsKICAgICAgICB0eXBlOiBbQm9vbGVhbiwgU3RyaW5nXSwKICAgICAgICBkZWZhdWx0OiBmYWxzZQogICAgICB9LAogICAgICBmaXhlZDogewogICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2YWwpIHsKICAgICAgICAgIHJldHVybiBbJycsICd0b3AnLCAnYm90dG9tJ10uaW5jbHVkZXModmFsKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHN0aWNreTogQm9vbGVhbgogICAgfTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ05hdmJhcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NOYXZiYXInLAogICAgICBmdW5jdGlvbmFsOiB0cnVlLAogICAgICBwcm9wczogQ05hdmJhcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3Byb3BzLAogICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfcmVmKSB7CiAgICAgICAgdmFyIF9yZWYyOwoKICAgICAgICB2YXIgcHJvcHMgPSBfcmVmLnByb3BzLAogICAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhLAogICAgICAgICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47CiAgICAgICAgdmFyIGV4cGFuZENsYXNzU3VmZml4ID0gcHJvcHMuZXhwYW5kYWJsZSA9PT0gdHJ1ZSA/ICcnIDogIi0iLmNvbmNhdChwcm9wcy5leHBhbmRhYmxlKTsKICAgICAgICByZXR1cm4gaChwcm9wcy50YWcsIGEoZGF0YSwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICduYXZiYXInLAogICAgICAgICAgY2xhc3M6IFtwcm9wcy5saWdodCA/ICduYXZiYXItbGlnaHQnIDogJ25hdmJhci1kYXJrJywgKF9yZWYyID0gewogICAgICAgICAgICAnc3RpY2t5LXRvcCc6IHByb3BzLnN0aWNreQogICAgICAgICAgfSwgQ05hdmJhcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYyLCAiYmctIi5jb25jYXQocHJvcHMuY29sb3IpLCBwcm9wcy5jb2xvciksIENOYXZiYXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfcmVmMiwgImZpeGVkLSIuY29uY2F0KHByb3BzLmZpeGVkKSwgcHJvcHMuZml4ZWQpLCBDTmF2YmFydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZjIsICJuYXZiYXItZXhwYW5kIi5jb25jYXQoZXhwYW5kQ2xhc3NTdWZmaXgpLCBwcm9wcy5leHBhbmRhYmxlKSwgX3JlZjIpXSwKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIHJvbGU6IHByb3BzLnRhZyA9PT0gJ25hdicgPyBudWxsIDogJ25hdmlnYXRpb24nCiAgICAgICAgICB9CiAgICAgICAgfSksIGNoaWxkcmVuKTsKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9uYXZiYXIvQ05hdmJhci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBuYXZiYXJfQ05hdmJhcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENOYXZiYXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvbmF2YmFyL0NOYXZiYXIudnVlCgogICAgdmFyIENOYXZiYXJfcmVuZGVyLCBDTmF2YmFyX3N0YXRpY1JlbmRlckZuczsKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ05hdmJhcl9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKG5hdmJhcl9DTmF2YmFydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDTmF2YmFyX3JlbmRlciwgQ05hdmJhcl9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ05hdmJhciA9IENOYXZiYXJfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9uYXZiYXIvQ05hdmJhckJyYW5kLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICB2YXIgQ05hdmJhckJyYW5kdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfcHJvcHMgPSBPYmplY3QuYXNzaWduKHByb3BzRmFjdG9yeSgpLCB7CiAgICAgIHRhZzogewogICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICBkZWZhdWx0OiAnZGl2JwogICAgICB9CiAgICB9KTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ05hdmJhckJyYW5kdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ05hdmJhckJyYW5kJywKICAgICAgZnVuY3Rpb25hbDogdHJ1ZSwKICAgICAgcHJvcHM6IENOYXZiYXJCcmFuZHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3Byb3BzLAogICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfcmVmKSB7CiAgICAgICAgdmFyIHByb3BzID0gX3JlZi5wcm9wcywKICAgICAgICAgICAgZGF0YSA9IF9yZWYuZGF0YSwKICAgICAgICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuOwogICAgICAgIHZhciBpc0xpbmsgPSBCb29sZWFuKHByb3BzLnRvIHx8IHByb3BzLmhyZWYpOwogICAgICAgIHZhciB0YWcgPSBpc0xpbmsgPyBDTGluayA6IHByb3BzLnRhZzsKICAgICAgICByZXR1cm4gaCh0YWcsIGEoZGF0YSwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICduYXZiYXItYnJhbmQnLAogICAgICAgICAgcHJvcHM6IGlzTGluayA/IHByb3BzIDogbnVsbAogICAgICAgIH0pLCBjaGlsZHJlbik7CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvbmF2YmFyL0NOYXZiYXJCcmFuZC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBuYXZiYXJfQ05hdmJhckJyYW5kdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ05hdmJhckJyYW5kdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL25hdmJhci9DTmF2YmFyQnJhbmQudnVlCgogICAgdmFyIENOYXZiYXJCcmFuZF9yZW5kZXIsIENOYXZiYXJCcmFuZF9zdGF0aWNSZW5kZXJGbnM7CiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENOYXZiYXJCcmFuZF9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKG5hdmJhcl9DTmF2YmFyQnJhbmR2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENOYXZiYXJCcmFuZF9yZW5kZXIsIENOYXZiYXJCcmFuZF9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ05hdmJhckJyYW5kID0gQ05hdmJhckJyYW5kX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvbmF2YmFyL0NOYXZiYXJOYXYudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ05hdmJhck5hdnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NOYXZiYXJOYXYnLAogICAgICBmdW5jdGlvbmFsOiB0cnVlLAogICAgICBwcm9wczogewogICAgICAgIHRhZzogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgZGVmYXVsdDogJ3VsJwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgX3JlZikgewogICAgICAgIHZhciBwcm9wcyA9IF9yZWYucHJvcHMsCiAgICAgICAgICAgIGRhdGEgPSBfcmVmLmRhdGEsCiAgICAgICAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjsKICAgICAgICByZXR1cm4gaChwcm9wcy50YWcsIGEoZGF0YSwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICduYXZiYXItbmF2JwogICAgICAgIH0pLCBjaGlsZHJlbik7CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvbmF2YmFyL0NOYXZiYXJOYXYudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgbmF2YmFyX0NOYXZiYXJOYXZ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDTmF2YmFyTmF2dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL25hdmJhci9DTmF2YmFyTmF2LnZ1ZQoKICAgIHZhciBDTmF2YmFyTmF2X3JlbmRlciwgQ05hdmJhck5hdl9zdGF0aWNSZW5kZXJGbnM7CiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENOYXZiYXJOYXZfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKShuYXZiYXJfQ05hdmJhck5hdnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ05hdmJhck5hdl9yZW5kZXIsIENOYXZiYXJOYXZfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENOYXZiYXJOYXYgPSBDTmF2YmFyTmF2X2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvbmF2YmFyL0NOYXZiYXJUZXh0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1iYmFlMzVjNiYKCiAgICB2YXIgQ05hdmJhclRleHR2dWVfdHlwZV90ZW1wbGF0ZV9pZF9iYmFlMzVjNl9yZW5kZXIgPSBmdW5jdGlvbiBDTmF2YmFyVGV4dHZ1ZV90eXBlX3RlbXBsYXRlX2lkX2JiYWUzNWM2X3JlbmRlcigpIHsKICAgICAgdmFyIF92bSA9IHRoaXM7CgogICAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogICAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogICAgICByZXR1cm4gX2MoX3ZtLnRhZywgewogICAgICAgIHRhZzogImNvbXBvbmVudCIsCiAgICAgICAgc3RhdGljQ2xhc3M6ICJuYXZiYXItdGV4dCIKICAgICAgfSwgW192bS5fdCgiZGVmYXVsdCIpXSwgMik7CiAgICB9OwoKICAgIHZhciBDTmF2YmFyVGV4dHZ1ZV90eXBlX3RlbXBsYXRlX2lkX2JiYWUzNWM2X3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvbmF2YmFyL0NOYXZiYXJUZXh0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENOYXZiYXJUZXh0dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ05hdmJhclRleHQnLAogICAgICBwcm9wczogewogICAgICAgIHRhZzogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgZGVmYXVsdDogJ2RpdicKICAgICAgICB9CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvbmF2YmFyL0NOYXZiYXJUZXh0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIG5hdmJhcl9DTmF2YmFyVGV4dHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENOYXZiYXJUZXh0dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL25hdmJhci9DTmF2YmFyVGV4dC52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENOYXZiYXJUZXh0X2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkobmF2YmFyX0NOYXZiYXJUZXh0dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDTmF2YmFyVGV4dHZ1ZV90eXBlX3RlbXBsYXRlX2lkX2JiYWUzNWM2X3JlbmRlciwgQ05hdmJhclRleHR2dWVfdHlwZV90ZW1wbGF0ZV9pZF9iYmFlMzVjNl9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ05hdmJhclRleHQgPSBDTmF2YmFyVGV4dF9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9uYXZiYXIvaW5kZXguanMKICAgIC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9wYWdpbmF0aW9uL0NQYWdpbmF0aW9uLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03ZWU2ZDY2NCYKCiAgICB2YXIgQ1BhZ2luYXRpb252dWVfdHlwZV90ZW1wbGF0ZV9pZF83ZWU2ZDY2NF9yZW5kZXIgPSBmdW5jdGlvbiBDUGFnaW5hdGlvbnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzdlZTZkNjY0X3JlbmRlcigpIHsKICAgICAgdmFyIF92bSA9IHRoaXM7CgogICAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogICAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogICAgICByZXR1cm4gX2MoJ25hdicsIHsKICAgICAgICBhdHRyczogewogICAgICAgICAgImFyaWEtbGFiZWwiOiAicGFnaW5hdGlvbiIKICAgICAgICB9CiAgICAgIH0sIFtfYygndWwnLCB7CiAgICAgICAgY2xhc3M6IF92bS5jb21wdXRlZENsYXNzZXMKICAgICAgfSwgW192bS5kb3VibGVBcnJvd3MgPyBfYygnbGknLCB7CiAgICAgICAgY2xhc3M6IF92bS5iYWNrQXJyb3dzQ2xhc3NlcwogICAgICB9LCBbX2MoJ0NMaW5rJywgewogICAgICAgIHN0YXRpY0NsYXNzOiAicGFnZS1saW5rIiwKICAgICAgICBhdHRyczogewogICAgICAgICAgImRpc2FibGVkIjogX3ZtLmFjdGl2ZVBhZ2UgPT09IDEsCiAgICAgICAgICAiYXJpYS1sYWJlbCI6ICJHbyB0byBmaXJzdCBwYWdlIiwKICAgICAgICAgICJhcmlhLWRpc2FibGVkIjogX3ZtLmFjdGl2ZVBhZ2UgPT09IDEKICAgICAgICB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICAiY2xpY2siOiBmdW5jdGlvbiBjbGljaygkZXZlbnQpIHsKICAgICAgICAgICAgcmV0dXJuIF92bS5zZXRQYWdlKDEpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgW192bS5fdCgiZmlyc3QtYnV0dG9uIiwgW192bS5fdigiwqsiKV0pXSwgMildLCAxKSA6IF92bS5fZSgpLCBfdm0uYXJyb3dzID8gX2MoJ2xpJywgewogICAgICAgIGNsYXNzOiBfdm0uYmFja0Fycm93c0NsYXNzZXMKICAgICAgfSwgW19jKCdDTGluaycsIHsKICAgICAgICBzdGF0aWNDbGFzczogInBhZ2UtbGluayIsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJkaXNhYmxlZCI6IF92bS5hY3RpdmVQYWdlID09PSAxLAogICAgICAgICAgImFyaWEtbGFiZWwiOiAiR28gdG8gcHJldmlvdXMgcGFnZSIsCiAgICAgICAgICAiYXJpYS1kaXNhYmxlZCI6IF92bS5hY3RpdmVQYWdlID09PSAxCiAgICAgICAgfSwKICAgICAgICBvbjogewogICAgICAgICAgImNsaWNrIjogZnVuY3Rpb24gY2xpY2soJGV2ZW50KSB7CiAgICAgICAgICAgIHJldHVybiBfdm0uc2V0UGFnZShfdm0uYWN0aXZlUGFnZSAtIDEpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgW192bS5fdCgicHJldmlvdXMtYnV0dG9uIiwgW192bS5fdigi4oC5IildKV0sIDIpXSwgMSkgOiBfdm0uX2UoKSwgX3ZtLmJlZm9yZURvdHMgPyBfYygnbGknLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJwYWdlLWl0ZW0gZGlzYWJsZWQiLAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAicm9sZSI6ICJzZXBhcmF0b3IiCiAgICAgICAgfQogICAgICB9LCBbX2MoJ3NwYW4nLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJwYWdlLWxpbmsiCiAgICAgIH0sIFtfdm0uX3YoIuKApiIpXSldKSA6IF92bS5fZSgpLCBfdm0uX2woX3ZtLml0ZW1zLCBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBfYygnbGknLCB7CiAgICAgICAgICBrZXk6IGl0ZW0sCiAgICAgICAgICBjbGFzczogW3sKICAgICAgICAgICAgJ2FjdGl2ZSc6IF92bS5hY3RpdmVQYWdlID09PSBpdGVtCiAgICAgICAgICB9LCAncGFnZS1pdGVtJ10KICAgICAgICB9LCBbX2MoJ0NMaW5rJywgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICJwYWdlLWxpbmsgYy1wYWdlLWxpbmstbnVtYmVyIiwKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICJhcmlhLWxhYmVsIjogX3ZtLmFjdGl2ZVBhZ2UgPT09IGl0ZW0gPyAiQ3VycmVudCBwYWdlICIgKyBpdGVtIDogIkdvIHRvIHBhZ2UgIiArIGl0ZW0KICAgICAgICAgIH0sCiAgICAgICAgICBvbjogewogICAgICAgICAgICAiY2xpY2siOiBmdW5jdGlvbiBjbGljaygkZXZlbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX3ZtLnNldFBhZ2UoaXRlbSwgJGV2ZW50KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIFtfdm0uX3YoIiAiICsgX3ZtLl9zKGl0ZW0pICsgIiAiKV0pXSwgMSk7CiAgICAgIH0pLCBfdm0uYWZ0ZXJEb3RzID8gX2MoJ2xpJywgewogICAgICAgIHN0YXRpY0NsYXNzOiAicGFnZS1pdGVtIGRpc2FibGVkIiwKICAgICAgICBhdHRyczogewogICAgICAgICAgInJvbGUiOiAic2VwYXJhdG9yIgogICAgICAgIH0KICAgICAgfSwgW19jKCdzcGFuJywgewogICAgICAgIHN0YXRpY0NsYXNzOiAicGFnZS1saW5rIgogICAgICB9LCBbX3ZtLl92KCLigKYiKV0pXSkgOiBfdm0uX2UoKSwgX3ZtLmFycm93cyA/IF9jKCdsaScsIHsKICAgICAgICBjbGFzczogX3ZtLm5leHRBcnJvd3NDbGFzc2VzCiAgICAgIH0sIFtfYygnQ0xpbmsnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJwYWdlLWxpbmsiLAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAiZGlzYWJsZWQiOiBfdm0uYWN0aXZlUGFnZSA9PT0gX3ZtLnBhZ2VzLAogICAgICAgICAgImFyaWEtbGFiZWwiOiAiR28gdG8gbmV4dCBwYWdlIiwKICAgICAgICAgICJhcmlhLWRpc2FibGVkIjogX3ZtLmFjdGl2ZVBhZ2UgPT09IF92bS5wYWdlcwogICAgICAgIH0sCiAgICAgICAgb246IHsKICAgICAgICAgICJjbGljayI6IGZ1bmN0aW9uIGNsaWNrKCRldmVudCkgewogICAgICAgICAgICByZXR1cm4gX3ZtLnNldFBhZ2UoX3ZtLmFjdGl2ZVBhZ2UgKyAxKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIFtfdm0uX3QoIm5leHQtYnV0dG9uIiwgW192bS5fdigi4oC6IildKV0sIDIpXSwgMSkgOiBfdm0uX2UoKSwgX3ZtLmRvdWJsZUFycm93cyA/IF9jKCdsaScsIHsKICAgICAgICBjbGFzczogX3ZtLm5leHRBcnJvd3NDbGFzc2VzCiAgICAgIH0sIFtfYygnQ0xpbmsnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJwYWdlLWxpbmsiLAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAiZGlzYWJsZWQiOiBfdm0uYWN0aXZlUGFnZSA9PT0gX3ZtLnBhZ2VzLAogICAgICAgICAgImFyaWEtbGFiZWwiOiAiR28gdG8gbGFzdCBwYWdlIiwKICAgICAgICAgICJhcmlhLWRpc2FibGVkIjogX3ZtLmFjdGl2ZVBhZ2UgPT09IF92bS5wYWdlcwogICAgICAgIH0sCiAgICAgICAgb246IHsKICAgICAgICAgICJjbGljayI6IGZ1bmN0aW9uIGNsaWNrKCRldmVudCkgewogICAgICAgICAgICByZXR1cm4gX3ZtLnNldFBhZ2UoX3ZtLnBhZ2VzKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIFtfdm0uX3QoImxhc3QtYnV0dG9uIiwgW192bS5fdigiwrsiKV0pXSwgMildLCAxKSA6IF92bS5fZSgpXSwgMildKTsKICAgIH07CgogICAgdmFyIENQYWdpbmF0aW9udnVlX3R5cGVfdGVtcGxhdGVfaWRfN2VlNmQ2NjRfc3RhdGljUmVuZGVyRm5zID0gW107IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9wYWdpbmF0aW9uL0NQYWdpbmF0aW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1BhZ2luYXRpb252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDUGFnaW5hdGlvbicsCiAgICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBDTGluazogQ0xpbmsKICAgICAgfSwKICAgICAgcHJvcHM6IHsKICAgICAgICBhY3RpdmVQYWdlOiB7CiAgICAgICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICAgICBkZWZhdWx0OiAxCiAgICAgICAgfSwKICAgICAgICBwYWdlczogewogICAgICAgICAgdHlwZTogTnVtYmVyLAogICAgICAgICAgZGVmYXVsdDogMTAKICAgICAgICB9LAogICAgICAgIHNpemU6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkgewogICAgICAgICAgICByZXR1cm4gWycnLCAnc20nLCAnbGcnXS5pbmNsdWRlcyh2YWwpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYWxpZ246IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIGRlZmF1bHQ6ICdzdGFydCcsCiAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2YWwpIHsKICAgICAgICAgICAgcmV0dXJuIFsnc3RhcnQnLCAnY2VudGVyJywgJ2VuZCddLmluY2x1ZGVzKHZhbCk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBsaW1pdDogewogICAgICAgICAgdHlwZTogTnVtYmVyLAogICAgICAgICAgZGVmYXVsdDogNQogICAgICAgIH0sCiAgICAgICAgZG90czogewogICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB9LAogICAgICAgIGFycm93czogewogICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB9LAogICAgICAgIGRvdWJsZUFycm93czogewogICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHdhdGNoOiB7CiAgICAgICAgcGFnZXM6IHsKICAgICAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgICAgIGlmICh2YWwgJiYgdmFsIDwgdGhpcy5hY3RpdmVQYWdlKSB7CiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmFjdGl2ZVBhZ2UnLCB2YWwsIHRydWUpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBjb21wdXRlZDogewogICAgICAgIGJhY2tBcnJvd3NDbGFzc2VzOiBmdW5jdGlvbiBiYWNrQXJyb3dzQ2xhc3NlcygpIHsKICAgICAgICAgIHJldHVybiBbJ3BhZ2UtaXRlbScsIHsKICAgICAgICAgICAgJ2Rpc2FibGVkJzogdGhpcy5hY3RpdmVQYWdlID09PSAxCiAgICAgICAgICB9XTsKICAgICAgICB9LAogICAgICAgIG5leHRBcnJvd3NDbGFzc2VzOiBmdW5jdGlvbiBuZXh0QXJyb3dzQ2xhc3NlcygpIHsKICAgICAgICAgIHJldHVybiBbJ3BhZ2UtaXRlbScsIHsKICAgICAgICAgICAgJ2Rpc2FibGVkJzogdGhpcy5hY3RpdmVQYWdlID09PSB0aGlzLnBhZ2VzCiAgICAgICAgICB9XTsKICAgICAgICB9LAogICAgICAgIGNvbXB1dGVkQ2xhc3NlczogZnVuY3Rpb24gY29tcHV0ZWRDbGFzc2VzKCkgewogICAgICAgICAgdmFyIHNpemVDbGFzcyA9IHRoaXMuc2l6ZSA/ICJwYWdpbmF0aW9uLSIuY29uY2F0KHRoaXMuc2l6ZSkgOiAnJzsKICAgICAgICAgIHJldHVybiAicGFnaW5hdGlvbiAiLmNvbmNhdChzaXplQ2xhc3MsICIganVzdGlmeS1jb250ZW50LSIpLmNvbmNhdCh0aGlzLmFsaWduKTsKICAgICAgICB9LAogICAgICAgIHNob3dEb3RzOiBmdW5jdGlvbiBzaG93RG90cygpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmRvdHMgJiYgdGhpcy5saW1pdCA+IDQgJiYgdGhpcy5saW1pdCA8IHRoaXMucGFnZXM7CiAgICAgICAgfSwKICAgICAgICBtYXhQcmV2SXRlbXM6IGZ1bmN0aW9uIG1heFByZXZJdGVtcygpIHsKICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKCh0aGlzLmxpbWl0IC0gMSkgLyAyKTsKICAgICAgICB9LAogICAgICAgIG1heE5leHRJdGVtczogZnVuY3Rpb24gbWF4TmV4dEl0ZW1zKCkgewogICAgICAgICAgcmV0dXJuIE1hdGguY2VpbCgodGhpcy5saW1pdCAtIDEpIC8gMik7CiAgICAgICAgfSwKICAgICAgICBiZWZvcmVEb3RzOiBmdW5jdGlvbiBiZWZvcmVEb3RzKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuc2hvd0RvdHMgJiYgdGhpcy5hY3RpdmVQYWdlID4gdGhpcy5tYXhQcmV2SXRlbXMgKyAxOwogICAgICAgIH0sCiAgICAgICAgYWZ0ZXJEb3RzOiBmdW5jdGlvbiBhZnRlckRvdHMoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5zaG93RG90cyAmJiB0aGlzLmFjdGl2ZVBhZ2UgPCB0aGlzLnBhZ2VzIC0gdGhpcy5tYXhOZXh0SXRlbXM7CiAgICAgICAgfSwKICAgICAgICBjb21wdXRlZExpbWl0OiBmdW5jdGlvbiBjb21wdXRlZExpbWl0KCkgewogICAgICAgICAgcmV0dXJuIHRoaXMubGltaXQgLSB0aGlzLmFmdGVyRG90cyAtIHRoaXMuYmVmb3JlRG90czsKICAgICAgICB9LAogICAgICAgIHJhbmdlOiBmdW5jdGlvbiByYW5nZSgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZVBhZ2UgKyB0aGlzLm1heE5leHRJdGVtczsKICAgICAgICB9LAogICAgICAgIGxhc3RJdGVtOiBmdW5jdGlvbiBsYXN0SXRlbSgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnJhbmdlID49IHRoaXMucGFnZXMgPyB0aGlzLnBhZ2VzIDogdGhpcy5yYW5nZSAtIHRoaXMuYWZ0ZXJEb3RzOwogICAgICAgIH0sCiAgICAgICAgaXRlbXNBbW91bnQ6IGZ1bmN0aW9uIGl0ZW1zQW1vdW50KCkgewogICAgICAgICAgcmV0dXJuIHRoaXMucGFnZXMgPCB0aGlzLmNvbXB1dGVkTGltaXQgPyB0aGlzLnBhZ2VzIDogdGhpcy5jb21wdXRlZExpbWl0OwogICAgICAgIH0sCiAgICAgICAgaXRlbXM6IGZ1bmN0aW9uIGl0ZW1zKCkgewogICAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgICBpZiAodGhpcy5hY3RpdmVQYWdlIC0gdGhpcy5tYXhQcmV2SXRlbXMgPD0gMSkgewogICAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh7CiAgICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLml0ZW1zQW1vdW50CiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh2LCBpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGkgKyAxOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHsKICAgICAgICAgICAgICBsZW5ndGg6IHRoaXMuaXRlbXNBbW91bnQKICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHYsIGkpIHsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMubGFzdEl0ZW0gLSBpOwogICAgICAgICAgICB9KS5yZXZlcnNlKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBtZXRob2RzOiB7CiAgICAgICAgc2V0UGFnZTogZnVuY3Rpb24gc2V0UGFnZShudW1iZXIpIHsKICAgICAgICAgIHZhciBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBudWxsOwoKICAgICAgICAgIGlmIChudW1iZXIgPT09IHRoaXMuYWN0aXZlUGFnZSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmFjdGl2ZVBhZ2UnLCBudW1iZXIsIGZhbHNlKTsKCiAgICAgICAgICBpZiAoZSkgewogICAgICAgICAgICB0aGlzLmNoYW5nZUZvY3VzKGUpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY2hhbmdlRm9jdXM6IGZ1bmN0aW9uIGNoYW5nZUZvY3VzKGUpIHsKICAgICAgICAgIHZhciBpdGVtcyA9IHRoaXMuJGVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2MtcGFnZS1saW5rLW51bWJlcicpOwogICAgICAgICAgdmFyIGZvY3VzZWQgPSBOdW1iZXIoZS50YXJnZXQuaW5uZXJIVE1MKTsKICAgICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGlmIChOdW1iZXIoaXRlbXNbaV0uaW5uZXJIVE1MKSA9PT0gZm9jdXNlZCkgewogICAgICAgICAgICAgICAgaXRlbXNbaV0uZm9jdXMoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9wYWdpbmF0aW9uL0NQYWdpbmF0aW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIHBhZ2luYXRpb25fQ1BhZ2luYXRpb252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDUGFnaW5hdGlvbnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9wYWdpbmF0aW9uL0NQYWdpbmF0aW9uLnZ1ZQoKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ1BhZ2luYXRpb25fY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKShwYWdpbmF0aW9uX0NQYWdpbmF0aW9udnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDUGFnaW5hdGlvbnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzdlZTZkNjY0X3JlbmRlciwgQ1BhZ2luYXRpb252dWVfdHlwZV90ZW1wbGF0ZV9pZF83ZWU2ZDY2NF9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1BhZ2luYXRpb24gPSBDUGFnaW5hdGlvbl9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9wYWdpbmF0aW9uL2luZGV4LmpzCiAgICAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvcHJvZ3Jlc3MvQ1Byb2dyZXNzLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD05Y2U5MzZkYyYKCiAgICB2YXIgQ1Byb2dyZXNzdnVlX3R5cGVfdGVtcGxhdGVfaWRfOWNlOTM2ZGNfcmVuZGVyID0gZnVuY3Rpb24gQ1Byb2dyZXNzdnVlX3R5cGVfdGVtcGxhdGVfaWRfOWNlOTM2ZGNfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygnZGl2JywgewogICAgICAgIGNsYXNzOiBbJ3Byb2dyZXNzJywgX3ZtLnNpemUgJiYgInByb2dyZXNzLSIgKyBfdm0uc2l6ZV0sCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIGhlaWdodDogX3ZtLmhlaWdodAogICAgICAgIH0KICAgICAgfSwgW192bS5fdCgiZGVmYXVsdCIsIFtfYygnQ1Byb2dyZXNzQmFyJywgewogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAidmFsdWUiOiBfdm0udmFsdWUKICAgICAgICB9CiAgICAgIH0pXSldLCAyKTsKICAgIH07CgogICAgdmFyIENQcm9ncmVzc3Z1ZV90eXBlX3RlbXBsYXRlX2lkXzljZTkzNmRjX3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBFWFRFUk5BTCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9wcm9ncmVzcy9DUHJvZ3Jlc3MudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIHZhciBDUHJvZ3Jlc3N2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKCIwY2Q2Iik7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvcHJvZ3Jlc3MvQ1Byb2dyZXNzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgoKICAgIHZhciBwcm9ncmVzc19DUHJvZ3Jlc3N2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDUHJvZ3Jlc3N2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19bImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3Byb2dyZXNzL0NQcm9ncmVzcy52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENQcm9ncmVzc19jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHByb2dyZXNzX0NQcm9ncmVzc3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ1Byb2dyZXNzdnVlX3R5cGVfdGVtcGxhdGVfaWRfOWNlOTM2ZGNfcmVuZGVyLCBDUHJvZ3Jlc3N2dWVfdHlwZV90ZW1wbGF0ZV9pZF85Y2U5MzZkY19zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1Byb2dyZXNzID0gQ1Byb2dyZXNzX2NvbXBvbmVudC5leHBvcnRzOyAvLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvcHJvZ3Jlc3MvQ1Byb2dyZXNzQmFyLnZ1ZSArIDMgbW9kdWxlcwoKICAgIHZhciBDUHJvZ3Jlc3NCYXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKCI4ZmMxIik7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvcHJvZ3Jlc3MvaW5kZXguanMKICAgIC8vIEVYVEVSTkFMIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvbG9kYXNoLmNsb25lZGVlcC9pbmRleC5qcwoKCiAgICB2YXIgbG9kYXNoX2Nsb25lZGVlcCA9IF9fd2VicGFja19yZXF1aXJlX18oImNkM2YiKTsKCiAgICB2YXIgbG9kYXNoX2Nsb25lZGVlcF9kZWZhdWx0ID0gLyojX19QVVJFX18qL19fd2VicGFja19yZXF1aXJlX18ubihsb2Rhc2hfY2xvbmVkZWVwKTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3JlbmRlci1mdW5jdGlvbi9DUmVuZGVyRnVuY3Rpb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKCiAgICBmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7CiAgICAgIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7CiAgICB9CgogICAgZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7CiAgICAgIGlmICghbykgcmV0dXJuOwogICAgICBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsKICAgICAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOwogICAgICBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsKICAgICAgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsKICAgICAgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsKICAgIH0KCiAgICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KGl0ZXIpIHsKICAgICAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICJ1bmRlZmluZWQiICYmIFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoaXRlcikpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KGFycik7CiAgICB9CgogICAgZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsKICAgICAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7CgogICAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICBhcnIyW2ldID0gYXJyW2ldOwogICAgICB9CgogICAgICByZXR1cm4gYXJyMjsKICAgIH0KICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIENSZW5kZXJGdW5jdGlvbnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NSZW5kZXJGdW5jdGlvbicsCiAgICAgIHByb3BzOiB7CiAgICAgICAgY29udGVudFRvUmVuZGVyOiBBcnJheSwKICAgICAgICBmbGF0OiBCb29sZWFuCiAgICAgIH0sCiAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgY29waWVkQ29udGVudDogZnVuY3Rpb24gY29waWVkQ29udGVudCgpIHsKICAgICAgICAgIHJldHVybiBsb2Rhc2hfY2xvbmVkZWVwX2RlZmF1bHQoKSh0aGlzLmNvbnRlbnRUb1JlbmRlcik7CiAgICAgICAgfSwKICAgICAgICBjb250ZW50OiBmdW5jdGlvbiBjb250ZW50KCkgewogICAgICAgICAgaWYgKCF0aGlzLmZsYXQpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29waWVkQ29udGVudDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRlZENvbnRlbnRbMF07CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjb252ZXJ0ZWRDb250ZW50OiBmdW5jdGlvbiBjb252ZXJ0ZWRDb250ZW50KCkgewogICAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgICByZXR1cm4gdGhpcy5jb3BpZWRDb250ZW50Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMuY29udmVydEl0ZW0oaXRlbSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1ldGhvZHM6IHsKICAgICAgICBjb252ZXJ0SXRlbTogZnVuY3Rpb24gY29udmVydEl0ZW0oaXRlbSkgewogICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgICAgaWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykgewogICAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgbmV3SXRlbSA9IFtdOwogICAgICAgICAgbmV3SXRlbVswXSA9IGl0ZW0uX25hbWUgfHwgJ2Rpdic7CiAgICAgICAgICBuZXdJdGVtWzFdID0ge307CiAgICAgICAgICBuZXdJdGVtWzFdLnByb3BzID0gdGhpcy5nZXRQcm9wcyhpdGVtKTsKICAgICAgICAgIHRoaXMuJG9wdGlvbnMucmVuZGVyRnVuY3Rpb25PcHRpb25zLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbikgewogICAgICAgICAgICAvL29uIG9wdGlvbiBkb2Vzbid0IHdvcmssIHBvc3NpYmxlIHRvIHVzZSBvbmx5IG5hdGl2ZU9uCiAgICAgICAgICAgIGlmIChpdGVtWyJfIi5jb25jYXQob3B0aW9uKV0pIHsKICAgICAgICAgICAgICBuZXdJdGVtWzFdW29wdGlvbl0gPSBpdGVtWyJfIi5jb25jYXQob3B0aW9uKV07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmIChpdGVtLl9jaGlsZHJlbikgewogICAgICAgICAgICBuZXdJdGVtWzJdID0gaXRlbS5fY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5jb252ZXJ0SXRlbShpdGVtKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIG5ld0l0ZW07CiAgICAgICAgfSwKICAgICAgICBnZXRQcm9wczogZnVuY3Rpb24gZ2V0UHJvcHMoaXRlbSkgewogICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGl0ZW0pLnJlZHVjZShmdW5jdGlvbiAoaXRlbVByb3BzLCBrZXkpIHsKICAgICAgICAgICAgaWYgKCFrZXkuaW5jbHVkZXMoJ18nKSkgewogICAgICAgICAgICAgIGl0ZW1Qcm9wc1trZXldID0gaXRlbVtrZXldOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gaXRlbVByb3BzOwogICAgICAgICAgfSwge30pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgcmVuZGVyRnVuY3Rpb25PcHRpb25zOiBbJ2F0dHJzJywgJ2RpcmVjdGl2ZXMnLCAnb24nLCAnbmF0aXZlT24nLCAnY2xhc3MnLCAnc3R5bGUnLCAnZG9tUHJvcHMnLCAnc2NvcGVkU2xvdHMnLCAnc2xvdCcsICdrZXknLCAncmVmJywgJ3JlZkluRm9yJ10sCiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICAgdmFyIGNvbXB1dGVSZW5kZXJGdW5jdGlvbiA9IGZ1bmN0aW9uIGNvbXB1dGVSZW5kZXJGdW5jdGlvbihyZW5kZXJGdW5jdGlvbikgewogICAgICAgICAgcmV0dXJuIHJlbmRlckZ1bmN0aW9uLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShpdGVtKSkgewogICAgICAgICAgICAgIHJldHVybiBpdGVtLm1hcChmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2hpbGQgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZDsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjaGlsZCkpIHsKICAgICAgICAgICAgICAgICAgdmFyIGVsID0gY29tcHV0ZVJlbmRlckZ1bmN0aW9uKGNoaWxkKTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGguYXBwbHkodm9pZCAwLCBfdG9Db25zdW1hYmxlQXJyYXkoZWwpKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGQuc2xvdCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRzY29wZWRTbG90c1tjaGlsZC5zbG90XSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuY29udGVudCkgJiYgdGhpcy5jb250ZW50Lmxlbmd0aCkgewogICAgICAgICAgcmV0dXJuIGguYXBwbHkodm9pZCAwLCBfdG9Db25zdW1hYmxlQXJyYXkoY29tcHV0ZVJlbmRlckZ1bmN0aW9uKHRoaXMuY29udGVudCkpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGgoZmFsc2UpOwogICAgICAgIH0KICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9yZW5kZXItZnVuY3Rpb24vQ1JlbmRlckZ1bmN0aW9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIHJlbmRlcl9mdW5jdGlvbl9DUmVuZGVyRnVuY3Rpb252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDUmVuZGVyRnVuY3Rpb252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvcmVuZGVyLWZ1bmN0aW9uL0NSZW5kZXJGdW5jdGlvbi52dWUKCiAgICB2YXIgQ1JlbmRlckZ1bmN0aW9uX3JlbmRlciwgQ1JlbmRlckZ1bmN0aW9uX3N0YXRpY1JlbmRlckZuczsKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ1JlbmRlckZ1bmN0aW9uX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkocmVuZGVyX2Z1bmN0aW9uX0NSZW5kZXJGdW5jdGlvbnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ1JlbmRlckZ1bmN0aW9uX3JlbmRlciwgQ1JlbmRlckZ1bmN0aW9uX3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDUmVuZGVyRnVuY3Rpb24gPSBDUmVuZGVyRnVuY3Rpb25fY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvcmVuZGVyLWZ1bmN0aW9uL2luZGV4LmpzCiAgICAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9wZXJmZWN0LXNjcm9sbGJhci9kaXN0L3BlcmZlY3Qtc2Nyb2xsYmFyLmVzbS5qcwoKICAgIC8qIQogICAgICogcGVyZmVjdC1zY3JvbGxiYXIgdjEuNS4wCiAgICAgKiBDb3B5cmlnaHQgMjAyMCBIeXVuamUgSnVuLCBNREJvb3RzdHJhcCBhbmQgQ29udHJpYnV0b3JzCiAgICAgKiBMaWNlbnNlZCB1bmRlciBNSVQKICAgICAqLwoKICAgIGZ1bmN0aW9uIGdldChlbGVtZW50KSB7CiAgICAgIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldChlbGVtZW50LCBvYmopIHsKICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICAgIHZhciB2YWwgPSBvYmpba2V5XTsKCiAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7CiAgICAgICAgICB2YWwgPSB2YWwgKyAicHgiOwogICAgICAgIH0KCiAgICAgICAgZWxlbWVudC5zdHlsZVtrZXldID0gdmFsOwogICAgICB9CgogICAgICByZXR1cm4gZWxlbWVudDsKICAgIH0KCiAgICBmdW5jdGlvbiBkaXYoY2xhc3NOYW1lKSB7CiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgZGl2LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTsKICAgICAgcmV0dXJuIGRpdjsKICAgIH0KCiAgICB2YXIgZWxNYXRjaGVzID0gdHlwZW9mIEVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIChFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzIHx8IEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fCBFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IpOwoKICAgIGZ1bmN0aW9uIG1hdGNoZXMoZWxlbWVudCwgcXVlcnkpIHsKICAgICAgaWYgKCFlbE1hdGNoZXMpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGVsZW1lbnQgbWF0Y2hpbmcgbWV0aG9kIHN1cHBvcnRlZCcpOwogICAgICB9CgogICAgICByZXR1cm4gZWxNYXRjaGVzLmNhbGwoZWxlbWVudCwgcXVlcnkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZShlbGVtZW50KSB7CiAgICAgIGlmIChlbGVtZW50LnJlbW92ZSkgewogICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSkgewogICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHF1ZXJ5Q2hpbGRyZW4oZWxlbWVudCwgc2VsZWN0b3IpIHsKICAgICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChlbGVtZW50LmNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICByZXR1cm4gbWF0Y2hlcyhjaGlsZCwgc2VsZWN0b3IpOwogICAgICB9KTsKICAgIH0KCiAgICB2YXIgY2xzID0gewogICAgICBtYWluOiAncHMnLAogICAgICBydGw6ICdwc19fcnRsJywKICAgICAgZWxlbWVudDogewogICAgICAgIHRodW1iOiBmdW5jdGlvbiB0aHVtYih4KSB7CiAgICAgICAgICByZXR1cm4gInBzX190aHVtYi0iICsgeDsKICAgICAgICB9LAogICAgICAgIHJhaWw6IGZ1bmN0aW9uIHJhaWwoeCkgewogICAgICAgICAgcmV0dXJuICJwc19fcmFpbC0iICsgeDsKICAgICAgICB9LAogICAgICAgIGNvbnN1bWluZzogJ3BzX19jaGlsZC0tY29uc3VtZScKICAgICAgfSwKICAgICAgc3RhdGU6IHsKICAgICAgICBmb2N1czogJ3BzLS1mb2N1cycsCiAgICAgICAgY2xpY2tpbmc6ICdwcy0tY2xpY2tpbmcnLAogICAgICAgIGFjdGl2ZTogZnVuY3Rpb24gYWN0aXZlKHgpIHsKICAgICAgICAgIHJldHVybiAicHMtLWFjdGl2ZS0iICsgeDsKICAgICAgICB9LAogICAgICAgIHNjcm9sbGluZzogZnVuY3Rpb24gc2Nyb2xsaW5nKHgpIHsKICAgICAgICAgIHJldHVybiAicHMtLXNjcm9sbGluZy0iICsgeDsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgICAvKgogICAgICogSGVscGVyIG1ldGhvZHMKICAgICAqLwoKICAgIHZhciBzY3JvbGxpbmdDbGFzc1RpbWVvdXQgPSB7CiAgICAgIHg6IG51bGwsCiAgICAgIHk6IG51bGwKICAgIH07CgogICAgZnVuY3Rpb24gYWRkU2Nyb2xsaW5nQ2xhc3MoaSwgeCkgewogICAgICB2YXIgY2xhc3NMaXN0ID0gaS5lbGVtZW50LmNsYXNzTGlzdDsKICAgICAgdmFyIGNsYXNzTmFtZSA9IGNscy5zdGF0ZS5zY3JvbGxpbmcoeCk7CgogICAgICBpZiAoY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkpIHsKICAgICAgICBjbGVhclRpbWVvdXQoc2Nyb2xsaW5nQ2xhc3NUaW1lb3V0W3hdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmVTY3JvbGxpbmdDbGFzcyhpLCB4KSB7CiAgICAgIHNjcm9sbGluZ0NsYXNzVGltZW91dFt4XSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBpLmlzQWxpdmUgJiYgaS5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xzLnN0YXRlLnNjcm9sbGluZyh4KSk7CiAgICAgIH0sIGkuc2V0dGluZ3Muc2Nyb2xsaW5nVGhyZXNob2xkKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRTY3JvbGxpbmdDbGFzc0luc3RhbnRseShpLCB4KSB7CiAgICAgIGFkZFNjcm9sbGluZ0NsYXNzKGksIHgpOwogICAgICByZW1vdmVTY3JvbGxpbmdDbGFzcyhpLCB4KTsKICAgIH0KCiAgICB2YXIgRXZlbnRFbGVtZW50ID0gZnVuY3Rpb24gRXZlbnRFbGVtZW50KGVsZW1lbnQpIHsKICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDsKICAgICAgdGhpcy5oYW5kbGVycyA9IHt9OwogICAgfTsKCiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0gewogICAgICBpc0VtcHR5OiB7CiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgIH0KICAgIH07CgogICAgRXZlbnRFbGVtZW50LnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gYmluZChldmVudE5hbWUsIGhhbmRsZXIpIHsKICAgICAgaWYgKHR5cGVvZiB0aGlzLmhhbmRsZXJzW2V2ZW50TmFtZV0gPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgdGhpcy5oYW5kbGVyc1tldmVudE5hbWVdID0gW107CiAgICAgIH0KCiAgICAgIHRoaXMuaGFuZGxlcnNbZXZlbnROYW1lXS5wdXNoKGhhbmRsZXIpOwogICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIGZhbHNlKTsKICAgIH07CgogICAgRXZlbnRFbGVtZW50LnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiB1bmJpbmQoZXZlbnROYW1lLCB0YXJnZXQpIHsKICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7CiAgICAgIHRoaXMuaGFuZGxlcnNbZXZlbnROYW1lXSA9IHRoaXMuaGFuZGxlcnNbZXZlbnROYW1lXS5maWx0ZXIoZnVuY3Rpb24gKGhhbmRsZXIpIHsKICAgICAgICBpZiAodGFyZ2V0ICYmIGhhbmRsZXIgIT09IHRhcmdldCkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICB0aGlzJDEuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgZmFsc2UpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSk7CiAgICB9OwoKICAgIEV2ZW50RWxlbWVudC5wcm90b3R5cGUudW5iaW5kQWxsID0gZnVuY3Rpb24gdW5iaW5kQWxsKCkgewogICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMuaGFuZGxlcnMpIHsKICAgICAgICB0aGlzLnVuYmluZChuYW1lKTsKICAgICAgfQogICAgfTsKCiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaXNFbXB0eS5nZXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB0aGlzJDEgPSB0aGlzOwogICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5oYW5kbGVycykuZXZlcnkoZnVuY3Rpb24gKGtleSkgewogICAgICAgIHJldHVybiB0aGlzJDEuaGFuZGxlcnNba2V5XS5sZW5ndGggPT09IDA7CiAgICAgIH0pOwogICAgfTsKCiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhFdmVudEVsZW1lbnQucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMpOwoKICAgIHZhciBFdmVudE1hbmFnZXIgPSBmdW5jdGlvbiBFdmVudE1hbmFnZXIoKSB7CiAgICAgIHRoaXMuZXZlbnRFbGVtZW50cyA9IFtdOwogICAgfTsKCiAgICBFdmVudE1hbmFnZXIucHJvdG90eXBlLmV2ZW50RWxlbWVudCA9IGZ1bmN0aW9uIGV2ZW50RWxlbWVudChlbGVtZW50KSB7CiAgICAgIHZhciBlZSA9IHRoaXMuZXZlbnRFbGVtZW50cy5maWx0ZXIoZnVuY3Rpb24gKGVlKSB7CiAgICAgICAgcmV0dXJuIGVlLmVsZW1lbnQgPT09IGVsZW1lbnQ7CiAgICAgIH0pWzBdOwoKICAgICAgaWYgKCFlZSkgewogICAgICAgIGVlID0gbmV3IEV2ZW50RWxlbWVudChlbGVtZW50KTsKICAgICAgICB0aGlzLmV2ZW50RWxlbWVudHMucHVzaChlZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBlZTsKICAgIH07CgogICAgRXZlbnRNYW5hZ2VyLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gYmluZChlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIpIHsKICAgICAgdGhpcy5ldmVudEVsZW1lbnQoZWxlbWVudCkuYmluZChldmVudE5hbWUsIGhhbmRsZXIpOwogICAgfTsKCiAgICBFdmVudE1hbmFnZXIucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIHVuYmluZChlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIpIHsKICAgICAgdmFyIGVlID0gdGhpcy5ldmVudEVsZW1lbnQoZWxlbWVudCk7CiAgICAgIGVlLnVuYmluZChldmVudE5hbWUsIGhhbmRsZXIpOwoKICAgICAgaWYgKGVlLmlzRW1wdHkpIHsKICAgICAgICAvLyByZW1vdmUKICAgICAgICB0aGlzLmV2ZW50RWxlbWVudHMuc3BsaWNlKHRoaXMuZXZlbnRFbGVtZW50cy5pbmRleE9mKGVlKSwgMSk7CiAgICAgIH0KICAgIH07CgogICAgRXZlbnRNYW5hZ2VyLnByb3RvdHlwZS51bmJpbmRBbGwgPSBmdW5jdGlvbiB1bmJpbmRBbGwoKSB7CiAgICAgIHRoaXMuZXZlbnRFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUudW5iaW5kQWxsKCk7CiAgICAgIH0pOwogICAgICB0aGlzLmV2ZW50RWxlbWVudHMgPSBbXTsKICAgIH07CgogICAgRXZlbnRNYW5hZ2VyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIpIHsKICAgICAgdmFyIGVlID0gdGhpcy5ldmVudEVsZW1lbnQoZWxlbWVudCk7CgogICAgICB2YXIgb25jZUhhbmRsZXIgPSBmdW5jdGlvbiBvbmNlSGFuZGxlcihldnQpIHsKICAgICAgICBlZS51bmJpbmQoZXZlbnROYW1lLCBvbmNlSGFuZGxlcik7CiAgICAgICAgaGFuZGxlcihldnQpOwogICAgICB9OwoKICAgICAgZWUuYmluZChldmVudE5hbWUsIG9uY2VIYW5kbGVyKTsKICAgIH07CgogICAgZnVuY3Rpb24gY3JlYXRlRXZlbnQobmFtZSkgewogICAgICBpZiAodHlwZW9mIHdpbmRvdy5DdXN0b21FdmVudCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHJldHVybiBuZXcgQ3VzdG9tRXZlbnQobmFtZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpOwogICAgICAgIGV2dC5pbml0Q3VzdG9tRXZlbnQobmFtZSwgZmFsc2UsIGZhbHNlLCB1bmRlZmluZWQpOwogICAgICAgIHJldHVybiBldnQ7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBwcm9jZXNzU2Nyb2xsRGlmZihpLCBheGlzLCBkaWZmLCB1c2VTY3JvbGxpbmdDbGFzcywgZm9yY2VGaXJlUmVhY2hFdmVudCkgewogICAgICBpZiAodXNlU2Nyb2xsaW5nQ2xhc3MgPT09IHZvaWQgMCkgdXNlU2Nyb2xsaW5nQ2xhc3MgPSB0cnVlOwogICAgICBpZiAoZm9yY2VGaXJlUmVhY2hFdmVudCA9PT0gdm9pZCAwKSBmb3JjZUZpcmVSZWFjaEV2ZW50ID0gZmFsc2U7CiAgICAgIHZhciBmaWVsZHM7CgogICAgICBpZiAoYXhpcyA9PT0gJ3RvcCcpIHsKICAgICAgICBmaWVsZHMgPSBbJ2NvbnRlbnRIZWlnaHQnLCAnY29udGFpbmVySGVpZ2h0JywgJ3Njcm9sbFRvcCcsICd5JywgJ3VwJywgJ2Rvd24nXTsKICAgICAgfSBlbHNlIGlmIChheGlzID09PSAnbGVmdCcpIHsKICAgICAgICBmaWVsZHMgPSBbJ2NvbnRlbnRXaWR0aCcsICdjb250YWluZXJXaWR0aCcsICdzY3JvbGxMZWZ0JywgJ3gnLCAnbGVmdCcsICdyaWdodCddOwogICAgICB9IGVsc2UgewogICAgICAgIHRocm93IG5ldyBFcnJvcignQSBwcm9wZXIgYXhpcyBzaG91bGQgYmUgcHJvdmlkZWQnKTsKICAgICAgfQoKICAgICAgcHJvY2Vzc1Njcm9sbERpZmYkMShpLCBkaWZmLCBmaWVsZHMsIHVzZVNjcm9sbGluZ0NsYXNzLCBmb3JjZUZpcmVSZWFjaEV2ZW50KTsKICAgIH0KCiAgICBmdW5jdGlvbiBwcm9jZXNzU2Nyb2xsRGlmZiQxKGksIGRpZmYsIHJlZiwgdXNlU2Nyb2xsaW5nQ2xhc3MsIGZvcmNlRmlyZVJlYWNoRXZlbnQpIHsKICAgICAgdmFyIGNvbnRlbnRIZWlnaHQgPSByZWZbMF07CiAgICAgIHZhciBjb250YWluZXJIZWlnaHQgPSByZWZbMV07CiAgICAgIHZhciBzY3JvbGxUb3AgPSByZWZbMl07CiAgICAgIHZhciB5ID0gcmVmWzNdOwogICAgICB2YXIgdXAgPSByZWZbNF07CiAgICAgIHZhciBkb3duID0gcmVmWzVdOwogICAgICBpZiAodXNlU2Nyb2xsaW5nQ2xhc3MgPT09IHZvaWQgMCkgdXNlU2Nyb2xsaW5nQ2xhc3MgPSB0cnVlOwogICAgICBpZiAoZm9yY2VGaXJlUmVhY2hFdmVudCA9PT0gdm9pZCAwKSBmb3JjZUZpcmVSZWFjaEV2ZW50ID0gZmFsc2U7CiAgICAgIHZhciBlbGVtZW50ID0gaS5lbGVtZW50OyAvLyByZXNldCByZWFjaAoKICAgICAgaS5yZWFjaFt5XSA9IG51bGw7IC8vIDEgZm9yIHN1YnBpeGVsIHJvdW5kaW5nCgogICAgICBpZiAoZWxlbWVudFtzY3JvbGxUb3BdIDwgMSkgewogICAgICAgIGkucmVhY2hbeV0gPSAnc3RhcnQnOwogICAgICB9IC8vIDEgZm9yIHN1YnBpeGVsIHJvdW5kaW5nCgoKICAgICAgaWYgKGVsZW1lbnRbc2Nyb2xsVG9wXSA+IGlbY29udGVudEhlaWdodF0gLSBpW2NvbnRhaW5lckhlaWdodF0gLSAxKSB7CiAgICAgICAgaS5yZWFjaFt5XSA9ICdlbmQnOwogICAgICB9CgogICAgICBpZiAoZGlmZikgewogICAgICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChjcmVhdGVFdmVudCgicHMtc2Nyb2xsLSIgKyB5KSk7CgogICAgICAgIGlmIChkaWZmIDwgMCkgewogICAgICAgICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KGNyZWF0ZUV2ZW50KCJwcy1zY3JvbGwtIiArIHVwKSk7CiAgICAgICAgfSBlbHNlIGlmIChkaWZmID4gMCkgewogICAgICAgICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KGNyZWF0ZUV2ZW50KCJwcy1zY3JvbGwtIiArIGRvd24pKTsKICAgICAgICB9CgogICAgICAgIGlmICh1c2VTY3JvbGxpbmdDbGFzcykgewogICAgICAgICAgc2V0U2Nyb2xsaW5nQ2xhc3NJbnN0YW50bHkoaSwgeSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoaS5yZWFjaFt5XSAmJiAoZGlmZiB8fCBmb3JjZUZpcmVSZWFjaEV2ZW50KSkgewogICAgICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChjcmVhdGVFdmVudCgicHMtIiArIHkgKyAiLXJlYWNoLSIgKyBpLnJlYWNoW3ldKSk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiB0b0ludCh4KSB7CiAgICAgIHJldHVybiBwYXJzZUludCh4LCAxMCkgfHwgMDsKICAgIH0KCiAgICBmdW5jdGlvbiBpc0VkaXRhYmxlKGVsKSB7CiAgICAgIHJldHVybiBtYXRjaGVzKGVsLCAnaW5wdXQsW2NvbnRlbnRlZGl0YWJsZV0nKSB8fCBtYXRjaGVzKGVsLCAnc2VsZWN0LFtjb250ZW50ZWRpdGFibGVdJykgfHwgbWF0Y2hlcyhlbCwgJ3RleHRhcmVhLFtjb250ZW50ZWRpdGFibGVdJykgfHwgbWF0Y2hlcyhlbCwgJ2J1dHRvbixbY29udGVudGVkaXRhYmxlXScpOwogICAgfQoKICAgIGZ1bmN0aW9uIHBlcmZlY3Rfc2Nyb2xsYmFyX2VzbV9vdXRlcldpZHRoKGVsZW1lbnQpIHsKICAgICAgdmFyIHN0eWxlcyA9IGdldChlbGVtZW50KTsKICAgICAgcmV0dXJuIHRvSW50KHN0eWxlcy53aWR0aCkgKyB0b0ludChzdHlsZXMucGFkZGluZ0xlZnQpICsgdG9JbnQoc3R5bGVzLnBhZGRpbmdSaWdodCkgKyB0b0ludChzdHlsZXMuYm9yZGVyTGVmdFdpZHRoKSArIHRvSW50KHN0eWxlcy5ib3JkZXJSaWdodFdpZHRoKTsKICAgIH0KCiAgICB2YXIgZW52ID0gewogICAgICBpc1dlYktpdDogdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiAnV2Via2l0QXBwZWFyYW5jZScgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLAogICAgICBzdXBwb3J0c1RvdWNoOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8ICdtYXhUb3VjaFBvaW50cycgaW4gd2luZG93Lm5hdmlnYXRvciAmJiB3aW5kb3cubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMCB8fCB3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIHdpbmRvdy5Eb2N1bWVudFRvdWNoKSwKICAgICAgc3VwcG9ydHNJZVBvaW50ZXI6IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzLAogICAgICBpc0Nocm9tZTogdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgL0Nocm9tZS9pLnRlc3QobmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQpCiAgICB9OwoKICAgIGZ1bmN0aW9uIHVwZGF0ZUdlb21ldHJ5KGkpIHsKICAgICAgdmFyIGVsZW1lbnQgPSBpLmVsZW1lbnQ7CiAgICAgIHZhciByb3VuZGVkU2Nyb2xsVG9wID0gTWF0aC5mbG9vcihlbGVtZW50LnNjcm9sbFRvcCk7CiAgICAgIHZhciByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgaS5jb250YWluZXJXaWR0aCA9IE1hdGguY2VpbChyZWN0LndpZHRoKTsKICAgICAgaS5jb250YWluZXJIZWlnaHQgPSBNYXRoLmNlaWwocmVjdC5oZWlnaHQpOwogICAgICBpLmNvbnRlbnRXaWR0aCA9IGVsZW1lbnQuc2Nyb2xsV2lkdGg7CiAgICAgIGkuY29udGVudEhlaWdodCA9IGVsZW1lbnQuc2Nyb2xsSGVpZ2h0OwoKICAgICAgaWYgKCFlbGVtZW50LmNvbnRhaW5zKGkuc2Nyb2xsYmFyWFJhaWwpKSB7CiAgICAgICAgLy8gY2xlYW4gdXAgYW5kIGFwcGVuZAogICAgICAgIHF1ZXJ5Q2hpbGRyZW4oZWxlbWVudCwgY2xzLmVsZW1lbnQucmFpbCgneCcpKS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgcmV0dXJuIHJlbW92ZShlbCk7CiAgICAgICAgfSk7CiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChpLnNjcm9sbGJhclhSYWlsKTsKICAgICAgfQoKICAgICAgaWYgKCFlbGVtZW50LmNvbnRhaW5zKGkuc2Nyb2xsYmFyWVJhaWwpKSB7CiAgICAgICAgLy8gY2xlYW4gdXAgYW5kIGFwcGVuZAogICAgICAgIHF1ZXJ5Q2hpbGRyZW4oZWxlbWVudCwgY2xzLmVsZW1lbnQucmFpbCgneScpKS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgewogICAgICAgICAgcmV0dXJuIHJlbW92ZShlbCk7CiAgICAgICAgfSk7CiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChpLnNjcm9sbGJhcllSYWlsKTsKICAgICAgfQoKICAgICAgaWYgKCFpLnNldHRpbmdzLnN1cHByZXNzU2Nyb2xsWCAmJiBpLmNvbnRhaW5lcldpZHRoICsgaS5zZXR0aW5ncy5zY3JvbGxYTWFyZ2luT2Zmc2V0IDwgaS5jb250ZW50V2lkdGgpIHsKICAgICAgICBpLnNjcm9sbGJhclhBY3RpdmUgPSB0cnVlOwogICAgICAgIGkucmFpbFhXaWR0aCA9IGkuY29udGFpbmVyV2lkdGggLSBpLnJhaWxYTWFyZ2luV2lkdGg7CiAgICAgICAgaS5yYWlsWFJhdGlvID0gaS5jb250YWluZXJXaWR0aCAvIGkucmFpbFhXaWR0aDsKICAgICAgICBpLnNjcm9sbGJhclhXaWR0aCA9IGdldFRodW1iU2l6ZShpLCB0b0ludChpLnJhaWxYV2lkdGggKiBpLmNvbnRhaW5lcldpZHRoIC8gaS5jb250ZW50V2lkdGgpKTsKICAgICAgICBpLnNjcm9sbGJhclhMZWZ0ID0gdG9JbnQoKGkubmVnYXRpdmVTY3JvbGxBZGp1c3RtZW50ICsgZWxlbWVudC5zY3JvbGxMZWZ0KSAqIChpLnJhaWxYV2lkdGggLSBpLnNjcm9sbGJhclhXaWR0aCkgLyAoaS5jb250ZW50V2lkdGggLSBpLmNvbnRhaW5lcldpZHRoKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaS5zY3JvbGxiYXJYQWN0aXZlID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmICghaS5zZXR0aW5ncy5zdXBwcmVzc1Njcm9sbFkgJiYgaS5jb250YWluZXJIZWlnaHQgKyBpLnNldHRpbmdzLnNjcm9sbFlNYXJnaW5PZmZzZXQgPCBpLmNvbnRlbnRIZWlnaHQpIHsKICAgICAgICBpLnNjcm9sbGJhcllBY3RpdmUgPSB0cnVlOwogICAgICAgIGkucmFpbFlIZWlnaHQgPSBpLmNvbnRhaW5lckhlaWdodCAtIGkucmFpbFlNYXJnaW5IZWlnaHQ7CiAgICAgICAgaS5yYWlsWVJhdGlvID0gaS5jb250YWluZXJIZWlnaHQgLyBpLnJhaWxZSGVpZ2h0OwogICAgICAgIGkuc2Nyb2xsYmFyWUhlaWdodCA9IGdldFRodW1iU2l6ZShpLCB0b0ludChpLnJhaWxZSGVpZ2h0ICogaS5jb250YWluZXJIZWlnaHQgLyBpLmNvbnRlbnRIZWlnaHQpKTsKICAgICAgICBpLnNjcm9sbGJhcllUb3AgPSB0b0ludChyb3VuZGVkU2Nyb2xsVG9wICogKGkucmFpbFlIZWlnaHQgLSBpLnNjcm9sbGJhcllIZWlnaHQpIC8gKGkuY29udGVudEhlaWdodCAtIGkuY29udGFpbmVySGVpZ2h0KSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaS5zY3JvbGxiYXJZQWN0aXZlID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmIChpLnNjcm9sbGJhclhMZWZ0ID49IGkucmFpbFhXaWR0aCAtIGkuc2Nyb2xsYmFyWFdpZHRoKSB7CiAgICAgICAgaS5zY3JvbGxiYXJYTGVmdCA9IGkucmFpbFhXaWR0aCAtIGkuc2Nyb2xsYmFyWFdpZHRoOwogICAgICB9CgogICAgICBpZiAoaS5zY3JvbGxiYXJZVG9wID49IGkucmFpbFlIZWlnaHQgLSBpLnNjcm9sbGJhcllIZWlnaHQpIHsKICAgICAgICBpLnNjcm9sbGJhcllUb3AgPSBpLnJhaWxZSGVpZ2h0IC0gaS5zY3JvbGxiYXJZSGVpZ2h0OwogICAgICB9CgogICAgICB1cGRhdGVDc3MoZWxlbWVudCwgaSk7CgogICAgICBpZiAoaS5zY3JvbGxiYXJYQWN0aXZlKSB7CiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNscy5zdGF0ZS5hY3RpdmUoJ3gnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNscy5zdGF0ZS5hY3RpdmUoJ3gnKSk7CiAgICAgICAgaS5zY3JvbGxiYXJYV2lkdGggPSAwOwogICAgICAgIGkuc2Nyb2xsYmFyWExlZnQgPSAwOwogICAgICAgIGVsZW1lbnQuc2Nyb2xsTGVmdCA9IGkuaXNSdGwgPT09IHRydWUgPyBpLmNvbnRlbnRXaWR0aCA6IDA7CiAgICAgIH0KCiAgICAgIGlmIChpLnNjcm9sbGJhcllBY3RpdmUpIHsKICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xzLnN0YXRlLmFjdGl2ZSgneScpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xzLnN0YXRlLmFjdGl2ZSgneScpKTsKICAgICAgICBpLnNjcm9sbGJhcllIZWlnaHQgPSAwOwogICAgICAgIGkuc2Nyb2xsYmFyWVRvcCA9IDA7CiAgICAgICAgZWxlbWVudC5zY3JvbGxUb3AgPSAwOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0VGh1bWJTaXplKGksIHRodW1iU2l6ZSkgewogICAgICBpZiAoaS5zZXR0aW5ncy5taW5TY3JvbGxiYXJMZW5ndGgpIHsKICAgICAgICB0aHVtYlNpemUgPSBNYXRoLm1heCh0aHVtYlNpemUsIGkuc2V0dGluZ3MubWluU2Nyb2xsYmFyTGVuZ3RoKTsKICAgICAgfQoKICAgICAgaWYgKGkuc2V0dGluZ3MubWF4U2Nyb2xsYmFyTGVuZ3RoKSB7CiAgICAgICAgdGh1bWJTaXplID0gTWF0aC5taW4odGh1bWJTaXplLCBpLnNldHRpbmdzLm1heFNjcm9sbGJhckxlbmd0aCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aHVtYlNpemU7CiAgICB9CgogICAgZnVuY3Rpb24gdXBkYXRlQ3NzKGVsZW1lbnQsIGkpIHsKICAgICAgdmFyIHhSYWlsT2Zmc2V0ID0gewogICAgICAgIHdpZHRoOiBpLnJhaWxYV2lkdGgKICAgICAgfTsKICAgICAgdmFyIHJvdW5kZWRTY3JvbGxUb3AgPSBNYXRoLmZsb29yKGVsZW1lbnQuc2Nyb2xsVG9wKTsKCiAgICAgIGlmIChpLmlzUnRsKSB7CiAgICAgICAgeFJhaWxPZmZzZXQubGVmdCA9IGkubmVnYXRpdmVTY3JvbGxBZGp1c3RtZW50ICsgZWxlbWVudC5zY3JvbGxMZWZ0ICsgaS5jb250YWluZXJXaWR0aCAtIGkuY29udGVudFdpZHRoOwogICAgICB9IGVsc2UgewogICAgICAgIHhSYWlsT2Zmc2V0LmxlZnQgPSBlbGVtZW50LnNjcm9sbExlZnQ7CiAgICAgIH0KCiAgICAgIGlmIChpLmlzU2Nyb2xsYmFyWFVzaW5nQm90dG9tKSB7CiAgICAgICAgeFJhaWxPZmZzZXQuYm90dG9tID0gaS5zY3JvbGxiYXJYQm90dG9tIC0gcm91bmRlZFNjcm9sbFRvcDsKICAgICAgfSBlbHNlIHsKICAgICAgICB4UmFpbE9mZnNldC50b3AgPSBpLnNjcm9sbGJhclhUb3AgKyByb3VuZGVkU2Nyb2xsVG9wOwogICAgICB9CgogICAgICBzZXQoaS5zY3JvbGxiYXJYUmFpbCwgeFJhaWxPZmZzZXQpOwogICAgICB2YXIgeVJhaWxPZmZzZXQgPSB7CiAgICAgICAgdG9wOiByb3VuZGVkU2Nyb2xsVG9wLAogICAgICAgIGhlaWdodDogaS5yYWlsWUhlaWdodAogICAgICB9OwoKICAgICAgaWYgKGkuaXNTY3JvbGxiYXJZVXNpbmdSaWdodCkgewogICAgICAgIGlmIChpLmlzUnRsKSB7CiAgICAgICAgICB5UmFpbE9mZnNldC5yaWdodCA9IGkuY29udGVudFdpZHRoIC0gKGkubmVnYXRpdmVTY3JvbGxBZGp1c3RtZW50ICsgZWxlbWVudC5zY3JvbGxMZWZ0KSAtIGkuc2Nyb2xsYmFyWVJpZ2h0IC0gaS5zY3JvbGxiYXJZT3V0ZXJXaWR0aCAtIDk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHlSYWlsT2Zmc2V0LnJpZ2h0ID0gaS5zY3JvbGxiYXJZUmlnaHQgLSBlbGVtZW50LnNjcm9sbExlZnQ7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChpLmlzUnRsKSB7CiAgICAgICAgICB5UmFpbE9mZnNldC5sZWZ0ID0gaS5uZWdhdGl2ZVNjcm9sbEFkanVzdG1lbnQgKyBlbGVtZW50LnNjcm9sbExlZnQgKyBpLmNvbnRhaW5lcldpZHRoICogMiAtIGkuY29udGVudFdpZHRoIC0gaS5zY3JvbGxiYXJZTGVmdCAtIGkuc2Nyb2xsYmFyWU91dGVyV2lkdGg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHlSYWlsT2Zmc2V0LmxlZnQgPSBpLnNjcm9sbGJhcllMZWZ0ICsgZWxlbWVudC5zY3JvbGxMZWZ0OwogICAgICAgIH0KICAgICAgfQoKICAgICAgc2V0KGkuc2Nyb2xsYmFyWVJhaWwsIHlSYWlsT2Zmc2V0KTsKICAgICAgc2V0KGkuc2Nyb2xsYmFyWCwgewogICAgICAgIGxlZnQ6IGkuc2Nyb2xsYmFyWExlZnQsCiAgICAgICAgd2lkdGg6IGkuc2Nyb2xsYmFyWFdpZHRoIC0gaS5yYWlsQm9yZGVyWFdpZHRoCiAgICAgIH0pOwogICAgICBzZXQoaS5zY3JvbGxiYXJZLCB7CiAgICAgICAgdG9wOiBpLnNjcm9sbGJhcllUb3AsCiAgICAgICAgaGVpZ2h0OiBpLnNjcm9sbGJhcllIZWlnaHQgLSBpLnJhaWxCb3JkZXJZV2lkdGgKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gY2xpY2tSYWlsKGkpIHsKICAgICAgdmFyIGVsZW1lbnQgPSBpLmVsZW1lbnQ7CiAgICAgIGkuZXZlbnQuYmluZChpLnNjcm9sbGJhclksICdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB9KTsKICAgICAgaS5ldmVudC5iaW5kKGkuc2Nyb2xsYmFyWVJhaWwsICdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciBwb3NpdGlvblRvcCA9IGUucGFnZVkgLSB3aW5kb3cucGFnZVlPZmZzZXQgLSBpLnNjcm9sbGJhcllSYWlsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDsKICAgICAgICB2YXIgZGlyZWN0aW9uID0gcG9zaXRpb25Ub3AgPiBpLnNjcm9sbGJhcllUb3AgPyAxIDogLTE7CiAgICAgICAgaS5lbGVtZW50LnNjcm9sbFRvcCArPSBkaXJlY3Rpb24gKiBpLmNvbnRhaW5lckhlaWdodDsKICAgICAgICB1cGRhdGVHZW9tZXRyeShpKTsKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB9KTsKICAgICAgaS5ldmVudC5iaW5kKGkuc2Nyb2xsYmFyWCwgJ21vdXNlZG93bicsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIH0pOwogICAgICBpLmV2ZW50LmJpbmQoaS5zY3JvbGxiYXJYUmFpbCwgJ21vdXNlZG93bicsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHBvc2l0aW9uTGVmdCA9IGUucGFnZVggLSB3aW5kb3cucGFnZVhPZmZzZXQgLSBpLnNjcm9sbGJhclhSYWlsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7CiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHBvc2l0aW9uTGVmdCA+IGkuc2Nyb2xsYmFyWExlZnQgPyAxIDogLTE7CiAgICAgICAgaS5lbGVtZW50LnNjcm9sbExlZnQgKz0gZGlyZWN0aW9uICogaS5jb250YWluZXJXaWR0aDsKICAgICAgICB1cGRhdGVHZW9tZXRyeShpKTsKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBkcmFnVGh1bWIoaSkgewogICAgICBiaW5kTW91c2VTY3JvbGxIYW5kbGVyKGksIFsnY29udGFpbmVyV2lkdGgnLCAnY29udGVudFdpZHRoJywgJ3BhZ2VYJywgJ3JhaWxYV2lkdGgnLCAnc2Nyb2xsYmFyWCcsICdzY3JvbGxiYXJYV2lkdGgnLCAnc2Nyb2xsTGVmdCcsICd4JywgJ3Njcm9sbGJhclhSYWlsJ10pOwogICAgICBiaW5kTW91c2VTY3JvbGxIYW5kbGVyKGksIFsnY29udGFpbmVySGVpZ2h0JywgJ2NvbnRlbnRIZWlnaHQnLCAncGFnZVknLCAncmFpbFlIZWlnaHQnLCAnc2Nyb2xsYmFyWScsICdzY3JvbGxiYXJZSGVpZ2h0JywgJ3Njcm9sbFRvcCcsICd5JywgJ3Njcm9sbGJhcllSYWlsJ10pOwogICAgfQoKICAgIGZ1bmN0aW9uIGJpbmRNb3VzZVNjcm9sbEhhbmRsZXIoaSwgcmVmKSB7CiAgICAgIHZhciBjb250YWluZXJIZWlnaHQgPSByZWZbMF07CiAgICAgIHZhciBjb250ZW50SGVpZ2h0ID0gcmVmWzFdOwogICAgICB2YXIgcGFnZVkgPSByZWZbMl07CiAgICAgIHZhciByYWlsWUhlaWdodCA9IHJlZlszXTsKICAgICAgdmFyIHNjcm9sbGJhclkgPSByZWZbNF07CiAgICAgIHZhciBzY3JvbGxiYXJZSGVpZ2h0ID0gcmVmWzVdOwogICAgICB2YXIgc2Nyb2xsVG9wID0gcmVmWzZdOwogICAgICB2YXIgeSA9IHJlZls3XTsKICAgICAgdmFyIHNjcm9sbGJhcllSYWlsID0gcmVmWzhdOwogICAgICB2YXIgZWxlbWVudCA9IGkuZWxlbWVudDsKICAgICAgdmFyIHN0YXJ0aW5nU2Nyb2xsVG9wID0gbnVsbDsKICAgICAgdmFyIHN0YXJ0aW5nTW91c2VQYWdlWSA9IG51bGw7CiAgICAgIHZhciBzY3JvbGxCeSA9IG51bGw7CgogICAgICBmdW5jdGlvbiBtb3VzZU1vdmVIYW5kbGVyKGUpIHsKICAgICAgICBpZiAoZS50b3VjaGVzICYmIGUudG91Y2hlc1swXSkgewogICAgICAgICAgZVtwYWdlWV0gPSBlLnRvdWNoZXNbMF0ucGFnZVk7CiAgICAgICAgfQoKICAgICAgICBlbGVtZW50W3Njcm9sbFRvcF0gPSBzdGFydGluZ1Njcm9sbFRvcCArIHNjcm9sbEJ5ICogKGVbcGFnZVldIC0gc3RhcnRpbmdNb3VzZVBhZ2VZKTsKICAgICAgICBhZGRTY3JvbGxpbmdDbGFzcyhpLCB5KTsKICAgICAgICB1cGRhdGVHZW9tZXRyeShpKTsKICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbW91c2VVcEhhbmRsZXIoKSB7CiAgICAgICAgcmVtb3ZlU2Nyb2xsaW5nQ2xhc3MoaSwgeSk7CiAgICAgICAgaVtzY3JvbGxiYXJZUmFpbF0uY2xhc3NMaXN0LnJlbW92ZShjbHMuc3RhdGUuY2xpY2tpbmcpOwogICAgICAgIGkuZXZlbnQudW5iaW5kKGkub3duZXJEb2N1bWVudCwgJ21vdXNlbW92ZScsIG1vdXNlTW92ZUhhbmRsZXIpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBiaW5kTW92ZXMoZSwgdG91Y2hNb2RlKSB7CiAgICAgICAgc3RhcnRpbmdTY3JvbGxUb3AgPSBlbGVtZW50W3Njcm9sbFRvcF07CgogICAgICAgIGlmICh0b3VjaE1vZGUgJiYgZS50b3VjaGVzKSB7CiAgICAgICAgICBlW3BhZ2VZXSA9IGUudG91Y2hlc1swXS5wYWdlWTsKICAgICAgICB9CgogICAgICAgIHN0YXJ0aW5nTW91c2VQYWdlWSA9IGVbcGFnZVldOwogICAgICAgIHNjcm9sbEJ5ID0gKGlbY29udGVudEhlaWdodF0gLSBpW2NvbnRhaW5lckhlaWdodF0pIC8gKGlbcmFpbFlIZWlnaHRdIC0gaVtzY3JvbGxiYXJZSGVpZ2h0XSk7CgogICAgICAgIGlmICghdG91Y2hNb2RlKSB7CiAgICAgICAgICBpLmV2ZW50LmJpbmQoaS5vd25lckRvY3VtZW50LCAnbW91c2Vtb3ZlJywgbW91c2VNb3ZlSGFuZGxlcik7CiAgICAgICAgICBpLmV2ZW50Lm9uY2UoaS5vd25lckRvY3VtZW50LCAnbW91c2V1cCcsIG1vdXNlVXBIYW5kbGVyKTsKICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaS5ldmVudC5iaW5kKGkub3duZXJEb2N1bWVudCwgJ3RvdWNobW92ZScsIG1vdXNlTW92ZUhhbmRsZXIpOwogICAgICAgIH0KCiAgICAgICAgaVtzY3JvbGxiYXJZUmFpbF0uY2xhc3NMaXN0LmFkZChjbHMuc3RhdGUuY2xpY2tpbmcpOwogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgIH0KCiAgICAgIGkuZXZlbnQuYmluZChpW3Njcm9sbGJhclldLCAnbW91c2Vkb3duJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICBiaW5kTW92ZXMoZSk7CiAgICAgIH0pOwogICAgICBpLmV2ZW50LmJpbmQoaVtzY3JvbGxiYXJZXSwgJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGJpbmRNb3ZlcyhlLCB0cnVlKTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24ga2V5Ym9hcmQoaSkgewogICAgICB2YXIgZWxlbWVudCA9IGkuZWxlbWVudDsKCiAgICAgIHZhciBlbGVtZW50SG92ZXJlZCA9IGZ1bmN0aW9uIGVsZW1lbnRIb3ZlcmVkKCkgewogICAgICAgIHJldHVybiBtYXRjaGVzKGVsZW1lbnQsICc6aG92ZXInKTsKICAgICAgfTsKCiAgICAgIHZhciBzY3JvbGxiYXJGb2N1c2VkID0gZnVuY3Rpb24gc2Nyb2xsYmFyRm9jdXNlZCgpIHsKICAgICAgICByZXR1cm4gbWF0Y2hlcyhpLnNjcm9sbGJhclgsICc6Zm9jdXMnKSB8fCBtYXRjaGVzKGkuc2Nyb2xsYmFyWSwgJzpmb2N1cycpOwogICAgICB9OwoKICAgICAgZnVuY3Rpb24gc2hvdWxkUHJldmVudERlZmF1bHQoZGVsdGFYLCBkZWx0YVkpIHsKICAgICAgICB2YXIgc2Nyb2xsVG9wID0gTWF0aC5mbG9vcihlbGVtZW50LnNjcm9sbFRvcCk7CgogICAgICAgIGlmIChkZWx0YVggPT09IDApIHsKICAgICAgICAgIGlmICghaS5zY3JvbGxiYXJZQWN0aXZlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2Nyb2xsVG9wID09PSAwICYmIGRlbHRhWSA+IDAgfHwgc2Nyb2xsVG9wID49IGkuY29udGVudEhlaWdodCAtIGkuY29udGFpbmVySGVpZ2h0ICYmIGRlbHRhWSA8IDApIHsKICAgICAgICAgICAgcmV0dXJuICFpLnNldHRpbmdzLndoZWVsUHJvcGFnYXRpb247CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgc2Nyb2xsTGVmdCA9IGVsZW1lbnQuc2Nyb2xsTGVmdDsKCiAgICAgICAgaWYgKGRlbHRhWSA9PT0gMCkgewogICAgICAgICAgaWYgKCFpLnNjcm9sbGJhclhBY3RpdmUpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzY3JvbGxMZWZ0ID09PSAwICYmIGRlbHRhWCA8IDAgfHwgc2Nyb2xsTGVmdCA+PSBpLmNvbnRlbnRXaWR0aCAtIGkuY29udGFpbmVyV2lkdGggJiYgZGVsdGFYID4gMCkgewogICAgICAgICAgICByZXR1cm4gIWkuc2V0dGluZ3Mud2hlZWxQcm9wYWdhdGlvbjsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICBpLmV2ZW50LmJpbmQoaS5vd25lckRvY3VtZW50LCAna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkICYmIGUuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgZS5kZWZhdWx0UHJldmVudGVkKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBpZiAoIWVsZW1lbnRIb3ZlcmVkKCkgJiYgIXNjcm9sbGJhckZvY3VzZWQoKSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID8gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA6IGkub3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50OwoKICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCkgewogICAgICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQudGFnTmFtZSA9PT0gJ0lGUkFNRScpIHsKICAgICAgICAgICAgYWN0aXZlRWxlbWVudCA9IGFjdGl2ZUVsZW1lbnQuY29udGVudERvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyBnbyBkZWVwZXIgaWYgZWxlbWVudCBpcyBhIHdlYmNvbXBvbmVudAogICAgICAgICAgICB3aGlsZSAoYWN0aXZlRWxlbWVudC5zaGFkb3dSb290KSB7CiAgICAgICAgICAgICAgYWN0aXZlRWxlbWVudCA9IGFjdGl2ZUVsZW1lbnQuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGlzRWRpdGFibGUoYWN0aXZlRWxlbWVudCkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIGRlbHRhWCA9IDA7CiAgICAgICAgdmFyIGRlbHRhWSA9IDA7CgogICAgICAgIHN3aXRjaCAoZS53aGljaCkgewogICAgICAgICAgY2FzZSAzNzoKICAgICAgICAgICAgLy8gbGVmdAogICAgICAgICAgICBpZiAoZS5tZXRhS2V5KSB7CiAgICAgICAgICAgICAgZGVsdGFYID0gLWkuY29udGVudFdpZHRoOwogICAgICAgICAgICB9IGVsc2UgaWYgKGUuYWx0S2V5KSB7CiAgICAgICAgICAgICAgZGVsdGFYID0gLWkuY29udGFpbmVyV2lkdGg7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZGVsdGFYID0gLTMwOwogICAgICAgICAgICB9CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDM4OgogICAgICAgICAgICAvLyB1cAogICAgICAgICAgICBpZiAoZS5tZXRhS2V5KSB7CiAgICAgICAgICAgICAgZGVsdGFZID0gaS5jb250ZW50SGVpZ2h0OwogICAgICAgICAgICB9IGVsc2UgaWYgKGUuYWx0S2V5KSB7CiAgICAgICAgICAgICAgZGVsdGFZID0gaS5jb250YWluZXJIZWlnaHQ7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZGVsdGFZID0gMzA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMzk6CiAgICAgICAgICAgIC8vIHJpZ2h0CiAgICAgICAgICAgIGlmIChlLm1ldGFLZXkpIHsKICAgICAgICAgICAgICBkZWx0YVggPSBpLmNvbnRlbnRXaWR0aDsKICAgICAgICAgICAgfSBlbHNlIGlmIChlLmFsdEtleSkgewogICAgICAgICAgICAgIGRlbHRhWCA9IGkuY29udGFpbmVyV2lkdGg7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZGVsdGFYID0gMzA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgNDA6CiAgICAgICAgICAgIC8vIGRvd24KICAgICAgICAgICAgaWYgKGUubWV0YUtleSkgewogICAgICAgICAgICAgIGRlbHRhWSA9IC1pLmNvbnRlbnRIZWlnaHQ7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5hbHRLZXkpIHsKICAgICAgICAgICAgICBkZWx0YVkgPSAtaS5jb250YWluZXJIZWlnaHQ7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZGVsdGFZID0gLTMwOwogICAgICAgICAgICB9CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAvLyBzcGFjZSBiYXIKICAgICAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHsKICAgICAgICAgICAgICBkZWx0YVkgPSBpLmNvbnRhaW5lckhlaWdodDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBkZWx0YVkgPSAtaS5jb250YWluZXJIZWlnaHQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMzM6CiAgICAgICAgICAgIC8vIHBhZ2UgdXAKICAgICAgICAgICAgZGVsdGFZID0gaS5jb250YWluZXJIZWlnaHQ7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMzQ6CiAgICAgICAgICAgIC8vIHBhZ2UgZG93bgogICAgICAgICAgICBkZWx0YVkgPSAtaS5jb250YWluZXJIZWlnaHQ7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMzY6CiAgICAgICAgICAgIC8vIGhvbWUKICAgICAgICAgICAgZGVsdGFZID0gaS5jb250ZW50SGVpZ2h0OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAvLyBlbmQKICAgICAgICAgICAgZGVsdGFZID0gLWkuY29udGVudEhlaWdodDsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKGkuc2V0dGluZ3Muc3VwcHJlc3NTY3JvbGxYICYmIGRlbHRhWCAhPT0gMCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgaWYgKGkuc2V0dGluZ3Muc3VwcHJlc3NTY3JvbGxZICYmIGRlbHRhWSAhPT0gMCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgZWxlbWVudC5zY3JvbGxUb3AgLT0gZGVsdGFZOwogICAgICAgIGVsZW1lbnQuc2Nyb2xsTGVmdCArPSBkZWx0YVg7CiAgICAgICAgdXBkYXRlR2VvbWV0cnkoaSk7CgogICAgICAgIGlmIChzaG91bGRQcmV2ZW50RGVmYXVsdChkZWx0YVgsIGRlbHRhWSkpIHsKICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIHdoZWVsKGkpIHsKICAgICAgdmFyIGVsZW1lbnQgPSBpLmVsZW1lbnQ7CgogICAgICBmdW5jdGlvbiBzaG91bGRQcmV2ZW50RGVmYXVsdChkZWx0YVgsIGRlbHRhWSkgewogICAgICAgIHZhciByb3VuZGVkU2Nyb2xsVG9wID0gTWF0aC5mbG9vcihlbGVtZW50LnNjcm9sbFRvcCk7CiAgICAgICAgdmFyIGlzVG9wID0gZWxlbWVudC5zY3JvbGxUb3AgPT09IDA7CiAgICAgICAgdmFyIGlzQm90dG9tID0gcm91bmRlZFNjcm9sbFRvcCArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0ID09PSBlbGVtZW50LnNjcm9sbEhlaWdodDsKICAgICAgICB2YXIgaXNMZWZ0ID0gZWxlbWVudC5zY3JvbGxMZWZ0ID09PSAwOwogICAgICAgIHZhciBpc1JpZ2h0ID0gZWxlbWVudC5zY3JvbGxMZWZ0ICsgZWxlbWVudC5vZmZzZXRXaWR0aCA9PT0gZWxlbWVudC5zY3JvbGxXaWR0aDsKICAgICAgICB2YXIgaGl0c0JvdW5kOyAvLyBwaWNrIGF4aXMgd2l0aCBwcmltYXJ5IGRpcmVjdGlvbgoKICAgICAgICBpZiAoTWF0aC5hYnMoZGVsdGFZKSA+IE1hdGguYWJzKGRlbHRhWCkpIHsKICAgICAgICAgIGhpdHNCb3VuZCA9IGlzVG9wIHx8IGlzQm90dG9tOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBoaXRzQm91bmQgPSBpc0xlZnQgfHwgaXNSaWdodDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBoaXRzQm91bmQgPyAhaS5zZXR0aW5ncy53aGVlbFByb3BhZ2F0aW9uIDogdHJ1ZTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZ2V0RGVsdGFGcm9tRXZlbnQoZSkgewogICAgICAgIHZhciBkZWx0YVggPSBlLmRlbHRhWDsKICAgICAgICB2YXIgZGVsdGFZID0gLTEgKiBlLmRlbHRhWTsKCiAgICAgICAgaWYgKHR5cGVvZiBkZWx0YVggPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBkZWx0YVkgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAvLyBPUyBYIFNhZmFyaQogICAgICAgICAgZGVsdGFYID0gLTEgKiBlLndoZWVsRGVsdGFYIC8gNjsKICAgICAgICAgIGRlbHRhWSA9IGUud2hlZWxEZWx0YVkgLyA2OwogICAgICAgIH0KCiAgICAgICAgaWYgKGUuZGVsdGFNb2RlICYmIGUuZGVsdGFNb2RlID09PSAxKSB7CiAgICAgICAgICAvLyBGaXJlZm94IGluIGRlbHRhTW9kZSAxOiBMaW5lIHNjcm9sbGluZwogICAgICAgICAgZGVsdGFYICo9IDEwOwogICAgICAgICAgZGVsdGFZICo9IDEwOwogICAgICAgIH0KCiAgICAgICAgaWYgKGRlbHRhWCAhPT0gZGVsdGFYICYmIGRlbHRhWSAhPT0gZGVsdGFZCiAgICAgICAgLyogTmFOIGNoZWNrcyAqLwogICAgICAgICkgewogICAgICAgICAgICAvLyBJRSBpbiBzb21lIG1vdXNlIGRyaXZlcnMKICAgICAgICAgICAgZGVsdGFYID0gMDsKICAgICAgICAgICAgZGVsdGFZID0gZS53aGVlbERlbHRhOwogICAgICAgICAgfQoKICAgICAgICBpZiAoZS5zaGlmdEtleSkgewogICAgICAgICAgLy8gcmV2ZXJzZSBheGlzIHdpdGggc2hpZnQga2V5CiAgICAgICAgICByZXR1cm4gWy1kZWx0YVksIC1kZWx0YVhdOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIFtkZWx0YVgsIGRlbHRhWV07CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHNob3VsZEJlQ29uc3VtZWRCeUNoaWxkKHRhcmdldCwgZGVsdGFYLCBkZWx0YVkpIHsKICAgICAgICAvLyBGSVhNRTogdGhpcyBpcyBhIHdvcmthcm91bmQgZm9yIDxzZWxlY3Q+IGlzc3VlIGluIEZGIGFuZCBJRSAjNTcxCiAgICAgICAgaWYgKCFlbnYuaXNXZWJLaXQgJiYgZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdzZWxlY3Q6Zm9jdXMnKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICBpZiAoIWVsZW1lbnQuY29udGFpbnModGFyZ2V0KSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgdmFyIGN1cnNvciA9IHRhcmdldDsKCiAgICAgICAgd2hpbGUgKGN1cnNvciAmJiBjdXJzb3IgIT09IGVsZW1lbnQpIHsKICAgICAgICAgIGlmIChjdXJzb3IuY2xhc3NMaXN0LmNvbnRhaW5zKGNscy5lbGVtZW50LmNvbnN1bWluZykpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHN0eWxlID0gZ2V0KGN1cnNvcik7IC8vIGlmIGRlbHRhWSAmJiB2ZXJ0aWNhbCBzY3JvbGxhYmxlCgogICAgICAgICAgaWYgKGRlbHRhWSAmJiBzdHlsZS5vdmVyZmxvd1kubWF0Y2goLyhzY3JvbGx8YXV0bykvKSkgewogICAgICAgICAgICB2YXIgbWF4U2Nyb2xsVG9wID0gY3Vyc29yLnNjcm9sbEhlaWdodCAtIGN1cnNvci5jbGllbnRIZWlnaHQ7CgogICAgICAgICAgICBpZiAobWF4U2Nyb2xsVG9wID4gMCkgewogICAgICAgICAgICAgIGlmIChjdXJzb3Iuc2Nyb2xsVG9wID4gMCAmJiBkZWx0YVkgPCAwIHx8IGN1cnNvci5zY3JvbGxUb3AgPCBtYXhTY3JvbGxUb3AgJiYgZGVsdGFZID4gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9IC8vIGlmIGRlbHRhWCAmJiBob3Jpem9udGFsIHNjcm9sbGFibGUKCgogICAgICAgICAgaWYgKGRlbHRhWCAmJiBzdHlsZS5vdmVyZmxvd1gubWF0Y2goLyhzY3JvbGx8YXV0bykvKSkgewogICAgICAgICAgICB2YXIgbWF4U2Nyb2xsTGVmdCA9IGN1cnNvci5zY3JvbGxXaWR0aCAtIGN1cnNvci5jbGllbnRXaWR0aDsKCiAgICAgICAgICAgIGlmIChtYXhTY3JvbGxMZWZ0ID4gMCkgewogICAgICAgICAgICAgIGlmIChjdXJzb3Iuc2Nyb2xsTGVmdCA+IDAgJiYgZGVsdGFYIDwgMCB8fCBjdXJzb3Iuc2Nyb2xsTGVmdCA8IG1heFNjcm9sbExlZnQgJiYgZGVsdGFYID4gMCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgY3Vyc29yID0gY3Vyc29yLnBhcmVudE5vZGU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIG1vdXNld2hlZWxIYW5kbGVyKGUpIHsKICAgICAgICB2YXIgcmVmID0gZ2V0RGVsdGFGcm9tRXZlbnQoZSk7CiAgICAgICAgdmFyIGRlbHRhWCA9IHJlZlswXTsKICAgICAgICB2YXIgZGVsdGFZID0gcmVmWzFdOwoKICAgICAgICBpZiAoc2hvdWxkQmVDb25zdW1lZEJ5Q2hpbGQoZS50YXJnZXQsIGRlbHRhWCwgZGVsdGFZKSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIHNob3VsZFByZXZlbnQgPSBmYWxzZTsKCiAgICAgICAgaWYgKCFpLnNldHRpbmdzLnVzZUJvdGhXaGVlbEF4ZXMpIHsKICAgICAgICAgIC8vIGRlbHRhWCB3aWxsIG9ubHkgYmUgdXNlZCBmb3IgaG9yaXpvbnRhbCBzY3JvbGxpbmcgYW5kIGRlbHRhWSB3aWxsCiAgICAgICAgICAvLyBvbmx5IGJlIHVzZWQgZm9yIHZlcnRpY2FsIHNjcm9sbGluZyAtIHRoaXMgaXMgdGhlIGRlZmF1bHQKICAgICAgICAgIGVsZW1lbnQuc2Nyb2xsVG9wIC09IGRlbHRhWSAqIGkuc2V0dGluZ3Mud2hlZWxTcGVlZDsKICAgICAgICAgIGVsZW1lbnQuc2Nyb2xsTGVmdCArPSBkZWx0YVggKiBpLnNldHRpbmdzLndoZWVsU3BlZWQ7CiAgICAgICAgfSBlbHNlIGlmIChpLnNjcm9sbGJhcllBY3RpdmUgJiYgIWkuc2Nyb2xsYmFyWEFjdGl2ZSkgewogICAgICAgICAgLy8gb25seSB2ZXJ0aWNhbCBzY3JvbGxiYXIgaXMgYWN0aXZlIGFuZCB1c2VCb3RoV2hlZWxBeGVzIG9wdGlvbiBpcwogICAgICAgICAgLy8gYWN0aXZlLCBzbyBsZXQncyBzY3JvbGwgdmVydGljYWwgYmFyIHVzaW5nIGJvdGggbW91c2Ugd2hlZWwgYXhlcwogICAgICAgICAgaWYgKGRlbHRhWSkgewogICAgICAgICAgICBlbGVtZW50LnNjcm9sbFRvcCAtPSBkZWx0YVkgKiBpLnNldHRpbmdzLndoZWVsU3BlZWQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBlbGVtZW50LnNjcm9sbFRvcCArPSBkZWx0YVggKiBpLnNldHRpbmdzLndoZWVsU3BlZWQ7CiAgICAgICAgICB9CgogICAgICAgICAgc2hvdWxkUHJldmVudCA9IHRydWU7CiAgICAgICAgfSBlbHNlIGlmIChpLnNjcm9sbGJhclhBY3RpdmUgJiYgIWkuc2Nyb2xsYmFyWUFjdGl2ZSkgewogICAgICAgICAgLy8gdXNlQm90aFdoZWVsQXhlcyBhbmQgb25seSBob3Jpem9udGFsIGJhciBpcyBhY3RpdmUsIHNvIHVzZSBib3RoCiAgICAgICAgICAvLyB3aGVlbCBheGVzIGZvciBob3Jpem9udGFsIGJhcgogICAgICAgICAgaWYgKGRlbHRhWCkgewogICAgICAgICAgICBlbGVtZW50LnNjcm9sbExlZnQgKz0gZGVsdGFYICogaS5zZXR0aW5ncy53aGVlbFNwZWVkOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZWxlbWVudC5zY3JvbGxMZWZ0IC09IGRlbHRhWSAqIGkuc2V0dGluZ3Mud2hlZWxTcGVlZDsKICAgICAgICAgIH0KCiAgICAgICAgICBzaG91bGRQcmV2ZW50ID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHVwZGF0ZUdlb21ldHJ5KGkpOwogICAgICAgIHNob3VsZFByZXZlbnQgPSBzaG91bGRQcmV2ZW50IHx8IHNob3VsZFByZXZlbnREZWZhdWx0KGRlbHRhWCwgZGVsdGFZKTsKCiAgICAgICAgaWYgKHNob3VsZFByZXZlbnQgJiYgIWUuY3RybEtleSkgewogICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0eXBlb2Ygd2luZG93Lm9ud2hlZWwgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgaS5ldmVudC5iaW5kKGVsZW1lbnQsICd3aGVlbCcsIG1vdXNld2hlZWxIYW5kbGVyKTsKICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygd2luZG93Lm9ubW91c2V3aGVlbCAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICBpLmV2ZW50LmJpbmQoZWxlbWVudCwgJ21vdXNld2hlZWwnLCBtb3VzZXdoZWVsSGFuZGxlcik7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiB0b3VjaChpKSB7CiAgICAgIGlmICghZW52LnN1cHBvcnRzVG91Y2ggJiYgIWVudi5zdXBwb3J0c0llUG9pbnRlcikgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGVsZW1lbnQgPSBpLmVsZW1lbnQ7CgogICAgICBmdW5jdGlvbiBzaG91bGRQcmV2ZW50KGRlbHRhWCwgZGVsdGFZKSB7CiAgICAgICAgdmFyIHNjcm9sbFRvcCA9IE1hdGguZmxvb3IoZWxlbWVudC5zY3JvbGxUb3ApOwogICAgICAgIHZhciBzY3JvbGxMZWZ0ID0gZWxlbWVudC5zY3JvbGxMZWZ0OwogICAgICAgIHZhciBtYWduaXR1ZGVYID0gTWF0aC5hYnMoZGVsdGFYKTsKICAgICAgICB2YXIgbWFnbml0dWRlWSA9IE1hdGguYWJzKGRlbHRhWSk7CgogICAgICAgIGlmIChtYWduaXR1ZGVZID4gbWFnbml0dWRlWCkgewogICAgICAgICAgLy8gdXNlciBpcyBwZXJoYXBzIHRyeWluZyB0byBzd2lwZSB1cC9kb3duIHRoZSBwYWdlCiAgICAgICAgICBpZiAoZGVsdGFZIDwgMCAmJiBzY3JvbGxUb3AgPT09IGkuY29udGVudEhlaWdodCAtIGkuY29udGFpbmVySGVpZ2h0IHx8IGRlbHRhWSA+IDAgJiYgc2Nyb2xsVG9wID09PSAwKSB7CiAgICAgICAgICAgIC8vIHNldCBwcmV2ZW50IGZvciBtb2JpbGUgQ2hyb21lIHJlZnJlc2gKICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5zY3JvbGxZID09PSAwICYmIGRlbHRhWSA+IDAgJiYgZW52LmlzQ2hyb21lOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAobWFnbml0dWRlWCA+IG1hZ25pdHVkZVkpIHsKICAgICAgICAgIC8vIHVzZXIgaXMgcGVyaGFwcyB0cnlpbmcgdG8gc3dpcGUgbGVmdC9yaWdodCBhY3Jvc3MgdGhlIHBhZ2UKICAgICAgICAgIGlmIChkZWx0YVggPCAwICYmIHNjcm9sbExlZnQgPT09IGkuY29udGVudFdpZHRoIC0gaS5jb250YWluZXJXaWR0aCB8fCBkZWx0YVggPiAwICYmIHNjcm9sbExlZnQgPT09IDApIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gYXBwbHlUb3VjaE1vdmUoZGlmZmVyZW5jZVgsIGRpZmZlcmVuY2VZKSB7CiAgICAgICAgZWxlbWVudC5zY3JvbGxUb3AgLT0gZGlmZmVyZW5jZVk7CiAgICAgICAgZWxlbWVudC5zY3JvbGxMZWZ0IC09IGRpZmZlcmVuY2VYOwogICAgICAgIHVwZGF0ZUdlb21ldHJ5KGkpOwogICAgICB9CgogICAgICB2YXIgc3RhcnRPZmZzZXQgPSB7fTsKICAgICAgdmFyIHN0YXJ0VGltZSA9IDA7CiAgICAgIHZhciBzcGVlZCA9IHt9OwogICAgICB2YXIgZWFzaW5nTG9vcCA9IG51bGw7CgogICAgICBmdW5jdGlvbiBnZXRUb3VjaChlKSB7CiAgICAgICAgaWYgKGUudGFyZ2V0VG91Y2hlcykgewogICAgICAgICAgcmV0dXJuIGUudGFyZ2V0VG91Y2hlc1swXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gTWF5YmUgSUUgcG9pbnRlcgogICAgICAgICAgcmV0dXJuIGU7CiAgICAgICAgfQogICAgICB9CgogICAgICBmdW5jdGlvbiBzaG91bGRIYW5kbGUoZSkgewogICAgICAgIGlmIChlLnBvaW50ZXJUeXBlICYmIGUucG9pbnRlclR5cGUgPT09ICdwZW4nICYmIGUuYnV0dG9ucyA9PT0gMCkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgaWYgKGUudGFyZ2V0VG91Y2hlcyAmJiBlLnRhcmdldFRvdWNoZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGlmIChlLnBvaW50ZXJUeXBlICYmIGUucG9pbnRlclR5cGUgIT09ICdtb3VzZScgJiYgZS5wb2ludGVyVHlwZSAhPT0gZS5NU1BPSU5URVJfVFlQRV9NT1VTRSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHRvdWNoU3RhcnQoZSkgewogICAgICAgIGlmICghc2hvdWxkSGFuZGxlKGUpKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgdG91Y2ggPSBnZXRUb3VjaChlKTsKICAgICAgICBzdGFydE9mZnNldC5wYWdlWCA9IHRvdWNoLnBhZ2VYOwogICAgICAgIHN0YXJ0T2Zmc2V0LnBhZ2VZID0gdG91Y2gucGFnZVk7CiAgICAgICAgc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CgogICAgICAgIGlmIChlYXNpbmdMb29wICE9PSBudWxsKSB7CiAgICAgICAgICBjbGVhckludGVydmFsKGVhc2luZ0xvb3ApOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gc2hvdWxkQmVDb25zdW1lZEJ5Q2hpbGQodGFyZ2V0LCBkZWx0YVgsIGRlbHRhWSkgewogICAgICAgIGlmICghZWxlbWVudC5jb250YWlucyh0YXJnZXQpKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQoKICAgICAgICB2YXIgY3Vyc29yID0gdGFyZ2V0OwoKICAgICAgICB3aGlsZSAoY3Vyc29yICYmIGN1cnNvciAhPT0gZWxlbWVudCkgewogICAgICAgICAgaWYgKGN1cnNvci5jbGFzc0xpc3QuY29udGFpbnMoY2xzLmVsZW1lbnQuY29uc3VtaW5nKSkgewogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgc3R5bGUgPSBnZXQoY3Vyc29yKTsgLy8gaWYgZGVsdGFZICYmIHZlcnRpY2FsIHNjcm9sbGFibGUKCiAgICAgICAgICBpZiAoZGVsdGFZICYmIHN0eWxlLm92ZXJmbG93WS5tYXRjaCgvKHNjcm9sbHxhdXRvKS8pKSB7CiAgICAgICAgICAgIHZhciBtYXhTY3JvbGxUb3AgPSBjdXJzb3Iuc2Nyb2xsSGVpZ2h0IC0gY3Vyc29yLmNsaWVudEhlaWdodDsKCiAgICAgICAgICAgIGlmIChtYXhTY3JvbGxUb3AgPiAwKSB7CiAgICAgICAgICAgICAgaWYgKGN1cnNvci5zY3JvbGxUb3AgPiAwICYmIGRlbHRhWSA8IDAgfHwgY3Vyc29yLnNjcm9sbFRvcCA8IG1heFNjcm9sbFRvcCAmJiBkZWx0YVkgPiAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gLy8gaWYgZGVsdGFYICYmIGhvcml6b250YWwgc2Nyb2xsYWJsZQoKCiAgICAgICAgICBpZiAoZGVsdGFYICYmIHN0eWxlLm92ZXJmbG93WC5tYXRjaCgvKHNjcm9sbHxhdXRvKS8pKSB7CiAgICAgICAgICAgIHZhciBtYXhTY3JvbGxMZWZ0ID0gY3Vyc29yLnNjcm9sbFdpZHRoIC0gY3Vyc29yLmNsaWVudFdpZHRoOwoKICAgICAgICAgICAgaWYgKG1heFNjcm9sbExlZnQgPiAwKSB7CiAgICAgICAgICAgICAgaWYgKGN1cnNvci5zY3JvbGxMZWZ0ID4gMCAmJiBkZWx0YVggPCAwIHx8IGN1cnNvci5zY3JvbGxMZWZ0IDwgbWF4U2Nyb2xsTGVmdCAmJiBkZWx0YVggPiAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBjdXJzb3IgPSBjdXJzb3IucGFyZW50Tm9kZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gdG91Y2hNb3ZlKGUpIHsKICAgICAgICBpZiAoc2hvdWxkSGFuZGxlKGUpKSB7CiAgICAgICAgICB2YXIgdG91Y2ggPSBnZXRUb3VjaChlKTsKICAgICAgICAgIHZhciBjdXJyZW50T2Zmc2V0ID0gewogICAgICAgICAgICBwYWdlWDogdG91Y2gucGFnZVgsCiAgICAgICAgICAgIHBhZ2VZOiB0b3VjaC5wYWdlWQogICAgICAgICAgfTsKICAgICAgICAgIHZhciBkaWZmZXJlbmNlWCA9IGN1cnJlbnRPZmZzZXQucGFnZVggLSBzdGFydE9mZnNldC5wYWdlWDsKICAgICAgICAgIHZhciBkaWZmZXJlbmNlWSA9IGN1cnJlbnRPZmZzZXQucGFnZVkgLSBzdGFydE9mZnNldC5wYWdlWTsKCiAgICAgICAgICBpZiAoc2hvdWxkQmVDb25zdW1lZEJ5Q2hpbGQoZS50YXJnZXQsIGRpZmZlcmVuY2VYLCBkaWZmZXJlbmNlWSkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIGFwcGx5VG91Y2hNb3ZlKGRpZmZlcmVuY2VYLCBkaWZmZXJlbmNlWSk7CiAgICAgICAgICBzdGFydE9mZnNldCA9IGN1cnJlbnRPZmZzZXQ7CiAgICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgICAgIHZhciB0aW1lR2FwID0gY3VycmVudFRpbWUgLSBzdGFydFRpbWU7CgogICAgICAgICAgaWYgKHRpbWVHYXAgPiAwKSB7CiAgICAgICAgICAgIHNwZWVkLnggPSBkaWZmZXJlbmNlWCAvIHRpbWVHYXA7CiAgICAgICAgICAgIHNwZWVkLnkgPSBkaWZmZXJlbmNlWSAvIHRpbWVHYXA7CiAgICAgICAgICAgIHN0YXJ0VGltZSA9IGN1cnJlbnRUaW1lOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChzaG91bGRQcmV2ZW50KGRpZmZlcmVuY2VYLCBkaWZmZXJlbmNlWSkpIHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgZnVuY3Rpb24gdG91Y2hFbmQoKSB7CiAgICAgICAgaWYgKGkuc2V0dGluZ3Muc3dpcGVFYXNpbmcpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZWFzaW5nTG9vcCk7CiAgICAgICAgICBlYXNpbmdMb29wID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBpZiAoaS5pc0luaXRpYWxpemVkKSB7CiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChlYXNpbmdMb29wKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghc3BlZWQueCAmJiAhc3BlZWQueSkgewogICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZWFzaW5nTG9vcCk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoTWF0aC5hYnMoc3BlZWQueCkgPCAwLjAxICYmIE1hdGguYWJzKHNwZWVkLnkpIDwgMC4wMSkgewogICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZWFzaW5nTG9vcCk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICBhcHBseVRvdWNoTW92ZShzcGVlZC54ICogMzAsIHNwZWVkLnkgKiAzMCk7CiAgICAgICAgICAgIHNwZWVkLnggKj0gMC44OwogICAgICAgICAgICBzcGVlZC55ICo9IDAuODsKICAgICAgICAgIH0sIDEwKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChlbnYuc3VwcG9ydHNUb3VjaCkgewogICAgICAgIGkuZXZlbnQuYmluZChlbGVtZW50LCAndG91Y2hzdGFydCcsIHRvdWNoU3RhcnQpOwogICAgICAgIGkuZXZlbnQuYmluZChlbGVtZW50LCAndG91Y2htb3ZlJywgdG91Y2hNb3ZlKTsKICAgICAgICBpLmV2ZW50LmJpbmQoZWxlbWVudCwgJ3RvdWNoZW5kJywgdG91Y2hFbmQpOwogICAgICB9IGVsc2UgaWYgKGVudi5zdXBwb3J0c0llUG9pbnRlcikgewogICAgICAgIGlmICh3aW5kb3cuUG9pbnRlckV2ZW50KSB7CiAgICAgICAgICBpLmV2ZW50LmJpbmQoZWxlbWVudCwgJ3BvaW50ZXJkb3duJywgdG91Y2hTdGFydCk7CiAgICAgICAgICBpLmV2ZW50LmJpbmQoZWxlbWVudCwgJ3BvaW50ZXJtb3ZlJywgdG91Y2hNb3ZlKTsKICAgICAgICAgIGkuZXZlbnQuYmluZChlbGVtZW50LCAncG9pbnRlcnVwJywgdG91Y2hFbmQpOwogICAgICAgIH0gZWxzZSBpZiAod2luZG93Lk1TUG9pbnRlckV2ZW50KSB7CiAgICAgICAgICBpLmV2ZW50LmJpbmQoZWxlbWVudCwgJ01TUG9pbnRlckRvd24nLCB0b3VjaFN0YXJ0KTsKICAgICAgICAgIGkuZXZlbnQuYmluZChlbGVtZW50LCAnTVNQb2ludGVyTW92ZScsIHRvdWNoTW92ZSk7CiAgICAgICAgICBpLmV2ZW50LmJpbmQoZWxlbWVudCwgJ01TUG9pbnRlclVwJywgdG91Y2hFbmQpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHZhciBkZWZhdWx0U2V0dGluZ3MgPSBmdW5jdGlvbiBkZWZhdWx0U2V0dGluZ3MoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaGFuZGxlcnM6IFsnY2xpY2stcmFpbCcsICdkcmFnLXRodW1iJywgJ2tleWJvYXJkJywgJ3doZWVsJywgJ3RvdWNoJ10sCiAgICAgICAgbWF4U2Nyb2xsYmFyTGVuZ3RoOiBudWxsLAogICAgICAgIG1pblNjcm9sbGJhckxlbmd0aDogbnVsbCwKICAgICAgICBzY3JvbGxpbmdUaHJlc2hvbGQ6IDEwMDAsCiAgICAgICAgc2Nyb2xsWE1hcmdpbk9mZnNldDogMCwKICAgICAgICBzY3JvbGxZTWFyZ2luT2Zmc2V0OiAwLAogICAgICAgIHN1cHByZXNzU2Nyb2xsWDogZmFsc2UsCiAgICAgICAgc3VwcHJlc3NTY3JvbGxZOiBmYWxzZSwKICAgICAgICBzd2lwZUVhc2luZzogdHJ1ZSwKICAgICAgICB1c2VCb3RoV2hlZWxBeGVzOiBmYWxzZSwKICAgICAgICB3aGVlbFByb3BhZ2F0aW9uOiB0cnVlLAogICAgICAgIHdoZWVsU3BlZWQ6IDEKICAgICAgfTsKICAgIH07CgogICAgdmFyIHBlcmZlY3Rfc2Nyb2xsYmFyX2VzbV9oYW5kbGVycyA9IHsKICAgICAgJ2NsaWNrLXJhaWwnOiBjbGlja1JhaWwsCiAgICAgICdkcmFnLXRodW1iJzogZHJhZ1RodW1iLAogICAgICBrZXlib2FyZDoga2V5Ym9hcmQsCiAgICAgIHdoZWVsOiB3aGVlbCwKICAgICAgdG91Y2g6IHRvdWNoCiAgICB9OwoKICAgIHZhciBQZXJmZWN0U2Nyb2xsYmFyID0gZnVuY3Rpb24gUGVyZmVjdFNjcm9sbGJhcihlbGVtZW50LCB1c2VyU2V0dGluZ3MpIHsKICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7CiAgICAgIGlmICh1c2VyU2V0dGluZ3MgPT09IHZvaWQgMCkgdXNlclNldHRpbmdzID0ge307CgogICAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudCk7CiAgICAgIH0KCiAgICAgIGlmICghZWxlbWVudCB8fCAhZWxlbWVudC5ub2RlTmFtZSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gZWxlbWVudCBpcyBzcGVjaWZpZWQgdG8gaW5pdGlhbGl6ZSBQZXJmZWN0U2Nyb2xsYmFyJyk7CiAgICAgIH0KCiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7CiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbHMubWFpbik7CiAgICAgIHRoaXMuc2V0dGluZ3MgPSBkZWZhdWx0U2V0dGluZ3MoKTsKCiAgICAgIGZvciAodmFyIGtleSBpbiB1c2VyU2V0dGluZ3MpIHsKICAgICAgICB0aGlzLnNldHRpbmdzW2tleV0gPSB1c2VyU2V0dGluZ3Nba2V5XTsKICAgICAgfQoKICAgICAgdGhpcy5jb250YWluZXJXaWR0aCA9IG51bGw7CiAgICAgIHRoaXMuY29udGFpbmVySGVpZ2h0ID0gbnVsbDsKICAgICAgdGhpcy5jb250ZW50V2lkdGggPSBudWxsOwogICAgICB0aGlzLmNvbnRlbnRIZWlnaHQgPSBudWxsOwoKICAgICAgdmFyIGZvY3VzID0gZnVuY3Rpb24gZm9jdXMoKSB7CiAgICAgICAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbHMuc3RhdGUuZm9jdXMpOwogICAgICB9OwoKICAgICAgdmFyIGJsdXIgPSBmdW5jdGlvbiBibHVyKCkgewogICAgICAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xzLnN0YXRlLmZvY3VzKTsKICAgICAgfTsKCiAgICAgIHRoaXMuaXNSdGwgPSBnZXQoZWxlbWVudCkuZGlyZWN0aW9uID09PSAncnRsJzsKCiAgICAgIGlmICh0aGlzLmlzUnRsID09PSB0cnVlKSB7CiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNscy5ydGwpOwogICAgICB9CgogICAgICB0aGlzLmlzTmVnYXRpdmVTY3JvbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG9yaWdpbmFsU2Nyb2xsTGVmdCA9IGVsZW1lbnQuc2Nyb2xsTGVmdDsKICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDsKICAgICAgICBlbGVtZW50LnNjcm9sbExlZnQgPSAtMTsKICAgICAgICByZXN1bHQgPSBlbGVtZW50LnNjcm9sbExlZnQgPCAwOwogICAgICAgIGVsZW1lbnQuc2Nyb2xsTGVmdCA9IG9yaWdpbmFsU2Nyb2xsTGVmdDsKICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICB9KCk7CgogICAgICB0aGlzLm5lZ2F0aXZlU2Nyb2xsQWRqdXN0bWVudCA9IHRoaXMuaXNOZWdhdGl2ZVNjcm9sbCA/IGVsZW1lbnQuc2Nyb2xsV2lkdGggLSBlbGVtZW50LmNsaWVudFdpZHRoIDogMDsKICAgICAgdGhpcy5ldmVudCA9IG5ldyBFdmVudE1hbmFnZXIoKTsKICAgICAgdGhpcy5vd25lckRvY3VtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50OwogICAgICB0aGlzLnNjcm9sbGJhclhSYWlsID0gZGl2KGNscy5lbGVtZW50LnJhaWwoJ3gnKSk7CiAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5zY3JvbGxiYXJYUmFpbCk7CiAgICAgIHRoaXMuc2Nyb2xsYmFyWCA9IGRpdihjbHMuZWxlbWVudC50aHVtYigneCcpKTsKICAgICAgdGhpcy5zY3JvbGxiYXJYUmFpbC5hcHBlbmRDaGlsZCh0aGlzLnNjcm9sbGJhclgpOwogICAgICB0aGlzLnNjcm9sbGJhclguc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIDApOwogICAgICB0aGlzLmV2ZW50LmJpbmQodGhpcy5zY3JvbGxiYXJYLCAnZm9jdXMnLCBmb2N1cyk7CiAgICAgIHRoaXMuZXZlbnQuYmluZCh0aGlzLnNjcm9sbGJhclgsICdibHVyJywgYmx1cik7CiAgICAgIHRoaXMuc2Nyb2xsYmFyWEFjdGl2ZSA9IG51bGw7CiAgICAgIHRoaXMuc2Nyb2xsYmFyWFdpZHRoID0gbnVsbDsKICAgICAgdGhpcy5zY3JvbGxiYXJYTGVmdCA9IG51bGw7CiAgICAgIHZhciByYWlsWFN0eWxlID0gZ2V0KHRoaXMuc2Nyb2xsYmFyWFJhaWwpOwogICAgICB0aGlzLnNjcm9sbGJhclhCb3R0b20gPSBwYXJzZUludChyYWlsWFN0eWxlLmJvdHRvbSwgMTApOwoKICAgICAgaWYgKGlzTmFOKHRoaXMuc2Nyb2xsYmFyWEJvdHRvbSkpIHsKICAgICAgICB0aGlzLmlzU2Nyb2xsYmFyWFVzaW5nQm90dG9tID0gZmFsc2U7CiAgICAgICAgdGhpcy5zY3JvbGxiYXJYVG9wID0gdG9JbnQocmFpbFhTdHlsZS50b3ApOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNTY3JvbGxiYXJYVXNpbmdCb3R0b20gPSB0cnVlOwogICAgICB9CgogICAgICB0aGlzLnJhaWxCb3JkZXJYV2lkdGggPSB0b0ludChyYWlsWFN0eWxlLmJvcmRlckxlZnRXaWR0aCkgKyB0b0ludChyYWlsWFN0eWxlLmJvcmRlclJpZ2h0V2lkdGgpOyAvLyBTZXQgcmFpbCB0byBkaXNwbGF5OmJsb2NrIHRvIGNhbGN1bGF0ZSBtYXJnaW5zCgogICAgICBzZXQodGhpcy5zY3JvbGxiYXJYUmFpbCwgewogICAgICAgIGRpc3BsYXk6ICdibG9jaycKICAgICAgfSk7CiAgICAgIHRoaXMucmFpbFhNYXJnaW5XaWR0aCA9IHRvSW50KHJhaWxYU3R5bGUubWFyZ2luTGVmdCkgKyB0b0ludChyYWlsWFN0eWxlLm1hcmdpblJpZ2h0KTsKICAgICAgc2V0KHRoaXMuc2Nyb2xsYmFyWFJhaWwsIHsKICAgICAgICBkaXNwbGF5OiAnJwogICAgICB9KTsKICAgICAgdGhpcy5yYWlsWFdpZHRoID0gbnVsbDsKICAgICAgdGhpcy5yYWlsWFJhdGlvID0gbnVsbDsKICAgICAgdGhpcy5zY3JvbGxiYXJZUmFpbCA9IGRpdihjbHMuZWxlbWVudC5yYWlsKCd5JykpOwogICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuc2Nyb2xsYmFyWVJhaWwpOwogICAgICB0aGlzLnNjcm9sbGJhclkgPSBkaXYoY2xzLmVsZW1lbnQudGh1bWIoJ3knKSk7CiAgICAgIHRoaXMuc2Nyb2xsYmFyWVJhaWwuYXBwZW5kQ2hpbGQodGhpcy5zY3JvbGxiYXJZKTsKICAgICAgdGhpcy5zY3JvbGxiYXJZLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAwKTsKICAgICAgdGhpcy5ldmVudC5iaW5kKHRoaXMuc2Nyb2xsYmFyWSwgJ2ZvY3VzJywgZm9jdXMpOwogICAgICB0aGlzLmV2ZW50LmJpbmQodGhpcy5zY3JvbGxiYXJZLCAnYmx1cicsIGJsdXIpOwogICAgICB0aGlzLnNjcm9sbGJhcllBY3RpdmUgPSBudWxsOwogICAgICB0aGlzLnNjcm9sbGJhcllIZWlnaHQgPSBudWxsOwogICAgICB0aGlzLnNjcm9sbGJhcllUb3AgPSBudWxsOwogICAgICB2YXIgcmFpbFlTdHlsZSA9IGdldCh0aGlzLnNjcm9sbGJhcllSYWlsKTsKICAgICAgdGhpcy5zY3JvbGxiYXJZUmlnaHQgPSBwYXJzZUludChyYWlsWVN0eWxlLnJpZ2h0LCAxMCk7CgogICAgICBpZiAoaXNOYU4odGhpcy5zY3JvbGxiYXJZUmlnaHQpKSB7CiAgICAgICAgdGhpcy5pc1Njcm9sbGJhcllVc2luZ1JpZ2h0ID0gZmFsc2U7CiAgICAgICAgdGhpcy5zY3JvbGxiYXJZTGVmdCA9IHRvSW50KHJhaWxZU3R5bGUubGVmdCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc1Njcm9sbGJhcllVc2luZ1JpZ2h0ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgdGhpcy5zY3JvbGxiYXJZT3V0ZXJXaWR0aCA9IHRoaXMuaXNSdGwgPyBwZXJmZWN0X3Njcm9sbGJhcl9lc21fb3V0ZXJXaWR0aCh0aGlzLnNjcm9sbGJhclkpIDogbnVsbDsKICAgICAgdGhpcy5yYWlsQm9yZGVyWVdpZHRoID0gdG9JbnQocmFpbFlTdHlsZS5ib3JkZXJUb3BXaWR0aCkgKyB0b0ludChyYWlsWVN0eWxlLmJvcmRlckJvdHRvbVdpZHRoKTsKICAgICAgc2V0KHRoaXMuc2Nyb2xsYmFyWVJhaWwsIHsKICAgICAgICBkaXNwbGF5OiAnYmxvY2snCiAgICAgIH0pOwogICAgICB0aGlzLnJhaWxZTWFyZ2luSGVpZ2h0ID0gdG9JbnQocmFpbFlTdHlsZS5tYXJnaW5Ub3ApICsgdG9JbnQocmFpbFlTdHlsZS5tYXJnaW5Cb3R0b20pOwogICAgICBzZXQodGhpcy5zY3JvbGxiYXJZUmFpbCwgewogICAgICAgIGRpc3BsYXk6ICcnCiAgICAgIH0pOwogICAgICB0aGlzLnJhaWxZSGVpZ2h0ID0gbnVsbDsKICAgICAgdGhpcy5yYWlsWVJhdGlvID0gbnVsbDsKICAgICAgdGhpcy5yZWFjaCA9IHsKICAgICAgICB4OiBlbGVtZW50LnNjcm9sbExlZnQgPD0gMCA/ICdzdGFydCcgOiBlbGVtZW50LnNjcm9sbExlZnQgPj0gdGhpcy5jb250ZW50V2lkdGggLSB0aGlzLmNvbnRhaW5lcldpZHRoID8gJ2VuZCcgOiBudWxsLAogICAgICAgIHk6IGVsZW1lbnQuc2Nyb2xsVG9wIDw9IDAgPyAnc3RhcnQnIDogZWxlbWVudC5zY3JvbGxUb3AgPj0gdGhpcy5jb250ZW50SGVpZ2h0IC0gdGhpcy5jb250YWluZXJIZWlnaHQgPyAnZW5kJyA6IG51bGwKICAgICAgfTsKICAgICAgdGhpcy5pc0FsaXZlID0gdHJ1ZTsKICAgICAgdGhpcy5zZXR0aW5ncy5oYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVyTmFtZSkgewogICAgICAgIHJldHVybiBwZXJmZWN0X3Njcm9sbGJhcl9lc21faGFuZGxlcnNbaGFuZGxlck5hbWVdKHRoaXMkMSk7CiAgICAgIH0pOwogICAgICB0aGlzLmxhc3RTY3JvbGxUb3AgPSBNYXRoLmZsb29yKGVsZW1lbnQuc2Nyb2xsVG9wKTsgLy8gZm9yIG9uU2Nyb2xsIG9ubHkKCiAgICAgIHRoaXMubGFzdFNjcm9sbExlZnQgPSBlbGVtZW50LnNjcm9sbExlZnQ7IC8vIGZvciBvblNjcm9sbCBvbmx5CgogICAgICB0aGlzLmV2ZW50LmJpbmQodGhpcy5lbGVtZW50LCAnc2Nyb2xsJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gdGhpcyQxLm9uU2Nyb2xsKGUpOwogICAgICB9KTsKICAgICAgdXBkYXRlR2VvbWV0cnkodGhpcyk7CiAgICB9OwoKICAgIFBlcmZlY3RTY3JvbGxiYXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSgpIHsKICAgICAgaWYgKCF0aGlzLmlzQWxpdmUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gUmVjYWxjdWF0ZSBuZWdhdGl2ZSBzY3JvbGxMZWZ0IGFkanVzdG1lbnQKCgogICAgICB0aGlzLm5lZ2F0aXZlU2Nyb2xsQWRqdXN0bWVudCA9IHRoaXMuaXNOZWdhdGl2ZVNjcm9sbCA/IHRoaXMuZWxlbWVudC5zY3JvbGxXaWR0aCAtIHRoaXMuZWxlbWVudC5jbGllbnRXaWR0aCA6IDA7IC8vIFJlY2FsY3VsYXRlIHJhaWwgbWFyZ2lucwoKICAgICAgc2V0KHRoaXMuc2Nyb2xsYmFyWFJhaWwsIHsKICAgICAgICBkaXNwbGF5OiAnYmxvY2snCiAgICAgIH0pOwogICAgICBzZXQodGhpcy5zY3JvbGxiYXJZUmFpbCwgewogICAgICAgIGRpc3BsYXk6ICdibG9jaycKICAgICAgfSk7CiAgICAgIHRoaXMucmFpbFhNYXJnaW5XaWR0aCA9IHRvSW50KGdldCh0aGlzLnNjcm9sbGJhclhSYWlsKS5tYXJnaW5MZWZ0KSArIHRvSW50KGdldCh0aGlzLnNjcm9sbGJhclhSYWlsKS5tYXJnaW5SaWdodCk7CiAgICAgIHRoaXMucmFpbFlNYXJnaW5IZWlnaHQgPSB0b0ludChnZXQodGhpcy5zY3JvbGxiYXJZUmFpbCkubWFyZ2luVG9wKSArIHRvSW50KGdldCh0aGlzLnNjcm9sbGJhcllSYWlsKS5tYXJnaW5Cb3R0b20pOyAvLyBIaWRlIHNjcm9sbGJhcnMgbm90IHRvIGFmZmVjdCBzY3JvbGxXaWR0aCBhbmQgc2Nyb2xsSGVpZ2h0CgogICAgICBzZXQodGhpcy5zY3JvbGxiYXJYUmFpbCwgewogICAgICAgIGRpc3BsYXk6ICdub25lJwogICAgICB9KTsKICAgICAgc2V0KHRoaXMuc2Nyb2xsYmFyWVJhaWwsIHsKICAgICAgICBkaXNwbGF5OiAnbm9uZScKICAgICAgfSk7CiAgICAgIHVwZGF0ZUdlb21ldHJ5KHRoaXMpOwogICAgICBwcm9jZXNzU2Nyb2xsRGlmZih0aGlzLCAndG9wJywgMCwgZmFsc2UsIHRydWUpOwogICAgICBwcm9jZXNzU2Nyb2xsRGlmZih0aGlzLCAnbGVmdCcsIDAsIGZhbHNlLCB0cnVlKTsKICAgICAgc2V0KHRoaXMuc2Nyb2xsYmFyWFJhaWwsIHsKICAgICAgICBkaXNwbGF5OiAnJwogICAgICB9KTsKICAgICAgc2V0KHRoaXMuc2Nyb2xsYmFyWVJhaWwsIHsKICAgICAgICBkaXNwbGF5OiAnJwogICAgICB9KTsKICAgIH07CgogICAgUGVyZmVjdFNjcm9sbGJhci5wcm90b3R5cGUub25TY3JvbGwgPSBmdW5jdGlvbiBvblNjcm9sbChlKSB7CiAgICAgIGlmICghdGhpcy5pc0FsaXZlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB1cGRhdGVHZW9tZXRyeSh0aGlzKTsKICAgICAgcHJvY2Vzc1Njcm9sbERpZmYodGhpcywgJ3RvcCcsIHRoaXMuZWxlbWVudC5zY3JvbGxUb3AgLSB0aGlzLmxhc3RTY3JvbGxUb3ApOwogICAgICBwcm9jZXNzU2Nyb2xsRGlmZih0aGlzLCAnbGVmdCcsIHRoaXMuZWxlbWVudC5zY3JvbGxMZWZ0IC0gdGhpcy5sYXN0U2Nyb2xsTGVmdCk7CiAgICAgIHRoaXMubGFzdFNjcm9sbFRvcCA9IE1hdGguZmxvb3IodGhpcy5lbGVtZW50LnNjcm9sbFRvcCk7CiAgICAgIHRoaXMubGFzdFNjcm9sbExlZnQgPSB0aGlzLmVsZW1lbnQuc2Nyb2xsTGVmdDsKICAgIH07CgogICAgUGVyZmVjdFNjcm9sbGJhci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgIGlmICghdGhpcy5pc0FsaXZlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmV2ZW50LnVuYmluZEFsbCgpOwogICAgICByZW1vdmUodGhpcy5zY3JvbGxiYXJYKTsKICAgICAgcmVtb3ZlKHRoaXMuc2Nyb2xsYmFyWSk7CiAgICAgIHJlbW92ZSh0aGlzLnNjcm9sbGJhclhSYWlsKTsKICAgICAgcmVtb3ZlKHRoaXMuc2Nyb2xsYmFyWVJhaWwpOwogICAgICB0aGlzLnJlbW92ZVBzQ2xhc3NlcygpOyAvLyB1bnNldCBlbGVtZW50cwoKICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDsKICAgICAgdGhpcy5zY3JvbGxiYXJYID0gbnVsbDsKICAgICAgdGhpcy5zY3JvbGxiYXJZID0gbnVsbDsKICAgICAgdGhpcy5zY3JvbGxiYXJYUmFpbCA9IG51bGw7CiAgICAgIHRoaXMuc2Nyb2xsYmFyWVJhaWwgPSBudWxsOwogICAgICB0aGlzLmlzQWxpdmUgPSBmYWxzZTsKICAgIH07CgogICAgUGVyZmVjdFNjcm9sbGJhci5wcm90b3R5cGUucmVtb3ZlUHNDbGFzc2VzID0gZnVuY3Rpb24gcmVtb3ZlUHNDbGFzc2VzKCkgewogICAgICB0aGlzLmVsZW1lbnQuY2xhc3NOYW1lID0gdGhpcy5lbGVtZW50LmNsYXNzTmFtZS5zcGxpdCgnICcpLmZpbHRlcihmdW5jdGlvbiAobmFtZSkgewogICAgICAgIHJldHVybiAhbmFtZS5tYXRjaCgvXnBzKFstX10uK3wpJC8pOwogICAgICB9KS5qb2luKCcgJyk7CiAgICB9OwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICB2YXIgcGVyZmVjdF9zY3JvbGxiYXJfZXNtID0gUGVyZmVjdFNjcm9sbGJhcjsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3Njcm9sbGJhci9DU2Nyb2xsYmFyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKICAgIC8vIHRoaXMgY29tcG9uZW50IGlzIGEgcmVmZWN0b3Igb2YgdnVlLXBlcmZlY3Qtc2Nyb2xsYmFyIGNvbXBvbmVudCBodHRwczovL2dpdGh1Yi5jb20vbGVjaW9uL3Z1ZS1wZXJmZWN0LXNjcm9sbGJhcgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1Njcm9sbGJhcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NTY3JvbGxiYXInLAogICAgICBwcm9wczogewogICAgICAgIHNldHRpbmdzOiB7CiAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICAgICAgcmV0dXJuIHt9OwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc3dpdGNoZXI6IHsKICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICBkZWZhdWx0OiB0cnVlCiAgICAgICAgfSwKICAgICAgICB0YWc6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIGRlZmF1bHQ6ICdkaXYnCiAgICAgICAgfQogICAgICB9LAogICAgICB3YXRjaDogewogICAgICAgIHN3aXRjaGVyOiBmdW5jdGlvbiBzd2l0Y2hlcih2YWwpIHsKICAgICAgICAgIGlmICghdmFsKSB7CiAgICAgICAgICAgIHRoaXMuX191bmluaXQoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuX19pbml0KCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgICAgIGlmICghdGhpcy4kaXNTZXJ2ZXIgJiYgdGhpcy5zd2l0Y2hlcikgewogICAgICAgICAgdGhpcy5fX2luaXQoKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7CiAgICAgICAgdGhpcy4kbmV4dFRpY2sodGhpcy5fX3VwZGF0ZSk7CiAgICAgIH0sCiAgICAgIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICAgICAgdGhpcy5fX3VuaW5pdCgpOwogICAgICB9LAogICAgICBtZXRob2RzOiB7CiAgICAgICAgX19pbml0OiBmdW5jdGlvbiBfX2luaXQoKSB7CiAgICAgICAgICBpZiAoIXRoaXMuX3BzX2JhcikgewogICAgICAgICAgICB0aGlzLl9fY3JlYXRlUGVyZmVjdFNjcm9sbGJhcigpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgX19jcmVhdGVQZXJmZWN0U2Nyb2xsYmFyOiBmdW5jdGlvbiBfX2NyZWF0ZVBlcmZlY3RTY3JvbGxiYXIoKSB7CiAgICAgICAgICB0aGlzLl9wc19iYXIgPSBuZXcgcGVyZmVjdF9zY3JvbGxiYXJfZXNtKHRoaXMuJGVsLCB0aGlzLnNldHRpbmdzKTsKICAgICAgICB9LAogICAgICAgIF9fdW5pbml0OiBmdW5jdGlvbiBfX3VuaW5pdCgpIHsKICAgICAgICAgIGlmICh0aGlzLl9wc19iYXIpIHsKICAgICAgICAgICAgdGhpcy5fcHNfYmFyLmRlc3Ryb3koKTsKCiAgICAgICAgICAgIHRoaXMuX3BzX2JhciA9IG51bGw7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBfX3VwZGF0ZTogZnVuY3Rpb24gX191cGRhdGUoKSB7CiAgICAgICAgICBpZiAodGhpcy5fcHNfYmFyKSB7CiAgICAgICAgICAgIHRoaXMuX3BzX2Jhci51cGRhdGUoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgpIHsKICAgICAgICByZXR1cm4gaCh0aGlzLnRhZywgewogICAgICAgICAgc3R5bGU6ICdwb3NpdGlvbjogcmVsYXRpdmUnCiAgICAgICAgfSwgdGhpcy4kc2xvdHMuZGVmYXVsdCk7CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvc2Nyb2xsYmFyL0NTY3JvbGxiYXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgc2Nyb2xsYmFyX0NTY3JvbGxiYXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDU2Nyb2xsYmFydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBFWFRFUk5BTCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL3BlcmZlY3Qtc2Nyb2xsYmFyL2Nzcy9wZXJmZWN0LXNjcm9sbGJhci5jc3M/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0zNzM4YjcyMiZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyYKCiAgICB2YXIgcGVyZmVjdF9zY3JvbGxiYXJ2dWVfdHlwZV9zdHlsZV9pbmRleF8wX2lkXzM3MzhiNzIyX3Njb3BlZF90cnVlX2xhbmdfY3NzXyA9IF9fd2VicGFja19yZXF1aXJlX18oIjM5OWEiKTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy9zY3JvbGxiYXIvQ1Njcm9sbGJhci52dWUKCgogICAgdmFyIENTY3JvbGxiYXJfcmVuZGVyLCBDU2Nyb2xsYmFyX3N0YXRpY1JlbmRlckZuczsKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ1Njcm9sbGJhcl9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHNjcm9sbGJhcl9DU2Nyb2xsYmFydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDU2Nyb2xsYmFyX3JlbmRlciwgQ1Njcm9sbGJhcl9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCAiMzczOGI3MjIiLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1Njcm9sbGJhciA9IENTY3JvbGxiYXJfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvc2Nyb2xsYmFyL2luZGV4LmpzCiAgICAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3NwaW5uZXIvaW5kZXguanMKICAgIC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9zd2l0Y2gvQ1N3aXRjaC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9YjM2MTVkYTAmCgogICAgdmFyIENTd2l0Y2h2dWVfdHlwZV90ZW1wbGF0ZV9pZF9iMzYxNWRhMF9yZW5kZXIgPSBmdW5jdGlvbiBDU3dpdGNodnVlX3R5cGVfdGVtcGxhdGVfaWRfYjM2MTVkYTBfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygnbGFiZWwnLCB7CiAgICAgICAgY2xhc3M6IF92bS5jbGFzc0xpc3QKICAgICAgfSwgW19jKCdpbnB1dCcsIF92bS5fYih7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJjLXN3aXRjaC1pbnB1dCBmb3JtLWNoZWNrLWlucHV0IiwKICAgICAgICBhdHRyczogewogICAgICAgICAgInR5cGUiOiBfdm0udHlwZQogICAgICAgIH0sCiAgICAgICAgZG9tUHJvcHM6IHsKICAgICAgICAgICJjaGVja2VkIjogX3ZtLnN0YXRlCiAgICAgICAgfSwKICAgICAgICBvbjogewogICAgICAgICAgImNoYW5nZSI6IF92bS5vbkNoYW5nZQogICAgICAgIH0KICAgICAgfSwgJ2lucHV0JywgX3ZtLiRhdHRycywgZmFsc2UpKSwgX2MoJ3NwYW4nLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJjLXN3aXRjaC1zbGlkZXIiLAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAiZGF0YS1jaGVja2VkIjogX3ZtLmxhYmVsT24sCiAgICAgICAgICAiZGF0YS11bmNoZWNrZWQiOiBfdm0ubGFiZWxPZmYKICAgICAgICB9CiAgICAgIH0pXSk7CiAgICB9OwoKICAgIHZhciBDU3dpdGNodnVlX3R5cGVfdGVtcGxhdGVfaWRfYjM2MTVkYTBfc3RhdGljUmVuZGVyRm5zID0gW107IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy9zd2l0Y2gvQ1N3aXRjaC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ1N3aXRjaHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgewogICAgICBpZiAoa2V5IGluIG9iaikgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICAgICAgdmFsdWU6IHZhbHVlLAogICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSwKICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwKICAgICAgICAgIHdyaXRhYmxlOiB0cnVlCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9iajsKICAgIH0gLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIENTd2l0Y2h2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDU3dpdGNoJywKICAgICAgaW5oZXJpdEF0dHJzOiBmYWxzZSwKICAgICAgcHJvcHM6IHsKICAgICAgICBjb2xvcjogU3RyaW5nLAogICAgICAgIHZhcmlhbnQ6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBbJycsICdvdXRsaW5lJywgJ29wcG9zaXRlJywgJzNkJ10uaW5jbHVkZXModmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2l6ZTogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIFsnJywgJ2xnJywgJ3NtJ10uaW5jbHVkZXModmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc2hhcGU6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBbJycsICdwaWxsJywgJ3NxdWFyZSddLmluY2x1ZGVzKHZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNoZWNrZWQ6IEJvb2xlYW4sCiAgICAgICAgbGFiZWxPbjogU3RyaW5nLAogICAgICAgIGxhYmVsT2ZmOiBTdHJpbmcsCiAgICAgICAgdHlwZTogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgZGVmYXVsdDogJ2NoZWNrYm94JywKICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHR5cGUpIHsKICAgICAgICAgICAgcmV0dXJuIFsnY2hlY2tib3gnLCAncmFkaW8nXS5pbmNsdWRlcyh0eXBlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHN0YXRlOiB1bmRlZmluZWQKICAgICAgICB9OwogICAgICB9LAogICAgICB3YXRjaDogewogICAgICAgIGNoZWNrZWQ6IHsKICAgICAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSB2YWw7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBjb21wdXRlZDogewogICAgICAgIGNsYXNzTGlzdDogZnVuY3Rpb24gY2xhc3NMaXN0KCkgewogICAgICAgICAgdmFyIF9yZWY7CgogICAgICAgICAgdmFyIHZhcmlhbnQgPSB0aGlzLnZhcmlhbnQgPyAiLSIuY29uY2F0KHRoaXMudmFyaWFudCkgOiAnJzsKICAgICAgICAgIHJldHVybiBbJ2Mtc3dpdGNoIGZvcm0tY2hlY2stbGFiZWwnLCAoX3JlZiA9IHt9LCBDU3dpdGNodnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZiwgImMtc3dpdGNoLSIuY29uY2F0KHRoaXMuc2l6ZSksIHRoaXMuc2l6ZSksIENTd2l0Y2h2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfcmVmLCAiYy1zd2l0Y2gtIi5jb25jYXQodGhpcy5zaGFwZSksIHRoaXMuc2hhcGUpLCBDU3dpdGNodnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZiwgImMtc3dpdGNoIi5jb25jYXQodmFyaWFudCwgIi0iKS5jb25jYXQodGhpcy5jb2xvciksIHRoaXMuY29sb3IpLCBDU3dpdGNodnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2Mtc3dpdGNoLWxhYmVsJywgdGhpcy5sYWJlbE9uIHx8IHRoaXMubGFiZWxPZmYpLCBfcmVmKV07CiAgICAgICAgfQogICAgICB9LAogICAgICBtZXRob2RzOiB7CiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKGUpIHsKICAgICAgICAgIHRoaXMuc3RhdGUgPSBlLnRhcmdldC5jaGVja2VkOwogICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmNoZWNrZWQnLCBlLnRhcmdldC5jaGVja2VkLCBlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvc3dpdGNoL0NTd2l0Y2gudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgc3dpdGNoX0NTd2l0Y2h2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDU3dpdGNodnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3N3aXRjaC9DU3dpdGNoLnZ1ZQoKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ1N3aXRjaF9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHN3aXRjaF9DU3dpdGNodnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDU3dpdGNodnVlX3R5cGVfdGVtcGxhdGVfaWRfYjM2MTVkYTBfcmVuZGVyLCBDU3dpdGNodnVlX3R5cGVfdGVtcGxhdGVfaWRfYjM2MTVkYTBfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENTd2l0Y2ggPSBDU3dpdGNoX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3N3aXRjaC9pbmRleC5qcwogICAgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzP3siY2FjaGVEaXJlY3RvcnkiOiJub2RlX21vZHVsZXMvLmNhY2hlL3Z1ZS1sb2FkZXIiLCJjYWNoZUlkZW50aWZpZXIiOiI0ODc1MDdiOS12dWUtbG9hZGVyLXRlbXBsYXRlIn0hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy90ZW1wbGF0ZUxvYWRlci5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3RhYmxlL0NEYXRhVGFibGUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTJlNmJlODc4JnNjb3BlZD10cnVlJgoKICAgIHZhciBDRGF0YVRhYmxldnVlX3R5cGVfdGVtcGxhdGVfaWRfMmU2YmU4Nzhfc2NvcGVkX3RydWVfcmVuZGVyID0gZnVuY3Rpb24gQ0RhdGFUYWJsZXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzJlNmJlODc4X3Njb3BlZF90cnVlX3JlbmRlcigpIHsKICAgICAgdmFyIF92bSA9IHRoaXM7CgogICAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogICAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogICAgICByZXR1cm4gX2MoJ2RpdicsIFtfdm0uaXRlbXNQZXJQYWdlU2VsZWN0IHx8IF92bS5oYXZlRmlsdGVyT3B0aW9uID8gX2MoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogInJvdyBteS0yIG14LTAiCiAgICAgIH0sIFtfdm0uaGF2ZUZpbHRlck9wdGlvbiA/IF9jKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJjb2wtc20tNiBmb3JtLWlubGluZSBwLTAiCiAgICAgIH0sIFtfdm0udGFibGVGaWx0ZXIgPyBbX2MoJ2xhYmVsJywgewogICAgICAgIHN0YXRpY0NsYXNzOiAibXItMiIKICAgICAgfSwgW192bS5fdihfdm0uX3MoX3ZtLnRhYmxlRmlsdGVyRGF0YS5sYWJlbCkpXSksIF9jKCdpbnB1dCcsIHsKICAgICAgICBzdGF0aWNDbGFzczogImZvcm0tY29udHJvbCIsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJ0eXBlIjogInRleHQiLAogICAgICAgICAgInBsYWNlaG9sZGVyIjogX3ZtLnRhYmxlRmlsdGVyRGF0YS5wbGFjZWhvbGRlciwKICAgICAgICAgICJhcmlhLWxhYmVsIjogInRhYmxlIGZpbHRlciBpbnB1dCIKICAgICAgICB9LAogICAgICAgIGRvbVByb3BzOiB7CiAgICAgICAgICAidmFsdWUiOiBfdm0udGFibGVGaWx0ZXJTdGF0ZQogICAgICAgIH0sCiAgICAgICAgb246IHsKICAgICAgICAgICJpbnB1dCI6IGZ1bmN0aW9uIGlucHV0KCRldmVudCkgewogICAgICAgICAgICByZXR1cm4gX3ZtLnRhYmxlRmlsdGVyQ2hhbmdlKCRldmVudC50YXJnZXQudmFsdWUsICdpbnB1dCcpOwogICAgICAgICAgfSwKICAgICAgICAgICJjaGFuZ2UiOiBmdW5jdGlvbiBjaGFuZ2UoJGV2ZW50KSB7CiAgICAgICAgICAgIHJldHVybiBfdm0udGFibGVGaWx0ZXJDaGFuZ2UoJGV2ZW50LnRhcmdldC52YWx1ZSwgJ2NoYW5nZScpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSldIDogX3ZtLl9lKCksIF92bS5fdCgiY2xlYW5lciIsIFtfdm0uY2xlYW5lciA/IFtfdm0uY2xlYW5lciA/IF9jKCdDSWNvbicsIF92bS5fYih7CiAgICAgICAgbmF0aXZlT246IHsKICAgICAgICAgICJjbGljayI6IGZ1bmN0aW9uIGNsaWNrKCRldmVudCkgewogICAgICAgICAgICByZXR1cm4gX3ZtLmNsZWFuKCRldmVudCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCAnQ0ljb24nLCBfdm0uY2xlYW5lclByb3BzLCBmYWxzZSkpIDogX3ZtLl9lKCldIDogX3ZtLl9lKCldLCB7CiAgICAgICAgImNsZWFuIjogX3ZtLmNsZWFuLAogICAgICAgICJpc0ZpbHRlcmVkIjogX3ZtLmlzRmlsdGVyZWQKICAgICAgfSldLCAyKSA6IF92bS5fZSgpLCBfdm0uaXRlbXNQZXJQYWdlU2VsZWN0ID8gX2MoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogImNvbC1zbS02IHAtMCIsCiAgICAgICAgY2xhc3M6IHsKICAgICAgICAgICdvZmZzZXQtc20tNic6ICFfdm0uaGF2ZUZpbHRlck9wdGlvbgogICAgICAgIH0KICAgICAgfSwgW19jKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJmb3JtLWlubGluZSBqdXN0aWZ5LWNvbnRlbnQtc20tZW5kIgogICAgICB9LCBbX2MoJ2xhYmVsJywgewogICAgICAgIHN0YXRpY0NsYXNzOiAibXItMiIKICAgICAgfSwgW192bS5fdihfdm0uX3MoX3ZtLnBhZ2luYXRpb25TZWxlY3QubGFiZWwpKV0pLCBfYygnc2VsZWN0JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiZm9ybS1jb250cm9sIiwKICAgICAgICBhdHRyczogewogICAgICAgICAgImFyaWEtbGFiZWwiOiAidmlzaWJsZSBpdGVtcyBhbW91bnQgY2hhbmdlIgogICAgICAgIH0sCiAgICAgICAgb246IHsKICAgICAgICAgICJjaGFuZ2UiOiBfdm0ucGFnaW5hdGlvbkNoYW5nZQogICAgICAgIH0KICAgICAgfSwgW19jKCdvcHRpb24nLCB7CiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJ2YWx1ZSI6ICIiLAogICAgICAgICAgInNlbGVjdGVkIjogIiIsCiAgICAgICAgICAiZGlzYWJsZWQiOiAiIiwKICAgICAgICAgICJoaWRkZW4iOiAiIgogICAgICAgIH0KICAgICAgfSwgW192bS5fdigiICIgKyBfdm0uX3MoX3ZtLnBlclBhZ2VJdGVtcykgKyAiICIpXSksIF92bS5fbChfdm0ucGFnaW5hdGlvblNlbGVjdC52YWx1ZXMsIGZ1bmN0aW9uIChudW1iZXIsIGtleSkgewogICAgICAgIHJldHVybiBfYygnb3B0aW9uJywgewogICAgICAgICAga2V5OiBrZXksCiAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAidmFsIjogbnVtYmVyCiAgICAgICAgICB9CiAgICAgICAgfSwgW192bS5fdigiICIgKyBfdm0uX3MobnVtYmVyKSArICIgIildKTsKICAgICAgfSldLCAyKV0pXSkgOiBfdm0uX2UoKV0pIDogX3ZtLl9lKCksIF92bS5fdCgib3Zlci10YWJsZSIpLCBfYygnZGl2JywgewogICAgICAgIGNsYXNzOiAicG9zaXRpb24tcmVsYXRpdmUgIiArIChfdm0ucmVzcG9uc2l2ZSA/ICd0YWJsZS1yZXNwb25zaXZlJyA6ICcnKQogICAgICB9LCBbX2MoJ3RhYmxlJywgewogICAgICAgIGNsYXNzOiBfdm0udGFibGVDbGFzc2VzCiAgICAgIH0sIFtfYygndGhlYWQnLCBbX3ZtLl90KCJ0aGVhZC10b3AiKSwgX3ZtLmhlYWRlciA/IF9jKCd0cicsIFtfdm0uX2woX3ZtLmNvbHVtbk5hbWVzLCBmdW5jdGlvbiAobmFtZSwgaW5kZXgpIHsKICAgICAgICByZXR1cm4gW19jKCd0aCcsIHsKICAgICAgICAgIGtleTogaW5kZXgsCiAgICAgICAgICBjbGFzczogW192bS5oZWFkZXJDbGFzcyhpbmRleCksIF92bS5zb3J0aW5nSWNvblN0eWxlc10sCiAgICAgICAgICBzdHlsZTogX3ZtLmhlYWRlclN0eWxlcyhpbmRleCksCiAgICAgICAgICBvbjogewogICAgICAgICAgICAiY2xpY2siOiBmdW5jdGlvbiBjbGljaygkZXZlbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX3ZtLmNoYW5nZVNvcnQoX3ZtLnJhd0NvbHVtbk5hbWVzW2luZGV4XSwgaW5kZXgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgW192bS5fdChfdm0ucmF3Q29sdW1uTmFtZXNbaW5kZXhdICsgIi1oZWFkZXIiLCBbX2MoJ2RpdicsIFtfdm0uX3YoX3ZtLl9zKG5hbWUpKV0pXSksIF92bS5pc1NvcnRhYmxlKGluZGV4KSA/IF92bS5fdCgic29ydGluZy1pY29uIiwgW19jKCdDSWNvbicsIHsKICAgICAgICAgIGNsYXNzOiBfdm0uaWNvbkNsYXNzZXMoaW5kZXgpLAogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgIndpZHRoIjogIjE4IiwKICAgICAgICAgICAgImNvbnRlbnQiOiBfdm0uJG9wdGlvbnMuaWNvbnMuY2lsQXJyb3dUb3AsCiAgICAgICAgICAgICJhcmlhLWxhYmVsIjogImNoYW5nZSBjb2x1bW46ICciICsgbmFtZSArICInIHNvcnRpbmciCiAgICAgICAgICB9CiAgICAgICAgfSldLCB7CiAgICAgICAgICAic3RhdGUiOiBfdm0uZ2V0SWNvblN0YXRlKGluZGV4KSwKICAgICAgICAgICJjbGFzc2VzIjogX3ZtLmljb25DbGFzc2VzKGluZGV4KQogICAgICAgIH0pIDogX3ZtLl9lKCldLCAyKV07CiAgICAgIH0pXSwgMikgOiBfdm0uX2UoKSwgX3ZtLmNvbHVtbkZpbHRlciA/IF9jKCd0cicsIHsKICAgICAgICBzdGF0aWNDbGFzczogInRhYmxlLXNtIgogICAgICB9LCBbX3ZtLl9sKF92bS5yYXdDb2x1bW5OYW1lcywgZnVuY3Rpb24gKGNvbE5hbWUsIGluZGV4KSB7CiAgICAgICAgcmV0dXJuIFtfYygndGgnLCB7CiAgICAgICAgICBrZXk6IGluZGV4LAogICAgICAgICAgY2xhc3M6IF92bS5oZWFkZXJDbGFzcyhpbmRleCkKICAgICAgICB9LCBbX3ZtLl90KF92bS5yYXdDb2x1bW5OYW1lc1tpbmRleF0gKyAiLWZpbHRlciIsIFtfdm0uaXRlbXNEYXRhQ29sdW1ucy5pbmNsdWRlcyhjb2xOYW1lKSAmJiAoIV92bS5maWVsZHMgfHwgX3ZtLmZpZWxkc1tpbmRleF0uZmlsdGVyICE9PSBmYWxzZSkgPyBfYygnaW5wdXQnLCB7CiAgICAgICAgICBzdGF0aWNDbGFzczogImZvcm0tY29udHJvbCBmb3JtLWNvbnRyb2wtc20iLAogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgImFyaWEtbGFiZWwiOiAiY29sdW1uIG5hbWU6ICciICsgY29sTmFtZSArICInIGZpbHRlciBpbnB1dCIKICAgICAgICAgIH0sCiAgICAgICAgICBkb21Qcm9wczogewogICAgICAgICAgICAidmFsdWUiOiBfdm0uY29sdW1uRmlsdGVyU3RhdGVbY29sTmFtZV0KICAgICAgICAgIH0sCiAgICAgICAgICBvbjogewogICAgICAgICAgICAiaW5wdXQiOiBmdW5jdGlvbiBpbnB1dCgkZXZlbnQpIHsKICAgICAgICAgICAgICByZXR1cm4gX3ZtLmNvbHVtbkZpbHRlckV2ZW50KGNvbE5hbWUsICRldmVudC50YXJnZXQudmFsdWUsICdpbnB1dCcpOwogICAgICAgICAgICB9LAogICAgICAgICAgICAiY2hhbmdlIjogZnVuY3Rpb24gY2hhbmdlKCRldmVudCkgewogICAgICAgICAgICAgIHJldHVybiBfdm0uY29sdW1uRmlsdGVyRXZlbnQoY29sTmFtZSwgJGV2ZW50LnRhcmdldC52YWx1ZSwgJ2NoYW5nZScpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkgOiBfdm0uX2UoKV0pXSwgMildOwogICAgICB9KV0sIDIpIDogX3ZtLl9lKCldLCAyKSwgX2MoJ3Rib2R5JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAicG9zaXRpb24tcmVsYXRpdmUiLAogICAgICAgIHN0eWxlOiBfdm0uY2xpY2thYmxlUm93cyA/ICdjdXJzb3I6cG9pbnRlcjsnIDogbnVsbAogICAgICB9LCBbX3ZtLl9sKF92bS5jdXJyZW50SXRlbXMsIGZ1bmN0aW9uIChpdGVtLCBpdGVtSW5kZXgpIHsKICAgICAgICByZXR1cm4gW19jKCd0cicsIHsKICAgICAgICAgIGtleTogaXRlbUluZGV4LAogICAgICAgICAgY2xhc3M6IGl0ZW0uX2NsYXNzZXMsCiAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAidGFiaW5kZXgiOiBfdm0uY2xpY2thYmxlUm93cyA/IDAgOiBudWxsCiAgICAgICAgICB9LAogICAgICAgICAgb246IHsKICAgICAgICAgICAgImNsaWNrIjogZnVuY3Rpb24gY2xpY2soJGV2ZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF92bS5yb3dDbGlja2VkKGl0ZW0sIGl0ZW1JbmRleCArIF92bS5maXJzdEl0ZW1JbmRleCwgJGV2ZW50KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIFtfdm0uX2woX3ZtLnJhd0NvbHVtbk5hbWVzLCBmdW5jdGlvbiAoY29sTmFtZSwgaW5kZXgpIHsKICAgICAgICAgIHJldHVybiBbX3ZtLiRzY29wZWRTbG90c1tjb2xOYW1lXSA/IF92bS5fdChjb2xOYW1lLCBudWxsLCB7CiAgICAgICAgICAgICJpdGVtIjogaXRlbSwKICAgICAgICAgICAgImluZGV4IjogaXRlbUluZGV4ICsgX3ZtLmZpcnN0SXRlbUluZGV4CiAgICAgICAgICB9KSA6IF9jKCd0ZCcsIHsKICAgICAgICAgICAga2V5OiBpbmRleCwKICAgICAgICAgICAgY2xhc3M6IF92bS5jZWxsQ2xhc3MoaXRlbSwgY29sTmFtZSwgaW5kZXgpCiAgICAgICAgICB9LCBbX3ZtLl92KCIgIiArIF92bS5fcyhTdHJpbmcoaXRlbVtjb2xOYW1lXSkpICsgIiAiKV0pXTsKICAgICAgICB9KV0sIDIpLCBfdm0uJHNjb3BlZFNsb3RzLmRldGFpbHMgPyBfYygndHInLCB7CiAgICAgICAgICBrZXk6ICdkZXRhaWxzJyArIGl0ZW1JbmRleCwKICAgICAgICAgIHN0YXRpY0NsYXNzOiAicC0wIiwKICAgICAgICAgIHN0YXRpY1N0eWxlOiB7CiAgICAgICAgICAgICJib3JkZXIiOiAibm9uZSAhaW1wb3J0YW50IgogICAgICAgICAgfSwKICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgICJjbGljayI6IGZ1bmN0aW9uIGNsaWNrKCRldmVudCkgewogICAgICAgICAgICAgIHJldHVybiBfdm0ucm93Q2xpY2tlZChpdGVtLCBpdGVtSW5kZXggKyBfdm0uZmlyc3RJdGVtSW5kZXgsICRldmVudCwgdHJ1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBbX2MoJ3RkJywgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICJwLTAiLAogICAgICAgICAgc3RhdGljU3R5bGU6IHsKICAgICAgICAgICAgImJvcmRlciI6ICJub25lICFpbXBvcnRhbnQiCiAgICAgICAgICB9LAogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgImNvbHNwYW4iOiBfdm0uY29sc3BhbgogICAgICAgICAgfQogICAgICAgIH0sIFtfdm0uX3QoImRldGFpbHMiLCBudWxsLCB7CiAgICAgICAgICAiaXRlbSI6IGl0ZW0sCiAgICAgICAgICAiaW5kZXgiOiBpdGVtSW5kZXggKyBfdm0uZmlyc3RJdGVtSW5kZXgKICAgICAgICB9KV0sIDIpXSkgOiBfdm0uX2UoKV07CiAgICAgIH0pLCAhX3ZtLmN1cnJlbnRJdGVtcy5sZW5ndGggPyBfYygndHInLCBbX2MoJ3RkJywgewogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAiY29sc3BhbiI6IF92bS5jb2xzcGFuCiAgICAgICAgfQogICAgICB9LCBbX3ZtLl90KCJuby1pdGVtcy12aWV3IiwgW19jKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJ0ZXh0LWNlbnRlciBteS01IgogICAgICB9LCBbX2MoJ2gyJywgW192bS5fdigiICIgKyBfdm0uX3MoX3ZtLm5vSXRlbXNUZXh0KSArICIgIiksIF9jKCdDSWNvbicsIHsKICAgICAgICBzdGF0aWNDbGFzczogInRleHQtZGFuZ2VyIG1iLTIiLAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAid2lkdGgiOiAiMzAiLAogICAgICAgICAgImNvbnRlbnQiOiBfdm0uJG9wdGlvbnMuaWNvbnMuY2lsQmFuCiAgICAgICAgfQogICAgICB9KV0sIDEpXSldKV0sIDIpXSkgOiBfdm0uX2UoKV0sIDIpLCBfdm0uZm9vdGVyICYmIF92bS5jdXJyZW50SXRlbXMubGVuZ3RoID4gMCA/IF9jKCd0Zm9vdCcsIFtfYygndHInLCBbX3ZtLl9sKF92bS5jb2x1bW5OYW1lcywgZnVuY3Rpb24gKG5hbWUsIGluZGV4KSB7CiAgICAgICAgcmV0dXJuIFtfYygndGgnLCB7CiAgICAgICAgICBrZXk6IGluZGV4LAogICAgICAgICAgY2xhc3M6IFtfdm0uaGVhZGVyQ2xhc3MoaW5kZXgpLCBfdm0uc29ydGluZ0ljb25TdHlsZXNdLAogICAgICAgICAgc3R5bGU6IF92bS5oZWFkZXJTdHlsZXMoaW5kZXgpLAogICAgICAgICAgb246IHsKICAgICAgICAgICAgImNsaWNrIjogZnVuY3Rpb24gY2xpY2soJGV2ZW50KSB7CiAgICAgICAgICAgICAgcmV0dXJuIF92bS5jaGFuZ2VTb3J0KF92bS5yYXdDb2x1bW5OYW1lc1tpbmRleF0sIGluZGV4KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIFtfdm0uX3QoX3ZtLnJhd0NvbHVtbk5hbWVzW2luZGV4XSArICItaGVhZGVyIiwgW19jKCdkaXYnLCBbX3ZtLl92KF92bS5fcyhuYW1lKSldKV0pLCBfdm0uaXNTb3J0YWJsZShpbmRleCkgPyBfdm0uX3QoInNvcnRpbmctaWNvbiIsIFtfYygnQ0ljb24nLCB7CiAgICAgICAgICBjbGFzczogX3ZtLmljb25DbGFzc2VzKGluZGV4KSwKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICJ3aWR0aCI6ICIxOCIsCiAgICAgICAgICAgICJjb250ZW50IjogX3ZtLiRvcHRpb25zLmljb25zLmNpbEFycm93VG9wCiAgICAgICAgICB9CiAgICAgICAgfSldLCB7CiAgICAgICAgICAic3RhdGUiOiBfdm0uZ2V0SWNvblN0YXRlKGluZGV4KQogICAgICAgIH0pIDogX3ZtLl9lKCldLCAyKV07CiAgICAgIH0pXSwgMildKSA6IF92bS5fZSgpLCBfdm0uX3QoImZvb3RlciIsIG51bGwsIHsKICAgICAgICAiaXRlbXNBbW91bnQiOiBfdm0uY3VycmVudEl0ZW1zLmxlbmd0aAogICAgICB9KSwgX3ZtLl90KCJjYXB0aW9uIildLCAyKSwgX3ZtLmxvYWRpbmcgPyBfdm0uX3QoImxvYWRpbmciLCBbX2MoJ0NFbGVtZW50Q292ZXInLCB7CiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJib3VuZGFyaWVzIjogW3sKICAgICAgICAgICAgc2lkZXM6IFsndG9wJ10sCiAgICAgICAgICAgIHF1ZXJ5OiAndGQnCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHNpZGVzOiBbJ2JvdHRvbSddLAogICAgICAgICAgICBxdWVyeTogJ3Rib2R5JwogICAgICAgICAgfV0KICAgICAgICB9CiAgICAgIH0pXSkgOiBfdm0uX2UoKV0sIDIpLCBfdm0uX3QoInVuZGVyLXRhYmxlIiksIF92bS5wYWdpbmF0aW9uID8gX2MoJ0NQYWdpbmF0aW9uJywgX3ZtLl9iKHsKICAgICAgICBkaXJlY3RpdmVzOiBbewogICAgICAgICAgbmFtZTogInNob3ciLAogICAgICAgICAgcmF3TmFtZTogInYtc2hvdyIsCiAgICAgICAgICB2YWx1ZTogX3ZtLnRvdGFsUGFnZXMgPiAxLAogICAgICAgICAgZXhwcmVzc2lvbjogInRvdGFsUGFnZXMgPiAxIgogICAgICAgIH1dLAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAiYWN0aXZlUGFnZSI6IF92bS5wYWdlLAogICAgICAgICAgInBhZ2VzIjogX3ZtLnRvdGFsUGFnZXMKICAgICAgICB9LAogICAgICAgIG9uOiB7CiAgICAgICAgICAidXBkYXRlOmFjdGl2ZVBhZ2UiOiBmdW5jdGlvbiB1cGRhdGVBY3RpdmVQYWdlKCRldmVudCkgewogICAgICAgICAgICBfdm0ucGFnZSA9ICRldmVudDsKICAgICAgICAgIH0sCiAgICAgICAgICAidXBkYXRlOmFjdGl2ZS1wYWdlIjogZnVuY3Rpb24gdXBkYXRlQWN0aXZlUGFnZSgkZXZlbnQpIHsKICAgICAgICAgICAgX3ZtLnBhZ2UgPSAkZXZlbnQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCAnQ1BhZ2luYXRpb24nLCBfdHlwZW9mMihfdm0ucGFnaW5hdGlvbikgPT09ICdvYmplY3QnID8gX3ZtLnBhZ2luYXRpb24gOiBudWxsLCBmYWxzZSkpIDogX3ZtLl9lKCldLCAyKTsKICAgIH07CgogICAgdmFyIENEYXRhVGFibGV2dWVfdHlwZV90ZW1wbGF0ZV9pZF8yZTZiZTg3OF9zY29wZWRfdHJ1ZV9zdGF0aWNSZW5kZXJGbnMgPSBbXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90YWJsZS9DRGF0YVRhYmxlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0yZTZiZTg3OCZzY29wZWQ9dHJ1ZSYKICAgIC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvQGNvcmV1aS9pY29ucy12dWUvc3JjL0NJY29uUmF3LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD1hMjUzMzY1ZSYKCiAgICB2YXIgQ0ljb25SYXd2dWVfdHlwZV90ZW1wbGF0ZV9pZF9hMjUzMzY1ZV9yZW5kZXIgPSBmdW5jdGlvbiBDSWNvblJhd3Z1ZV90eXBlX3RlbXBsYXRlX2lkX2EyNTMzNjVlX3JlbmRlcigpIHsKICAgICAgdmFyIF92bSA9IHRoaXM7CgogICAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogICAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogICAgICByZXR1cm4gIV92bS5zcmMgJiYgIV92bS51c2UgPyBfYygnc3ZnJywgewogICAgICAgIGNsYXNzOiBfdm0uY29tcHV0ZWRDbGFzc2VzLAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAieG1sbnMiOiAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLAogICAgICAgICAgInZpZXdCb3giOiBfdm0udmlld0JveCwKICAgICAgICAgICJyb2xlIjogImltZyIKICAgICAgICB9LAogICAgICAgIGRvbVByb3BzOiB7CiAgICAgICAgICAiaW5uZXJIVE1MIjogX3ZtLl9zKF92bS50aXRsZUNvZGUgKyBfdm0uaWNvbkNvZGUpCiAgICAgICAgfQogICAgICB9KSA6IF92bS5zcmMgPyBfYygnaW1nJywgewogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAic3JjIjogX3ZtLnNyYywKICAgICAgICAgICJyb2xlIjogImltZyIKICAgICAgICB9CiAgICAgIH0pIDogX3ZtLnVzZSA/IF9jKCdzdmcnLCB7CiAgICAgICAgY2xhc3M6IF92bS5jb21wdXRlZENsYXNzZXMsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJ4bWxucyI6ICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsCiAgICAgICAgICAicm9sZSI6ICJpbWciCiAgICAgICAgfQogICAgICB9LCBbX2MoJ3VzZScsIHsKICAgICAgICBhdHRyczogewogICAgICAgICAgImhyZWYiOiBfdm0udXNlCiAgICAgICAgfQogICAgICB9KV0pIDogX3ZtLl9lKCk7CiAgICB9OwoKICAgIHZhciBDSWNvblJhd3Z1ZV90eXBlX3RlbXBsYXRlX2lkX2EyNTMzNjVlX3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBFWFRFUk5BTCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvQGNvcmV1aS9pY29ucy12dWUvc3JjL0NJY29uUmF3LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICB2YXIgQ0ljb25SYXd2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKCIzM2M4Iik7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bjb3JldWkvaWNvbnMtdnVlL3NyYy9DSWNvblJhdy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICB2YXIgc3JjX0NJY29uUmF3dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0ljb25SYXd2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19bImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AY29yZXVpL2ljb25zLXZ1ZS9zcmMvQ0ljb25SYXcudnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDSWNvblJhd19jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHNyY19DSWNvblJhd3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0ljb25SYXd2dWVfdHlwZV90ZW1wbGF0ZV9pZF9hMjUzMzY1ZV9yZW5kZXIsIENJY29uUmF3dnVlX3R5cGVfdGVtcGxhdGVfaWRfYTI1MzM2NWVfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENJY29uUmF3ID0gQ0ljb25SYXdfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL0Bjb3JldWkvaWNvbnMvanMvZnJlZS9jaWwtYXJyb3ctdG9wLmpzCgogICAgdmFyIGNpbEFycm93VG9wID0gWyI1MTIgNTEyIiwgIjxwb2x5Z29uIGZpbGw9J3ZhcigtLWNpLXByaW1hcnktY29sb3IsIGN1cnJlbnRDb2xvciknIHBvaW50cz0nMzkwLjYyNCAxNTAuNjI1IDI1NiAxNiAxMjEuMzc2IDE1MC42MjUgMTQ0LjAwNCAxNzMuMjUyIDI0MC4wMDEgNzcuMjU0IDI0MC4wMDEgNDk1LjIzNiAyNzIuMDAxIDQ5NS4yMzYgMjcyLjAwMSA3Ny4yNTcgMzY3Ljk5NiAxNzMuMjUyIDM5MC42MjQgMTUwLjYyNScgY2xhc3M9J2NpLXByaW1hcnknLz4iXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQGNvcmV1aS9pY29ucy9qcy9mcmVlL2NpbC1iYW4uanMKCiAgICB2YXIgY2lsQmFuID0gWyI1MTIgNTEyIiwgIjxwYXRoIGZpbGw9J3ZhcigtLWNpLXByaW1hcnktY29sb3IsIGN1cnJlbnRDb2xvciknIGQ9J000MjUuNzA2LDg2LjI5NEEyNDAsMjQwLDAsMCwwLDg2LjI5NCw0MjUuNzA1LDI0MCwyNDAsMCwwLDAsNDI1LjcwNiw4Ni4yOTRaTTI1Niw0OEEyMDcuMSwyMDcuMSwwLDAsMSwzOTEuNTI4LDk4LjM0NUw5OC4zNDUsMzkxLjUyOEEyMDcuMSwyMDcuMSwwLDAsMSw0OCwyNTZDNDgsMTQxLjMwOSwxNDEuMzA5LDQ4LDI1Niw0OFptMCw0MTZhMjA3LjA4NCwyMDcuMDg0LDAsMCwxLTEzNC45ODYtNDkuODg3bDI5My4xLTI5My4xQTIwNy4wODQsMjA3LjA4NCwwLDAsMSw0NjQsMjU2QzQ2NCwzNzAuNjkxLDM3MC42OTEsNDY0LDI1Niw0NjRaJyBjbGFzcz0nY2ktcHJpbWFyeScvPiJdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9AY29yZXVpL2ljb25zL2pzL2ZyZWUvY2lsLWZpbHRlci14LmpzCgogICAgdmFyIGNpbEZpbHRlclggPSBbIjUxMiA1MTIiLCAiPHBvbHlnb24gZmlsbD0ndmFyKC0tY2ktcHJpbWFyeS1jb2xvciwgY3VycmVudENvbG9yKScgcG9pbnRzPSc0MCAxNiA0MCA1My44MjggMTA5LjAyNCAxMzYgMTUwLjgxNSAxMzYgNzYuODk2IDQ4IDQ1OS41MSA0OCAzMDQgMjQyLjM4OCAzMDQgNDAxLjM3MyAyNDEuMzczIDQ2NCAyNDAgNDY0IDI0MCAzNjggMjA4IDM2OCAyMDggNDk2IDI1NC42MjcgNDk2IDMzNiA0MTQuNjI3IDMzNiAyNTMuNjEyIDQ5NiA1My42MTIgNDk2IDE2IDQwIDE2JyBjbGFzcz0nY2ktcHJpbWFyeScvPjxwb2x5Z29uIGZpbGw9J3ZhcigtLWNpLXByaW1hcnktY29sb3IsIGN1cnJlbnRDb2xvciknIHBvaW50cz0nMTY2LjQwMyAyNDguMjI1IDIyNi44NjQgMTg3Ljc2MyAyMDQuMjM3IDE2NS4xMzUgMTQzLjc3NSAyMjUuNTk3IDgzLjMxMyAxNjUuMTM1IDYwLjY4NyAxODcuNzYzIDEyMS4xNDggMjQ4LjIyNSA2MC42ODcgMzA4LjY4NyA4My4zMTMgMzMxLjMxNCAxNDMuNzc1IDI3MC44NTIgMjA0LjIzNyAzMzEuMzE0IDIyNi44NjQgMzA4LjY4NyAxNjYuNDAzIDI0OC4yMjUnIGNsYXNzPSdjaS1wcmltYXJ5Jy8+Il07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy90YWJsZS9DRGF0YVRhYmxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICBmdW5jdGlvbiBDRGF0YVRhYmxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgICAgIGlmIChrZXkgaW4gb2JqKSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgICAgd3JpdGFibGU6IHRydWUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpba2V5XSA9IHZhbHVlOwogICAgICB9CgogICAgICByZXR1cm4gb2JqOwogICAgfQoKICAgIGZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgewogICAgICByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgQ0RhdGFUYWJsZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOwogICAgfQoKICAgIGZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7CiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIik7CiAgICB9CgogICAgZnVuY3Rpb24gQ0RhdGFUYWJsZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgewogICAgICBpZiAoIW8pIHJldHVybjsKICAgICAgaWYgKHR5cGVvZiBvID09PSAic3RyaW5nIikgcmV0dXJuIENEYXRhVGFibGV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7CiAgICAgIHZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKTsKICAgICAgaWYgKG4gPT09ICJPYmplY3QiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7CiAgICAgIGlmIChuID09PSAiTWFwIiB8fCBuID09PSAiU2V0IikgcmV0dXJuIEFycmF5LmZyb20obyk7CiAgICAgIGlmIChuID09PSAiQXJndW1lbnRzIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIENEYXRhVGFibGV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7CiAgICB9CgogICAgZnVuY3Rpb24gQ0RhdGFUYWJsZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsKICAgICAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7CgogICAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICBhcnIyW2ldID0gYXJyW2ldOwogICAgICB9CgogICAgICByZXR1cm4gYXJyMjsKICAgIH0KCiAgICBmdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7CiAgICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAidW5kZWZpbmVkIiB8fCAhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkpIHJldHVybjsKICAgICAgdmFyIF9hcnIgPSBbXTsKICAgICAgdmFyIF9uID0gdHJ1ZTsKICAgICAgdmFyIF9kID0gZmFsc2U7CiAgICAgIHZhciBfZSA9IHVuZGVmaW5lZDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgewogICAgICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTsKCiAgICAgICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfZCA9IHRydWU7CiAgICAgICAgX2UgPSBlcnI7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmICghX24gJiYgX2lbInJldHVybiJdICE9IG51bGwpIF9pWyJyZXR1cm4iXSgpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBpZiAoX2QpIHRocm93IF9lOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIF9hcnI7CiAgICB9CgogICAgZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgewogICAgICBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOwogICAgfSAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIENEYXRhVGFibGV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDRGF0YVRhYmxlJywKICAgICAgaWNvbnM6IHsKICAgICAgICBjaWxBcnJvd1RvcDogY2lsQXJyb3dUb3AsCiAgICAgICAgY2lsQmFuOiBjaWxCYW4sCiAgICAgICAgY2lsRmlsdGVyWDogY2lsRmlsdGVyWAogICAgICB9LAogICAgICBjb21wb25lbnRzOiB7CiAgICAgICAgQ1BhZ2luYXRpb246IENQYWdpbmF0aW9uLAogICAgICAgIENFbGVtZW50Q292ZXI6IENFbGVtZW50Q292ZXIsCiAgICAgICAgQ0ljb246IENJY29uUmF3CiAgICAgIH0sCiAgICAgIHByb3BzOiB7CiAgICAgICAgaXRlbXM6IEFycmF5LAogICAgICAgIGZpZWxkczogQXJyYXksCiAgICAgICAgaXRlbXNQZXJQYWdlOiB7CiAgICAgICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICAgICBkZWZhdWx0OiAxMAogICAgICAgIH0sCiAgICAgICAgYWN0aXZlUGFnZTogTnVtYmVyLAogICAgICAgIHBhZ2luYXRpb246IFtCb29sZWFuLCBPYmplY3RdLAogICAgICAgIGFkZFRhYmxlQ2xhc3NlczogW1N0cmluZywgQXJyYXksIE9iamVjdF0sCiAgICAgICAgcmVzcG9uc2l2ZTogewogICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB9LAogICAgICAgIHNpemU6IFN0cmluZywKICAgICAgICBkYXJrOiBCb29sZWFuLAogICAgICAgIHN0cmlwZWQ6IEJvb2xlYW4sCiAgICAgICAgZml4ZWQ6IEJvb2xlYW4sCiAgICAgICAgaG92ZXI6IEJvb2xlYW4sCiAgICAgICAgYm9yZGVyOiBCb29sZWFuLAogICAgICAgIG91dGxpbmVkOiBCb29sZWFuLAogICAgICAgIGl0ZW1zUGVyUGFnZVNlbGVjdDogW0Jvb2xlYW4sIE9iamVjdF0sCiAgICAgICAgc29ydGVyOiBbQm9vbGVhbiwgT2JqZWN0XSwKICAgICAgICB0YWJsZUZpbHRlcjogW0Jvb2xlYW4sIE9iamVjdF0sCiAgICAgICAgY29sdW1uRmlsdGVyOiBbQm9vbGVhbiwgT2JqZWN0XSwKICAgICAgICBzb3J0ZXJWYWx1ZTogewogICAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgICAgIHJldHVybiB7fTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHRhYmxlRmlsdGVyVmFsdWU6IFN0cmluZywKICAgICAgICBjb2x1bW5GaWx0ZXJWYWx1ZTogT2JqZWN0LAogICAgICAgIGhlYWRlcjogewogICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB9LAogICAgICAgIGZvb3RlcjogQm9vbGVhbiwKICAgICAgICBsb2FkaW5nOiBCb29sZWFuLAogICAgICAgIGNsaWNrYWJsZVJvd3M6IEJvb2xlYW4sCiAgICAgICAgbm9JdGVtc1ZpZXc6IE9iamVjdCwKICAgICAgICBjbGVhbmVyOiBCb29sZWFuCiAgICAgIH0sCiAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHRhYmxlRmlsdGVyU3RhdGU6IHRoaXMudGFibGVGaWx0ZXJWYWx1ZSwKICAgICAgICAgIGNvbHVtbkZpbHRlclN0YXRlOiB7fSwKICAgICAgICAgIHNvcnRlclN0YXRlOiB7CiAgICAgICAgICAgIGNvbHVtbjogbnVsbCwKICAgICAgICAgICAgYXNjOiB0cnVlCiAgICAgICAgICB9LAogICAgICAgICAgcGFnZTogdGhpcy5hY3RpdmVQYWdlIHx8IDEsCiAgICAgICAgICBwZXJQYWdlSXRlbXM6IHRoaXMuaXRlbXNQZXJQYWdlLAogICAgICAgICAgcGFzc2VkSXRlbXM6IHRoaXMuaXRlbXMgfHwgW10KICAgICAgICB9OwogICAgICB9LAogICAgICB3YXRjaDogewogICAgICAgIGl0ZW1zUGVyUGFnZTogZnVuY3Rpb24gaXRlbXNQZXJQYWdlKHZhbCkgewogICAgICAgICAgdGhpcy5wZXJQYWdlSXRlbXMgPSB2YWw7CiAgICAgICAgfSwKICAgICAgICBzb3J0ZXJWYWx1ZTogewogICAgICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICAgICAgdmFyIGFzYyA9IHZhbC5hc2MgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlOwogICAgICAgICAgICB0aGlzLnNvcnRlclN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgewogICAgICAgICAgICAgIGFzYzogYXNjLAogICAgICAgICAgICAgIGNvbHVtbjogdmFsLmNvbHVtbgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHRhYmxlRmlsdGVyVmFsdWU6IGZ1bmN0aW9uIHRhYmxlRmlsdGVyVmFsdWUodmFsKSB7CiAgICAgICAgICB0aGlzLnRhYmxlRmlsdGVyU3RhdGUgPSB2YWw7CiAgICAgICAgfSwKICAgICAgICBjb2x1bW5GaWx0ZXJWYWx1ZTogewogICAgICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICAgICAgdGhpcy5jb2x1bW5GaWx0ZXJTdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHZhbCk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBpdGVtczogZnVuY3Rpb24gaXRlbXModmFsLCBvbGRWYWwpIHsKICAgICAgICAgIGlmICh2YWwgJiYgb2xkVmFsICYmIHRoaXMub2JqZWN0c0FyZUlkZW50aWNhbCh2YWwsIG9sZFZhbCkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMucGFzc2VkSXRlbXMgPSB2YWwgfHwgW107CiAgICAgICAgfSwKICAgICAgICB0b3RhbFBhZ2VzOiB7CiAgICAgICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCdwYWdlcy1jaGFuZ2UnLCB2YWwpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY29tcHV0ZWRQYWdlOiBmdW5jdGlvbiBjb21wdXRlZFBhZ2UodmFsKSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCdwYWdlLWNoYW5nZScsIHZhbCk7CiAgICAgICAgfSwKICAgICAgICBzb3J0ZWRJdGVtczogewogICAgICAgICAgaW1tZWRpYXRlOiB0cnVlLAogICAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwsIG9sZFZhbCkgewogICAgICAgICAgICBpZiAodmFsICYmIG9sZFZhbCAmJiB0aGlzLm9iamVjdHNBcmVJZGVudGljYWwodmFsLCBvbGRWYWwpKSB7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLiRlbWl0KCdmaWx0ZXJlZC1pdGVtcy1jaGFuZ2UnLCB2YWwpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgY29tcHV0ZWQ6IHsKICAgICAgICBjb2x1bW5GaWx0ZXJlZDogZnVuY3Rpb24gY29sdW1uRmlsdGVyZWQoKSB7CiAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICAgIHZhciBpdGVtcyA9IHRoaXMucGFzc2VkSXRlbXM7CgogICAgICAgICAgaWYgKHRoaXMuY29sdW1uRmlsdGVyICYmIHRoaXMuY29sdW1uRmlsdGVyLmV4dGVybmFsKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtczsKICAgICAgICAgIH0KCiAgICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLmNvbHVtbkZpbHRlclN0YXRlKS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpLAogICAgICAgICAgICAgICAga2V5ID0gX3JlZjJbMF0sCiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9yZWYyWzFdOwoKICAgICAgICAgICAgdmFyIGNvbHVtbkZpbHRlciA9IFN0cmluZyh2YWx1ZSkudG9Mb3dlckNhc2UoKTsKCiAgICAgICAgICAgIGlmIChjb2x1bW5GaWx0ZXIgJiYgX3RoaXMucmF3Q29sdW1uTmFtZXMuaW5jbHVkZXMoa2V5KSkgewogICAgICAgICAgICAgIGl0ZW1zID0gaXRlbXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKGl0ZW1ba2V5XSkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhjb2x1bW5GaWx0ZXIpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBpdGVtczsKICAgICAgICB9LAogICAgICAgIGl0ZW1zRGF0YUNvbHVtbnM6IGZ1bmN0aW9uIGl0ZW1zRGF0YUNvbHVtbnMoKSB7CiAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgICByZXR1cm4gdGhpcy5yYXdDb2x1bW5OYW1lcy5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nZW5lcmF0ZWRDb2x1bW5OYW1lcy5pbmNsdWRlcyhuYW1lKTsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgdGFibGVGaWx0ZXJlZDogZnVuY3Rpb24gdGFibGVGaWx0ZXJlZCgpIHsKICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgICAgIHZhciBpdGVtcyA9IHRoaXMuY29sdW1uRmlsdGVyZWQ7CgogICAgICAgICAgaWYgKCF0aGlzLnRhYmxlRmlsdGVyU3RhdGUgfHwgdGhpcy50YWJsZUZpbHRlciAmJiB0aGlzLnRhYmxlRmlsdGVyLmV4dGVybmFsKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtczsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgZmlsdGVyID0gdGhpcy50YWJsZUZpbHRlclN0YXRlLnRvTG93ZXJDYXNlKCk7CgogICAgICAgICAgdmFyIGhhc0ZpbHRlciA9IGZ1bmN0aW9uIGhhc0ZpbHRlcihpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBTdHJpbmcoaXRlbSkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhmaWx0ZXIpOwogICAgICAgICAgfTsKCiAgICAgICAgICBpdGVtcyA9IGl0ZW1zLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMzLml0ZW1zRGF0YUNvbHVtbnMuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgICByZXR1cm4gaGFzRmlsdGVyKGl0ZW1ba2V5XSk7CiAgICAgICAgICAgIH0pLmxlbmd0aDsKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuIGl0ZW1zOwogICAgICAgIH0sCiAgICAgICAgc29ydGVkSXRlbXM6IGZ1bmN0aW9uIHNvcnRlZEl0ZW1zKCkgewogICAgICAgICAgdmFyIGNvbCA9IHRoaXMuc29ydGVyU3RhdGUuY29sdW1uOwoKICAgICAgICAgIGlmICghY29sIHx8ICF0aGlzLnJhd0NvbHVtbk5hbWVzLmluY2x1ZGVzKGNvbCkgfHwgdGhpcy5zb3J0ZXIuZXh0ZXJuYWwpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFibGVGaWx0ZXJlZDsKICAgICAgICAgIH0gLy9pZiB2YWx1ZXMgaW4gY29sdW1uIGFyZSB0byBiZSBzb3J0ZWQgYnkgbnVtZXJpYyB2YWx1ZSB0aGV5IGFsbCBoYXZlIHRvIGJlIHR5cGUgbnVtYmVyCgoKICAgICAgICAgIHZhciBmbGlwID0gdGhpcy5zb3J0ZXJTdGF0ZS5hc2MgPyAxIDogLTE7CiAgICAgICAgICByZXR1cm4gdGhpcy50YWJsZUZpbHRlcmVkLnNsaWNlKCkuc29ydChmdW5jdGlvbiAoaXRlbSwgaXRlbTIpIHsKICAgICAgICAgICAgdmFyIHZhbHVlID0gaXRlbVtjb2xdOwogICAgICAgICAgICB2YXIgdmFsdWUyID0gaXRlbTJbY29sXTsKICAgICAgICAgICAgdmFyIGEgPSB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInID8gdmFsdWUgOiBTdHJpbmcodmFsdWUpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICAgIHZhciBiID0gdHlwZW9mIHZhbHVlMiA9PT0gJ251bWJlcicgPyB2YWx1ZTIgOiBTdHJpbmcodmFsdWUyKS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICByZXR1cm4gYSA+IGIgPyAxICogZmxpcCA6IGIgPiBhID8gLTEgKiBmbGlwIDogMDsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgZmlyc3RJdGVtSW5kZXg6IGZ1bmN0aW9uIGZpcnN0SXRlbUluZGV4KCkgewogICAgICAgICAgcmV0dXJuICh0aGlzLmNvbXB1dGVkUGFnZSAtIDEpICogdGhpcy5wZXJQYWdlSXRlbXMgfHwgMDsKICAgICAgICB9LAogICAgICAgIHBhZ2luYXRlZEl0ZW1zOiBmdW5jdGlvbiBwYWdpbmF0ZWRJdGVtcygpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnNvcnRlZEl0ZW1zLnNsaWNlKHRoaXMuZmlyc3RJdGVtSW5kZXgsIHRoaXMuZmlyc3RJdGVtSW5kZXggKyB0aGlzLnBlclBhZ2VJdGVtcyk7CiAgICAgICAgfSwKICAgICAgICBjdXJyZW50SXRlbXM6IGZ1bmN0aW9uIGN1cnJlbnRJdGVtcygpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmNvbXB1dGVkUGFnZSA/IHRoaXMucGFnaW5hdGVkSXRlbXMgOiB0aGlzLnNvcnRlZEl0ZW1zOwogICAgICAgIH0sCiAgICAgICAgdG90YWxQYWdlczogZnVuY3Rpb24gdG90YWxQYWdlcygpIHsKICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy5zb3J0ZWRJdGVtcy5sZW5ndGggLyB0aGlzLnBlclBhZ2VJdGVtcykgfHwgMTsKICAgICAgICB9LAogICAgICAgIGNvbXB1dGVkUGFnZTogZnVuY3Rpb24gY29tcHV0ZWRQYWdlKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMucGFnaW5hdGlvbiA/IHRoaXMucGFnZSA6IHRoaXMuYWN0aXZlUGFnZTsKICAgICAgICB9LAogICAgICAgIGdlbmVyYXRlZENvbHVtbk5hbWVzOiBmdW5jdGlvbiBnZW5lcmF0ZWRDb2x1bW5OYW1lcygpIHsKICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLnBhc3NlZEl0ZW1zWzBdIHx8IHt9KS5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgIHJldHVybiBlbC5jaGFyQXQoMCkgIT09ICdfJzsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgcmF3Q29sdW1uTmFtZXM6IGZ1bmN0aW9uIHJhd0NvbHVtbk5hbWVzKCkgewogICAgICAgICAgaWYgKHRoaXMuZmllbGRzKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpZWxkcy5tYXAoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGVsLmtleSB8fCBlbDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVkQ29sdW1uTmFtZXM7CiAgICAgICAgfSwKICAgICAgICBjb2x1bW5OYW1lczogZnVuY3Rpb24gY29sdW1uTmFtZXMoKSB7CiAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgICAgICBpZiAodGhpcy5maWVsZHMpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmllbGRzLm1hcChmdW5jdGlvbiAoZikgewogICAgICAgICAgICAgIHJldHVybiBmLmxhYmVsICE9PSB1bmRlZmluZWQgPyBmLmxhYmVsIDogX3RoaXM0LnByZXRpZnlOYW1lKGYua2V5IHx8IGYpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gdGhpcy5yYXdDb2x1bW5OYW1lcy5tYXAoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczQucHJldGlmeU5hbWUoZWwpOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICB0YWJsZUNsYXNzZXM6IGZ1bmN0aW9uIHRhYmxlQ2xhc3NlcygpIHsKICAgICAgICAgIHZhciBfcmVmMzsKCiAgICAgICAgICByZXR1cm4gWyd0YWJsZScsIHRoaXMuYWRkVGFibGVDbGFzc2VzLCAoX3JlZjMgPSB7fSwgQ0RhdGFUYWJsZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYzLCAidGFibGUtIi5jb25jYXQodGhpcy5zaXplKSwgdGhpcy5zaXplKSwgQ0RhdGFUYWJsZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYzLCAndGFibGUtZGFyaycsIHRoaXMuZGFyayksIENEYXRhVGFibGV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfcmVmMywgJ3RhYmxlLXN0cmlwZWQnLCB0aGlzLnN0cmlwZWQpLCBDRGF0YVRhYmxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZjMsICd0YWJsZS1maXhlZCcsIHRoaXMuZml4ZWQpLCBDRGF0YVRhYmxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZjMsICd0YWJsZS1ob3ZlcicsIHRoaXMuaG92ZXIpLCBDRGF0YVRhYmxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZjMsICd0YWJsZS1ib3JkZXJlZCcsIHRoaXMuYm9yZGVyKSwgQ0RhdGFUYWJsZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYzLCAnYm9yZGVyJywgdGhpcy5vdXRsaW5lZCksIF9yZWYzKV07CiAgICAgICAgfSwKICAgICAgICBzb3J0aW5nSWNvblN0eWxlczogZnVuY3Rpb24gc29ydGluZ0ljb25TdHlsZXMoKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAncG9zaXRpb24tcmVsYXRpdmUgcHItNCc6IHRoaXMuc29ydGVyCiAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgY29sc3BhbjogZnVuY3Rpb24gY29sc3BhbigpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnJhd0NvbHVtbk5hbWVzLmxlbmd0aDsKICAgICAgICB9LAogICAgICAgIHRhYmxlRmlsdGVyRGF0YTogZnVuY3Rpb24gdGFibGVGaWx0ZXJEYXRhKCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbGFiZWw6IHRoaXMudGFibGVGaWx0ZXIubGFiZWwgfHwgJ0ZpbHRlcjonLAogICAgICAgICAgICBwbGFjZWhvbGRlcjogdGhpcy50YWJsZUZpbHRlci5wbGFjZWhvbGRlciB8fCAndHlwZSBzdHJpbmcuLi4nCiAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgcGFnaW5hdGlvblNlbGVjdDogZnVuY3Rpb24gcGFnaW5hdGlvblNlbGVjdCgpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGxhYmVsOiB0aGlzLml0ZW1zUGVyUGFnZVNlbGVjdC5sYWJlbCB8fCAnSXRlbXMgcGVyIHBhZ2U6JywKICAgICAgICAgICAgdmFsdWVzOiB0aGlzLml0ZW1zUGVyUGFnZVNlbGVjdC52YWx1ZXMgfHwgWzUsIDEwLCAyMCwgNTBdCiAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgbm9JdGVtc1RleHQ6IGZ1bmN0aW9uIG5vSXRlbXNUZXh0KCkgewogICAgICAgICAgdmFyIGN1c3RvbVZhbHVlcyA9IHRoaXMubm9JdGVtc1ZpZXcgfHwge307CgogICAgICAgICAgaWYgKHRoaXMucGFzc2VkSXRlbXMubGVuZ3RoKSB7CiAgICAgICAgICAgIHJldHVybiBjdXN0b21WYWx1ZXMubm9SZXN1bHRzIHx8ICdObyBmaWx0ZXJpbmcgcmVzdWx0cyc7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGN1c3RvbVZhbHVlcy5ub0l0ZW1zIHx8ICdObyBpdGVtcyc7CiAgICAgICAgfSwKICAgICAgICBpc0ZpbHRlcmVkOiBmdW5jdGlvbiBpc0ZpbHRlcmVkKCkgewogICAgICAgICAgcmV0dXJuIHRoaXMudGFibGVGaWx0ZXJTdGF0ZSB8fCBPYmplY3QudmFsdWVzKHRoaXMuY29sdW1uRmlsdGVyU3RhdGUpLmpvaW4oJycpIHx8IHRoaXMuc29ydGVyU3RhdGUuY29sdW1uOwogICAgICAgIH0sCiAgICAgICAgY2xlYW5lclByb3BzOiBmdW5jdGlvbiBjbGVhbmVyUHJvcHMoKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBjb250ZW50OiB0aGlzLiRvcHRpb25zLmljb25zLmNpbEZpbHRlclgsCiAgICAgICAgICAgIGNsYXNzOiAibWwtMiAiLmNvbmNhdCh0aGlzLmlzRmlsdGVyZWQgPyAndGV4dC1kYW5nZXInIDogJ3RyYW5zcGFyZW50JyksCiAgICAgICAgICAgIHJvbGU6IHRoaXMuaXNGaWx0ZXJlZCA/ICdidXR0b24nIDogbnVsbCwKICAgICAgICAgICAgdGFiaW5kZXg6IHRoaXMuaXNGaWx0ZXJlZCA/IDAgOiBudWxsCiAgICAgICAgICB9OwogICAgICAgIH0sCiAgICAgICAgaGF2ZUZpbHRlck9wdGlvbjogZnVuY3Rpb24gaGF2ZUZpbHRlck9wdGlvbigpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnRhYmxlRmlsdGVyIHx8IHRoaXMuY2xlYW5lciB8fCB0aGlzLiRzY29wZWRTbG90cy5jbGVhbmVyOwogICAgICAgIH0KICAgICAgfSwKICAgICAgbWV0aG9kczogewogICAgICAgIGNoYW5nZVNvcnQ6IGZ1bmN0aW9uIGNoYW5nZVNvcnQoY29sdW1uLCBpbmRleCkgewogICAgICAgICAgaWYgKCF0aGlzLmlzU29ydGFibGUoaW5kZXgpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0gLy9pZiBjb2x1bW4gY2hhbmdlZCBvciBzb3J0IHdhcyBkZXNjZW5kaW5nIGNoYW5nZSBhc2MgdG8gdHJ1ZQoKCiAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnNvcnRlclN0YXRlOwogICAgICAgICAgdmFyIGNvbHVtblJlcGVhdGVkID0gc3RhdGUuY29sdW1uID09PSBjb2x1bW47CgogICAgICAgICAgaWYgKCF0aGlzLnNvcnRlciB8fCAhdGhpcy5zb3J0ZXIucmVzZXRhYmxlKSB7CiAgICAgICAgICAgIHN0YXRlLmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHN0YXRlLmNvbHVtbiA9IGNvbHVtblJlcGVhdGVkICYmIHN0YXRlLmFzYyA9PT0gZmFsc2UgPyBudWxsIDogY29sdW1uOwogICAgICAgICAgfQoKICAgICAgICAgIHN0YXRlLmFzYyA9ICEoY29sdW1uUmVwZWF0ZWQgJiYgc3RhdGUuYXNjKTsKICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpzb3J0ZXItdmFsdWUnLCB0aGlzLnNvcnRlclN0YXRlKTsKICAgICAgICB9LAogICAgICAgIGNvbHVtbkZpbHRlckV2ZW50OiBmdW5jdGlvbiBjb2x1bW5GaWx0ZXJFdmVudChjb2xOYW1lLCB2YWx1ZSwgdHlwZSkgewogICAgICAgICAgdmFyIGlzTGF6eSA9IHRoaXMuY29sdW1uRmlsdGVyICYmIHRoaXMuY29sdW1uRmlsdGVyLmxhenkgPT09IHRydWU7CgogICAgICAgICAgaWYgKGlzTGF6eSAmJiB0eXBlID09PSAnaW5wdXQnIHx8ICFpc0xhenkgJiYgdHlwZSA9PT0gJ2NoYW5nZScpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmNvbHVtbkZpbHRlclN0YXRlLCBjb2xOYW1lLCB2YWx1ZSk7CiAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6Y29sdW1uLWZpbHRlci12YWx1ZScsIHRoaXMuY29sdW1uRmlsdGVyU3RhdGUpOwogICAgICAgIH0sCiAgICAgICAgdGFibGVGaWx0ZXJDaGFuZ2U6IGZ1bmN0aW9uIHRhYmxlRmlsdGVyQ2hhbmdlKHZhbHVlLCB0eXBlKSB7CiAgICAgICAgICB2YXIgaXNMYXp5ID0gdGhpcy50YWJsZUZpbHRlciAmJiB0aGlzLnRhYmxlRmlsdGVyLmxhenkgPT09IHRydWU7CgogICAgICAgICAgaWYgKGlzTGF6eSAmJiB0eXBlID09PSAnaW5wdXQnIHx8ICFpc0xhenkgJiYgdHlwZSA9PT0gJ2NoYW5nZScpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMudGFibGVGaWx0ZXJTdGF0ZSA9IHZhbHVlOwogICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnRhYmxlLWZpbHRlci12YWx1ZScsIHRoaXMudGFibGVGaWx0ZXJTdGF0ZSk7CiAgICAgICAgfSwKICAgICAgICBwcmV0aWZ5TmFtZTogZnVuY3Rpb24gcHJldGlmeU5hbWUobmFtZSkgewogICAgICAgICAgcmV0dXJuIG5hbWUucmVwbGFjZSgvWy1fLl0vZywgJyAnKS5yZXBsYWNlKC8gKy9nLCAnICcpLnJlcGxhY2UoLyhbYS16MC05XSkoW0EtWl0pL2csICckMSAkMicpLnNwbGl0KCcgJykubWFwKGZ1bmN0aW9uICh3b3JkKSB7CiAgICAgICAgICAgIHJldHVybiB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKTsKICAgICAgICAgIH0pLmpvaW4oJyAnKTsKICAgICAgICB9LAogICAgICAgIGNlbGxDbGFzczogZnVuY3Rpb24gY2VsbENsYXNzKGl0ZW0sIGNvbE5hbWUsIGluZGV4KSB7CiAgICAgICAgICB2YXIgY2xhc3NlcyA9IFtdOwoKICAgICAgICAgIGlmIChpdGVtLl9jZWxsQ2xhc3NlcyAmJiBpdGVtLl9jZWxsQ2xhc3Nlc1tjb2xOYW1lXSkgewogICAgICAgICAgICBjbGFzc2VzLnB1c2goaXRlbS5fY2VsbENsYXNzZXNbY29sTmFtZV0pOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0aGlzLmZpZWxkcyAmJiB0aGlzLmZpZWxkc1tpbmRleF0uX2NsYXNzZXMpIHsKICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKHRoaXMuZmllbGRzW2luZGV4XS5fY2xhc3Nlcyk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGNsYXNzZXM7CiAgICAgICAgfSwKICAgICAgICBpc1NvcnRhYmxlOiBmdW5jdGlvbiBpc1NvcnRhYmxlKGluZGV4KSB7CiAgICAgICAgICByZXR1cm4gdGhpcy5zb3J0ZXIgJiYgKCF0aGlzLmZpZWxkcyB8fCB0aGlzLmZpZWxkc1tpbmRleF0uc29ydGVyICE9PSBmYWxzZSkgJiYgdGhpcy5pdGVtc0RhdGFDb2x1bW5zLmluY2x1ZGVzKHRoaXMucmF3Q29sdW1uTmFtZXNbaW5kZXhdKTsKICAgICAgICB9LAogICAgICAgIGhlYWRlckNsYXNzOiBmdW5jdGlvbiBoZWFkZXJDbGFzcyhpbmRleCkgewogICAgICAgICAgdmFyIGZpZWxkcyA9IHRoaXMuZmllbGRzOwogICAgICAgICAgcmV0dXJuIGZpZWxkcyAmJiBmaWVsZHNbaW5kZXhdLl9jbGFzc2VzID8gZmllbGRzW2luZGV4XS5fY2xhc3NlcyA6ICcnOwogICAgICAgIH0sCiAgICAgICAgaGVhZGVyU3R5bGVzOiBmdW5jdGlvbiBoZWFkZXJTdHlsZXMoaW5kZXgpIHsKICAgICAgICAgIHZhciBzdHlsZSA9ICd2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7b3ZlcmZsb3c6aGlkZGVuOyc7CgogICAgICAgICAgaWYgKHRoaXMuaXNTb3J0YWJsZShpbmRleCkpIHsKICAgICAgICAgICAgc3R5bGUgKz0gImN1cnNvcjpwb2ludGVyOyI7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRoaXMuZmllbGRzICYmIHRoaXMuZmllbGRzW2luZGV4XSAmJiB0aGlzLmZpZWxkc1tpbmRleF0uX3N0eWxlKSB7CiAgICAgICAgICAgIHN0eWxlICs9IHRoaXMuZmllbGRzW2luZGV4XS5fc3R5bGU7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHN0eWxlOwogICAgICAgIH0sCiAgICAgICAgcm93Q2xpY2tlZDogZnVuY3Rpb24gcm93Q2xpY2tlZChpdGVtLCBpbmRleCwgZSkgewogICAgICAgICAgdmFyIGRldGFpbHNDbGljayA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7CiAgICAgICAgICB0aGlzLiRlbWl0KCdyb3ctY2xpY2tlZCcsIGl0ZW0sIGluZGV4LCB0aGlzLmdldENsaWNrZWRDb2x1bW5OYW1lKGUsIGRldGFpbHNDbGljayksIGUpOwogICAgICAgIH0sCiAgICAgICAgZ2V0Q2xpY2tlZENvbHVtbk5hbWU6IGZ1bmN0aW9uIGdldENsaWNrZWRDb2x1bW5OYW1lKGUsIGRldGFpbHNDbGljaykgewogICAgICAgICAgaWYgKGRldGFpbHNDbGljaykgewogICAgICAgICAgICByZXR1cm4gJ2RldGFpbHMnOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gQXJyYXkuZnJvbShlLnRhcmdldC5jbG9zZXN0KCd0cicpLmNoaWxkcmVuKTsKICAgICAgICAgICAgdmFyIGNsaWNrZWRDZWxsID0gY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChjaGlsZCkgewogICAgICAgICAgICAgIHJldHVybiBjaGlsZC5jb250YWlucyhlLnRhcmdldCk7CiAgICAgICAgICAgIH0pWzBdOwogICAgICAgICAgICByZXR1cm4gdGhpcy5yYXdDb2x1bW5OYW1lc1tjaGlsZHJlbi5pbmRleE9mKGNsaWNrZWRDZWxsKV07CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBnZXRJY29uU3RhdGU6IGZ1bmN0aW9uIGdldEljb25TdGF0ZShpbmRleCkgewogICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMuc29ydGVyU3RhdGUuYXNjID8gJ2FzYycgOiAnZGVzYyc7CiAgICAgICAgICByZXR1cm4gdGhpcy5yYXdDb2x1bW5OYW1lc1tpbmRleF0gPT09IHRoaXMuc29ydGVyU3RhdGUuY29sdW1uID8gZGlyZWN0aW9uIDogMDsKICAgICAgICB9LAogICAgICAgIGljb25DbGFzc2VzOiBmdW5jdGlvbiBpY29uQ2xhc3NlcyhpbmRleCkgewogICAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5nZXRJY29uU3RhdGUoaW5kZXgpOwogICAgICAgICAgcmV0dXJuIFsnaWNvbi10cmFuc2l0aW9uIHBvc2l0aW9uLWFic29sdXRlIGFycm93LXBvc2l0aW9uJywgewogICAgICAgICAgICAndHJhbnNwYXJlbnQnOiAhc3RhdGUsCiAgICAgICAgICAgICdyb3RhdGUtaWNvbic6IHN0YXRlID09PSAnZGVzYycKICAgICAgICAgIH1dOwogICAgICAgIH0sCiAgICAgICAgcGFnaW5hdGlvbkNoYW5nZTogZnVuY3Rpb24gcGFnaW5hdGlvbkNoYW5nZShlKSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCdwYWdpbmF0aW9uLWNoYW5nZScsIE51bWJlcihlLnRhcmdldC52YWx1ZSkpOwoKICAgICAgICAgIGlmICh0aGlzLml0ZW1zUGVyUGFnZVNlbGVjdC5leHRlcm5hbCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5wZXJQYWdlSXRlbXMgPSBOdW1iZXIoZS50YXJnZXQudmFsdWUpOwogICAgICAgIH0sCiAgICAgICAgb2JqZWN0c0FyZUlkZW50aWNhbDogZnVuY3Rpb24gb2JqZWN0c0FyZUlkZW50aWNhbChvYmoxLCBvYmoyKSB7CiAgICAgICAgICByZXR1cm4gb2JqMS5sZW5ndGggPT09IG9iajIubGVuZ3RoICYmIEpTT04uc3RyaW5naWZ5KG9iajEpID09PSBKU09OLnN0cmluZ2lmeShvYmoyKTsKICAgICAgICB9LAogICAgICAgIGNsZWFuOiBmdW5jdGlvbiBjbGVhbigpIHsKICAgICAgICAgIHRoaXMudGFibGVGaWx0ZXJTdGF0ZSA9ICIiOwogICAgICAgICAgdGhpcy5jb2x1bW5GaWx0ZXJTdGF0ZSA9IHt9OwogICAgICAgICAgdGhpcy5zb3J0ZXJTdGF0ZSA9IHsKICAgICAgICAgICAgY29sdW1uOiAiIiwKICAgICAgICAgICAgYXNjOiB0cnVlCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90YWJsZS9DRGF0YVRhYmxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIHRhYmxlX0NEYXRhVGFibGV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDRGF0YVRhYmxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGFibGUvQ0RhdGFUYWJsZS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0yZTZiZTg3OCZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyYKCiAgICB2YXIgQ0RhdGFUYWJsZXZ1ZV90eXBlX3N0eWxlX2luZGV4XzBfaWRfMmU2YmU4Nzhfc2NvcGVkX3RydWVfbGFuZ19jc3NfID0gX193ZWJwYWNrX3JlcXVpcmVfXygiZTc2YiIpOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RhYmxlL0NEYXRhVGFibGUudnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKCiAgICB2YXIgQ0RhdGFUYWJsZV9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHRhYmxlX0NEYXRhVGFibGV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENEYXRhVGFibGV2dWVfdHlwZV90ZW1wbGF0ZV9pZF8yZTZiZTg3OF9zY29wZWRfdHJ1ZV9yZW5kZXIsIENEYXRhVGFibGV2dWVfdHlwZV90ZW1wbGF0ZV9pZF8yZTZiZTg3OF9zY29wZWRfdHJ1ZV9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCAiMmU2YmU4NzgiLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0RhdGFUYWJsZSA9IENEYXRhVGFibGVfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGFibGUvaW5kZXguanMKICAgIC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy90YWJzL0NUYWIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTI5NWI2ZDlhJnNjb3BlZD10cnVlJgoKICAgIHZhciBDVGFidnVlX3R5cGVfdGVtcGxhdGVfaWRfMjk1YjZkOWFfc2NvcGVkX3RydWVfcmVuZGVyID0gZnVuY3Rpb24gQ1RhYnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzI5NWI2ZDlhX3Njb3BlZF90cnVlX3JlbmRlcigpIHsKICAgICAgdmFyIF92bSA9IHRoaXM7CgogICAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogICAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogICAgICByZXR1cm4gX3ZtLmRpc3RyaWJ1dGVkLmhlYWRlciA/IF9jKCdsaScsIHsKICAgICAgICBzdGF0aWNDbGFzczogIm5hdi1pdGVtIiwKICAgICAgICBvbjogewogICAgICAgICAgImNsaWNrIjogX3ZtLm5hdkNsaWNrCiAgICAgICAgfQogICAgICB9LCBbX2MoJ0NMaW5rJywgX3ZtLl9iKHsKICAgICAgICBzdGF0aWNDbGFzczogIm5hdi1saW5rIgogICAgICB9LCAnQ0xpbmsnLCBfdm0ubmF2TGlua1Byb3BzLCBmYWxzZSksIFtfdm0uX3QoInRpdGxlIiwgW192bS5fdihfdm0uX3MoX3ZtLnRpdGxlKSldKV0sIDIpXSwgMSkgOiBfYygndHJhbnNpdGlvbicsIHsKICAgICAgICBhdHRyczogewogICAgICAgICAgIm5hbWUiOiBfdm0udGFicy5mYWRlID8gJ2ZhZGUnIDogJycsCiAgICAgICAgICAibW9kZSI6ICJvdXQtaW4iCiAgICAgICAgfQogICAgICB9LCBbX2MoJ2RpdicsIHsKICAgICAgICBkaXJlY3RpdmVzOiBbewogICAgICAgICAgbmFtZTogInNob3ciLAogICAgICAgICAgcmF3TmFtZTogInYtc2hvdyIsCiAgICAgICAgICB2YWx1ZTogX3ZtLmlzQWN0aXZlLAogICAgICAgICAgZXhwcmVzc2lvbjogImlzQWN0aXZlIgogICAgICAgIH1dLAogICAgICAgIGNsYXNzOiBfdm0ucGFuZUNsYXNzZXMKICAgICAgfSwgW192bS5fdCgiZGVmYXVsdCIpXSwgMildKTsKICAgIH07CgogICAgdmFyIENUYWJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF8yOTViNmQ5YV9zY29wZWRfdHJ1ZV9zdGF0aWNSZW5kZXJGbnMgPSBbXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90YWJzL0NUYWIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTI5NWI2ZDlhJnNjb3BlZD10cnVlJgogICAgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3RhYnMvQ1RhYi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgdmFyIENUYWJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19wcm9wcyA9IE9iamVjdC5hc3NpZ24ocHJvcHNGYWN0b3J5KCksIHsKICAgICAgdGl0bGU6IFN0cmluZwogICAgfSk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENUYWJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDVGFiJywKICAgICAgaW5qZWN0OiBbJ2Rpc3RyaWJ1dGVkJywgJ3RhYnMnLCAnaW5pdGlhbFRhYiddLAogICAgICBjb21wb25lbnRzOiB7CiAgICAgICAgQ0xpbms6IENMaW5rCiAgICAgIH0sCiAgICAgIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgICAgICB0aGlzLmluZGV4ID0gQXJyYXkuZnJvbSh0aGlzLiRwYXJlbnQuJGNoaWxkcmVuKS5pbmRleE9mKHRoaXMpOwoKICAgICAgICBpZiAodGhpcy5hY3RpdmUgJiYgdGhpcy5kaXN0cmlidXRlZC5oZWFkZXIgJiYgdGhpcy5pbml0aWFsVGFiID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRoaXMuZGlzdHJpYnV0ZWQuY2hhbmdlVGFiVG8odGhpcy5pbmRleCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpbmRleDogbnVsbAogICAgICAgIH07CiAgICAgIH0sCiAgICAgIHByb3BzOiBDVGFidnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfcHJvcHMsCiAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgbmF2TGlua1Byb3BzOiBmdW5jdGlvbiBuYXZMaW5rUHJvcHMoKSB7CiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fcHJvcHMsIHsKICAgICAgICAgICAgYWN0aXZlOiB0aGlzLmlzQWN0aXZlCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIHRpdGxlOiBudWxsCiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIHBhbmVDbGFzc2VzOiBmdW5jdGlvbiBwYW5lQ2xhc3NlcygpIHsKICAgICAgICAgIHJldHVybiBbdGhpcy5kaXN0cmlidXRlZC5hZGRDbGFzc2VzLCAndGFiLXBhbmUnLCB7CiAgICAgICAgICAgICdhY3RpdmUnOiB0aGlzLmlzQWN0aXZlCiAgICAgICAgICB9XTsKICAgICAgICB9LAogICAgICAgIGlzQWN0aXZlOiBmdW5jdGlvbiBpc0FjdGl2ZSgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnRhYnMuYWN0aXZlVGFiID09PSB0aGlzLmluZGV4OwogICAgICAgIH0KICAgICAgfSwKICAgICAgbWV0aG9kczogewogICAgICAgIG5hdkNsaWNrOiBmdW5jdGlvbiBuYXZDbGljaygpIHsKICAgICAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSAmJiAhdGhpcy5kaXNhYmxlZCkgewogICAgICAgICAgICB0aGlzLmRpc3RyaWJ1dGVkLmNoYW5nZVRhYlRvKHRoaXMuaW5kZXgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90YWJzL0NUYWIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgdGFic19DVGFidnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ1RhYnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RhYnMvQ1RhYi52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0yOTViNmQ5YSZzY29wZWQ9dHJ1ZSZsYW5nPWNzcyYKCiAgICB2YXIgQ1RhYnZ1ZV90eXBlX3N0eWxlX2luZGV4XzBfaWRfMjk1YjZkOWFfc2NvcGVkX3RydWVfbGFuZ19jc3NfID0gX193ZWJwYWNrX3JlcXVpcmVfXygiNDE5NCIpOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RhYnMvQ1RhYi52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgoKICAgIHZhciBDVGFiX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkodGFic19DVGFidnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDVGFidnVlX3R5cGVfdGVtcGxhdGVfaWRfMjk1YjZkOWFfc2NvcGVkX3RydWVfcmVuZGVyLCBDVGFidnVlX3R5cGVfdGVtcGxhdGVfaWRfMjk1YjZkOWFfc2NvcGVkX3RydWVfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgIjI5NWI2ZDlhIiwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENUYWIgPSBDVGFiX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGFicy9DVGFicy52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MzE0ZTQ2ODcmCgogICAgdmFyIENUYWJzdnVlX3R5cGVfdGVtcGxhdGVfaWRfMzE0ZTQ2ODdfcmVuZGVyID0gZnVuY3Rpb24gQ1RhYnN2dWVfdHlwZV90ZW1wbGF0ZV9pZF8zMTRlNDY4N19yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdkaXYnLCB7CiAgICAgICAgY2xhc3M6IF92bS53cmFwcGVyQ2xhc3NlcwogICAgICB9LCBbX2MoJ2RpdicsIHsKICAgICAgICBjbGFzczogX3ZtLm5hdldyYXBwZXJDbGFzc2VzCiAgICAgIH0sIFtfYygnQ0Rpc3RyaWJ1dG9yJywgewogICAgICAgIGNsYXNzOiBfdm0ubmF2Q2xhc3NlcywKICAgICAgICBhdHRyczogewogICAgICAgICAgInRhZyI6ICJ1bCIsCiAgICAgICAgICAiaGVhZGVyIjogdHJ1ZSwKICAgICAgICAgICJjaGFuZ2VUYWJUbyI6IF92bS5jaGFuZ2VUYWJUbwogICAgICAgIH0KICAgICAgfSwgW192bS5fdCgiZGVmYXVsdCIpXSwgMildLCAxKSwgX2MoJ2RpdicsIHsKICAgICAgICBjbGFzczogW192bS5hZGRUYWJzV3JhcHBlckNsYXNzZXMsIF92bS5ncmlkQ2xhc3Nlcy5jb250ZW50XQogICAgICB9LCBbX2MoJ0NEaXN0cmlidXRvcicsIHsKICAgICAgICBjbGFzczogX3ZtLnRhYnNDbGFzc2VzLAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAiYWRkQ2xhc3NlcyI6IF92bS5hZGRUYWJDbGFzc2VzCiAgICAgICAgfQogICAgICB9LCBbX3ZtLl90KCJkZWZhdWx0IildLCAyKV0sIDEpXSk7CiAgICB9OwoKICAgIHZhciBDVGFic3Z1ZV90eXBlX3RlbXBsYXRlX2lkXzMxNGU0Njg3X3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGFicy9DRGlzdHJpYnV0b3IudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTcwYjBmMThmJgoKICAgIHZhciBDRGlzdHJpYnV0b3J2dWVfdHlwZV90ZW1wbGF0ZV9pZF83MGIwZjE4Zl9yZW5kZXIgPSBmdW5jdGlvbiBDRGlzdHJpYnV0b3J2dWVfdHlwZV90ZW1wbGF0ZV9pZF83MGIwZjE4Zl9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKF92bS50YWcsIHsKICAgICAgICB0YWc6ICJjb21wb25lbnQiCiAgICAgIH0sIFtfdm0uX3QoImRlZmF1bHQiKV0sIDIpOwogICAgfTsKCiAgICB2YXIgQ0Rpc3RyaWJ1dG9ydnVlX3R5cGVfdGVtcGxhdGVfaWRfNzBiMGYxOGZfc3RhdGljUmVuZGVyRm5zID0gW107IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy90YWJzL0NEaXN0cmlidXRvci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDRGlzdHJpYnV0b3J2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDRGlzdHJpYnV0b3InLAogICAgICBpbmhlcml0QXR0cnM6IGZhbHNlLAogICAgICBwcm9wczogewogICAgICAgIHRhZzogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgZGVmYXVsdDogJ2RpdicKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHByb3ZpZGU6IGZ1bmN0aW9uIHByb3ZpZGUoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGRpc3RyaWJ1dGVkOiB0aGlzLnByb3BzCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgY29tcHV0ZWQ6IHsKICAgICAgICBwcm9wczogZnVuY3Rpb24gcHJvcHMoKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kYXR0cnM7CiAgICAgICAgfQogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RhYnMvQ0Rpc3RyaWJ1dG9yLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIHRhYnNfQ0Rpc3RyaWJ1dG9ydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0Rpc3RyaWJ1dG9ydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RhYnMvQ0Rpc3RyaWJ1dG9yLnZ1ZQoKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0Rpc3RyaWJ1dG9yX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkodGFic19DRGlzdHJpYnV0b3J2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENEaXN0cmlidXRvcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzcwYjBmMThmX3JlbmRlciwgQ0Rpc3RyaWJ1dG9ydnVlX3R5cGVfdGVtcGxhdGVfaWRfNzBiMGYxOGZfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENEaXN0cmlidXRvciA9IENEaXN0cmlidXRvcl9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3RhYnMvQ1RhYnMudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDVGFic3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NUYWJzJywKICAgICAgY29tcG9uZW50czogewogICAgICAgIENEaXN0cmlidXRvcjogQ0Rpc3RyaWJ1dG9yCiAgICAgIH0sCiAgICAgIHByb3ZpZGU6IGZ1bmN0aW9uIHByb3ZpZGUoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdmFyIHRhYnMgPSB7fTsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFicywgJ2FjdGl2ZVRhYicsIHsKICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMuYWN0aXZlVGFiSW5kZXg7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhYnMsICdmYWRlJywgewogICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5mYWRlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICB0YWJzOiB0YWJzLAogICAgICAgICAgaW5pdGlhbFRhYjogdGhpcy5hY3RpdmVUYWIKICAgICAgICB9OwogICAgICB9LAogICAgICBwcm9wczogewogICAgICAgIGZpbGw6IEJvb2xlYW4sCiAgICAgICAganVzdGlmaWVkOiBCb29sZWFuLAogICAgICAgIHZhcmlhbnQ6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIGRlZmF1bHQ6ICd0YWJzJywKICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkgewogICAgICAgICAgICByZXR1cm4gWycnLCAndGFicycsICdwaWxscyddLmluY2x1ZGVzKHZhbCk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBmYWRlOiB7CiAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgZGVmYXVsdDogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgdmVydGljYWw6IFtCb29sZWFuLCBPYmplY3RdLAogICAgICAgIGFkZE5hdldyYXBwZXJDbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XSwKICAgICAgICBhZGROYXZDbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XSwKICAgICAgICBhZGRUYWJzV3JhcHBlckNsYXNzZXM6IFtTdHJpbmcsIEFycmF5LCBPYmplY3RdLAogICAgICAgIGFkZFRhYnNDbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XSwKICAgICAgICBhZGRUYWJDbGFzc2VzOiBbU3RyaW5nLCBBcnJheSwgT2JqZWN0XSwKICAgICAgICBhY3RpdmVUYWI6IE51bWJlcgogICAgICB9LAogICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBhY3RpdmVUYWJJbmRleDogdGhpcy5hY3RpdmVUYWIgfHwgMAogICAgICAgIH07CiAgICAgIH0sCiAgICAgIHdhdGNoOiB7CiAgICAgICAgYWN0aXZlVGFiOiBmdW5jdGlvbiBhY3RpdmVUYWIodmFsKSB7CiAgICAgICAgICB0aGlzLmFjdGl2ZVRhYkluZGV4ID0gdmFsIHx8IDA7CiAgICAgICAgfQogICAgICB9LAogICAgICBjb21wdXRlZDogewogICAgICAgIHdyYXBwZXJDbGFzc2VzOiBmdW5jdGlvbiB3cmFwcGVyQ2xhc3NlcygpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICdyb3cgbm8tZ3V0dGVycyc6IHRoaXMudmVydGljYWwKICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICBuYXZXcmFwcGVyQ2xhc3NlczogZnVuY3Rpb24gbmF2V3JhcHBlckNsYXNzZXMoKSB7CiAgICAgICAgICByZXR1cm4gW3RoaXMuYWRkTmF2V3JhcHBlckNsYXNzZXMsIHRoaXMuZ3JpZENsYXNzZXMubmF2c107CiAgICAgICAgfSwKICAgICAgICBuYXZDbGFzc2VzOiBmdW5jdGlvbiBuYXZDbGFzc2VzKCkgewogICAgICAgICAgcmV0dXJuIFt0aGlzLmFkZE5hdkNsYXNzZXMsIHsKICAgICAgICAgICAgJ25hdic6IHRydWUsCiAgICAgICAgICAgICduYXYtdGFicyc6IHRoaXMudmFyaWFudCA9PT0gJ3RhYnMnLAogICAgICAgICAgICAnbmF2LXBpbGxzJzogdGhpcy52YXJpYW50ID09PSAncGlsbHMnLAogICAgICAgICAgICAnZmxleC1jb2x1bW4nOiB0aGlzLnZlcnRpY2FsLAogICAgICAgICAgICAnbmF2LWZpbGwnOiB0aGlzLmZpbGwsCiAgICAgICAgICAgICduYXYtanVzdGlmaWVkJzogdGhpcy5qdXN0aWZpZWQsCiAgICAgICAgICAgICdoLTEwMCc6IHRoaXMudmVydGljYWwKICAgICAgICAgIH1dOwogICAgICAgIH0sCiAgICAgICAgdGFic0NsYXNzZXM6IGZ1bmN0aW9uIHRhYnNDbGFzc2VzKCkgewogICAgICAgICAgcmV0dXJuIFt0aGlzLmFkZFRhYnNDbGFzc2VzLCAndGFiLWNvbnRlbnQnLCB7CiAgICAgICAgICAgICdwbC0zIHAtMCc6IHRoaXMudmVydGljYWwKICAgICAgICAgIH1dOwogICAgICAgIH0sCiAgICAgICAgZ3JpZENsYXNzZXM6IGZ1bmN0aW9uIGdyaWRDbGFzc2VzKCkgewogICAgICAgICAgaWYgKHRoaXMudmVydGljYWwgPT09IHRydWUpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBuYXZzOiAnY29sLXNtLTQnLAogICAgICAgICAgICAgIGNvbnRlbnQ6ICdjb2wtc20tOCcKICAgICAgICAgICAgfTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnZlcnRpY2FsIHx8IHt9OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgbWV0aG9kczogewogICAgICAgIGNoYW5nZVRhYlRvOiBmdW5jdGlvbiBjaGFuZ2VUYWJUbyh0YWIpIHsKICAgICAgICAgIHRoaXMuYWN0aXZlVGFiSW5kZXggPSB0YWI7CiAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6YWN0aXZlVGFiJywgdGFiKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGFicy9DVGFicy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciB0YWJzX0NUYWJzdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ1RhYnN2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGFicy9DVGFicy52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENUYWJzX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkodGFic19DVGFic3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ1RhYnN2dWVfdHlwZV90ZW1wbGF0ZV9pZF8zMTRlNDY4N19yZW5kZXIsIENUYWJzdnVlX3R5cGVfdGVtcGxhdGVfaWRfMzE0ZTQ2ODdfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENUYWJzID0gQ1RhYnNfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGFicy9pbmRleC5qcwogICAgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzP3siY2FjaGVEaXJlY3RvcnkiOiJub2RlX21vZHVsZXMvLmNhY2hlL3Z1ZS1sb2FkZXIiLCJjYWNoZUlkZW50aWZpZXIiOiI0ODc1MDdiOS12dWUtbG9hZGVyLXRlbXBsYXRlIn0hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy90ZW1wbGF0ZUxvYWRlci5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NGb290ZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTJlYzY2ZTc2JgoKICAgIHZhciBDRm9vdGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfMmVjNjZlNzZfcmVuZGVyID0gZnVuY3Rpb24gQ0Zvb3RlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzJlYzY2ZTc2X3JlbmRlcigpIHsKICAgICAgdmFyIF92bSA9IHRoaXM7CgogICAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogICAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogICAgICByZXR1cm4gX2MoX3ZtLnRhZywgewogICAgICAgIHRhZzogImNvbXBvbmVudCIsCiAgICAgICAgY2xhc3M6IF92bS5jbGFzc0xpc3QKICAgICAgfSwgW192bS5fdCgiZGVmYXVsdCIpXSwgMik7CiAgICB9OwoKICAgIHZhciBDRm9vdGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfMmVjNjZlNzZfc3RhdGljUmVuZGVyRm5zID0gW107IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DRm9vdGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENGb290ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDRm9vdGVyJywKICAgICAgcHJvcHM6IHsKICAgICAgICB0YWc6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIGRlZmF1bHQ6ICdmb290ZXInCiAgICAgICAgfSwKICAgICAgICBmaXhlZDogewogICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgY2xhc3NMaXN0OiBmdW5jdGlvbiBjbGFzc0xpc3QoKSB7CiAgICAgICAgICByZXR1cm4gWydjLWZvb3RlcicsIHsKICAgICAgICAgICAgJ2MtZm9vdGVyLWZpeGVkJzogdGhpcy5maXhlZAogICAgICAgICAgfV07CiAgICAgICAgfQogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NGb290ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgdGVtcGxhdGVfQ0Zvb3RlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENGb290ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ0Zvb3Rlci52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENGb290ZXJfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKSh0ZW1wbGF0ZV9DRm9vdGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDRm9vdGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfMmVjNjZlNzZfcmVuZGVyLCBDRm9vdGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfMmVjNjZlNzZfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENGb290ZXIgPSBDRm9vdGVyX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ0hlYWRlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9ZDU2MGViOWMmCgogICAgdmFyIENIZWFkZXJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF9kNTYwZWI5Y19yZW5kZXIgPSBmdW5jdGlvbiBDSGVhZGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfZDU2MGViOWNfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYyhfdm0udGFnLCB7CiAgICAgICAgdGFnOiAiY29tcG9uZW50IiwKICAgICAgICBjbGFzczogX3ZtLmNsYXNzTGlzdAogICAgICB9LCBbX3ZtLl90KCJkZWZhdWx0IildLCAyKTsKICAgIH07CgogICAgdmFyIENIZWFkZXJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF9kNTYwZWI5Y19zdGF0aWNSZW5kZXJGbnMgPSBbXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NIZWFkZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0hlYWRlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NIZWFkZXInLAogICAgICBwcm9wczogewogICAgICAgIHRhZzogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgZGVmYXVsdDogJ2hlYWRlcicKICAgICAgICB9LAogICAgICAgIGNvbG9yU2NoZW1lOiB7CiAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICBkZWZhdWx0OiAnbGlnaHQnCiAgICAgICAgfSwKICAgICAgICBmaXhlZDogewogICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB9LAogICAgICAgIHdpdGhTdWJoZWFkZXI6IEJvb2xlYW4KICAgICAgfSwKICAgICAgY29tcHV0ZWQ6IHsKICAgICAgICBjbGFzc0xpc3Q6IGZ1bmN0aW9uIGNsYXNzTGlzdCgpIHsKICAgICAgICAgIHJldHVybiBbJ2MtaGVhZGVyJywgImMtaGVhZGVyLSIuY29uY2F0KHRoaXMuY29sb3JTY2hlbWUpLCB7CiAgICAgICAgICAgICdjLWhlYWRlci1maXhlZCc6IHRoaXMuZml4ZWQsCiAgICAgICAgICAgICdjLWhlYWRlci13aXRoLXN1YmhlYWRlcic6IHRoaXMud2l0aFN1YmhlYWRlcgogICAgICAgICAgfV07CiAgICAgICAgfQogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NIZWFkZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgdGVtcGxhdGVfQ0hlYWRlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENIZWFkZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ0hlYWRlci52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENIZWFkZXJfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKSh0ZW1wbGF0ZV9DSGVhZGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDSGVhZGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfZDU2MGViOWNfcmVuZGVyLCBDSGVhZGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfZDU2MGViOWNfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENIZWFkZXIgPSBDSGVhZGVyX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ0hlYWRlckJyYW5kLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICB2YXIgQ0hlYWRlckJyYW5kdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfcHJvcHMgPSBPYmplY3QuYXNzaWduKHByb3BzRmFjdG9yeSgpLCB7CiAgICAgIHRhZzogewogICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICBkZWZhdWx0OiAnZGl2JwogICAgICB9CiAgICB9KTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0hlYWRlckJyYW5kdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBmdW5jdGlvbmFsOiB0cnVlLAogICAgICBuYW1lOiAnQ0hlYWRlckJyYW5kJywKICAgICAgcHJvcHM6IENIZWFkZXJCcmFuZHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3Byb3BzLAogICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihoLCBfcmVmKSB7CiAgICAgICAgdmFyIHByb3BzID0gX3JlZi5wcm9wcywKICAgICAgICAgICAgZGF0YSA9IF9yZWYuZGF0YSwKICAgICAgICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuOwogICAgICAgIHZhciBpc0xpbmsgPSBwcm9wcy5ocmVmIHx8IHByb3BzLnRvOwogICAgICAgIHJldHVybiBoKGlzTGluayA/IENMaW5rIDogcHJvcHMudGFnLCBhKGRhdGEsIHsKICAgICAgICAgIHN0YXRpY0NsYXNzOiAnYy1oZWFkZXItYnJhbmQnLAogICAgICAgICAgcHJvcHM6IGlzTGluayA/IHByb3BzIDoge30KICAgICAgICB9KSwgY2hpbGRyZW4pOwogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NIZWFkZXJCcmFuZC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciB0ZW1wbGF0ZV9DSGVhZGVyQnJhbmR2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDSGVhZGVyQnJhbmR2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ0hlYWRlckJyYW5kLnZ1ZQoKICAgIHZhciBDSGVhZGVyQnJhbmRfcmVuZGVyLCBDSGVhZGVyQnJhbmRfc3RhdGljUmVuZGVyRm5zOwogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDSGVhZGVyQnJhbmRfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKSh0ZW1wbGF0ZV9DSGVhZGVyQnJhbmR2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENIZWFkZXJCcmFuZF9yZW5kZXIsIENIZWFkZXJCcmFuZF9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0hlYWRlckJyYW5kID0gQ0hlYWRlckJyYW5kX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ0hlYWRlck5hdi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NWZjMzZmNjAmCgogICAgdmFyIENIZWFkZXJOYXZ2dWVfdHlwZV90ZW1wbGF0ZV9pZF81ZmMzNmY2MF9yZW5kZXIgPSBmdW5jdGlvbiBDSGVhZGVyTmF2dnVlX3R5cGVfdGVtcGxhdGVfaWRfNWZjMzZmNjBfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygndWwnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJjLWhlYWRlci1uYXYiCiAgICAgIH0sIFtfdm0uX3QoImRlZmF1bHQiKV0sIDIpOwogICAgfTsKCiAgICB2YXIgQ0hlYWRlck5hdnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzVmYzM2ZjYwX3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ0hlYWRlck5hdi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDSGVhZGVyTmF2dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ0hlYWRlck5hdicKICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ0hlYWRlck5hdi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciB0ZW1wbGF0ZV9DSGVhZGVyTmF2dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ0hlYWRlck5hdnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DSGVhZGVyTmF2LnZ1ZQoKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0hlYWRlck5hdl9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHRlbXBsYXRlX0NIZWFkZXJOYXZ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENIZWFkZXJOYXZ2dWVfdHlwZV90ZW1wbGF0ZV9pZF81ZmMzNmY2MF9yZW5kZXIsIENIZWFkZXJOYXZ2dWVfdHlwZV90ZW1wbGF0ZV9pZF81ZmMzNmY2MF9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ0hlYWRlck5hdiA9IENIZWFkZXJOYXZfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DSGVhZGVyTmF2SXRlbS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MTg5MTNkNjgmCgogICAgdmFyIENIZWFkZXJOYXZJdGVtdnVlX3R5cGVfdGVtcGxhdGVfaWRfMTg5MTNkNjhfcmVuZGVyID0gZnVuY3Rpb24gQ0hlYWRlck5hdkl0ZW12dWVfdHlwZV90ZW1wbGF0ZV9pZF8xODkxM2Q2OF9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdsaScsIHsKICAgICAgICBzdGF0aWNDbGFzczogImMtaGVhZGVyLW5hdi1pdGVtIgogICAgICB9LCBbX3ZtLl90KCJkZWZhdWx0IildLCAyKTsKICAgIH07CgogICAgdmFyIENIZWFkZXJOYXZJdGVtdnVlX3R5cGVfdGVtcGxhdGVfaWRfMTg5MTNkNjhfc3RhdGljUmVuZGVyRm5zID0gW107IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DSGVhZGVyTmF2SXRlbS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDSGVhZGVyTmF2SXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NIZWFkZXJOYXZJdGVtJwogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DSGVhZGVyTmF2SXRlbS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciB0ZW1wbGF0ZV9DSGVhZGVyTmF2SXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENIZWFkZXJOYXZJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NIZWFkZXJOYXZJdGVtLnZ1ZQoKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0hlYWRlck5hdkl0ZW1fY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKSh0ZW1wbGF0ZV9DSGVhZGVyTmF2SXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0hlYWRlck5hdkl0ZW12dWVfdHlwZV90ZW1wbGF0ZV9pZF8xODkxM2Q2OF9yZW5kZXIsIENIZWFkZXJOYXZJdGVtdnVlX3R5cGVfdGVtcGxhdGVfaWRfMTg5MTNkNjhfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENIZWFkZXJOYXZJdGVtID0gQ0hlYWRlck5hdkl0ZW1fY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DSGVhZGVyTmF2TGluay52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MWY1NDJlN2EmCgogICAgdmFyIENIZWFkZXJOYXZMaW5rdnVlX3R5cGVfdGVtcGxhdGVfaWRfMWY1NDJlN2FfcmVuZGVyID0gZnVuY3Rpb24gQ0hlYWRlck5hdkxpbmt2dWVfdHlwZV90ZW1wbGF0ZV9pZF8xZjU0MmU3YV9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdDTGluaycsIF92bS5fYih7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJjLWhlYWRlci1uYXYtbGluayIKICAgICAgfSwgJ0NMaW5rJywgX3ZtLiRwcm9wcywgZmFsc2UpLCBbX3ZtLl90KCJkZWZhdWx0IildLCAyKTsKICAgIH07CgogICAgdmFyIENIZWFkZXJOYXZMaW5rdnVlX3R5cGVfdGVtcGxhdGVfaWRfMWY1NDJlN2Ffc3RhdGljUmVuZGVyRm5zID0gW107IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DSGVhZGVyTmF2TGluay52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDSGVhZGVyTmF2TGlua3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NIZWFkZXJOYXZMaW5rJywKICAgICAgY29tcG9uZW50czogewogICAgICAgIENMaW5rOiBDTGluawogICAgICB9LAogICAgICBwcm9wczogQ0xpbmt2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19wcm9wcwogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DSGVhZGVyTmF2TGluay52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciB0ZW1wbGF0ZV9DSGVhZGVyTmF2TGlua3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENIZWFkZXJOYXZMaW5rdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NIZWFkZXJOYXZMaW5rLnZ1ZQoKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ0hlYWRlck5hdkxpbmtfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKSh0ZW1wbGF0ZV9DSGVhZGVyTmF2TGlua3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ0hlYWRlck5hdkxpbmt2dWVfdHlwZV90ZW1wbGF0ZV9pZF8xZjU0MmU3YV9yZW5kZXIsIENIZWFkZXJOYXZMaW5rdnVlX3R5cGVfdGVtcGxhdGVfaWRfMWY1NDJlN2Ffc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENIZWFkZXJOYXZMaW5rID0gQ0hlYWRlck5hdkxpbmtfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DU3ViaGVhZGVyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD02ZDkxOGQzMiYKCiAgICB2YXIgQ1N1YmhlYWRlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzZkOTE4ZDMyX3JlbmRlciA9IGZ1bmN0aW9uIENTdWJoZWFkZXJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF82ZDkxOGQzMl9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKF92bS50YWcsIHsKICAgICAgICB0YWc6ICJjb21wb25lbnQiLAogICAgICAgIHN0YXRpY0NsYXNzOiAiYy1zdWJoZWFkZXIiCiAgICAgIH0sIFtfdm0uX3QoImRlZmF1bHQiKV0sIDIpOwogICAgfTsKCiAgICB2YXIgQ1N1YmhlYWRlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzZkOTE4ZDMyX3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1N1YmhlYWRlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDU3ViaGVhZGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ1N1YmhlYWRlcicsCiAgICAgIHByb3BzOiB7CiAgICAgICAgdGFnOiB7CiAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICBkZWZhdWx0OiAnZGl2JwogICAgICAgIH0KICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DU3ViaGVhZGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIHRlbXBsYXRlX0NTdWJoZWFkZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDU3ViaGVhZGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NTdWJoZWFkZXIudnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDU3ViaGVhZGVyX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkodGVtcGxhdGVfQ1N1YmhlYWRlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ1N1YmhlYWRlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzZkOTE4ZDMyX3JlbmRlciwgQ1N1YmhlYWRlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzZkOTE4ZDMyX3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDU3ViaGVhZGVyID0gQ1N1YmhlYWRlcl9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzP3siY2FjaGVEaXJlY3RvcnkiOiJub2RlX21vZHVsZXMvLmNhY2hlL3Z1ZS1sb2FkZXIiLCJjYWNoZUlkZW50aWZpZXIiOiI0ODc1MDdiOS12dWUtbG9hZGVyLXRlbXBsYXRlIn0hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy90ZW1wbGF0ZUxvYWRlci5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NTaWRlYmFyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0yODIxNjQ3NCYKCiAgICB2YXIgQ1NpZGViYXJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF8yODIxNjQ3NF9yZW5kZXIgPSBmdW5jdGlvbiBDU2lkZWJhcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzI4MjE2NDc0X3JlbmRlcigpIHsKICAgICAgdmFyIF92bSA9IHRoaXM7CgogICAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogICAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogICAgICByZXR1cm4gX2MoJ2RpdicsIHsKICAgICAgICBjbGFzczogX3ZtLnNpZGViYXJDbGFzc2VzLAogICAgICAgIG9uOiB7CiAgICAgICAgICAiY2xpY2siOiBfdm0uc2lkZWJhckNsaWNrCiAgICAgICAgfQogICAgICB9LCBbX3ZtLl90KCJkZWZhdWx0IildLCAyKTsKICAgIH07CgogICAgdmFyIENTaWRlYmFydnVlX3R5cGVfdGVtcGxhdGVfaWRfMjgyMTY0NzRfc3RhdGljUmVuZGVyRm5zID0gW107IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DU2lkZWJhci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ1NpZGViYXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKICAgICAgaWYgKGtleSBpbiBvYmopIHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKICAgICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgICB3cml0YWJsZTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIG9ialtrZXldID0gdmFsdWU7CiAgICAgIH0KCiAgICAgIHJldHVybiBvYmo7CiAgICB9IC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgoKICAgIHZhciBDU2lkZWJhcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NTaWRlYmFyJywKICAgICAgcHJvcHM6IHsKICAgICAgICBmaXhlZDogewogICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB9LAogICAgICAgIHVuZm9sZGFibGU6IEJvb2xlYW4sCiAgICAgICAgb3ZlcmxhaWQ6IEJvb2xlYW4sCiAgICAgICAgYnJlYWtwb2ludDogewogICAgICAgICAgdHlwZTogW1N0cmluZywgQm9vbGVhbl0sCiAgICAgICAgICBkZWZhdWx0OiAnbGcnLAogICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsKSB7CiAgICAgICAgICAgIHJldHVybiBbZmFsc2UsICcnLCAnc20nLCAnbWQnLCAnbGcnLCAneGwnXS5pbmNsdWRlcyh2YWwpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbWluaW1pemU6IEJvb2xlYW4sCiAgICAgICAgc2hvdzogewogICAgICAgICAgdHlwZTogW0Jvb2xlYW4sIFN0cmluZ10sCiAgICAgICAgICBkZWZhdWx0OiAncmVzcG9uc2l2ZScKICAgICAgICB9LAogICAgICAgIHNpemU6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbCkgewogICAgICAgICAgICByZXR1cm4gWycnLCAnc20nLCAnbGcnLCAneGwnXS5pbmNsdWRlcyh2YWwpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgaGlkZU9uTW9iaWxlQ2xpY2s6IHsKICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICBkZWZhdWx0OiB0cnVlCiAgICAgICAgfSwKICAgICAgICBhc2lkZTogQm9vbGVhbiwKICAgICAgICBjb2xvclNjaGVtZTogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgZGVmYXVsdDogJ2RhcmsnCiAgICAgICAgfSwKICAgICAgICBkcm9wZG93bk1vZGU6IHsKICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgIGRlZmF1bHQ6ICdvcGVuQWN0aXZlJywKICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKG1vZGUpIHsKICAgICAgICAgICAgcmV0dXJuIFsnJywgJ29wZW5BY3RpdmUnLCAnY2xvc2UnLCAnY2xvc2VJbmFjdGl2ZScsICdub0FjdGlvbiddLmluY2x1ZGVzKG1vZGUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgcHJvdmlkZTogZnVuY3Rpb24gcHJvdmlkZSgpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICB2YXIgc3RhdGUgPSB7fTsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc3RhdGUsICdtaW5pbWl6ZScsIHsKICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMubWluaW1pemUgJiYgIV90aGlzLnVuZm9sZGFibGU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHN0YXRlOiBzdGF0ZSwKICAgICAgICAgIGRyb3Bkb3duTW9kZTogdGhpcy5kcm9wZG93bk1vZGUKICAgICAgICB9OwogICAgICB9LAogICAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBvcGVuOiB0aGlzLnNob3cKICAgICAgICB9OwogICAgICB9LAogICAgICB3YXRjaDogewogICAgICAgIHNob3c6IGZ1bmN0aW9uIHNob3codmFsKSB7CiAgICAgICAgICB0aGlzLm9wZW4gPSB2YWw7CiAgICAgICAgfSwKICAgICAgICBvcGVuOiB7CiAgICAgICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgICAgICB2YWwgPT09IHRydWUgPyB0aGlzLmNyZWF0ZUJhY2tkcm9wKCkgOiB0aGlzLnJlbW92ZUJhY2tkcm9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICAvLyBtb3VudGVkICgpIHsKICAgICAgLy8gICBpZiAodGhpcy5vcGVuID09PSB0cnVlKSB7CiAgICAgIC8vICAgICB0aGlzLmNyZWF0ZUJhY2tkcm9wKCkKICAgICAgLy8gICB9CiAgICAgIC8vIH0sCiAgICAgIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uIGJlZm9yZURlc3Ryb3koKSB7CiAgICAgICAgdGhpcy5yZW1vdmVCYWNrZHJvcCgpOwogICAgICB9LAogICAgICBjb21wdXRlZDogewogICAgICAgIHNpZGViYXJDbGFzc2VzOiBmdW5jdGlvbiBzaWRlYmFyQ2xhc3NlcygpIHsKICAgICAgICAgIHZhciBfcmVmOwoKICAgICAgICAgIHZhciBoYXZlUmVzcG9uc2l2ZUNsYXNzID0gdGhpcy5icmVha3BvaW50ICYmIHRoaXMub3BlbiA9PT0gJ3Jlc3BvbnNpdmUnOwogICAgICAgICAgcmV0dXJuIFsnYy1zaWRlYmFyJywgImMtc2lkZWJhci0iLmNvbmNhdCh0aGlzLmNvbG9yU2NoZW1lKSwgKF9yZWYgPSB7CiAgICAgICAgICAgICdjLXNpZGViYXItc2hvdyc6IHRoaXMub3BlbiA9PT0gdHJ1ZQogICAgICAgICAgfSwgQ1NpZGViYXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfcmVmLCAiYy1zaWRlYmFyLSIuY29uY2F0KHRoaXMuYnJlYWtwb2ludCwgIi1zaG93IiksIGhhdmVSZXNwb25zaXZlQ2xhc3MpLCBDU2lkZWJhcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYsICdjLXNpZGViYXItZml4ZWQnLCB0aGlzLmZpeGVkICYmICF0aGlzLm92ZXJsYWlkKSwgQ1NpZGViYXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfcmVmLCAnYy1zaWRlYmFyLXJpZ2h0JywgdGhpcy5hc2lkZSksIENTaWRlYmFydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZiwgJ2Mtc2lkZWJhci1taW5pbWl6ZWQnLCB0aGlzLm1pbmltaXplICYmICF0aGlzLnVuZm9sZGFibGUpLCBDU2lkZWJhcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KF9yZWYsICdjLXNpZGViYXItdW5mb2xkYWJsZScsIHRoaXMubWluaW1pemUgJiYgdGhpcy51bmZvbGRhYmxlKSwgQ1NpZGViYXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eShfcmVmLCAnYy1zaWRlYmFyLW92ZXJsYWlkJywgdGhpcy5vdmVybGFpZCksIENTaWRlYmFydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoX3JlZiwgImMtc2lkZWJhci0iLmNvbmNhdCh0aGlzLnNpemUpLCB0aGlzLnNpemUpLCBfcmVmKV07CiAgICAgICAgfQogICAgICB9LAogICAgICBtZXRob2RzOiB7CiAgICAgICAgc2lkZWJhckNsaWNrOiBmdW5jdGlvbiBzaWRlYmFyQ2xpY2soZSkgewogICAgICAgICAgaWYgKHRoaXMuaGlkZU9uTW9iaWxlQ2xpY2sgJiYgdGhpcy5pc09uTW9iaWxlKCkpIHsKICAgICAgICAgICAgZS50YXJnZXQuY2xvc2VzdCgnYS5jLXNpZGViYXItbmF2LWxpbmsnKSA/IHRoaXMuY2xvc2VTaWRlYmFyKCkgOiBudWxsOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY2xvc2VTaWRlYmFyOiBmdW5jdGlvbiBjbG9zZVNpZGViYXIoKSB7CiAgICAgICAgICB0aGlzLm9wZW4gPSB0aGlzLm92ZXJsYWlkID8gZmFsc2UgOiAncmVzcG9uc2l2ZSc7CiAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6c2hvdycsIHRoaXMub3Blbik7CiAgICAgICAgfSwKICAgICAgICBpc09uTW9iaWxlOiBmdW5jdGlvbiBpc09uTW9iaWxlKCkgewogICAgICAgICAgcmV0dXJuIEJvb2xlYW4oZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLiRlbCkuZ2V0UHJvcGVydHlWYWx1ZSgnLS1pcy1tb2JpbGUnKSk7CiAgICAgICAgfSwKICAgICAgICBzaWRlYmFyQ2xvc2VMaXN0ZW5lcjogZnVuY3Rpb24gc2lkZWJhckNsb3NlTGlzdGVuZXIoZSkgewogICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX3VpZCArICdiYWNrZHJvcCcpICYmICF0aGlzLiRlbC5jb250YWlucyhlLnRhcmdldCkpIHsKICAgICAgICAgICAgdGhpcy5jbG9zZVNpZGViYXIoKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNyZWF0ZUJhY2tkcm9wOiBmdW5jdGlvbiBjcmVhdGVCYWNrZHJvcCgpIHsKICAgICAgICAgIHZhciBiYWNrZHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoKICAgICAgICAgIGlmICh0aGlzLm92ZXJsYWlkKSB7CiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zaWRlYmFyQ2xvc2VMaXN0ZW5lciwgdHJ1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBiYWNrZHJvcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VTaWRlYmFyKTsKICAgICAgICAgIH0KCiAgICAgICAgICBiYWNrZHJvcC5jbGFzc05hbWUgPSAnYy1zaWRlYmFyLWJhY2tkcm9wIGMtc2hvdyc7CiAgICAgICAgICBiYWNrZHJvcC5pZCA9IHRoaXMuX3VpZCArICdiYWNrZHJvcCc7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJhY2tkcm9wKTsKICAgICAgICB9LAogICAgICAgIHJlbW92ZUJhY2tkcm9wOiBmdW5jdGlvbiByZW1vdmVCYWNrZHJvcCgpIHsKICAgICAgICAgIHZhciBiYWNrZHJvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuX3VpZCArICdiYWNrZHJvcCcpOwoKICAgICAgICAgIGlmIChiYWNrZHJvcCkgewogICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc2lkZWJhckNsb3NlTGlzdGVuZXIpOwogICAgICAgICAgICBiYWNrZHJvcC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VTaWRlYmFyKTsKICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChiYWNrZHJvcCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NTaWRlYmFyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIHRlbXBsYXRlX0NTaWRlYmFydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ1NpZGViYXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXIudnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDU2lkZWJhcl9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHRlbXBsYXRlX0NTaWRlYmFydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDU2lkZWJhcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzI4MjE2NDc0X3JlbmRlciwgQ1NpZGViYXJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF8yODIxNjQ3NF9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1NpZGViYXIgPSBDU2lkZWJhcl9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NTaWRlYmFyQnJhbmQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgogICAgLy8KICAgIC8vCgogICAgdmFyIENTaWRlYmFyQnJhbmR2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19wcm9wcyA9IE9iamVjdC5hc3NpZ24ocHJvcHNGYWN0b3J5KCksIHsKICAgICAgdGFnOiB7CiAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgIGRlZmF1bHQ6ICdkaXYnCiAgICAgIH0KICAgIH0pOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDU2lkZWJhckJyYW5kdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBmdW5jdGlvbmFsOiB0cnVlLAogICAgICBuYW1lOiAnQ1NpZGViYXJCcmFuZCcsCiAgICAgIHByb3BzOiBDU2lkZWJhckJyYW5kdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfcHJvcHMsCiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKGgsIF9yZWYpIHsKICAgICAgICB2YXIgcHJvcHMgPSBfcmVmLnByb3BzLAogICAgICAgICAgICBkYXRhID0gX3JlZi5kYXRhLAogICAgICAgICAgICBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW47CiAgICAgICAgdmFyIGlzTGluayA9IHByb3BzLmhyZWYgfHwgcHJvcHMudG87CiAgICAgICAgcmV0dXJuIGgoaXNMaW5rID8gQ0xpbmsgOiBwcm9wcy50YWcsIGEoZGF0YSwgewogICAgICAgICAgc3RhdGljQ2xhc3M6ICdjLXNpZGViYXItYnJhbmQnLAogICAgICAgICAgcHJvcHM6IGlzTGluayA/IHByb3BzIDoge30KICAgICAgICB9KSwgY2hpbGRyZW4pOwogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NTaWRlYmFyQnJhbmQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgdGVtcGxhdGVfQ1NpZGViYXJCcmFuZHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENTaWRlYmFyQnJhbmR2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJCcmFuZC52dWUKCiAgICB2YXIgQ1NpZGViYXJCcmFuZF9yZW5kZXIsIENTaWRlYmFyQnJhbmRfc3RhdGljUmVuZGVyRm5zOwogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDU2lkZWJhckJyYW5kX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkodGVtcGxhdGVfQ1NpZGViYXJCcmFuZHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ1NpZGViYXJCcmFuZF9yZW5kZXIsIENTaWRlYmFyQnJhbmRfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENTaWRlYmFyQnJhbmQgPSBDU2lkZWJhckJyYW5kX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJDbG9zZS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9N2ZjZThkY2YmCgogICAgdmFyIENTaWRlYmFyQ2xvc2V2dWVfdHlwZV90ZW1wbGF0ZV9pZF83ZmNlOGRjZl9yZW5kZXIgPSBmdW5jdGlvbiBDU2lkZWJhckNsb3NldnVlX3R5cGVfdGVtcGxhdGVfaWRfN2ZjZThkY2ZfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygnQ0J1dHRvbkNsb3NlJywgewogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAiYnV0dG9uQ2xhc3NlcyI6ICJjLXNpZGViYXItY2xvc2UiCiAgICAgICAgfQogICAgICB9LCBbX2MoJ3N2ZycsIHsKICAgICAgICBzdGF0aWNDbGFzczogImMtaWNvbiIsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJ3aWR0aCI6ICIyNCIsCiAgICAgICAgICAiaGVpZ2h0IjogIjI0IiwKICAgICAgICAgICJ2aWV3Qm94IjogIjAgMCAyNCAyNCIKICAgICAgICB9CiAgICAgIH0sIFtfYygndGl0bGUnLCBbX3ZtLl92KCJ4IildKSwgX2MoJ3BhdGgnLCB7CiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJkIjogIk0yMC4wMzAgNS4wMzBsLTEuMDYxLTEuMDYxLTYuOTcgNi45Ny02Ljk3LTYuOTctMS4wNjEgMS4wNjEgNi45NyA2Ljk3LTYuOTcgNi45NyAxLjA2MSAxLjA2MSA2Ljk3LTYuOTcgNi45NyA2Ljk3IDEuMDYxLTEuMDYxLTYuOTctNi45NyA2Ljk3LTYuOTd6IgogICAgICAgIH0KICAgICAgfSldKV0pOwogICAgfTsKCiAgICB2YXIgQ1NpZGViYXJDbG9zZXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzdmY2U4ZGNmX3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJDbG9zZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDU2lkZWJhckNsb3NldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ1NpZGViYXJDbG9zZScsCiAgICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBDQnV0dG9uQ2xvc2U6IENCdXR0b25DbG9zZQogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NTaWRlYmFyQ2xvc2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgdGVtcGxhdGVfQ1NpZGViYXJDbG9zZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENTaWRlYmFyQ2xvc2V2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJDbG9zZS52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENTaWRlYmFyQ2xvc2VfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKSh0ZW1wbGF0ZV9DU2lkZWJhckNsb3NldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDU2lkZWJhckNsb3NldnVlX3R5cGVfdGVtcGxhdGVfaWRfN2ZjZThkY2ZfcmVuZGVyLCBDU2lkZWJhckNsb3NldnVlX3R5cGVfdGVtcGxhdGVfaWRfN2ZjZThkY2Zfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENTaWRlYmFyQ2xvc2UgPSBDU2lkZWJhckNsb3NlX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJGb290ZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTQ0OGU0YmE2JgoKICAgIHZhciBDU2lkZWJhckZvb3RlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzQ0OGU0YmE2X3JlbmRlciA9IGZ1bmN0aW9uIENTaWRlYmFyRm9vdGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfNDQ4ZTRiYTZfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiYy1zaWRlYmFyLWZvb3RlciIKICAgICAgfSwgW192bS5fdCgiZGVmYXVsdCIpXSwgMik7CiAgICB9OwoKICAgIHZhciBDU2lkZWJhckZvb3RlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzQ0OGU0YmE2X3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJGb290ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1NpZGViYXJGb290ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDU2lkZWJhckZvb3RlcicKICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJGb290ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgdGVtcGxhdGVfQ1NpZGViYXJGb290ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDU2lkZWJhckZvb3RlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DU2lkZWJhckZvb3Rlci52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENTaWRlYmFyRm9vdGVyX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkodGVtcGxhdGVfQ1NpZGViYXJGb290ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENTaWRlYmFyRm9vdGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfNDQ4ZTRiYTZfcmVuZGVyLCBDU2lkZWJhckZvb3RlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzQ0OGU0YmE2X3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDU2lkZWJhckZvb3RlciA9IENTaWRlYmFyRm9vdGVyX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJGb3JtLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0xYWNmYjg0NCYKCiAgICB2YXIgQ1NpZGViYXJGb3JtdnVlX3R5cGVfdGVtcGxhdGVfaWRfMWFjZmI4NDRfcmVuZGVyID0gZnVuY3Rpb24gQ1NpZGViYXJGb3JtdnVlX3R5cGVfdGVtcGxhdGVfaWRfMWFjZmI4NDRfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiYy1zaWRlYmFyLWZvcm0iCiAgICAgIH0sIFtfdm0uX3QoImRlZmF1bHQiKV0sIDIpOwogICAgfTsKCiAgICB2YXIgQ1NpZGViYXJGb3JtdnVlX3R5cGVfdGVtcGxhdGVfaWRfMWFjZmI4NDRfc3RhdGljUmVuZGVyRm5zID0gW107IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DU2lkZWJhckZvcm0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1NpZGViYXJGb3JtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ1NpZGViYXJGb3JtJwogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DU2lkZWJhckZvcm0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgdGVtcGxhdGVfQ1NpZGViYXJGb3JtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ1NpZGViYXJGb3JtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NTaWRlYmFyRm9ybS52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENTaWRlYmFyRm9ybV9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHRlbXBsYXRlX0NTaWRlYmFyRm9ybXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ1NpZGViYXJGb3JtdnVlX3R5cGVfdGVtcGxhdGVfaWRfMWFjZmI4NDRfcmVuZGVyLCBDU2lkZWJhckZvcm12dWVfdHlwZV90ZW1wbGF0ZV9pZF8xYWNmYjg0NF9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1NpZGViYXJGb3JtID0gQ1NpZGViYXJGb3JtX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJIZWFkZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTUxYjYxNTNiJgoKICAgIHZhciBDU2lkZWJhckhlYWRlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzUxYjYxNTNiX3JlbmRlciA9IGZ1bmN0aW9uIENTaWRlYmFySGVhZGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfNTFiNjE1M2JfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiYy1zaWRlYmFyLWhlYWRlciIKICAgICAgfSwgW192bS5fdCgiZGVmYXVsdCIpXSwgMik7CiAgICB9OwoKICAgIHZhciBDU2lkZWJhckhlYWRlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzUxYjYxNTNiX3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJIZWFkZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1NpZGViYXJIZWFkZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDU2lkZWJhckhlYWRlcicKICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJIZWFkZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgdGVtcGxhdGVfQ1NpZGViYXJIZWFkZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDU2lkZWJhckhlYWRlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DU2lkZWJhckhlYWRlci52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENTaWRlYmFySGVhZGVyX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkodGVtcGxhdGVfQ1NpZGViYXJIZWFkZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENTaWRlYmFySGVhZGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfNTFiNjE1M2JfcmVuZGVyLCBDU2lkZWJhckhlYWRlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzUxYjYxNTNiX3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDU2lkZWJhckhlYWRlciA9IENTaWRlYmFySGVhZGVyX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJNaW5pbWl6ZXIudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTg5MWEwNWU0JgoKICAgIHZhciBDU2lkZWJhck1pbmltaXplcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzg5MWEwNWU0X3JlbmRlciA9IGZ1bmN0aW9uIENTaWRlYmFyTWluaW1pemVydnVlX3R5cGVfdGVtcGxhdGVfaWRfODkxYTA1ZTRfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygnYnV0dG9uJywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiYy1zaWRlYmFyLW1pbmltaXplciIsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJ0eXBlIjogImJ1dHRvbiIKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKCiAgICB2YXIgQ1NpZGViYXJNaW5pbWl6ZXJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF84OTFhMDVlNF9zdGF0aWNSZW5kZXJGbnMgPSBbXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NTaWRlYmFyTWluaW1pemVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1NpZGViYXJNaW5pbWl6ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDU2lkZWJhck1pbmltaXplcicKICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJNaW5pbWl6ZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgdGVtcGxhdGVfQ1NpZGViYXJNaW5pbWl6ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDU2lkZWJhck1pbmltaXplcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DU2lkZWJhck1pbmltaXplci52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENTaWRlYmFyTWluaW1pemVyX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkodGVtcGxhdGVfQ1NpZGViYXJNaW5pbWl6ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENTaWRlYmFyTWluaW1pemVydnVlX3R5cGVfdGVtcGxhdGVfaWRfODkxYTA1ZTRfcmVuZGVyLCBDU2lkZWJhck1pbmltaXplcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzg5MWEwNWU0X3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDU2lkZWJhck1pbmltaXplciA9IENTaWRlYmFyTWluaW1pemVyX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJOYXYudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTRlNDE1M2RlJgoKICAgIHZhciBDU2lkZWJhck5hdnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzRlNDE1M2RlX3JlbmRlciA9IGZ1bmN0aW9uIENTaWRlYmFyTmF2dnVlX3R5cGVfdGVtcGxhdGVfaWRfNGU0MTUzZGVfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygnQ1Njcm9sbGJhcicsIHsKICAgICAgICBzdGF0aWNDbGFzczogImMtc2lkZWJhci1uYXYgaC0xMDAiLAogICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAic2V0dGluZ3MiOiBfdm0ucHNTZXR0aW5ncywKICAgICAgICAgICJzd2l0Y2hlciI6ICFfdm0uc3RhdGUubWluaW1pemUsCiAgICAgICAgICAidGFnIjogInVsIgogICAgICAgIH0KICAgICAgfSwgW192bS5fdCgiZGVmYXVsdCIpXSwgMik7CiAgICB9OwoKICAgIHZhciBDU2lkZWJhck5hdnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzRlNDE1M2RlX3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJOYXYudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDU2lkZWJhck5hdnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NTaWRlYmFyTmF2JywKICAgICAgY29tcG9uZW50czogewogICAgICAgIENTY3JvbGxiYXI6IENTY3JvbGxiYXIKICAgICAgfSwKICAgICAgaW5qZWN0OiB7CiAgICAgICAgc3RhdGU6IHsKICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICAgICAgfQogICAgICB9LAogICAgICBjb21wdXRlZDogewogICAgICAgIHBzU2V0dGluZ3M6IGZ1bmN0aW9uIHBzU2V0dGluZ3MoKSB7CiAgICAgICAgICAvLyBUb0RvOiBmaW5kIGJldHRlciBydGwgZml4CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBtYXhTY3JvbGxiYXJMZW5ndGg6IDIwMCwKICAgICAgICAgICAgbWluU2Nyb2xsYmFyTGVuZ3RoOiA0MCwKICAgICAgICAgICAgc3VwcHJlc3NTY3JvbGxYOiBnZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2h0bWwnKSkuZGlyZWN0aW9uICE9PSAncnRsJywKICAgICAgICAgICAgd2hlZWxQcm9wYWdhdGlvbjogZmFsc2UKICAgICAgICAgIH07CiAgICAgICAgfQogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NTaWRlYmFyTmF2LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIHRlbXBsYXRlX0NTaWRlYmFyTmF2dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ1NpZGViYXJOYXZ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJOYXYudnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDU2lkZWJhck5hdl9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHRlbXBsYXRlX0NTaWRlYmFyTmF2dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDU2lkZWJhck5hdnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzRlNDE1M2RlX3JlbmRlciwgQ1NpZGViYXJOYXZ2dWVfdHlwZV90ZW1wbGF0ZV9pZF80ZTQxNTNkZV9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1NpZGViYXJOYXYgPSBDU2lkZWJhck5hdl9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzP3siY2FjaGVEaXJlY3RvcnkiOiJub2RlX21vZHVsZXMvLmNhY2hlL3Z1ZS1sb2FkZXIiLCJjYWNoZUlkZW50aWZpZXIiOiI0ODc1MDdiOS12dWUtbG9hZGVyLXRlbXBsYXRlIn0hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy90ZW1wbGF0ZUxvYWRlci5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NTaWRlYmFyTmF2RGl2aWRlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9YjFhNDBlNzAmCgogICAgdmFyIENTaWRlYmFyTmF2RGl2aWRlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkX2IxYTQwZTcwX3JlbmRlciA9IGZ1bmN0aW9uIENTaWRlYmFyTmF2RGl2aWRlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkX2IxYTQwZTcwX3JlbmRlcigpIHsKICAgICAgdmFyIF92bSA9IHRoaXM7CgogICAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogICAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogICAgICByZXR1cm4gX2MoJ2xpJywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiYy1zaWRlYmFyLW5hdi1kaXZpZGVyIgogICAgICB9KTsKICAgIH07CgogICAgdmFyIENTaWRlYmFyTmF2RGl2aWRlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkX2IxYTQwZTcwX3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJOYXZEaXZpZGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDU2lkZWJhck5hdkRpdmlkZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDU2lkZWJhck5hdkRpdmlkZXInCiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NTaWRlYmFyTmF2RGl2aWRlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciB0ZW1wbGF0ZV9DU2lkZWJhck5hdkRpdmlkZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDU2lkZWJhck5hdkRpdmlkZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJOYXZEaXZpZGVyLnZ1ZQoKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ1NpZGViYXJOYXZEaXZpZGVyX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkodGVtcGxhdGVfQ1NpZGViYXJOYXZEaXZpZGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDU2lkZWJhck5hdkRpdmlkZXJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF9iMWE0MGU3MF9yZW5kZXIsIENTaWRlYmFyTmF2RGl2aWRlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkX2IxYTQwZTcwX3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDU2lkZWJhck5hdkRpdmlkZXIgPSBDU2lkZWJhck5hdkRpdmlkZXJfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DU2lkZWJhck5hdkRyb3Bkb3duLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD00ZTQ5Nzg1MSYKCiAgICB2YXIgQ1NpZGViYXJOYXZEcm9wZG93bnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzRlNDk3ODUxX3JlbmRlciA9IGZ1bmN0aW9uIENTaWRlYmFyTmF2RHJvcGRvd252dWVfdHlwZV90ZW1wbGF0ZV9pZF80ZTQ5Nzg1MV9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdsaScsIHsKICAgICAgICBjbGFzczogX3ZtLmRyb3Bkb3duQ2xhc3NlcwogICAgICB9LCBbX2MoJ2EnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJjLXNpZGViYXItbmF2LWRyb3Bkb3duLXRvZ2dsZSIsCiAgICAgICAgb246IHsKICAgICAgICAgICJjbGljayI6IF92bS5oYW5kbGVDbGljawogICAgICAgIH0KICAgICAgfSwgW192bS5pY29uID8gX2MoJ0NJY29uJywgX3ZtLl9iKHt9LCAnQ0ljb24nLCBfdm0uY29tcHV0ZWRJY29uLCBmYWxzZSkpIDogX3ZtLl9lKCksIF92bS5mb250SWNvbiA/IF9jKCdpJywgewogICAgICAgIGNsYXNzOiBbJ2Mtc2lkZWJhci1uYXYtaWNvbicsIF92bS5mb250SWNvbl0KICAgICAgfSkgOiBfdm0uX2UoKSwgX3ZtLl92KCIgIiArIF92bS5fcyhfdm0ubmFtZSkgKyAiICIpXSwgMSksIF9jKCd1bCcsIHsKICAgICAgICBzdGF0aWNDbGFzczogImMtc2lkZWJhci1uYXYtZHJvcGRvd24taXRlbXMiLAogICAgICAgIG9uOiB7CiAgICAgICAgICAiY2xpY2siOiBfdm0uaXRlbUNsaWNrZWQKICAgICAgICB9CiAgICAgIH0sIFtfdm0uX3QoImRlZmF1bHQiLCBbX3ZtLl9sKF92bS5pdGVtcywgZnVuY3Rpb24gKGl0ZW0sIGtleSkgewogICAgICAgIHJldHVybiBbX2MoJ0NTaWRlYmFyTmF2SXRlbScsIF92bS5fYih7CiAgICAgICAgICBrZXk6IGtleQogICAgICAgIH0sICdDU2lkZWJhck5hdkl0ZW0nLCBpdGVtLCBmYWxzZSkpXTsKICAgICAgfSldKV0sIDIpXSk7CiAgICB9OwoKICAgIHZhciBDU2lkZWJhck5hdkRyb3Bkb3dudnVlX3R5cGVfdGVtcGxhdGVfaWRfNGU0OTc4NTFfc3RhdGljUmVuZGVyRm5zID0gW107IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DU2lkZWJhck5hdkl0ZW0udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWFkNWRjN2Y2JgoKICAgIHZhciBDU2lkZWJhck5hdkl0ZW12dWVfdHlwZV90ZW1wbGF0ZV9pZF9hZDVkYzdmNl9yZW5kZXIgPSBmdW5jdGlvbiBDU2lkZWJhck5hdkl0ZW12dWVfdHlwZV90ZW1wbGF0ZV9pZF9hZDVkYzdmNl9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdsaScsIHsKICAgICAgICBzdGF0aWNDbGFzczogImMtc2lkZWJhci1uYXYtaXRlbSIKICAgICAgfSwgW192bS5fdCgiZGVmYXVsdCIsIFtfYygnQ0xpbmsnLCBfdm0uX2IoewogICAgICAgIGNsYXNzOiBfdm0ubGlua0NsYXNzZXMKICAgICAgfSwgJ0NMaW5rJywgX3ZtLmNvbXB1dGVkTGlua1Byb3BzLCBmYWxzZSksIFtfdm0uaWNvbiA/IF9jKCdDSWNvbicsIF92bS5fYih7fSwgJ0NJY29uJywgX3ZtLmNvbXB1dGVkSWNvbiwgZmFsc2UpKSA6IF92bS5fZSgpLCBfdm0uZm9udEljb24gPyBfYygnaScsIHsKICAgICAgICBjbGFzczogWydjLXNpZGViYXItbmF2LWljb24nLCBfdm0uZm9udEljb25dCiAgICAgIH0pIDogX3ZtLl9lKCksIF92bS5fdigiICIgKyBfdm0uX3MoX3ZtLm5hbWUpICsgIiAiKSwgX3ZtLmJhZGdlID8gX2MoJ0NCYWRnZScsIF92bS5fYih7fSwgJ0NCYWRnZScsIE9iamVjdC5hc3NpZ24oe30sIF92bS5iYWRnZSwgewogICAgICAgIHRleHQ6IG51bGwKICAgICAgfSksIGZhbHNlKSwgW192bS5fdigiICIgKyBfdm0uX3MoX3ZtLmJhZGdlLnRleHQpICsgIiAiKV0pIDogX3ZtLl9lKCldLCAxKV0pXSwgMik7CiAgICB9OwoKICAgIHZhciBDU2lkZWJhck5hdkl0ZW12dWVfdHlwZV90ZW1wbGF0ZV9pZF9hZDVkYzdmNl9zdGF0aWNSZW5kZXJGbnMgPSBbXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NTaWRlYmFyTmF2SXRlbS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ1NpZGViYXJOYXZJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICAgICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICAgICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICAgICAgfSk7CiAgICAgICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogICAgICB9CgogICAgICByZXR1cm4ga2V5czsKICAgIH0KCiAgICBmdW5jdGlvbiBDU2lkZWJhck5hdkl0ZW12dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgICAgIGlmIChpICUgMikgewogICAgICAgICAgQ1NpZGViYXJOYXZJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgIENTaWRlYmFyTmF2SXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBDU2lkZWJhck5hdkl0ZW12dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19vd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9CgogICAgZnVuY3Rpb24gQ1NpZGViYXJOYXZJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgICAgIGlmIChrZXkgaW4gb2JqKSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgICAgd3JpdGFibGU6IHRydWUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpba2V5XSA9IHZhbHVlOwogICAgICB9CgogICAgICByZXR1cm4gb2JqOwogICAgfQoKICAgIGZ1bmN0aW9uIENTaWRlYmFyTmF2SXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3R5cGVvZihvYmopIHsKICAgICAgIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mIjsKCiAgICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09ICJzeW1ib2wiKSB7CiAgICAgICAgQ1NpZGViYXJOYXZJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsKICAgICAgICAgIHJldHVybiB0eXBlb2Ygb2JqOwogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgQ1NpZGViYXJOYXZJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsKICAgICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgcmV0dXJuIENTaWRlYmFyTmF2SXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3R5cGVvZihvYmopOwogICAgfSAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgoKICAgIHZhciBDU2lkZWJhck5hdkl0ZW12dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19wcm9wcyA9IE9iamVjdC5hc3NpZ24oe30sIENMaW5rdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfcHJvcHMsIHsKICAgICAgZXhhY3Q6IHsKICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgfSwKICAgICAgYWN0aXZlQ2xhc3M6IHsKICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgZGVmYXVsdDogJ2MtYWN0aXZlJwogICAgICB9CiAgICB9LCB7CiAgICAgIG5hbWU6IFN0cmluZywKICAgICAgaWNvbjogW1N0cmluZywgT2JqZWN0XSwKICAgICAgZm9udEljb246IFN0cmluZywKICAgICAgYmFkZ2U6IE9iamVjdCwKICAgICAgYWRkTGlua0NsYXNzZXM6IFtTdHJpbmcsIEFycmF5LCBPYmplY3RdLAogICAgICBsYWJlbDogQm9vbGVhbiwKICAgICAgY29sb3I6IFN0cmluZwogICAgfSk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENTaWRlYmFyTmF2SXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NTaWRlYmFyTmF2SXRlbScsCiAgICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBDTGluazogQ0xpbmssCiAgICAgICAgQ0JhZGdlOiBDQmFkZ2UsCiAgICAgICAgQ0ljb246IENJY29uUmF3CiAgICAgIH0sCiAgICAgIHByb3BzOiBDU2lkZWJhck5hdkl0ZW12dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19wcm9wcywKICAgICAgY29tcHV0ZWQ6IHsKICAgICAgICBjb21wdXRlZExpbmtQcm9wczogZnVuY3Rpb24gY29tcHV0ZWRMaW5rUHJvcHMoKSB7CiAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhDTGlua3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3Byb3BzKS5yZWR1Y2UoZnVuY3Rpb24gKHByb3BzLCBrZXkpIHsKICAgICAgICAgICAgcHJvcHNba2V5XSA9IF90aGlzW2tleV07CiAgICAgICAgICAgIHJldHVybiBwcm9wczsKICAgICAgICAgIH0sIHt9KTsKICAgICAgICB9LAogICAgICAgIGxpbmtDbGFzc2VzOiBmdW5jdGlvbiBsaW5rQ2xhc3NlcygpIHsKICAgICAgICAgIHJldHVybiBbdGhpcy5sYWJlbCA/ICdjLXNpZGViYXItbmF2LWxhYmVsJyA6ICdjLXNpZGViYXItbmF2LWxpbmsnLCB0aGlzLmNvbG9yICYmICJjLXNpZGViYXItbmF2LWxpbmstIi5jb25jYXQodGhpcy5jb2xvciksIHRoaXMuYWRkTGlua0NsYXNzZXNdOwogICAgICAgIH0sCiAgICAgICAgY29tcHV0ZWRJY29uOiBmdW5jdGlvbiBjb21wdXRlZEljb24oKSB7CiAgICAgICAgICBpZiAoQ1NpZGViYXJOYXZJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfdHlwZW9mKHRoaXMuaWNvbikgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIHZhciBrZXkgPSB0aGlzLmljb24uc2l6ZSA/ICdjbGFzcycgOiAnY3VzdG9tQ2xhc3Nlcyc7CiAgICAgICAgICAgIHJldHVybiBDU2lkZWJhck5hdkl0ZW12dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19vYmplY3RTcHJlYWQoQ1NpZGViYXJOYXZJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmljb24pLCB7fSwgQ1NpZGViYXJOYXZJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoe30sICIiLmNvbmNhdChrZXkpLCB0aGlzLmljb24uY3VzdG9tQ2xhc3NlcyB8fCBbJ2Mtc2lkZWJhci1uYXYtaWNvbicsIHRoaXMuaWNvbi5jbGFzc05hbWVdKSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIGN1c3RvbUNsYXNzZXM6ICdjLXNpZGViYXItbmF2LWljb24nLAogICAgICAgICAgICAgIG5hbWU6IHRoaXMuaWNvbgogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DU2lkZWJhck5hdkl0ZW0udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgdGVtcGxhdGVfQ1NpZGViYXJOYXZJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ1NpZGViYXJOYXZJdGVtdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NTaWRlYmFyTmF2SXRlbS52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENTaWRlYmFyTmF2SXRlbV9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHRlbXBsYXRlX0NTaWRlYmFyTmF2SXRlbXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ1NpZGViYXJOYXZJdGVtdnVlX3R5cGVfdGVtcGxhdGVfaWRfYWQ1ZGM3ZjZfcmVuZGVyLCBDU2lkZWJhck5hdkl0ZW12dWVfdHlwZV90ZW1wbGF0ZV9pZF9hZDVkYzdmNl9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1NpZGViYXJOYXZJdGVtID0gQ1NpZGViYXJOYXZJdGVtX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJOYXZEcm9wZG93bi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ1NpZGViYXJOYXZEcm9wZG93bnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX293bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewogICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7CgogICAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgewogICAgICAgIHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOwogICAgICAgIGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsKICAgICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOwogICAgICAgIH0pOwogICAgICAgIGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGtleXM7CiAgICB9CgogICAgZnVuY3Rpb24gQ1NpZGViYXJOYXZEcm9wZG93bnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX29iamVjdFNwcmVhZCh0YXJnZXQpIHsKICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsKCiAgICAgICAgaWYgKGkgJSAyKSB7CiAgICAgICAgICBDU2lkZWJhck5hdkRyb3Bkb3dudnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgIENTaWRlYmFyTmF2RHJvcGRvd252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgewogICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgQ1NpZGViYXJOYXZEcm9wZG93bnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX293bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRhcmdldDsKICAgIH0KCiAgICBmdW5jdGlvbiBDU2lkZWJhck5hdkRyb3Bkb3dudnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgICAgIGlmIChrZXkgaW4gb2JqKSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgICAgd3JpdGFibGU6IHRydWUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpba2V5XSA9IHZhbHVlOwogICAgICB9CgogICAgICByZXR1cm4gb2JqOwogICAgfQoKICAgIGZ1bmN0aW9uIENTaWRlYmFyTmF2RHJvcGRvd252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc190eXBlb2Yob2JqKSB7CiAgICAgICJAYmFiZWwvaGVscGVycyAtIHR5cGVvZiI7CgogICAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSAic3ltYm9sIikgewogICAgICAgIENTaWRlYmFyTmF2RHJvcGRvd252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc190eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgewogICAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmo7CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICBDU2lkZWJhck5hdkRyb3Bkb3dudnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsKICAgICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyAic3ltYm9sIiA6IHR5cGVvZiBvYmo7CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgcmV0dXJuIENTaWRlYmFyTmF2RHJvcGRvd252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc190eXBlb2Yob2JqKTsKICAgIH0gLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICB2YXIgQ1NpZGViYXJOYXZEcm9wZG93bnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NTaWRlYmFyTmF2RHJvcGRvd24nLAogICAgICBjb21wb25lbnRzOiB7CiAgICAgICAgQ0ljb246IENJY29uUmF3LAogICAgICAgIENTaWRlYmFyTmF2SXRlbTogQ1NpZGViYXJOYXZJdGVtCiAgICAgIH0sCiAgICAgIHByb3BzOiB7CiAgICAgICAgbmFtZTogU3RyaW5nLAogICAgICAgIHJvdXRlOiB7CiAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2YWwpIHsKICAgICAgICAgICAgcmV0dXJuIHZhbC5sZW5ndGggPiAwOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgaWNvbjogW1N0cmluZywgT2JqZWN0XSwKICAgICAgICBmb250SWNvbjogU3RyaW5nLAogICAgICAgIHNob3c6IEJvb2xlYW4sCiAgICAgICAgaXRlbXM6IEFycmF5CiAgICAgIH0sCiAgICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG9wZW46IHRoaXMuc2hvdwogICAgICAgIH07CiAgICAgIH0sCiAgICAgIGluamVjdDogewogICAgICAgIGRyb3Bkb3duTW9kZTogewogICAgICAgICAgZGVmYXVsdDogJ29wZW5BY3RpdmUnCiAgICAgICAgfQogICAgICB9LAogICAgICB3YXRjaDogewogICAgICAgIHNob3c6IGZ1bmN0aW9uIHNob3codmFsKSB7CiAgICAgICAgICB0aGlzLm9wZW4gPSB2YWw7CiAgICAgICAgfSwKICAgICAgICAkcm91dGU6IHsKICAgICAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIocm91dGUpIHsKICAgICAgICAgICAgdmFyIG1vZGUgPSB0aGlzLmRyb3Bkb3duTW9kZTsKCiAgICAgICAgICAgIGlmIChtb2RlID09PSAnY2xvc2UnKSB7CiAgICAgICAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gJ2Nsb3NlSW5hY3RpdmUnICYmIHRoaXMucm91dGUpIHsKICAgICAgICAgICAgICB0aGlzLm9wZW4gPSByb3V0ZS5mdWxsUGF0aC5pbmNsdWRlcyh0aGlzLnJvdXRlKTsKICAgICAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSAnb3BlbkFjdGl2ZScgJiYgIXRoaXMub3BlbiAmJiB0aGlzLnJvdXRlKSB7CiAgICAgICAgICAgICAgdGhpcy5vcGVuID0gcm91dGUuZnVsbFBhdGguaW5jbHVkZXModGhpcy5yb3V0ZSk7CiAgICAgICAgICAgIH0gLy8gZWxzZSBpZiAobW9kZSA9PT0gJ25vQWN0aW9uJykgewogICAgICAgICAgICAvLyAgIHJldHVybgogICAgICAgICAgICAvLyB9CgogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgY29tcHV0ZWQ6IHsKICAgICAgICBkcm9wZG93bkNsYXNzZXM6IGZ1bmN0aW9uIGRyb3Bkb3duQ2xhc3NlcygpIHsKICAgICAgICAgIHJldHVybiBbJ2Mtc2lkZWJhci1uYXYtZHJvcGRvd24nLCB7CiAgICAgICAgICAgICdjLXNob3cnOiB0aGlzLm9wZW4KICAgICAgICAgIH1dOwogICAgICAgIH0sCiAgICAgICAgY29tcHV0ZWRJY29uOiBmdW5jdGlvbiBjb21wdXRlZEljb24oKSB7CiAgICAgICAgICBpZiAoQ1NpZGViYXJOYXZEcm9wZG93bnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX3R5cGVvZih0aGlzLmljb24pID09PSAnb2JqZWN0JykgewogICAgICAgICAgICB2YXIga2V5ID0gdGhpcy5pY29uLnNpemUgPyAnY2xhc3MnIDogJ2N1c3RvbUNsYXNzZXMnOwogICAgICAgICAgICByZXR1cm4gQ1NpZGViYXJOYXZEcm9wZG93bnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX29iamVjdFNwcmVhZChDU2lkZWJhck5hdkRyb3Bkb3dudnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmljb24pLCB7fSwgQ1NpZGViYXJOYXZEcm9wZG93bnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KHt9LCAiIi5jb25jYXQoa2V5KSwgdGhpcy5pY29uLmN1c3RvbUNsYXNzZXMgfHwgWydjLXNpZGViYXItbmF2LWljb24nLCB0aGlzLmljb24uY2xhc3NOYW1lXSkpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBjdXN0b21DbGFzc2VzOiAnYy1zaWRlYmFyLW5hdi1pY29uJywKICAgICAgICAgICAgICBuYW1lOiB0aGlzLmljb24KICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1ldGhvZHM6IHsKICAgICAgICBoYW5kbGVDbGljazogZnVuY3Rpb24gaGFuZGxlQ2xpY2soZSkgewogICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgdGhpcy5vcGVuID0gIXRoaXMub3BlbjsKICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpzaG93JywgdGhpcy5vcGVuKTsKICAgICAgICB9LAogICAgICAgIGl0ZW1DbGlja2VkOiBmdW5jdGlvbiBpdGVtQ2xpY2tlZChlKSB7CiAgICAgICAgICB0aGlzLiRlbWl0KCdpdGVtLWNsaWNrZWQnLCBlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJOYXZEcm9wZG93bi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciB0ZW1wbGF0ZV9DU2lkZWJhck5hdkRyb3Bkb3dudnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ1NpZGViYXJOYXZEcm9wZG93bnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DU2lkZWJhck5hdkRyb3Bkb3duLnZ1ZQoKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ1NpZGViYXJOYXZEcm9wZG93bl9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHRlbXBsYXRlX0NTaWRlYmFyTmF2RHJvcGRvd252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENTaWRlYmFyTmF2RHJvcGRvd252dWVfdHlwZV90ZW1wbGF0ZV9pZF80ZTQ5Nzg1MV9yZW5kZXIsIENTaWRlYmFyTmF2RHJvcGRvd252dWVfdHlwZV90ZW1wbGF0ZV9pZF80ZTQ5Nzg1MV9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1NpZGViYXJOYXZEcm9wZG93biA9IENTaWRlYmFyTmF2RHJvcGRvd25fY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DU2lkZWJhck5hdlRpdGxlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01MzMxZTViMCYKCiAgICB2YXIgQ1NpZGViYXJOYXZUaXRsZXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzUzMzFlNWIwX3JlbmRlciA9IGZ1bmN0aW9uIENTaWRlYmFyTmF2VGl0bGV2dWVfdHlwZV90ZW1wbGF0ZV9pZF81MzMxZTViMF9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdsaScsIHsKICAgICAgICBzdGF0aWNDbGFzczogImMtc2lkZWJhci1uYXYtdGl0bGUiCiAgICAgIH0sIFtfdm0uX3QoImRlZmF1bHQiKV0sIDIpOwogICAgfTsKCiAgICB2YXIgQ1NpZGViYXJOYXZUaXRsZXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzUzMzFlNWIwX3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJOYXZUaXRsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDU2lkZWJhck5hdlRpdGxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ1NpZGViYXJOYXZUaXRsZScKICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1NpZGViYXJOYXZUaXRsZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciB0ZW1wbGF0ZV9DU2lkZWJhck5hdlRpdGxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ1NpZGViYXJOYXZUaXRsZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DU2lkZWJhck5hdlRpdGxlLnZ1ZQoKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ1NpZGViYXJOYXZUaXRsZV9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHRlbXBsYXRlX0NTaWRlYmFyTmF2VGl0bGV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENTaWRlYmFyTmF2VGl0bGV2dWVfdHlwZV90ZW1wbGF0ZV9pZF81MzMxZTViMF9yZW5kZXIsIENTaWRlYmFyTmF2VGl0bGV2dWVfdHlwZV90ZW1wbGF0ZV9pZF81MzMxZTViMF9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1NpZGViYXJOYXZUaXRsZSA9IENTaWRlYmFyTmF2VGl0bGVfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DV3JhcHBlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MTMzNTE3ODQmCgogICAgdmFyIENXcmFwcGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfMTMzNTE3ODRfcmVuZGVyID0gZnVuY3Rpb24gQ1dyYXBwZXJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF8xMzM1MTc4NF9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKF92bS50YWcsIHsKICAgICAgICB0YWc6ICJjb21wb25lbnQiLAogICAgICAgIGNsYXNzOiBfdm0uY2xhc3NMaXN0CiAgICAgIH0sIFtfdm0uX3QoImRlZmF1bHQiKV0sIDIpOwogICAgfTsKCiAgICB2YXIgQ1dyYXBwZXJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF8xMzM1MTc4NF9zdGF0aWNSZW5kZXJGbnMgPSBbXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL0NXcmFwcGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENXcmFwcGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ1dyYXBwZXInLAogICAgICBwcm9wczogewogICAgICAgIHRhZzogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgZGVmYXVsdDogJ2RpdicKICAgICAgICB9LAogICAgICAgIGZsdWlkOiB7CiAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgZGVmYXVsdDogZmFsc2UKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgY2xhc3NMaXN0OiBmdW5jdGlvbiBjbGFzc0xpc3QoKSB7CiAgICAgICAgICByZXR1cm4gWydjLXdyYXBwZXInLCB7CiAgICAgICAgICAgICdjLXdyYXBwZXItZmx1aWQnOiB0aGlzLmZsdWlkCiAgICAgICAgICB9XTsKICAgICAgICB9CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdGVtcGxhdGUvQ1dyYXBwZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgdGVtcGxhdGVfQ1dyYXBwZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDV3JhcHBlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90ZW1wbGF0ZS9DV3JhcHBlci52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENXcmFwcGVyX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkodGVtcGxhdGVfQ1dyYXBwZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENXcmFwcGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfMTMzNTE3ODRfcmVuZGVyLCBDV3JhcHBlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzEzMzUxNzg0X3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDV3JhcHBlciA9IENXcmFwcGVyX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RlbXBsYXRlL2luZGV4LmpzCiAgICAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvdG9hc3QvQ1RvYXN0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03MjA4MTUyZiZzY29wZWQ9dHJ1ZSYKCiAgICB2YXIgQ1RvYXN0dnVlX3R5cGVfdGVtcGxhdGVfaWRfNzIwODE1MmZfc2NvcGVkX3RydWVfcmVuZGVyID0gZnVuY3Rpb24gQ1RvYXN0dnVlX3R5cGVfdGVtcGxhdGVfaWRfNzIwODE1MmZfc2NvcGVkX3RydWVfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygndHJhbnNpdGlvbicsIHsKICAgICAgICBhdHRyczogewogICAgICAgICAgIm5hbWUiOiBfdm0ucHJvcHMuZmFkZSA/ICdmYWRlJyA6IG51bGwsCiAgICAgICAgICAiYXBwZWFyIjogdHJ1ZQogICAgICAgIH0KICAgICAgfSwgW192bS5pc1Nob3dlZCA/IF9jKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJ0b2FzdCIsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJyb2xlIjogImFsZXJ0IiwKICAgICAgICAgICJhcmlhLWxpdmUiOiAiYXNzZXJ0aXZlIiwKICAgICAgICAgICJhcmlhLWF0b21pYyI6ICJ0cnVlIgogICAgICAgIH0KICAgICAgfSwgW192bS5oZWFkZXIgIT09IHVuZGVmaW5lZCB8fCBfdm0uJHNsb3RzLmhlYWRlciA/IF9jKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJ0b2FzdC1oZWFkZXIiCiAgICAgIH0sIFtfdm0uX3QoImhlYWRlciIsIFtfYygnc3Ryb25nJywgewogICAgICAgIHN0YXRpY0NsYXNzOiAibXItYXV0byIKICAgICAgfSwgW192bS5fdihfdm0uX3MoX3ZtLmhlYWRlcikpXSldKSwgX3ZtLnByb3BzLmNsb3NlQnV0dG9uID8gX2MoJ0NCdXR0b25DbG9zZScsIHsKICAgICAgICBzdGF0aWNDbGFzczogIm1sLTIgbWItMSIsCiAgICAgICAgb246IHsKICAgICAgICAgICJjbGljayI6IGZ1bmN0aW9uIGNsaWNrKCRldmVudCkgewogICAgICAgICAgICByZXR1cm4gX3ZtLmNsb3NlKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KSA6IF92bS5fZSgpXSwgMikgOiBfdm0uX2UoKSwgX2MoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogInRvYXN0LWJvZHkiCiAgICAgIH0sIFtfdm0uX3QoImRlZmF1bHQiKV0sIDIpXSkgOiBfdm0uX2UoKV0pOwogICAgfTsKCiAgICB2YXIgQ1RvYXN0dnVlX3R5cGVfdGVtcGxhdGVfaWRfNzIwODE1MmZfc2NvcGVkX3RydWVfc3RhdGljUmVuZGVyRm5zID0gW107IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdG9hc3QvQ1RvYXN0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD03MjA4MTUyZiZzY29wZWQ9dHJ1ZSYKICAgIC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdG9hc3QvdG9hc3QtcHJvcHMuanMKCiAgICB2YXIgdG9hc3RfcHJvcHNfcHJvcHMgPSB7CiAgICAgIGF1dG9oaWRlOiB7CiAgICAgICAgdHlwZTogW051bWJlciwgQm9vbGVhbl0sCiAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IodmFsKSB7CiAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcicgfHwgdmFsID09PSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNsb3NlQnV0dG9uOiB7CiAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICBkZWZhdWx0OiB0cnVlCiAgICAgIH0sCiAgICAgIGZhZGU6IHsKICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3RvYXN0L0NUb2FzdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ1RvYXN0dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7CiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCiAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7CiAgICAgICAgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CiAgICAgICAgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewogICAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CiAgICAgICAgfSk7CiAgICAgICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwogICAgICB9CgogICAgICByZXR1cm4ga2V5czsKICAgIH0KCiAgICBmdW5jdGlvbiBDVG9hc3R2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19vYmplY3RTcHJlYWQodGFyZ2V0KSB7CiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307CgogICAgICAgIGlmIChpICUgMikgewogICAgICAgICAgQ1RvYXN0dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgIENUb2FzdHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7CiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBDVG9hc3R2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19vd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9CgogICAgZnVuY3Rpb24gQ1RvYXN0dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgICAgIGlmIChrZXkgaW4gb2JqKSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgICAgd3JpdGFibGU6IHRydWUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpba2V5XSA9IHZhbHVlOwogICAgICB9CgogICAgICByZXR1cm4gb2JqOwogICAgfSAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgoKICAgIHZhciBDVG9hc3R2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDVG9hc3QnLAogICAgICBjb21wb25lbnRzOiB7CiAgICAgICAgQ0J1dHRvbkNsb3NlOiBDQnV0dG9uQ2xvc2UKICAgICAgfSwKICAgICAgcHJvcHM6IENUb2FzdHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzX29iamVjdFNwcmVhZChDVG9hc3R2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19vYmplY3RTcHJlYWQoe30sIHRvYXN0X3Byb3BzX3Byb3BzKSwge30sIHsKICAgICAgICBzaG93OiBCb29sZWFuLAogICAgICAgIGhlYWRlcjogU3RyaW5nCiAgICAgIH0pLAogICAgICBpbmplY3Q6IHsKICAgICAgICB0b2FzdGVyOiB7CiAgICAgICAgICBkZWZhdWx0OiBmYWxzZQogICAgICAgIH0KICAgICAgfSwKICAgICAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgaXNTaG93ZWQ6IHRoaXMuc2hvdywKICAgICAgICAgIGhpZGVUaW1lb3V0OiBudWxsLAogICAgICAgICAgY2xvc2VUaW1lb3V0OiBudWxsCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgd2F0Y2g6IHsKICAgICAgICBzaG93OiB7CiAgICAgICAgICBpbW1lZGlhdGU6IHRydWUsCiAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgICAgICB2YWwgPyB0aGlzLmRpc3BsYXkoKSA6IHRoaXMuY2xvc2UoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgZGlyZWN0bHlEZWNsYXJlZFByb3BzOiBmdW5jdGlvbiBkaXJlY3RseURlY2xhcmVkUHJvcHMoKSB7CiAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy4kb3B0aW9ucy5wcm9wc0RhdGEpOwogICAgICAgIH0sCiAgICAgICAgaW5qZWN0ZWRQcm9wczogZnVuY3Rpb24gaW5qZWN0ZWRQcm9wcygpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnRvYXN0ZXIgJiYgdGhpcy50b2FzdGVyLnByb3BzID8gdGhpcy50b2FzdGVyLnByb3BzIDoge307CiAgICAgICAgfSwKICAgICAgICBwcm9wczogZnVuY3Rpb24gcHJvcHMoKSB7CiAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0b2FzdF9wcm9wc19wcm9wcykucmVkdWNlKGZ1bmN0aW9uIChjb21wdXRlZFByb3BzLCBrZXkpIHsKICAgICAgICAgICAgdmFyIHByb3BJc0RpcmVjdGx5RGVjbGFyZWQgPSBfdGhpcy5kaXJlY3RseURlY2xhcmVkUHJvcHMuaW5jbHVkZXMoa2V5KTsKCiAgICAgICAgICAgIHZhciBwYXJlbnRQcm9wRXhpc3RzID0gX3RoaXMuaW5qZWN0ZWRQcm9wc1trZXldICE9PSB1bmRlZmluZWQ7CiAgICAgICAgICAgIHZhciBwcm9wSXNJbmhlcml0ZWQgPSBwYXJlbnRQcm9wRXhpc3RzICYmICFwcm9wSXNEaXJlY3RseURlY2xhcmVkOwogICAgICAgICAgICBjb21wdXRlZFByb3BzW2tleV0gPSBwcm9wSXNJbmhlcml0ZWQgPyBfdGhpcy5pbmplY3RlZFByb3BzW2tleV0gOiBfdGhpc1trZXldOwogICAgICAgICAgICByZXR1cm4gY29tcHV0ZWRQcm9wczsKICAgICAgICAgIH0sIHt9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIG1ldGhvZHM6IHsKICAgICAgICBkaXNwbGF5OiBmdW5jdGlvbiBkaXNwbGF5KCkgewogICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgICAgdGhpcy5pc1Nob3dlZCA9IHRydWU7CiAgICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChfdGhpczIucHJvcHMuYXV0b2hpZGUpIHsKICAgICAgICAgICAgICBfdGhpczIuc2V0QXV0b2hpZGUoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgICAgICB0aGlzLmlzU2hvd2VkID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGU6c2hvdycsIGZhbHNlKTsKICAgICAgICAgIHRoaXMuJGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Ib3Zlcik7CiAgICAgICAgICB0aGlzLiRlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLnJlc3RvcmVIaWRkaW5nVG9hc3QpOwogICAgICAgICAgdGhpcy4kZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uSG92ZXJPdXQpOwogICAgICAgIH0sCiAgICAgICAgc2V0SGlkZGluZ01vZGU6IGZ1bmN0aW9uIHNldEhpZGRpbmdNb2RlKCkgewogICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAgICAgdGhpcy5pc1Nob3dlZCA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vbkhvdmVyKTsKICAgICAgICAgIHRoaXMuY2xvc2VUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczMuY2xvc2UoKTsKICAgICAgICAgIH0sIDE1MDApOwogICAgICAgICAgdGhpcy4kZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5yZXN0b3JlSGlkZGluZ1RvYXN0KTsKICAgICAgICB9LAogICAgICAgIHJlc3RvcmVIaWRkaW5nVG9hc3Q6IGZ1bmN0aW9uIHJlc3RvcmVIaWRkaW5nVG9hc3QoKSB7CiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jbG9zZVRpbWVvdXQpOwogICAgICAgICAgdGhpcy5kaXNwbGF5KCk7CiAgICAgICAgfSwKICAgICAgICBvbkhvdmVyOiBmdW5jdGlvbiBvbkhvdmVyKCkgewogICAgICAgICAgdGhpcy4kZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vbkhvdmVyKTsKICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmhpZGVUaW1lb3V0KTsKICAgICAgICAgIHRoaXMuJGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vbkhvdmVyT3V0KTsKICAgICAgICB9LAogICAgICAgIG9uSG92ZXJPdXQ6IGZ1bmN0aW9uIG9uSG92ZXJPdXQoKSB7CiAgICAgICAgICB0aGlzLiRlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Ib3Zlck91dCk7CiAgICAgICAgICB0aGlzLnNldEF1dG9oaWRlKCk7CiAgICAgICAgfSwKICAgICAgICBzZXRBdXRvaGlkZTogZnVuY3Rpb24gc2V0QXV0b2hpZGUoKSB7CiAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgICAgICB0aGlzLmhpZGVUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzNC5zZXRIaWRkaW5nTW9kZSgpOwogICAgICAgICAgfSwgdGhpcy5wcm9wcy5hdXRvaGlkZSk7CiAgICAgICAgICB0aGlzLiRlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLm9uSG92ZXIpOwogICAgICAgIH0KICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90b2FzdC9DVG9hc3QudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgdG9hc3RfQ1RvYXN0dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ1RvYXN0dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBFWFRFUk5BTCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdG9hc3QvQ1RvYXN0LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTcyMDgxNTJmJnNjb3BlZD10cnVlJmxhbmc9Y3NzJgoKICAgIHZhciBDVG9hc3R2dWVfdHlwZV9zdHlsZV9pbmRleF8wX2lkXzcyMDgxNTJmX3Njb3BlZF90cnVlX2xhbmdfY3NzXyA9IF9fd2VicGFja19yZXF1aXJlX18oIjM4YzAiKTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90b2FzdC9DVG9hc3QudnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKCiAgICB2YXIgQ1RvYXN0X2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkodG9hc3RfQ1RvYXN0dnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDVG9hc3R2dWVfdHlwZV90ZW1wbGF0ZV9pZF83MjA4MTUyZl9zY29wZWRfdHJ1ZV9yZW5kZXIsIENUb2FzdHZ1ZV90eXBlX3RlbXBsYXRlX2lkXzcyMDgxNTJmX3Njb3BlZF90cnVlX3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsICI3MjA4MTUyZiIsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDVG9hc3QgPSBDVG9hc3RfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy90b2FzdC9DVG9hc3Rlci52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MGRjOTkwNTYmCgogICAgdmFyIENUb2FzdGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfMGRjOTkwNTZfcmVuZGVyID0gZnVuY3Rpb24gQ1RvYXN0ZXJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF8wZGM5OTA1Nl9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdkaXYnLCB7CiAgICAgICAgY2xhc3M6IF92bS50b2FzdGVyQ2xhc3NlcwogICAgICB9LCBbX3ZtLl90KCJkZWZhdWx0IildLCAyKTsKICAgIH07CgogICAgdmFyIENUb2FzdGVydnVlX3R5cGVfdGVtcGxhdGVfaWRfMGRjOTkwNTZfc3RhdGljUmVuZGVyRm5zID0gW107IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy90b2FzdC9DVG9hc3Rlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgZnVuY3Rpb24gQ1RvYXN0ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19vd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsKICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOwoKICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKICAgICAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsKICAgICAgICBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7CiAgICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsKICAgICAgICB9KTsKICAgICAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBrZXlzOwogICAgfQoKICAgIGZ1bmN0aW9uIENUb2FzdGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfb2JqZWN0U3ByZWFkKHRhcmdldCkgewogICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OwoKICAgICAgICBpZiAoaSAlIDIpIHsKICAgICAgICAgIENUb2FzdGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgIENUb2FzdGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIENUb2FzdGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdGFyZ2V0OwogICAgfQoKICAgIGZ1bmN0aW9uIENUb2FzdGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7CiAgICAgIGlmIChrZXkgaW4gb2JqKSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7CiAgICAgICAgICB2YWx1ZTogdmFsdWUsCiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgICAgd3JpdGFibGU6IHRydWUKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpba2V5XSA9IHZhbHVlOwogICAgICB9CgogICAgICByZXR1cm4gb2JqOwogICAgfSAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKCiAgICB2YXIgQ1RvYXN0ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDVG9hc3RlcicsCiAgICAgIHByb3ZpZGU6IGZ1bmN0aW9uIHByb3ZpZGUoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgdmFyIHRvYXN0ZXIgPSB7fTsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodG9hc3RlciwgJ3Byb3BzJywgewogICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fcHJvcHM7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHRvYXN0ZXI6IHRvYXN0ZXIKICAgICAgICB9OwogICAgICB9LAogICAgICBwcm9wczogQ1RvYXN0ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19vYmplY3RTcHJlYWQoQ1RvYXN0ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc19vYmplY3RTcHJlYWQoe30sIHRvYXN0X3Byb3BzX3Byb3BzKSwge30sIHsKICAgICAgICBwb3NpdGlvbjogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgZGVmYXVsdDogJ3RvcC1yaWdodCcsCiAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcihwb3NpdGlvbikgewogICAgICAgICAgICByZXR1cm4gWycnLCAnc3RhdGljJywgJ3RvcC1yaWdodCcsICd0b3AtbGVmdCcsICd0b3AtY2VudGVyJywgJ3RvcC1mdWxsJywgJ2JvdHRvbS1yaWdodCcsICdib3R0b20tbGVmdCcsICdib3R0b20tY2VudGVyJywgJ2JvdHRvbS1mdWxsJ10uaW5jbHVkZXMocG9zaXRpb24pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSksCiAgICAgIGNvbXB1dGVkOiB7CiAgICAgICAgdG9hc3RlckNsYXNzZXM6IGZ1bmN0aW9uIHRvYXN0ZXJDbGFzc2VzKCkgewogICAgICAgICAgdmFyIGhhc0ZpeGVkUG9zaXRpb24gPSB0aGlzLnBvc2l0aW9uICYmIHRoaXMucG9zaXRpb24gIT09ICdzdGF0aWMnOwogICAgICAgICAgcmV0dXJuIFsndG9hc3RlcicsIENUb2FzdGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfZGVmaW5lUHJvcGVydHkoe30sICJ0b2FzdGVyLSIuY29uY2F0KHRoaXMucG9zaXRpb24pLCBoYXNGaXhlZFBvc2l0aW9uKV07CiAgICAgICAgfQogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RvYXN0L0NUb2FzdGVyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIHRvYXN0X0NUb2FzdGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ1RvYXN0ZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdG9hc3QvQ1RvYXN0ZXIudnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDVG9hc3Rlcl9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHRvYXN0X0NUb2FzdGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDVG9hc3RlcnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzBkYzk5MDU2X3JlbmRlciwgQ1RvYXN0ZXJ2dWVfdHlwZV90ZW1wbGF0ZV9pZF8wZGM5OTA1Nl9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1RvYXN0ZXIgPSBDVG9hc3Rlcl9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy90b2FzdC9pbmRleC5qcwogICAgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3RvZ2dsZXIvQ1RvZ2dsZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1RvZ2dsZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDVG9nZ2xlcicsCiAgICAgIGZ1bmN0aW9uYWw6IHRydWUsCiAgICAgIHByb3BzOiB7CiAgICAgICAgdGFnOiB7CiAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICBkZWZhdWx0OiAnYnV0dG9uJwogICAgICAgIH0sCiAgICAgICAgaW5IZWFkZXI6IEJvb2xlYW4sCiAgICAgICAgaW5OYXZiYXI6IEJvb2xlYW4KICAgICAgfSwKICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCwgX3JlZikgewogICAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhLAogICAgICAgICAgICBwcm9wcyA9IF9yZWYucHJvcHMsCiAgICAgICAgICAgIHNsb3RzID0gX3JlZi5zbG90czsKICAgICAgICB2YXIgYXR0cnMgPSBwcm9wcy50YWcgPT09ICdidXR0b24nID8gewogICAgICAgICAgdHlwZTogJ2J1dHRvbicKICAgICAgICB9IDogbnVsbDsKICAgICAgICB2YXIgdHlwZSA9IHByb3BzLmluTmF2YmFyID8gJ25hdmJhcicgOiBwcm9wcy5pbkhlYWRlciA/ICdjLWhlYWRlcicgOiBudWxsOwogICAgICAgIHZhciBzdGF0aWNDbGFzcyA9IHR5cGUgPyAiIi5jb25jYXQodHlwZSwgIi10b2dnbGVyIikgOiAnJzsKICAgICAgICB2YXIgaWNvbkNsYXNzID0gdHlwZSA/ICIiLmNvbmNhdChzdGF0aWNDbGFzcywgIi1pY29uIikgOiAnJzsKICAgICAgICByZXR1cm4gaChwcm9wcy50YWcsIGEoewogICAgICAgICAgc3RhdGljQ2xhc3M6IHN0YXRpY0NsYXNzLAogICAgICAgICAgYXR0cnM6IGF0dHJzCiAgICAgICAgfSwgZGF0YSksIFtzbG90cygpLmRlZmF1bHQgfHwgaCgnc3BhbicsIHsKICAgICAgICAgIGNsYXNzOiBpY29uQ2xhc3MKICAgICAgICB9KV0pOwogICAgICB9CiAgICB9OyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RvZ2dsZXIvQ1RvZ2dsZXIudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgdG9nZ2xlcl9DVG9nZ2xlcnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENUb2dnbGVydnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL3RvZ2dsZXIvQ1RvZ2dsZXIudnVlCgogICAgdmFyIENUb2dnbGVyX3JlbmRlciwgQ1RvZ2dsZXJfc3RhdGljUmVuZGVyRm5zOwogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDVG9nZ2xlcl9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHRvZ2dsZXJfQ1RvZ2dsZXJ2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18sIENUb2dnbGVyX3JlbmRlciwgQ1RvZ2dsZXJfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENUb2dnbGVyID0gQ1RvZ2dsZXJfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvdG9nZ2xlci9pbmRleC5qcwogICAgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzP3siY2FjaGVEaXJlY3RvcnkiOiJub2RlX21vZHVsZXMvLmNhY2hlL3Z1ZS1sb2FkZXIiLCJjYWNoZUlkZW50aWZpZXIiOiI0ODc1MDdiOS12dWUtbG9hZGVyLXRlbXBsYXRlIn0hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy90ZW1wbGF0ZUxvYWRlci5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3dpZGdldHMvQ1dpZGdldFByb2dyZXNzLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD01MDNjMDc2MSYKCiAgICB2YXIgQ1dpZGdldFByb2dyZXNzdnVlX3R5cGVfdGVtcGxhdGVfaWRfNTAzYzA3NjFfcmVuZGVyID0gZnVuY3Rpb24gQ1dpZGdldFByb2dyZXNzdnVlX3R5cGVfdGVtcGxhdGVfaWRfNTAzYzA3NjFfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygnZGl2JywgewogICAgICAgIGNsYXNzOiBfdm0uaW52ZXJzZSA/ICJjYXJkIHRleHQtd2hpdGUgYmctIiArIF92bS5jb2xvciA6ICdjYXJkJwogICAgICB9LCBbX2MoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogImNhcmQtYm9keSIKICAgICAgfSwgW192bS5oZWFkZXIgPyBfYygnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiaDQgbS0wIgogICAgICB9LCBbX3ZtLl92KF92bS5fcyhfdm0uaGVhZGVyKSldKSA6IF92bS5fZSgpLCBfdm0udGV4dCA/IF9jKCdkaXYnLCBbX3ZtLl92KF92bS5fcyhfdm0udGV4dCkpXSkgOiBfdm0uX2UoKSwgX3ZtLl90KCJkZWZhdWx0IiwgW19jKCdDUHJvZ3Jlc3MnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJwcm9ncmVzcy14cyBteS0zIG1iLTAiLAogICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAncHJvZ3Jlc3Mtd2hpdGUnOiBfdm0uaW52ZXJzZQogICAgICAgIH0sCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJjb2xvciI6ICFfdm0uaW52ZXJzZSA/IF92bS5jb2xvciA6ICcnLAogICAgICAgICAgInZhbHVlIjogX3ZtLnZhbHVlCiAgICAgICAgfQogICAgICB9KV0pLCBfdm0uZm9vdGVyID8gX2MoJ3NtYWxsJywgewogICAgICAgIHN0YXRpY0NsYXNzOiAidGV4dC1tdXRlZCIKICAgICAgfSwgW192bS5fdigiICIgKyBfdm0uX3MoX3ZtLmZvb3RlcikgKyAiICIpXSkgOiBfdm0uX2UoKV0sIDIpXSk7CiAgICB9OwoKICAgIHZhciBDV2lkZ2V0UHJvZ3Jlc3N2dWVfdHlwZV90ZW1wbGF0ZV9pZF81MDNjMDc2MV9zdGF0aWNSZW5kZXJGbnMgPSBbXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3dpZGdldHMvQ1dpZGdldFByb2dyZXNzLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1dpZGdldFByb2dyZXNzdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ1dpZGdldFByb2dyZXNzJywKICAgICAgY29tcG9uZW50czogewogICAgICAgIENQcm9ncmVzczogQ1Byb2dyZXNzCiAgICAgIH0sCiAgICAgIHByb3BzOiB7CiAgICAgICAgaGVhZGVyOiBTdHJpbmcsCiAgICAgICAgdGV4dDogU3RyaW5nLAogICAgICAgIGZvb3RlcjogU3RyaW5nLAogICAgICAgIGNvbG9yOiBTdHJpbmcsCiAgICAgICAgaW52ZXJzZTogQm9vbGVhbiwKICAgICAgICB2YWx1ZTogewogICAgICAgICAgdHlwZTogTnVtYmVyLAogICAgICAgICAgZGVmYXVsdDogMjUKICAgICAgICB9CiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvd2lkZ2V0cy9DV2lkZ2V0UHJvZ3Jlc3MudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgd2lkZ2V0c19DV2lkZ2V0UHJvZ3Jlc3N2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDV2lkZ2V0UHJvZ3Jlc3N2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvd2lkZ2V0cy9DV2lkZ2V0UHJvZ3Jlc3MudnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDV2lkZ2V0UHJvZ3Jlc3NfY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKSh3aWRnZXRzX0NXaWRnZXRQcm9ncmVzc3Z1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ1dpZGdldFByb2dyZXNzdnVlX3R5cGVfdGVtcGxhdGVfaWRfNTAzYzA3NjFfcmVuZGVyLCBDV2lkZ2V0UHJvZ3Jlc3N2dWVfdHlwZV90ZW1wbGF0ZV9pZF81MDNjMDc2MV9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1dpZGdldFByb2dyZXNzID0gQ1dpZGdldFByb2dyZXNzX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvd2lkZ2V0cy9DV2lkZ2V0SWNvbi52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MGE3MmNmZGUmCgogICAgdmFyIENXaWRnZXRJY29udnVlX3R5cGVfdGVtcGxhdGVfaWRfMGE3MmNmZGVfcmVuZGVyID0gZnVuY3Rpb24gQ1dpZGdldEljb252dWVfdHlwZV90ZW1wbGF0ZV9pZF8wYTcyY2ZkZV9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJjYXJkIgogICAgICB9LCBbX2MoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogImNhcmQtYm9keSBkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIiwKICAgICAgICBjbGFzczogX3ZtLmljb25QYWRkaW5nID8gJ3AtMycgOiAncC0wJwogICAgICB9LCBbX2MoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogIm1yLTMgdGV4dC13aGl0ZSIsCiAgICAgICAgY2xhc3M6IFsiYmctIiArIF92bS5jb2xvciwgX3ZtLmljb25QYWRkaW5nID8gJ3AtMycgOiAncC00J10KICAgICAgfSwgW192bS5fdCgiZGVmYXVsdCIpXSwgMiksIF9jKCdkaXYnLCBbX3ZtLmhlYWRlciA/IF9jKCdkaXYnLCB7CiAgICAgICAgY2xhc3M6ICJ0ZXh0LXZhbHVlIHRleHQtIiArIF92bS5jb2xvcgogICAgICB9LCBbX3ZtLl92KCIgIiArIF92bS5fcyhfdm0uaGVhZGVyKSArICIgIildKSA6IF92bS5fZSgpLCBfdm0udGV4dCA/IF9jKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJ0ZXh0LW11dGVkIHRleHQtdXBwZXJjYXNlIGZvbnQtd2VpZ2h0LWJvbGQgc21hbGwiCiAgICAgIH0sIFtfdm0uX3YoIiAiICsgX3ZtLl9zKF92bS50ZXh0KSArICIgIildKSA6IF92bS5fZSgpXSldKSwgX3ZtLl90KCJmb290ZXIiKV0sIDIpOwogICAgfTsKCiAgICB2YXIgQ1dpZGdldEljb252dWVfdHlwZV90ZW1wbGF0ZV9pZF8wYTcyY2ZkZV9zdGF0aWNSZW5kZXJGbnMgPSBbXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3dpZGdldHMvQ1dpZGdldEljb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENXaWRnZXRJY29udnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ1dpZGdldEljb24nLAogICAgICBwcm9wczogewogICAgICAgIGhlYWRlcjogU3RyaW5nLAogICAgICAgIHRleHQ6IFN0cmluZywKICAgICAgICBpY29uUGFkZGluZzogewogICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB9LAogICAgICAgIGNvbG9yOiBTdHJpbmcKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy93aWRnZXRzL0NXaWRnZXRJY29uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIHdpZGdldHNfQ1dpZGdldEljb252dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSBDV2lkZ2V0SWNvbnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy93aWRnZXRzL0NXaWRnZXRJY29uLnZ1ZQoKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ1dpZGdldEljb25fY29tcG9uZW50ID0gT2JqZWN0KGNvbXBvbmVudE5vcm1hbGl6ZXJbImEiCiAgICAvKiBkZWZhdWx0ICovCiAgICBdKSh3aWRnZXRzX0NXaWRnZXRJY29udnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDV2lkZ2V0SWNvbnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzBhNzJjZmRlX3JlbmRlciwgQ1dpZGdldEljb252dWVfdHlwZV90ZW1wbGF0ZV9pZF8wYTcyY2ZkZV9zdGF0aWNSZW5kZXJGbnMsIGZhbHNlLCBudWxsLCBudWxsLCBudWxsKTsKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1dpZGdldEljb24gPSBDV2lkZ2V0SWNvbl9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzP3siY2FjaGVEaXJlY3RvcnkiOiJub2RlX21vZHVsZXMvLmNhY2hlL3Z1ZS1sb2FkZXIiLCJjYWNoZUlkZW50aWZpZXIiOiI0ODc1MDdiOS12dWUtbG9hZGVyLXRlbXBsYXRlIn0hLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy90ZW1wbGF0ZUxvYWRlci5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3dpZGdldHMvQ1dpZGdldEJyYW5kLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD00MmVjZjA4NCYKCiAgICB2YXIgQ1dpZGdldEJyYW5kdnVlX3R5cGVfdGVtcGxhdGVfaWRfNDJlY2YwODRfcmVuZGVyID0gZnVuY3Rpb24gQ1dpZGdldEJyYW5kdnVlX3R5cGVfdGVtcGxhdGVfaWRfNDJlY2YwODRfcmVuZGVyKCkgewogICAgICB2YXIgX3ZtID0gdGhpczsKCiAgICAgIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgICAgIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgICAgIHJldHVybiBfYygnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiY2FyZCIKICAgICAgfSwgW19jKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJjYXJkLWhlYWRlciBjb250ZW50LWNlbnRlciB0ZXh0LXdoaXRlIHAtMCIsCiAgICAgICAgY2xhc3M6IFsiYmctIiArIF92bS5jb2xvciwgX3ZtLmFkZEhlYWRlckNsYXNzZXNdCiAgICAgIH0sIFtfdm0uX3QoImRlZmF1bHQiKV0sIDIpLCBfdm0uX3QoImJvZHkiLCBbX2MoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogImNhcmQtYm9keSByb3cgdGV4dC1jZW50ZXIiCiAgICAgIH0sIFtfYygnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiY29sIgogICAgICB9LCBbX3ZtLnJpZ2h0SGVhZGVyID8gX2MoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogInRleHQtdmFsdWUtbGciCiAgICAgIH0sIFtfdm0uX3YoIiAiICsgX3ZtLl9zKF92bS5yaWdodEhlYWRlcikgKyAiICIpXSkgOiBfdm0uX2UoKSwgX3ZtLnJpZ2h0Rm9vdGVyID8gX2MoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogInRleHQtdXBwZXJjYXNlIHRleHQtbXV0ZWQgc21hbGwiCiAgICAgIH0sIFtfdm0uX3YoIiAiICsgX3ZtLl9zKF92bS5yaWdodEZvb3RlcikgKyAiICIpXSkgOiBfdm0uX2UoKV0pLCBfYygnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiYy12ciIKICAgICAgfSksIF9jKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJjb2wiCiAgICAgIH0sIFtfdm0ubGVmdEhlYWRlciA/IF9jKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJ0ZXh0LXZhbHVlLWxnIgogICAgICB9LCBbX3ZtLl92KCIgIiArIF92bS5fcyhfdm0ubGVmdEhlYWRlcikgKyAiICIpXSkgOiBfdm0uX2UoKSwgX3ZtLmxlZnRGb290ZXIgPyBfYygnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAidGV4dC11cHBlcmNhc2UgdGV4dC1tdXRlZCBzbWFsbCIKICAgICAgfSwgW192bS5fdigiICIgKyBfdm0uX3MoX3ZtLmxlZnRGb290ZXIpICsgIiAiKV0pIDogX3ZtLl9lKCldKV0pXSldLCAyKTsKICAgIH07CgogICAgdmFyIENXaWRnZXRCcmFuZHZ1ZV90eXBlX3RlbXBsYXRlX2lkXzQyZWNmMDg0X3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvd2lkZ2V0cy9DV2lkZ2V0QnJhbmQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDV2lkZ2V0QnJhbmR2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc18gPSB7CiAgICAgIG5hbWU6ICdDV2lkZ2V0QnJhbmQnLAogICAgICBwcm9wczogewogICAgICAgIGNvbG9yOiBTdHJpbmcsCiAgICAgICAgcmlnaHRIZWFkZXI6IFN0cmluZywKICAgICAgICByaWdodEZvb3RlcjogU3RyaW5nLAogICAgICAgIGxlZnRIZWFkZXI6IFN0cmluZywKICAgICAgICBsZWZ0Rm9vdGVyOiBTdHJpbmcsCiAgICAgICAgYWRkSGVhZGVyQ2xhc3NlczogW1N0cmluZywgQXJyYXksIE9iamVjdF0KICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy93aWRnZXRzL0NXaWRnZXRCcmFuZC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciB3aWRnZXRzX0NXaWRnZXRCcmFuZHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENXaWRnZXRCcmFuZHZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy93aWRnZXRzL0NXaWRnZXRCcmFuZC52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENXaWRnZXRCcmFuZF9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHdpZGdldHNfQ1dpZGdldEJyYW5kdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDV2lkZ2V0QnJhbmR2dWVfdHlwZV90ZW1wbGF0ZV9pZF80MmVjZjA4NF9yZW5kZXIsIENXaWRnZXRCcmFuZHZ1ZV90eXBlX3RlbXBsYXRlX2lkXzQyZWNmMDg0X3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDV2lkZ2V0QnJhbmQgPSBDV2lkZ2V0QnJhbmRfY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy93aWRnZXRzL0NXaWRnZXRQcm9ncmVzc0ljb24udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTZiOTViYTliJgoKICAgIHZhciBDV2lkZ2V0UHJvZ3Jlc3NJY29udnVlX3R5cGVfdGVtcGxhdGVfaWRfNmI5NWJhOWJfcmVuZGVyID0gZnVuY3Rpb24gQ1dpZGdldFByb2dyZXNzSWNvbnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzZiOTViYTliX3JlbmRlcigpIHsKICAgICAgdmFyIF92bSA9IHRoaXM7CgogICAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogICAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogICAgICByZXR1cm4gX2MoJ2RpdicsIHsKICAgICAgICBjbGFzczogX3ZtLmludmVyc2UgPyAiY2FyZCB0ZXh0LXdoaXRlIGJnLSIgKyBfdm0uY29sb3IgOiAnY2FyZCcKICAgICAgfSwgW19jKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJjYXJkLWJvZHkiCiAgICAgIH0sIFtfdm0uJHNsb3RzLmRlZmF1bHQgPyBfYygnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiaDEgdGV4dC1tdXRlZCB0ZXh0LXJpZ2h0IG1iLTQiCiAgICAgIH0sIFtfdm0uX3QoImRlZmF1bHQiKV0sIDIpIDogX3ZtLl9lKCksIF92bS5oZWFkZXIgPyBfYygnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiaDQgbWItMCIKICAgICAgfSwgW192bS5fdihfdm0uX3MoX3ZtLmhlYWRlcikpXSkgOiBfdm0uX2UoKSwgX3ZtLnRleHQgPyBfYygnc21hbGwnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJ0ZXh0LW11dGVkIHRleHQtdXBwZXJjYXNlIGZvbnQtd2VpZ2h0LWJvbGQiCiAgICAgIH0sIFtfdm0uX3YoIiAiICsgX3ZtLl9zKF92bS50ZXh0KSArICIgIildKSA6IF92bS5fZSgpLCBfdm0uX3QoInByb2dyZXNzIiwgW19jKCdDUHJvZ3Jlc3MnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJwcm9ncmVzcy14cyBteS0zIG1iLTAiLAogICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAncHJvZ3Jlc3Mtd2hpdGUnOiBfdm0uaW52ZXJzZQogICAgICAgIH0sCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICJjb2xvciI6ICFfdm0uaW52ZXJzZSA/IF92bS5jb2xvciA6ICcnLAogICAgICAgICAgInZhbHVlIjogX3ZtLnZhbHVlCiAgICAgICAgfQogICAgICB9KV0pXSwgMildKTsKICAgIH07CgogICAgdmFyIENXaWRnZXRQcm9ncmVzc0ljb252dWVfdHlwZV90ZW1wbGF0ZV9pZF82Yjk1YmE5Yl9zdGF0aWNSZW5kZXJGbnMgPSBbXTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTEyLTAhLi9ub2RlX21vZHVsZXMvdGhyZWFkLWxvYWRlci9kaXN0L2Nqcy5qcyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliIS4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0wLTAhLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWI/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3NyYy9jb21wb25lbnRzL3dpZGdldHMvQ1dpZGdldFByb2dyZXNzSWNvbi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgQ1dpZGdldFByb2dyZXNzSWNvbnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NXaWRnZXRQcm9ncmVzc0ljb24nLAogICAgICBjb21wb25lbnRzOiB7CiAgICAgICAgQ1Byb2dyZXNzOiBDUHJvZ3Jlc3MKICAgICAgfSwKICAgICAgcHJvcHM6IHsKICAgICAgICBoZWFkZXI6IFN0cmluZywKICAgICAgICB0ZXh0OiBTdHJpbmcsCiAgICAgICAgY29sb3I6IFN0cmluZywKICAgICAgICBpbnZlcnNlOiBCb29sZWFuLAogICAgICAgIHZhbHVlOiB7CiAgICAgICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICAgICBkZWZhdWx0OiAyNQogICAgICAgIH0KICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy93aWRnZXRzL0NXaWRnZXRQcm9ncmVzc0ljb24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCiAgICB2YXIgd2lkZ2V0c19DV2lkZ2V0UHJvZ3Jlc3NJY29udnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gQ1dpZGdldFByb2dyZXNzSWNvbnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy93aWRnZXRzL0NXaWRnZXRQcm9ncmVzc0ljb24udnVlCgogICAgLyogbm9ybWFsaXplIGNvbXBvbmVudCAqLwoKICAgIHZhciBDV2lkZ2V0UHJvZ3Jlc3NJY29uX2NvbXBvbmVudCA9IE9iamVjdChjb21wb25lbnROb3JtYWxpemVyWyJhIgogICAgLyogZGVmYXVsdCAqLwogICAgXSkod2lkZ2V0c19DV2lkZ2V0UHJvZ3Jlc3NJY29udnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDV2lkZ2V0UHJvZ3Jlc3NJY29udnVlX3R5cGVfdGVtcGxhdGVfaWRfNmI5NWJhOWJfcmVuZGVyLCBDV2lkZ2V0UHJvZ3Jlc3NJY29udnVlX3R5cGVfdGVtcGxhdGVfaWRfNmI5NWJhOWJfc3RhdGljUmVuZGVyRm5zLCBmYWxzZSwgbnVsbCwgbnVsbCwgbnVsbCk7CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENXaWRnZXRQcm9ncmVzc0ljb24gPSBDV2lkZ2V0UHJvZ3Jlc3NJY29uX2NvbXBvbmVudC5leHBvcnRzOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/eyJjYWNoZURpcmVjdG9yeSI6Im5vZGVfbW9kdWxlcy8uY2FjaGUvdnVlLWxvYWRlciIsImNhY2hlSWRlbnRpZmllciI6IjQ4NzUwN2I5LXZ1ZS1sb2FkZXItdGVtcGxhdGUifSEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3RlbXBsYXRlTG9hZGVyLmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvd2lkZ2V0cy9DV2lkZ2V0RHJvcGRvd24udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTQ2YTYxN2M2JgoKICAgIHZhciBDV2lkZ2V0RHJvcGRvd252dWVfdHlwZV90ZW1wbGF0ZV9pZF80NmE2MTdjNl9yZW5kZXIgPSBmdW5jdGlvbiBDV2lkZ2V0RHJvcGRvd252dWVfdHlwZV90ZW1wbGF0ZV9pZF80NmE2MTdjNl9yZW5kZXIoKSB7CiAgICAgIHZhciBfdm0gPSB0aGlzOwoKICAgICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICAgICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICAgICAgcmV0dXJuIF9jKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJjYXJkIiwKICAgICAgICBjbGFzczogImJnLSIgKyBfdm0uY29sb3IgKyAiIHRleHQtd2hpdGUiCiAgICAgIH0sIFtfYygnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiY2FyZC1ib2R5IHBiLTAgZC1mbGV4IGp1c3RpZnktY29udGVudC1iZXR3ZWVuIgogICAgICB9LCBbX2MoJ2RpdicsIFtfdm0uaGVhZGVyID8gX2MoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogInRleHQtdmFsdWUtbGciCiAgICAgIH0sIFtfdm0uX3YoX3ZtLl9zKF92bS5oZWFkZXIpKV0pIDogX3ZtLl9lKCksIF92bS50ZXh0ID8gX2MoJ2RpdicsIFtfdm0uX3YoX3ZtLl9zKF92bS50ZXh0KSldKSA6IF92bS5fZSgpXSksIF92bS5fdCgiZGVmYXVsdCIpXSwgMiksIF92bS5fdCgiZm9vdGVyIildLCAyKTsKICAgIH07CgogICAgdmFyIENXaWRnZXREcm9wZG93bnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzQ2YTYxN2M2X3N0YXRpY1JlbmRlckZucyA9IFtdOyAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMTItMCEuL25vZGVfbW9kdWxlcy90aHJlYWQtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPz9yZWYtLTAtMCEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYj8/dnVlLWxvYWRlci1vcHRpb25zIS4vc3JjL2NvbXBvbmVudHMvd2lkZ2V0cy9DV2lkZ2V0RHJvcGRvd24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIENXaWRnZXREcm9wZG93bnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IHsKICAgICAgbmFtZTogJ0NXaWRnZXREcm9wZG93bicsCiAgICAgIHByb3BzOiB7CiAgICAgICAgY29sb3I6IFN0cmluZywKICAgICAgICBoZWFkZXI6IFN0cmluZywKICAgICAgICB0ZXh0OiBTdHJpbmcKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy93aWRnZXRzL0NXaWRnZXREcm9wZG93bi52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciB3aWRnZXRzX0NXaWRnZXREcm9wZG93bnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENXaWRnZXREcm9wZG93bnZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXzsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy93aWRnZXRzL0NXaWRnZXREcm9wZG93bi52dWUKCiAgICAvKiBub3JtYWxpemUgY29tcG9uZW50ICovCgogICAgdmFyIENXaWRnZXREcm9wZG93bl9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHdpZGdldHNfQ1dpZGdldERyb3Bkb3dudnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfLCBDV2lkZ2V0RHJvcGRvd252dWVfdHlwZV90ZW1wbGF0ZV9pZF80NmE2MTdjNl9yZW5kZXIsIENXaWRnZXREcm9wZG93bnZ1ZV90eXBlX3RlbXBsYXRlX2lkXzQ2YTYxN2M2X3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDV2lkZ2V0RHJvcGRvd24gPSBDV2lkZ2V0RHJvcGRvd25fY29tcG9uZW50LmV4cG9ydHM7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz97ImNhY2hlRGlyZWN0b3J5Ijoibm9kZV9tb2R1bGVzLy5jYWNoZS92dWUtbG9hZGVyIiwiY2FjaGVJZGVudGlmaWVyIjoiNDg3NTA3YjktdnVlLWxvYWRlci10ZW1wbGF0ZSJ9IS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy93aWRnZXRzL0NXaWRnZXRTaW1wbGUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTJhNTRmNjYyJgoKICAgIHZhciBDV2lkZ2V0U2ltcGxldnVlX3R5cGVfdGVtcGxhdGVfaWRfMmE1NGY2NjJfcmVuZGVyID0gZnVuY3Rpb24gQ1dpZGdldFNpbXBsZXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzJhNTRmNjYyX3JlbmRlcigpIHsKICAgICAgdmFyIF92bSA9IHRoaXM7CgogICAgICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogICAgICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogICAgICByZXR1cm4gX2MoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogImNhcmQiCiAgICAgIH0sIFtfYygnZGl2JywgewogICAgICAgIHN0YXRpY0NsYXNzOiAiY2FyZC1ib2R5IHRleHQtY2VudGVyIgogICAgICB9LCBbX3ZtLmhlYWRlciA/IF9jKCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICJ0ZXh0LW11dGVkIHNtYWxsIHRleHQtdXBwZXJjYXNlIGZvbnQtd2VpZ2h0LWJvbGQiCiAgICAgIH0sIFtfdm0uX3YoIiAiICsgX3ZtLl9zKF92bS5oZWFkZXIpICsgIiAiKV0pIDogX3ZtLl9lKCksIF92bS50ZXh0ID8gX2MoJ2RpdicsIHsKICAgICAgICBzdGF0aWNDbGFzczogImgyIHB5LTMiCiAgICAgIH0sIFtfdm0uX3YoIiAiICsgX3ZtLl9zKF92bS50ZXh0KSArICIgIildKSA6IF92bS5fZSgpLCBfdm0uX3QoImRlZmF1bHQiKV0sIDIpXSk7CiAgICB9OwoKICAgIHZhciBDV2lkZ2V0U2ltcGxldnVlX3R5cGVfdGVtcGxhdGVfaWRfMmE1NGY2NjJfc3RhdGljUmVuZGVyRm5zID0gW107IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL2NhY2hlLWxvYWRlci9kaXN0L2Nqcy5qcz8/cmVmLS0xMi0wIS4vbm9kZV9tb2R1bGVzL3RocmVhZC1sb2FkZXIvZGlzdC9janMuanMhLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYiEuL25vZGVfbW9kdWxlcy9jYWNoZS1sb2FkZXIvZGlzdC9janMuanM/P3JlZi0tMC0wIS4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9zcmMvY29tcG9uZW50cy93aWRnZXRzL0NXaWRnZXRTaW1wbGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJgogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCiAgICAvLwogICAgLy8KICAgIC8vCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDV2lkZ2V0U2ltcGxldnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfID0gewogICAgICBuYW1lOiAnQ1dpZGdldFNpbXBsZScsCiAgICAgIHByb3BzOiB7CiAgICAgICAgaGVhZGVyOiBTdHJpbmcsCiAgICAgICAgdGV4dDogU3RyaW5nCiAgICAgIH0KICAgIH07IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvd2lkZ2V0cy9DV2lkZ2V0U2ltcGxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyYKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgogICAgdmFyIHdpZGdldHNfQ1dpZGdldFNpbXBsZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXyA9IENXaWRnZXRTaW1wbGV2dWVfdHlwZV9zY3JpcHRfbGFuZ19qc187IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2NvbXBvbmVudHMvd2lkZ2V0cy9DV2lkZ2V0U2ltcGxlLnZ1ZQoKICAgIC8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi8KCiAgICB2YXIgQ1dpZGdldFNpbXBsZV9jb21wb25lbnQgPSBPYmplY3QoY29tcG9uZW50Tm9ybWFsaXplclsiYSIKICAgIC8qIGRlZmF1bHQgKi8KICAgIF0pKHdpZGdldHNfQ1dpZGdldFNpbXBsZXZ1ZV90eXBlX3NjcmlwdF9sYW5nX2pzXywgQ1dpZGdldFNpbXBsZXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzJhNTRmNjYyX3JlbmRlciwgQ1dpZGdldFNpbXBsZXZ1ZV90eXBlX3RlbXBsYXRlX2lkXzJhNTRmNjYyX3N0YXRpY1JlbmRlckZucywgZmFsc2UsIG51bGwsIG51bGwsIG51bGwpOwogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDV2lkZ2V0U2ltcGxlID0gQ1dpZGdldFNpbXBsZV9jb21wb25lbnQuZXhwb3J0czsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvY29tcG9uZW50cy93aWRnZXRzL2luZGV4LmpzCiAgICAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9jb21wb25lbnRzL2luZGV4LmpzCiAgICAvLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9kaXJlY3RpdmVzL0NFbWl0Um9vdEV2ZW50LmpzCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBDRW1pdFJvb3RFdmVudCA9IHsKICAgICAgbmFtZTogJ2MtZW1pdC1yb290LWV2ZW50JywKICAgICAgYmluZDogZnVuY3Rpb24gYmluZChlbCwgYmluZGluZywgbm9kZSkgewogICAgICAgIGlmICghYmluZGluZy5hcmcpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBjdXN0b21MaXN0ZW5lcnMgPSBPYmplY3Qua2V5cyhiaW5kaW5nLm1vZGlmaWVycyk7CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IGN1c3RvbUxpc3RlbmVycy5sZW5ndGggPyBjdXN0b21MaXN0ZW5lcnMgOiBbJ2NsaWNrJ107CiAgICAgICAgbGlzdGVuZXJzLm1hcChmdW5jdGlvbiAobGlzdGVuZXIpIHsKICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIobGlzdGVuZXIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgbm9kZS5jb250ZXh0LiRyb290LiRlbWl0KGJpbmRpbmcuYXJnLCBiaW5kaW5nLnZhbHVlKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9OyAvLyBFWFRFUk5BTCBNT0RVTEU6IC4vbm9kZV9tb2R1bGVzL3BvcHBlci5qcy9kaXN0L2VzbS9wb3BwZXIuanMKCiAgICB2YXIgZXNtX3BvcHBlciA9IF9fd2VicGFja19yZXF1aXJlX18oImYwYmQiKTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvdG9vbHRpcC5qcy9kaXN0L2VzbS90b29sdGlwLmpzCgogICAgLyoqIQogICAgICogQGZpbGVPdmVydmlldyBLaWNrYXNzIGxpYnJhcnkgdG8gY3JlYXRlIGFuZCBwbGFjZSBwb3BwZXJzIG5lYXIgdGhlaXIgcmVmZXJlbmNlIGVsZW1lbnRzLgogICAgICogQHZlcnNpb24gMS4zLjMKICAgICAqIEBsaWNlbnNlCiAgICAgKiBDb3B5cmlnaHQgKGMpIDIwMTYgRmVkZXJpY28gWml2b2xvIGFuZCBjb250cmlidXRvcnMKICAgICAqCiAgICAgKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5CiAgICAgKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAogICAgICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwogICAgICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbAogICAgICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzCiAgICAgKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgogICAgICoKICAgICAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbAogICAgICogY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KICAgICAqCiAgICAgKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgogICAgICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCiAgICAgKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKICAgICAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKICAgICAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCiAgICAgKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRQogICAgICogU09GVFdBUkUuCiAgICAgKi8KCiAgICAvKioKICAgICAqIENoZWNrIGlmIHRoZSBnaXZlbiB2YXJpYWJsZSBpcyBhIGZ1bmN0aW9uCiAgICAgKiBAbWV0aG9kCiAgICAgKiBAbWVtYmVyb2YgUG9wcGVyLlV0aWxzCiAgICAgKiBAYXJndW1lbnQge0FueX0gZnVuY3Rpb25Ub0NoZWNrIC0gdmFyaWFibGUgdG8gY2hlY2sKICAgICAqIEByZXR1cm5zIHtCb29sZWFufSBhbnN3ZXIgdG86IGlzIGEgZnVuY3Rpb24/CiAgICAgKi8KCgogICAgZnVuY3Rpb24gaXNGdW5jdGlvbihmdW5jdGlvblRvQ2hlY2spIHsKICAgICAgdmFyIGdldFR5cGUgPSB7fTsKICAgICAgcmV0dXJuIGZ1bmN0aW9uVG9DaGVjayAmJiBnZXRUeXBlLnRvU3RyaW5nLmNhbGwoZnVuY3Rpb25Ub0NoZWNrKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJzsKICAgIH0KCiAgICB2YXIgY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiBjbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsKICAgICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsKICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07CiAgICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7CiAgICAgICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7CiAgICAgICAgICBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsKICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7CiAgICAgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsKICAgICAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsKICAgICAgICByZXR1cm4gQ29uc3RydWN0b3I7CiAgICAgIH07CiAgICB9KCk7CgogICAgdmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7CiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsKCiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgewogICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsKICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0YXJnZXQ7CiAgICB9OwoKICAgIHZhciB0b29sdGlwX0RFRkFVTFRfT1BUSU9OUyA9IHsKICAgICAgY29udGFpbmVyOiBmYWxzZSwKICAgICAgZGVsYXk6IDAsCiAgICAgIGh0bWw6IGZhbHNlLAogICAgICBwbGFjZW1lbnQ6ICd0b3AnLAogICAgICB0aXRsZTogJycsCiAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz0idG9vbHRpcCIgcm9sZT0idG9vbHRpcCI+PGRpdiBjbGFzcz0idG9vbHRpcC1hcnJvdyI+PC9kaXY+PGRpdiBjbGFzcz0idG9vbHRpcC1pbm5lciI+PC9kaXY+PC9kaXY+JywKICAgICAgdHJpZ2dlcjogJ2hvdmVyIGZvY3VzJywKICAgICAgb2Zmc2V0OiAwLAogICAgICBhcnJvd1NlbGVjdG9yOiAnLnRvb2x0aXAtYXJyb3csIC50b29sdGlwX19hcnJvdycsCiAgICAgIGlubmVyU2VsZWN0b3I6ICcudG9vbHRpcC1pbm5lciwgLnRvb2x0aXBfX2lubmVyJwogICAgfTsKCiAgICB2YXIgdG9vbHRpcF9Ub29sdGlwID0gZnVuY3Rpb24gKCkgewogICAgICAvKioKICAgICAgICogQ3JlYXRlIGEgbmV3IFRvb2x0aXAuanMgaW5zdGFuY2UKICAgICAgICogQGNsYXNzIFRvb2x0aXAKICAgICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcmVmZXJlbmNlIC0gVGhlIERPTSBub2RlIHVzZWQgYXMgcmVmZXJlbmNlIG9mIHRoZSB0b29sdGlwIChpdCBjYW4gYmUgYSBqUXVlcnkgZWxlbWVudCkuCiAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zCiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnBsYWNlbWVudD0ndG9wJwogICAgICAgKiAgICAgIFBsYWNlbWVudCBvZiB0aGUgcG9wcGVyIGFjY2VwdGVkIHZhbHVlczogYHRvcCgtc3RhcnQsIC1lbmQpLCByaWdodCgtc3RhcnQsIC1lbmQpLCBib3R0b20oLXN0YXJ0LCAtZW5kKSwKICAgICAgICogICAgICBsZWZ0KC1zdGFydCwgLWVuZClgCiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5hcnJvd1NlbGVjdG9yPScudG9vbHRpcC1hcnJvdywgLnRvb2x0aXBfX2Fycm93J10gLSBjbGFzc05hbWUgdXNlZCB0byBsb2NhdGUgdGhlIERPTSBhcnJvdyBlbGVtZW50IGluIHRoZSB0b29sdGlwLgogICAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuaW5uZXJTZWxlY3Rvcj0nLnRvb2x0aXAtaW5uZXIsIC50b29sdGlwX19pbm5lciddIC0gY2xhc3NOYW1lIHVzZWQgdG8gbG9jYXRlIHRoZSBET00gaW5uZXIgZWxlbWVudCBpbiB0aGUgdG9vbHRpcC4KICAgICAgICogQHBhcmFtIHtIVE1MRWxlbWVudHxTdHJpbmd8ZmFsc2V9IG9wdGlvbnMuY29udGFpbmVyPWZhbHNlIC0gQXBwZW5kIHRoZSB0b29sdGlwIHRvIGEgc3BlY2lmaWMgZWxlbWVudC4KICAgICAgICogQHBhcmFtIHtOdW1iZXJ8T2JqZWN0fSBvcHRpb25zLmRlbGF5PTAKICAgICAgICogICAgICBEZWxheSBzaG93aW5nIGFuZCBoaWRpbmcgdGhlIHRvb2x0aXAgKG1zKSAtIGRvZXMgbm90IGFwcGx5IHRvIG1hbnVhbCB0cmlnZ2VyIHR5cGUuCiAgICAgICAqICAgICAgSWYgYSBudW1iZXIgaXMgc3VwcGxpZWQsIGRlbGF5IGlzIGFwcGxpZWQgdG8gYm90aCBoaWRlL3Nob3cuCiAgICAgICAqICAgICAgT2JqZWN0IHN0cnVjdHVyZSBpczogYHsgc2hvdzogNTAwLCBoaWRlOiAxMDAgfWAKICAgICAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLmh0bWw9ZmFsc2UgLSBJbnNlcnQgSFRNTCBpbnRvIHRoZSB0b29sdGlwLiBJZiBmYWxzZSwgdGhlIGNvbnRlbnQgd2lsbCBpbnNlcnRlZCB3aXRoIGB0ZXh0Q29udGVudGAuCiAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy50ZW1wbGF0ZT0nPGRpdiBjbGFzcz0idG9vbHRpcCIgcm9sZT0idG9vbHRpcCI+PGRpdiBjbGFzcz0idG9vbHRpcC1hcnJvdyI+PC9kaXY+PGRpdiBjbGFzcz0idG9vbHRpcC1pbm5lciI+PC9kaXY+PC9kaXY+J10KICAgICAgICogICAgICBCYXNlIEhUTUwgdG8gdXNlZCB3aGVuIGNyZWF0aW5nIHRoZSB0b29sdGlwLgogICAgICAgKiAgICAgIFRoZSB0b29sdGlwJ3MgYHRpdGxlYCB3aWxsIGJlIGluamVjdGVkIGludG8gdGhlIGAudG9vbHRpcC1pbm5lcmAgb3IgYC50b29sdGlwX19pbm5lcmAuCiAgICAgICAqICAgICAgYC50b29sdGlwLWFycm93YCBvciBgLnRvb2x0aXBfX2Fycm93YCB3aWxsIGJlY29tZSB0aGUgdG9vbHRpcCdzIGFycm93LgogICAgICAgKiAgICAgIFRoZSBvdXRlcm1vc3Qgd3JhcHBlciBlbGVtZW50IHNob3VsZCBoYXZlIHRoZSBgLnRvb2x0aXBgIGNsYXNzLgogICAgICAgKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudHxUaXRsZUZ1bmN0aW9ufSBvcHRpb25zLnRpdGxlPScnIC0gRGVmYXVsdCB0aXRsZSB2YWx1ZSBpZiBgdGl0bGVgIGF0dHJpYnV0ZSBpc24ndCBwcmVzZW50LgogICAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMudHJpZ2dlcj0naG92ZXIgZm9jdXMnXQogICAgICAgKiAgICAgIEhvdyB0b29sdGlwIGlzIHRyaWdnZXJlZCAtIGNsaWNrLCBob3ZlciwgZm9jdXMsIG1hbnVhbC4KICAgICAgICogICAgICBZb3UgbWF5IHBhc3MgbXVsdGlwbGUgdHJpZ2dlcnM7IHNlcGFyYXRlIHRoZW0gd2l0aCBhIHNwYWNlLiBgbWFudWFsYCBjYW5ub3QgYmUgY29tYmluZWQgd2l0aCBhbnkgb3RoZXIgdHJpZ2dlci4KICAgICAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLmNsb3NlT25DbGlja091dHNpZGU9ZmFsc2UgLSBDbG9zZSBhIHBvcHBlciBvbiBjbGljayBvdXRzaWRlIG9mIHRoZSBwb3BwZXIgYW5kIHJlZmVyZW5jZSBlbGVtZW50LiBUaGlzIGhhcyBlZmZlY3Qgb25seSB3aGVuIG9wdGlvbnMudHJpZ2dlciBpcyAnY2xpY2snLgogICAgICAgKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudH0gb3B0aW9ucy5ib3VuZGFyaWVzRWxlbWVudAogICAgICAgKiAgICAgIFRoZSBlbGVtZW50IHVzZWQgYXMgYm91bmRhcmllcyBmb3IgdGhlIHRvb2x0aXAuIEZvciBtb3JlIGluZm9ybWF0aW9uIHJlZmVyIHRvIFBvcHBlci5qcycKICAgICAgICogICAgICBbYm91bmRhcmllc0VsZW1lbnQgZG9jc10oaHR0cHM6Ly9wb3BwZXIuanMub3JnL3BvcHBlci1kb2N1bWVudGF0aW9uLmh0bWwpCiAgICAgICAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gb3B0aW9ucy5vZmZzZXQ9MCAtIE9mZnNldCBvZiB0aGUgdG9vbHRpcCByZWxhdGl2ZSB0byBpdHMgcmVmZXJlbmNlLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiByZWZlciB0byBQb3BwZXIuanMnCiAgICAgICAqICAgICAgW29mZnNldCBkb2NzXShodHRwczovL3BvcHBlci5qcy5vcmcvcG9wcGVyLWRvY3VtZW50YXRpb24uaHRtbCkKICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucG9wcGVyT3B0aW9ucz17fSAtIFBvcHBlciBvcHRpb25zLCB3aWxsIGJlIHBhc3NlZCBkaXJlY3RseSB0byBwb3BwZXIgaW5zdGFuY2UuIEZvciBtb3JlIGluZm9ybWF0aW9uIHJlZmVyIHRvIFBvcHBlci5qcycKICAgICAgICogICAgICBbb3B0aW9ucyBkb2NzXShodHRwczovL3BvcHBlci5qcy5vcmcvcG9wcGVyLWRvY3VtZW50YXRpb24uaHRtbCkKICAgICAgICogQHJldHVybiB7T2JqZWN0fSBpbnN0YW5jZSAtIFRoZSBnZW5lcmF0ZWQgdG9vbHRpcCBpbnN0YW5jZQogICAgICAgKi8KICAgICAgZnVuY3Rpb24gVG9vbHRpcChyZWZlcmVuY2UsIG9wdGlvbnMpIHsKICAgICAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBUb29sdGlwKTsKCiAgICAgICAgX2luaXRpYWxpc2VQcm9wcy5jYWxsKHRoaXMpOyAvLyBhcHBseSB1c2VyIG9wdGlvbnMgb3ZlciBkZWZhdWx0IG9uZXMKCgogICAgICAgIG9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgdG9vbHRpcF9ERUZBVUxUX09QVElPTlMsIG9wdGlvbnMpOwogICAgICAgIHJlZmVyZW5jZS5qcXVlcnkgJiYgKHJlZmVyZW5jZSA9IHJlZmVyZW5jZVswXSk7IC8vIGNhY2hlIHJlZmVyZW5jZSBhbmQgb3B0aW9ucwoKICAgICAgICB0aGlzLnJlZmVyZW5jZSA9IHJlZmVyZW5jZTsKICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOyAvLyBnZXQgZXZlbnRzIGxpc3QKCiAgICAgICAgdmFyIGV2ZW50cyA9IHR5cGVvZiBvcHRpb25zLnRyaWdnZXIgPT09ICdzdHJpbmcnID8gb3B0aW9ucy50cmlnZ2VyLnNwbGl0KCcgJykuZmlsdGVyKGZ1bmN0aW9uICh0cmlnZ2VyKSB7CiAgICAgICAgICByZXR1cm4gWydjbGljaycsICdob3ZlcicsICdmb2N1cyddLmluZGV4T2YodHJpZ2dlcikgIT09IC0xOwogICAgICAgIH0pIDogW107IC8vIHNldCBpbml0aWFsIHN0YXRlCgogICAgICAgIHRoaXMuX2lzT3BlbiA9IGZhbHNlOwogICAgICAgIHRoaXMuX3BvcHBlck9wdGlvbnMgPSB7fTsgLy8gc2V0IGV2ZW50IGxpc3RlbmVycwoKICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyhyZWZlcmVuY2UsIGV2ZW50cywgb3B0aW9ucyk7CiAgICAgIH0gLy8KICAgICAgLy8gUHVibGljIG1ldGhvZHMKICAgICAgLy8KCiAgICAgIC8qKgogICAgICAgKiBSZXZlYWxzIGFuIGVsZW1lbnQncyB0b29sdGlwLiBUaGlzIGlzIGNvbnNpZGVyZWQgYSAibWFudWFsIiB0cmlnZ2VyaW5nIG9mIHRoZSB0b29sdGlwLgogICAgICAgKiBUb29sdGlwcyB3aXRoIHplcm8tbGVuZ3RoIHRpdGxlcyBhcmUgbmV2ZXIgZGlzcGxheWVkLgogICAgICAgKiBAbWV0aG9kIFRvb2x0aXAjc2hvdwogICAgICAgKiBAbWVtYmVyb2YgVG9vbHRpcAogICAgICAgKi8KCiAgICAgIC8qKgogICAgICAgKiBIaWRlcyBhbiBlbGVtZW504oCZcyB0b29sdGlwLiBUaGlzIGlzIGNvbnNpZGVyZWQgYSDigJxtYW51YWzigJ0gdHJpZ2dlcmluZyBvZiB0aGUgdG9vbHRpcC4KICAgICAgICogQG1ldGhvZCBUb29sdGlwI2hpZGUKICAgICAgICogQG1lbWJlcm9mIFRvb2x0aXAKICAgICAgICovCgogICAgICAvKioKICAgICAgICogSGlkZXMgYW5kIGRlc3Ryb3lzIGFuIGVsZW1lbnTigJlzIHRvb2x0aXAuCiAgICAgICAqIEBtZXRob2QgVG9vbHRpcCNkaXNwb3NlCiAgICAgICAqIEBtZW1iZXJvZiBUb29sdGlwCiAgICAgICAqLwoKICAgICAgLyoqCiAgICAgICAqIFRvZ2dsZXMgYW4gZWxlbWVudOKAmXMgdG9vbHRpcC4gVGhpcyBpcyBjb25zaWRlcmVkIGEg4oCcbWFudWFs4oCdIHRyaWdnZXJpbmcgb2YgdGhlIHRvb2x0aXAuCiAgICAgICAqIEBtZXRob2QgVG9vbHRpcCN0b2dnbGUKICAgICAgICogQG1lbWJlcm9mIFRvb2x0aXAKICAgICAgICovCgogICAgICAvKioKICAgICAgICogVXBkYXRlcyB0aGUgdG9vbHRpcCdzIHRpdGxlIGNvbnRlbnQKICAgICAgICogQG1ldGhvZCBUb29sdGlwI3VwZGF0ZVRpdGxlQ29udGVudAogICAgICAgKiBAbWVtYmVyb2YgVG9vbHRpcAogICAgICAgKiBAcGFyYW0ge1N0cmluZ3xIVE1MRWxlbWVudH0gdGl0bGUgLSBUaGUgbmV3IGNvbnRlbnQgdG8gdXNlIGZvciB0aGUgdGl0bGUKICAgICAgICovCiAgICAgIC8vCiAgICAgIC8vIFByaXZhdGUgbWV0aG9kcwogICAgICAvLwoKCiAgICAgIGNyZWF0ZUNsYXNzKFRvb2x0aXAsIFt7CiAgICAgICAga2V5OiAnX2NyZWF0ZScsCgogICAgICAgIC8qKgogICAgICAgICAqIENyZWF0ZXMgYSBuZXcgdG9vbHRpcCBub2RlCiAgICAgICAgICogQG1lbWJlcm9mIFRvb2x0aXAKICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHJlZmVyZW5jZQogICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZW1wbGF0ZQogICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfEhUTUxFbGVtZW50fFRpdGxlRnVuY3Rpb259IHRpdGxlCiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBhbGxvd0h0bWwKICAgICAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gdG9vbHRpcE5vZGUKICAgICAgICAgKi8KICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2NyZWF0ZShyZWZlcmVuY2UsIHRlbXBsYXRlLCB0aXRsZSwgYWxsb3dIdG1sKSB7CiAgICAgICAgICAvLyBjcmVhdGUgdG9vbHRpcCBlbGVtZW50CiAgICAgICAgICB2YXIgdG9vbHRpcEdlbmVyYXRvciA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgIHRvb2x0aXBHZW5lcmF0b3IuaW5uZXJIVE1MID0gdGVtcGxhdGUudHJpbSgpOwogICAgICAgICAgdmFyIHRvb2x0aXBOb2RlID0gdG9vbHRpcEdlbmVyYXRvci5jaGlsZE5vZGVzWzBdOyAvLyBhZGQgdW5pcXVlIElEIHRvIG91ciB0b29sdGlwIChuZWVkZWQgZm9yIGFjY2Vzc2liaWxpdHkgcmVhc29ucykKCiAgICAgICAgICB0b29sdGlwTm9kZS5pZCA9ICd0b29sdGlwXycgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgMTApOyAvLyBzZXQgaW5pdGlhbCBgYXJpYS1oaWRkZW5gIHN0YXRlIHRvIGBmYWxzZWAgKGl0J3MgdmlzaWJsZSEpCgogICAgICAgICAgdG9vbHRpcE5vZGUuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICdmYWxzZScpOyAvLyBhZGQgdGl0bGUgdG8gdG9vbHRpcAoKICAgICAgICAgIHZhciB0aXRsZU5vZGUgPSB0b29sdGlwR2VuZXJhdG9yLnF1ZXJ5U2VsZWN0b3IodGhpcy5vcHRpb25zLmlubmVyU2VsZWN0b3IpOwoKICAgICAgICAgIHRoaXMuX2FkZFRpdGxlQ29udGVudChyZWZlcmVuY2UsIHRpdGxlLCBhbGxvd0h0bWwsIHRpdGxlTm9kZSk7IC8vIHJldHVybiB0aGUgZ2VuZXJhdGVkIHRvb2x0aXAgbm9kZQoKCiAgICAgICAgICByZXR1cm4gdG9vbHRpcE5vZGU7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAga2V5OiAnX2FkZFRpdGxlQ29udGVudCcsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hZGRUaXRsZUNvbnRlbnQocmVmZXJlbmNlLCB0aXRsZSwgYWxsb3dIdG1sLCB0aXRsZU5vZGUpIHsKICAgICAgICAgIGlmICh0aXRsZS5ub2RlVHlwZSA9PT0gMSB8fCB0aXRsZS5ub2RlVHlwZSA9PT0gMTEpIHsKICAgICAgICAgICAgLy8gaWYgdGl0bGUgaXMgYSBlbGVtZW50IG5vZGUgb3IgZG9jdW1lbnQgZnJhZ21lbnQsIGFwcGVuZCBpdCBvbmx5IGlmIGFsbG93SHRtbCBpcyB0cnVlCiAgICAgICAgICAgIGFsbG93SHRtbCAmJiB0aXRsZU5vZGUuYXBwZW5kQ2hpbGQodGl0bGUpOwogICAgICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHRpdGxlKSkgewogICAgICAgICAgICAvLyBSZWN1cnNpdmVseSBjYWxsIG91cnNlbGYgc28gdGhhdCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmdW5jdGlvbiBnZXRzIGhhbmRsZWQgYXBwcm9wcmlhdGVseSAtIGVpdGhlcgogICAgICAgICAgICAvLyBhcyBhIGRvbSBub2RlLCBhIHN0cmluZywgb3IgZXZlbiBhcyBhbm90aGVyIGZ1bmN0aW9uLgogICAgICAgICAgICB0aGlzLl9hZGRUaXRsZUNvbnRlbnQocmVmZXJlbmNlLCB0aXRsZS5jYWxsKHJlZmVyZW5jZSksIGFsbG93SHRtbCwgdGl0bGVOb2RlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIGlmIGl0J3MganVzdCBhIHNpbXBsZSB0ZXh0LCBzZXQgdGV4dENvbnRlbnQgb3IgaW5uZXJIdG1sIGRlcGVuZGluZyBieSBgYWxsb3dIdG1sYCB2YWx1ZQogICAgICAgICAgICBhbGxvd0h0bWwgPyB0aXRsZU5vZGUuaW5uZXJIVE1MID0gdGl0bGUgOiB0aXRsZU5vZGUudGV4dENvbnRlbnQgPSB0aXRsZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdfc2hvdycsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zaG93KHJlZmVyZW5jZSwgb3B0aW9ucykgewogICAgICAgICAgLy8gZG9uJ3Qgc2hvdyBpZiBpdCdzIGFscmVhZHkgdmlzaWJsZQogICAgICAgICAgLy8gb3IgaWYgaXQncyBub3QgYmVpbmcgc2hvd2VkCiAgICAgICAgICBpZiAodGhpcy5faXNPcGVuICYmICF0aGlzLl9pc09wZW5pbmcpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5faXNPcGVuID0gdHJ1ZTsgLy8gaWYgdGhlIHRvb2x0aXBOb2RlIGFscmVhZHkgZXhpc3RzLCBqdXN0IHNob3cgaXQKCiAgICAgICAgICBpZiAodGhpcy5fdG9vbHRpcE5vZGUpIHsKICAgICAgICAgICAgdGhpcy5fdG9vbHRpcE5vZGUuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJzsKCiAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBOb2RlLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTsKCiAgICAgICAgICAgIHRoaXMucG9wcGVySW5zdGFuY2UudXBkYXRlKCk7CiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgICAgfSAvLyBnZXQgdGl0bGUKCgogICAgICAgICAgdmFyIHRpdGxlID0gcmVmZXJlbmNlLmdldEF0dHJpYnV0ZSgndGl0bGUnKSB8fCBvcHRpb25zLnRpdGxlOyAvLyBkb24ndCBzaG93IHRvb2x0aXAgaWYgbm8gdGl0bGUgaXMgZGVmaW5lZAoKICAgICAgICAgIGlmICghdGl0bGUpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgICB9IC8vIGNyZWF0ZSB0b29sdGlwIG5vZGUKCgogICAgICAgICAgdmFyIHRvb2x0aXBOb2RlID0gdGhpcy5fY3JlYXRlKHJlZmVyZW5jZSwgb3B0aW9ucy50ZW1wbGF0ZSwgdGl0bGUsIG9wdGlvbnMuaHRtbCk7IC8vIEFkZCBgYXJpYS1kZXNjcmliZWRieWAgdG8gb3VyIHJlZmVyZW5jZSBlbGVtZW50IGZvciBhY2Nlc3NpYmlsaXR5IHJlYXNvbnMKCgogICAgICAgICAgcmVmZXJlbmNlLnNldEF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScsIHRvb2x0aXBOb2RlLmlkKTsgLy8gYXBwZW5kIHRvb2x0aXAgdG8gY29udGFpbmVyCgogICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2ZpbmRDb250YWluZXIob3B0aW9ucy5jb250YWluZXIsIHJlZmVyZW5jZSk7CgogICAgICAgICAgdGhpcy5fYXBwZW5kKHRvb2x0aXBOb2RlLCBjb250YWluZXIpOwoKICAgICAgICAgIHRoaXMuX3BvcHBlck9wdGlvbnMgPSBfZXh0ZW5kcyh7fSwgb3B0aW9ucy5wb3BwZXJPcHRpb25zLCB7CiAgICAgICAgICAgIHBsYWNlbWVudDogb3B0aW9ucy5wbGFjZW1lbnQKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5fcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5fcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMsIHsKICAgICAgICAgICAgYXJyb3c6IF9leHRlbmRzKHt9LCB0aGlzLl9wb3BwZXJPcHRpb25zLm1vZGlmaWVycyAmJiB0aGlzLl9wb3BwZXJPcHRpb25zLm1vZGlmaWVycy5hcnJvdywgewogICAgICAgICAgICAgIGVsZW1lbnQ6IG9wdGlvbnMuYXJyb3dTZWxlY3RvcgogICAgICAgICAgICB9KSwKICAgICAgICAgICAgb2Zmc2V0OiBfZXh0ZW5kcyh7fSwgdGhpcy5fcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMgJiYgdGhpcy5fcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMub2Zmc2V0LCB7CiAgICAgICAgICAgICAgb2Zmc2V0OiBvcHRpb25zLm9mZnNldCB8fCB0aGlzLl9wb3BwZXJPcHRpb25zLm1vZGlmaWVycyAmJiB0aGlzLl9wb3BwZXJPcHRpb25zLm1vZGlmaWVycy5vZmZzZXQgJiYgdGhpcy5fcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMub2Zmc2V0Lm9mZnNldCB8fCBvcHRpb25zLm9mZnNldAogICAgICAgICAgICB9KQogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKG9wdGlvbnMuYm91bmRhcmllc0VsZW1lbnQpIHsKICAgICAgICAgICAgdGhpcy5fcG9wcGVyT3B0aW9ucy5tb2RpZmllcnMucHJldmVudE92ZXJmbG93ID0gewogICAgICAgICAgICAgIGJvdW5kYXJpZXNFbGVtZW50OiBvcHRpb25zLmJvdW5kYXJpZXNFbGVtZW50CiAgICAgICAgICAgIH07CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5wb3BwZXJJbnN0YW5jZSA9IG5ldyBlc21fcG9wcGVyWyJhIgogICAgICAgICAgLyogZGVmYXVsdCAqLwogICAgICAgICAgXShyZWZlcmVuY2UsIHRvb2x0aXBOb2RlLCB0aGlzLl9wb3BwZXJPcHRpb25zKTsKICAgICAgICAgIHRoaXMuX3Rvb2x0aXBOb2RlID0gdG9vbHRpcE5vZGU7CiAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdfaGlkZScsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oaWRlKCkKICAgICAgICAvKnJlZmVyZW5jZSwgb3B0aW9ucyovCiAgICAgICAgewogICAgICAgICAgLy8gZG9uJ3QgaGlkZSBpZiBpdCdzIGFscmVhZHkgaGlkZGVuCiAgICAgICAgICBpZiAoIXRoaXMuX2lzT3BlbikgewogICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLl9pc09wZW4gPSBmYWxzZTsgLy8gaGlkZSB0b29sdGlwTm9kZQoKICAgICAgICAgIHRoaXMuX3Rvb2x0aXBOb2RlLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJzsKCiAgICAgICAgICB0aGlzLl90b29sdGlwTm9kZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTsKCiAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdfZGlzcG9zZScsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9kaXNwb3NlKCkgewogICAgICAgICAgdmFyIF90aGlzID0gdGhpczsgLy8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVycyBmaXJzdCB0byBwcmV2ZW50IGFueSB1bmV4cGVjdGVkIGJlaGF2aW91cgoKCiAgICAgICAgICB0aGlzLl9ldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZikgewogICAgICAgICAgICB2YXIgZnVuYyA9IF9yZWYuZnVuYywKICAgICAgICAgICAgICAgIGV2ZW50ID0gX3JlZi5ldmVudDsKCiAgICAgICAgICAgIF90aGlzLnJlZmVyZW5jZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBmdW5jKTsKICAgICAgICAgIH0pOwoKICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IFtdOwoKICAgICAgICAgIGlmICh0aGlzLl90b29sdGlwTm9kZSkgewogICAgICAgICAgICB0aGlzLl9oaWRlKCk7IC8vIGRlc3Ryb3kgaW5zdGFuY2UKCgogICAgICAgICAgICB0aGlzLnBvcHBlckluc3RhbmNlLmRlc3Ryb3koKTsgLy8gZGVzdHJveSB0b29sdGlwTm9kZSBpZiByZW1vdmVPbkRlc3Ryb3kgaXMgbm90IHNldCwgYXMgcG9wcGVySW5zdGFuY2UuZGVzdHJveSgpIGFscmVhZHkgcmVtb3ZlcyB0aGUgZWxlbWVudAoKICAgICAgICAgICAgaWYgKCF0aGlzLnBvcHBlckluc3RhbmNlLm9wdGlvbnMucmVtb3ZlT25EZXN0cm95KSB7CiAgICAgICAgICAgICAgdGhpcy5fdG9vbHRpcE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLl90b29sdGlwTm9kZSk7CgogICAgICAgICAgICAgIHRoaXMuX3Rvb2x0aXBOb2RlID0gbnVsbDsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGtleTogJ19maW5kQ29udGFpbmVyJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2ZpbmRDb250YWluZXIoY29udGFpbmVyLCByZWZlcmVuY2UpIHsKICAgICAgICAgIC8vIGlmIGNvbnRhaW5lciBpcyBhIHF1ZXJ5LCBnZXQgdGhlIHJlbGF0aXZlIGVsZW1lbnQKICAgICAgICAgIGlmICh0eXBlb2YgY29udGFpbmVyID09PSAnc3RyaW5nJykgewogICAgICAgICAgICBjb250YWluZXIgPSB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXIpOwogICAgICAgICAgfSBlbHNlIGlmIChjb250YWluZXIgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIC8vIGlmIGNvbnRhaW5lciBpcyBgZmFsc2VgLCBzZXQgaXQgdG8gcmVmZXJlbmNlIHBhcmVudAogICAgICAgICAgICBjb250YWluZXIgPSByZWZlcmVuY2UucGFyZW50Tm9kZTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gY29udGFpbmVyOwogICAgICAgIH0KICAgICAgICAvKioKICAgICAgICAgKiBBcHBlbmQgdG9vbHRpcCB0byBjb250YWluZXIKICAgICAgICAgKiBAbWVtYmVyb2YgVG9vbHRpcAogICAgICAgICAqIEBwcml2YXRlCiAgICAgICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdG9vbHRpcE5vZGUKICAgICAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fFN0cmluZ3xmYWxzZX0gY29udGFpbmVyCiAgICAgICAgICovCgogICAgICB9LCB7CiAgICAgICAga2V5OiAnX2FwcGVuZCcsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBlbmQodG9vbHRpcE5vZGUsIGNvbnRhaW5lcikgewogICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRvb2x0aXBOb2RlKTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdfc2V0RXZlbnRMaXN0ZW5lcnMnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0RXZlbnRMaXN0ZW5lcnMocmVmZXJlbmNlLCBldmVudHMsIG9wdGlvbnMpIHsKICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgICAgIHZhciBkaXJlY3RFdmVudHMgPSBbXTsKICAgICAgICAgIHZhciBvcHBvc2l0ZUV2ZW50cyA9IFtdOwogICAgICAgICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgIHN3aXRjaCAoZXZlbnQpIHsKICAgICAgICAgICAgICBjYXNlICdob3Zlcic6CiAgICAgICAgICAgICAgICBkaXJlY3RFdmVudHMucHVzaCgnbW91c2VlbnRlcicpOwogICAgICAgICAgICAgICAgb3Bwb3NpdGVFdmVudHMucHVzaCgnbW91c2VsZWF2ZScpOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ2ZvY3VzJzoKICAgICAgICAgICAgICAgIGRpcmVjdEV2ZW50cy5wdXNoKCdmb2N1cycpOwogICAgICAgICAgICAgICAgb3Bwb3NpdGVFdmVudHMucHVzaCgnYmx1cicpOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgJ2NsaWNrJzoKICAgICAgICAgICAgICAgIGRpcmVjdEV2ZW50cy5wdXNoKCdjbGljaycpOwogICAgICAgICAgICAgICAgb3Bwb3NpdGVFdmVudHMucHVzaCgnY2xpY2snKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsgLy8gc2NoZWR1bGUgc2hvdyB0b29sdGlwCgogICAgICAgICAgZGlyZWN0RXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgIHZhciBmdW5jID0gZnVuY3Rpb24gZnVuYyhldnQpIHsKICAgICAgICAgICAgICBpZiAoX3RoaXMyLl9pc09wZW5pbmcgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGV2dC51c2VkQnlUb29sdGlwID0gdHJ1ZTsKCiAgICAgICAgICAgICAgX3RoaXMyLl9zY2hlZHVsZVNob3cocmVmZXJlbmNlLCBvcHRpb25zLmRlbGF5LCBvcHRpb25zLCBldnQpOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgX3RoaXMyLl9ldmVudHMucHVzaCh7CiAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50LAogICAgICAgICAgICAgIGZ1bmM6IGZ1bmMKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICByZWZlcmVuY2UuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZnVuYyk7CiAgICAgICAgICB9KTsgLy8gc2NoZWR1bGUgaGlkZSB0b29sdGlwCgogICAgICAgICAgb3Bwb3NpdGVFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgdmFyIGZ1bmMgPSBmdW5jdGlvbiBmdW5jKGV2dCkgewogICAgICAgICAgICAgIGlmIChldnQudXNlZEJ5VG9vbHRpcCA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX3RoaXMyLl9zY2hlZHVsZUhpZGUocmVmZXJlbmNlLCBvcHRpb25zLmRlbGF5LCBvcHRpb25zLCBldnQpOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgX3RoaXMyLl9ldmVudHMucHVzaCh7CiAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50LAogICAgICAgICAgICAgIGZ1bmM6IGZ1bmMKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICByZWZlcmVuY2UuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZnVuYyk7CgogICAgICAgICAgICBpZiAoZXZlbnQgPT09ICdjbGljaycgJiYgb3B0aW9ucy5jbG9zZU9uQ2xpY2tPdXRzaWRlKSB7CiAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLl9pc09wZW5pbmcpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHZhciBwb3BwZXIgPSBfdGhpczIucG9wcGVySW5zdGFuY2UucG9wcGVyOwoKICAgICAgICAgICAgICAgIGlmIChyZWZlcmVuY2UuY29udGFpbnMoZS50YXJnZXQpIHx8IHBvcHBlci5jb250YWlucyhlLnRhcmdldCkpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZ1bmMoZSk7CiAgICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGtleTogJ19zY2hlZHVsZVNob3cnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2NoZWR1bGVTaG93KHJlZmVyZW5jZSwgZGVsYXksIG9wdGlvbnMKICAgICAgICAvKiwgZXZ0ICovCiAgICAgICAgKSB7CiAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICAgICB0aGlzLl9pc09wZW5pbmcgPSB0cnVlOyAvLyBkZWZhdWx0cyB0byAwCgogICAgICAgICAgdmFyIGNvbXB1dGVkRGVsYXkgPSBkZWxheSAmJiBkZWxheS5zaG93IHx8IGRlbGF5IHx8IDA7CiAgICAgICAgICB0aGlzLl9zaG93VGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5fc2hvdyhyZWZlcmVuY2UsIG9wdGlvbnMpOwogICAgICAgICAgfSwgY29tcHV0ZWREZWxheSk7CiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAga2V5OiAnX3NjaGVkdWxlSGlkZScsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zY2hlZHVsZUhpZGUocmVmZXJlbmNlLCBkZWxheSwgb3B0aW9ucywgZXZ0KSB7CiAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgICAgICB0aGlzLl9pc09wZW5pbmcgPSBmYWxzZTsgLy8gZGVmYXVsdHMgdG8gMAoKICAgICAgICAgIHZhciBjb21wdXRlZERlbGF5ID0gZGVsYXkgJiYgZGVsYXkuaGlkZSB8fCBkZWxheSB8fCAwOwogICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9zaG93VGltZW91dCk7CiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChfdGhpczQuX2lzT3BlbiA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghZG9jdW1lbnQuYm9keS5jb250YWlucyhfdGhpczQuX3Rvb2x0aXBOb2RlKSkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSAvLyBpZiB3ZSBhcmUgaGlkaW5nIGJlY2F1c2Ugb2YgYSBtb3VzZWxlYXZlLCB3ZSBtdXN0IGNoZWNrIHRoYXQgdGhlIG5ldwogICAgICAgICAgICAvLyByZWZlcmVuY2UgaXNuJ3QgdGhlIHRvb2x0aXAsIGJlY2F1c2UgaW4gdGhpcyBjYXNlIHdlIGRvbid0IHdhbnQgdG8gaGlkZSBpdAoKCiAgICAgICAgICAgIGlmIChldnQudHlwZSA9PT0gJ21vdXNlbGVhdmUnKSB7CiAgICAgICAgICAgICAgdmFyIGlzU2V0ID0gX3RoaXM0Ll9zZXRUb29sdGlwTm9kZUV2ZW50KGV2dCwgcmVmZXJlbmNlLCBkZWxheSwgb3B0aW9ucyk7IC8vIGlmIHdlIHNldCB0aGUgbmV3IGV2ZW50LCBkb24ndCBoaWRlIHRoZSB0b29sdGlwIHlldAogICAgICAgICAgICAgIC8vIHRoZSBuZXcgZXZlbnQgd2lsbCB0YWtlIGNhcmUgdG8gaGlkZSBpdCBpZiBuZWNlc3NhcnkKCgogICAgICAgICAgICAgIGlmIChpc1NldCkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3RoaXM0Ll9oaWRlKHJlZmVyZW5jZSwgb3B0aW9ucyk7CiAgICAgICAgICB9LCBjb21wdXRlZERlbGF5KTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdfdXBkYXRlVGl0bGVDb250ZW50JywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZVRpdGxlQ29udGVudCh0aXRsZSkgewogICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl90b29sdGlwTm9kZSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMudGl0bGUgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnRpdGxlID0gdGl0bGU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgdGl0bGVOb2RlID0gdGhpcy5fdG9vbHRpcE5vZGUucXVlcnlTZWxlY3Rvcih0aGlzLm9wdGlvbnMuaW5uZXJTZWxlY3Rvcik7CgogICAgICAgICAgdGhpcy5fY2xlYXJUaXRsZUNvbnRlbnQodGl0bGVOb2RlLCB0aGlzLm9wdGlvbnMuaHRtbCwgdGhpcy5yZWZlcmVuY2UuZ2V0QXR0cmlidXRlKCd0aXRsZScpIHx8IHRoaXMub3B0aW9ucy50aXRsZSk7CgogICAgICAgICAgdGhpcy5fYWRkVGl0bGVDb250ZW50KHRoaXMucmVmZXJlbmNlLCB0aXRsZSwgdGhpcy5vcHRpb25zLmh0bWwsIHRpdGxlTm9kZSk7CgogICAgICAgICAgdGhpcy5vcHRpb25zLnRpdGxlID0gdGl0bGU7CiAgICAgICAgICB0aGlzLnBvcHBlckluc3RhbmNlLnVwZGF0ZSgpOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGtleTogJ19jbGVhclRpdGxlQ29udGVudCcsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jbGVhclRpdGxlQ29udGVudCh0aXRsZU5vZGUsIGFsbG93SHRtbCwgbGFzdFRpdGxlKSB7CiAgICAgICAgICBpZiAobGFzdFRpdGxlLm5vZGVUeXBlID09PSAxIHx8IGxhc3RUaXRsZS5ub2RlVHlwZSA9PT0gMTEpIHsKICAgICAgICAgICAgYWxsb3dIdG1sICYmIHRpdGxlTm9kZS5yZW1vdmVDaGlsZChsYXN0VGl0bGUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxsb3dIdG1sID8gdGl0bGVOb2RlLmlubmVySFRNTCA9ICcnIDogdGl0bGVOb2RlLnRleHRDb250ZW50ID0gJyc7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9XSk7CiAgICAgIHJldHVybiBUb29sdGlwOwogICAgfSgpOwogICAgLyoqCiAgICAgKiBUaXRsZSBmdW5jdGlvbiwgaXRzIGNvbnRleHQgaXMgdGhlIFRvb2x0aXAgaW5zdGFuY2UuCiAgICAgKiBAbWVtYmVyb2YgVG9vbHRpcAogICAgICogQGNhbGxiYWNrIFRpdGxlRnVuY3Rpb24KICAgICAqIEByZXR1cm4ge1N0cmluZ30gcGxhY2VtZW50IC0gVGhlIGRlc2lyZWQgdGl0bGUuCiAgICAgKi8KCgogICAgdmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHRoaXMuc2hvdyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXM1Ll9zaG93KF90aGlzNS5yZWZlcmVuY2UsIF90aGlzNS5vcHRpb25zKTsKICAgICAgfTsKCiAgICAgIHRoaXMuaGlkZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXM1Ll9oaWRlKCk7CiAgICAgIH07CgogICAgICB0aGlzLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzNS5fZGlzcG9zZSgpOwogICAgICB9OwoKICAgICAgdGhpcy50b2dnbGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzNS5faXNPcGVuKSB7CiAgICAgICAgICByZXR1cm4gX3RoaXM1LmhpZGUoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIF90aGlzNS5zaG93KCk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgdGhpcy51cGRhdGVUaXRsZUNvbnRlbnQgPSBmdW5jdGlvbiAodGl0bGUpIHsKICAgICAgICByZXR1cm4gX3RoaXM1Ll91cGRhdGVUaXRsZUNvbnRlbnQodGl0bGUpOwogICAgICB9OwoKICAgICAgdGhpcy5fZXZlbnRzID0gW107CgogICAgICB0aGlzLl9zZXRUb29sdGlwTm9kZUV2ZW50ID0gZnVuY3Rpb24gKGV2dCwgcmVmZXJlbmNlLCBkZWxheSwgb3B0aW9ucykgewogICAgICAgIHZhciByZWxhdGVkcmVmZXJlbmNlID0gZXZ0LnJlbGF0ZWRyZWZlcmVuY2UgfHwgZXZ0LnRvRWxlbWVudCB8fCBldnQucmVsYXRlZFRhcmdldDsKCiAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gY2FsbGJhY2soZXZ0MikgewogICAgICAgICAgdmFyIHJlbGF0ZWRyZWZlcmVuY2UyID0gZXZ0Mi5yZWxhdGVkcmVmZXJlbmNlIHx8IGV2dDIudG9FbGVtZW50IHx8IGV2dDIucmVsYXRlZFRhcmdldDsgLy8gUmVtb3ZlIGV2ZW50IGxpc3RlbmVyIGFmdGVyIGNhbGwKCiAgICAgICAgICBfdGhpczUuX3Rvb2x0aXBOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0LnR5cGUsIGNhbGxiYWNrKTsgLy8gSWYgdGhlIG5ldyByZWZlcmVuY2UgaXMgbm90IHRoZSByZWZlcmVuY2UgZWxlbWVudAoKCiAgICAgICAgICBpZiAoIXJlZmVyZW5jZS5jb250YWlucyhyZWxhdGVkcmVmZXJlbmNlMikpIHsKICAgICAgICAgICAgLy8gU2NoZWR1bGUgdG8gaGlkZSB0b29sdGlwCiAgICAgICAgICAgIF90aGlzNS5fc2NoZWR1bGVIaWRlKHJlZmVyZW5jZSwgb3B0aW9ucy5kZWxheSwgb3B0aW9ucywgZXZ0Mik7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgaWYgKF90aGlzNS5fdG9vbHRpcE5vZGUuY29udGFpbnMocmVsYXRlZHJlZmVyZW5jZSkpIHsKICAgICAgICAgIC8vIGxpc3RlbiB0byBtb3VzZWxlYXZlIG9uIHRoZSB0b29sdGlwIGVsZW1lbnQgdG8gYmUgYWJsZSB0byBoaWRlIHRoZSB0b29sdGlwCiAgICAgICAgICBfdGhpczUuX3Rvb2x0aXBOb2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZ0LnR5cGUsIGNhbGxiYWNrKTsKCiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfTsKICAgIH07CiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgoKICAgIHZhciBlc21fdG9vbHRpcCA9IHRvb2x0aXBfVG9vbHRpcDsgLy8gRVhURVJOQUwgTU9EVUxFOiAuL3NyYy9kaXJlY3RpdmVzL29sZC1wb3BvdmVyLmNzcwoKICAgIHZhciBvbGRfcG9wb3ZlciA9IF9fd2VicGFja19yZXF1aXJlX18oImIwZDMiKTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvZGlyZWN0aXZlcy9DUG9wb3Zlci5qcwoKICAgIC8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8KCgogICAgdmFyIENQb3BvdmVyID0gewogICAgICBuYW1lOiAnYy1wb3BvdmVyJywKICAgICAgdG9vbHRpcDogbnVsbCwKICAgICAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIGluc2VydGVkKGVsLCBiaW5kaW5nKSB7CiAgICAgICAgdmFyIHRvb2x0aXAgPSBuZXcgZXNtX3Rvb2x0aXAoZWwsIGJpbmRpbmcuZGVmLmdldFRvb2x0aXBDb25maWcoYmluZGluZykpOwogICAgICAgIGJpbmRpbmcuZGVmLl90b29sdGlwID0gdG9vbHRpcDsKCiAgICAgICAgaWYgKGJpbmRpbmcudmFsdWUuYWN0aXZlKSB7CiAgICAgICAgICB0b29sdGlwLnNob3coKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHVuYmluZDogZnVuY3Rpb24gdW5iaW5kKGVsLCBiaW5kaW5nKSB7CiAgICAgICAgdmFyIHRvb2x0aXAgPSBiaW5kaW5nLmRlZi5fdG9vbHRpcDsKCiAgICAgICAgaWYgKHRvb2x0aXApIHsKICAgICAgICAgIHRvb2x0aXAuZGlzcG9zZSgpOwogICAgICAgICAgdG9vbHRpcCA9IG51bGw7CiAgICAgICAgfQogICAgICB9LAogICAgICBnZXRUb29sdGlwQ29uZmlnOiBmdW5jdGlvbiBnZXRUb29sdGlwQ29uZmlnKGJpbmRpbmcpIHsKICAgICAgICB2YXIgcHJvcHMgPSBiaW5kaW5nLnZhbHVlOwogICAgICAgIHZhciB0aXRsZSA9IHByb3BzLmNvbnRlbnQgfHwgJ2NvbnRlbnQnOyAvLyBjb25zdCBtb2RpZmllcnNUcmlnZ2VycyA9IFN0cmluZyhPYmplY3Qua2V5cyhiaW5kaW5nLm1vZGlmaWVycykpLnJlcGxhY2UoJywnLCcgJykKCiAgICAgICAgdmFyIGNsb3NlT25DbGlja091dHNpZGUgPSBwcm9wcy5jbG9zZU9uQ2xpY2tPdXRzaWRlID09PSBmYWxzZSA/IGZhbHNlIDogdHJ1ZTsKICAgICAgICB2YXIgaHRtbCA9IHByb3BzLmh0bWwgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlOwogICAgICAgIHZhciBwb3BwZXJPcHRpb25zID0gcHJvcHMucG9wcGVyT3B0aW9ucyB8fCB7CiAgICAgICAgICBtb2RpZmllcnM6IHsKICAgICAgICAgICAgcHJldmVudE92ZXJmbG93OiB7CiAgICAgICAgICAgICAgYm91bmRhcmllc0VsZW1lbnQ6ICdvZmZzZXRQYXJlbnQnCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHJldHVybiB7CiAgICAgICAgICB0aXRsZTogdGl0bGUsCiAgICAgICAgICB0cmlnZ2VyOiAnY2xpY2snLAogICAgICAgICAgaHRtbDogaHRtbCwKICAgICAgICAgIHBsYWNlbWVudDogcHJvcHMucGxhY2VtZW50IHx8ICdyaWdodCcsCiAgICAgICAgICBkZWxheTogcHJvcHMuZGVsYXkgfHwgMCwKICAgICAgICAgIG9mZnNldDogcHJvcHMub2Zmc2V0IHx8IDAsCiAgICAgICAgICBhcnJvd1NlbGVjdG9yOiAnLmFycm93JywKICAgICAgICAgIGlubmVyU2VsZWN0b3I6ICcucG9wb3Zlci1vbGQtYm9keScsCiAgICAgICAgICB0ZW1wbGF0ZTogYmluZGluZy5kZWYuZ2V0VGVtcGxhdGUocHJvcHMuaGVhZGVyKSwKICAgICAgICAgIGJvdW5kYXJpZXNFbGVtZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcm9wcy5ib3VuZGFyaWVzKSB8fCBwcm9wcy5ib3VuZGFyaWVzLAogICAgICAgICAgY29udGFpbmVyOiBwcm9wcy5hcHBlbmRUb0JvZHkgPyBkb2N1bWVudC5ib2R5IDogZmFsc2UsCiAgICAgICAgICBjbG9zZU9uQ2xpY2tPdXRzaWRlOiBjbG9zZU9uQ2xpY2tPdXRzaWRlLAogICAgICAgICAgcG9wcGVyT3B0aW9uczogcG9wcGVyT3B0aW9ucwogICAgICAgIH07CiAgICAgIH0sCiAgICAgIGdldFRlbXBsYXRlOiBmdW5jdGlvbiBnZXRUZW1wbGF0ZShoZWFkZXIpIHsKICAgICAgICByZXR1cm4gIjxkaXYgY2xhc3M9XCJwb3BvdmVyLW9sZCBicy1wb3BvdmVyLW9sZC1hdXRvIGZhZGUgc2hvd1wiIHJvbGU9XCJ0b29sdGlwXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhcnJvd1wiPjwvZGl2PlxuICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJwb3BvdmVyLW9sZC1oZWFkZXJcIj4iLmNvbmNhdChoZWFkZXIgfHwgJ2hlYWRlcicsICI8L2gzPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9wb3Zlci1vbGQtYm9keVwiPjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+Iik7CiAgICAgIH0KICAgIH07IC8vIEVYVEVSTkFMIE1PRFVMRTogLi9zcmMvZGlyZWN0aXZlcy9vbGQtdG9vbHRpcC5jc3MKCiAgICB2YXIgb2xkX3Rvb2x0aXAgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKCI0MTVjIik7IC8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2RpcmVjdGl2ZXMvQ1Rvb2x0aXAuanMKCiAgICAvKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovCgoKICAgIHZhciBDVG9vbHRpcCA9IHsKICAgICAgbmFtZTogJ2MtdG9vbHRpcCcsCiAgICAgIGluc2VydGVkOiBmdW5jdGlvbiBpbnNlcnRlZChlbCwgYmluZGluZykgewogICAgICAgIGJpbmRpbmcuZGVmLl90b29sdGlwID0gbmV3IGVzbV90b29sdGlwKGVsLCBiaW5kaW5nLmRlZi5nZXRUb29sdGlwQ29uZmlnKGJpbmRpbmcpKTsKCiAgICAgICAgaWYgKGJpbmRpbmcudmFsdWUuYWN0aXZlKSB7CiAgICAgICAgICBiaW5kaW5nLmRlZi5fdG9vbHRpcC5zaG93KCk7CiAgICAgICAgfQogICAgICB9LAogICAgICB1bmJpbmQ6IGZ1bmN0aW9uIHVuYmluZChlbCwgYmluZGluZykgewogICAgICAgIHZhciB0b29sdGlwID0gYmluZGluZy5kZWYuX3Rvb2x0aXA7CgogICAgICAgIGlmICh0b29sdGlwKSB7CiAgICAgICAgICB0b29sdGlwLmRpc3Bvc2UoKTsKICAgICAgICAgIHRvb2x0aXAgPSBudWxsOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZ2V0VG9vbHRpcENvbmZpZzogZnVuY3Rpb24gZ2V0VG9vbHRpcENvbmZpZyhiaW5kaW5nKSB7CiAgICAgICAgdmFyIHByb3BzID0gYmluZGluZy52YWx1ZTsKICAgICAgICB2YXIgdGl0bGUgPSBwcm9wcy5jb250ZW50IHx8IHByb3BzOwogICAgICAgIHZhciBodG1sID0gcHJvcHMuaHRtbCA9PT0gZmFsc2UgPyBmYWxzZSA6IHRydWU7IC8vIGNvbnN0IG1vZGlmaWVyc1RyaWdnZXJzID0gU3RyaW5nKE9iamVjdC5rZXlzKGJpbmRpbmcubW9kaWZpZXJzKSkucmVwbGFjZSgnLCcsJyAnKQoKICAgICAgICB2YXIgY2xvc2VPbkNsaWNrT3V0c2lkZSA9IHByb3BzLmNsb3NlT25DbGlja091dHNpZGUgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlOwogICAgICAgIHZhciBwb3BwZXJPcHRpb25zID0gcHJvcHMucG9wcGVyT3B0aW9ucyB8fCB7CiAgICAgICAgICBtb2RpZmllcnM6IHsKICAgICAgICAgICAgcHJldmVudE92ZXJmbG93OiB7CiAgICAgICAgICAgICAgYm91bmRhcmllc0VsZW1lbnQ6ICdvZmZzZXRQYXJlbnQnCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHJldHVybiB7CiAgICAgICAgICB0aXRsZTogdGl0bGUsCiAgICAgICAgICB0cmlnZ2VyOiAnaG92ZXInLAogICAgICAgICAgaHRtbDogaHRtbCwKICAgICAgICAgIHBsYWNlbWVudDogcHJvcHMucGxhY2VtZW50IHx8ICd0b3AnLAogICAgICAgICAgZGVsYXk6IHByb3BzLmRlbGF5IHx8IDAsCiAgICAgICAgICBvZmZzZXQ6IHByb3BzLm9mZnNldCB8fCAwLAogICAgICAgICAgYXJyb3dTZWxlY3RvcjogJy5hcnJvdycsCiAgICAgICAgICBpbm5lclNlbGVjdG9yOiAnLnRvb2x0aXAtb2xkLWlubmVyJywKICAgICAgICAgIHRlbXBsYXRlOiBiaW5kaW5nLmRlZi5nZXRUZW1wbGF0ZSgpLAogICAgICAgICAgYm91bmRhcmllc0VsZW1lbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByb3BzLmJvdW5kYXJpZXMpIHx8IHByb3BzLmJvdW5kYXJpZXMsCiAgICAgICAgICBjb250YWluZXI6IHByb3BzLmFwcGVuZFRvQm9keSA/IGRvY3VtZW50LmJvZHkgOiBmYWxzZSwKICAgICAgICAgIGNsb3NlT25DbGlja091dHNpZGU6IGNsb3NlT25DbGlja091dHNpZGUsCiAgICAgICAgICBwb3BwZXJPcHRpb25zOiBwb3BwZXJPcHRpb25zCiAgICAgICAgfTsKICAgICAgfSwKICAgICAgZ2V0VGVtcGxhdGU6IGZ1bmN0aW9uIGdldFRlbXBsYXRlKCkgewogICAgICAgIHJldHVybiAiPGRpdiBjbGFzcz1cInRvb2x0aXAtb2xkIGJzLXRvb2x0aXAtb2xkLWF1dG8gZmFkZSBzaG93XCIgcm9sZT1cInRvb2x0aXBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFycm93XCI+PC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b29sdGlwLW9sZC1pbm5lclwiPjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+IjsKICAgICAgfQogICAgfTsgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvZGlyZWN0aXZlcy9pbmRleC5qcwogICAgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9zcmMvaW5kZXguanMKCiAgICBmdW5jdGlvbiBzcmNfc2xpY2VkVG9BcnJheShhcnIsIGkpIHsKICAgICAgcmV0dXJuIHNyY19hcnJheVdpdGhIb2xlcyhhcnIpIHx8IHNyY19pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHx8IHNyY191bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShhcnIsIGkpIHx8IHNyY19ub25JdGVyYWJsZVJlc3QoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzcmNfbm9uSXRlcmFibGVSZXN0KCkgewogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNyY191bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvLCBtaW5MZW4pIHsKICAgICAgaWYgKCFvKSByZXR1cm47CiAgICAgIGlmICh0eXBlb2YgbyA9PT0gInN0cmluZyIpIHJldHVybiBzcmNfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOwogICAgICB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7CiAgICAgIGlmIChuID09PSAiT2JqZWN0IiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOwogICAgICBpZiAobiA9PT0gIk1hcCIgfHwgbiA9PT0gIlNldCIpIHJldHVybiBBcnJheS5mcm9tKG8pOwogICAgICBpZiAobiA9PT0gIkFyZ3VtZW50cyIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBzcmNfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOwogICAgfQoKICAgIGZ1bmN0aW9uIHNyY19hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7CiAgICAgIGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOwoKICAgICAgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBuZXcgQXJyYXkobGVuKTsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgYXJyMltpXSA9IGFycltpXTsKICAgICAgfQoKICAgICAgcmV0dXJuIGFycjI7CiAgICB9CgogICAgZnVuY3Rpb24gc3JjX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgewogICAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gInVuZGVmaW5lZCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47CiAgICAgIHZhciBfYXJyID0gW107CiAgICAgIHZhciBfbiA9IHRydWU7CiAgICAgIHZhciBfZCA9IGZhbHNlOwogICAgICB2YXIgX2UgPSB1bmRlZmluZWQ7CgogICAgICB0cnkgewogICAgICAgIGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsKICAgICAgICAgIF9hcnIucHVzaChfcy52YWx1ZSk7CgogICAgICAgICAgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2QgPSB0cnVlOwogICAgICAgIF9lID0gZXJyOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSAhPSBudWxsKSBfaVsicmV0dXJuIl0oKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBfYXJyOwogICAgfQoKICAgIGZ1bmN0aW9uIHNyY19hcnJheVdpdGhIb2xlcyhhcnIpIHsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsKICAgIH0KCiAgICB2YXIgcmVtb3ZlS2V5c0Zyb21PYmplY3QgPSBmdW5jdGlvbiByZW1vdmVLZXlzRnJvbU9iamVjdChvYmplY3QsIGtleXMpIHsKICAgICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKG9iamVjdCkucmVkdWNlKGZ1bmN0aW9uIChvYmosIF9yZWYpIHsKICAgICAgICB2YXIgX3JlZjIgPSBzcmNfc2xpY2VkVG9BcnJheShfcmVmLCAyKSwKICAgICAgICAgICAga2V5ID0gX3JlZjJbMF0sCiAgICAgICAgICAgIHZhbHVlID0gX3JlZjJbMV07CgogICAgICAgIGlmICgha2V5cy5pbmNsdWRlcyhrZXkpICYmICFrZXlzLmluY2x1ZGVzKHZhbHVlLm5hbWUpKSB7CiAgICAgICAgICBvYmpba2V5XSA9IHZhbHVlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG9iajsKICAgICAgfSwge30pOwogICAgfTsKCiAgICB2YXIgQ29yZXVpVnVlID0gewogICAgICBpbnN0YWxsOiBmdW5jdGlvbiBpbnN0YWxsKFZ1ZSwgb3B0aW9ucykgewogICAgICAgIHZhciBwbHVnaW5Db21wb25lbnRzID0gY29tcG9uZW50c19uYW1lc3BhY2VPYmplY3Q7CiAgICAgICAgdmFyIHBsdWdpbkRpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzX25hbWVzcGFjZU9iamVjdDsKICAgICAgICB2YXIgdG9SZW1vdmUgPSBvcHRpb25zICYmIG9wdGlvbnMucmVtb3ZlID8gb3B0aW9ucy5yZW1vdmUgOiBudWxsOwoKICAgICAgICBpZiAodG9SZW1vdmUgJiYgQXJyYXkuaXNBcnJheSh0b1JlbW92ZSkpIHsKICAgICAgICAgIHBsdWdpbkNvbXBvbmVudHMgPSByZW1vdmVLZXlzRnJvbU9iamVjdChjb21wb25lbnRzX25hbWVzcGFjZU9iamVjdCwgdG9SZW1vdmUpOwogICAgICAgICAgcGx1Z2luRGlyZWN0aXZlcyA9IHJlbW92ZUtleXNGcm9tT2JqZWN0KGRpcmVjdGl2ZXNfbmFtZXNwYWNlT2JqZWN0LCB0b1JlbW92ZSk7CiAgICAgICAgfQoKICAgICAgICBmb3IgKHZhciBwbHVnaW4gaW4gcGx1Z2luQ29tcG9uZW50cykgewogICAgICAgICAgVnVlLmNvbXBvbmVudChwbHVnaW4sIGNvbXBvbmVudHNfbmFtZXNwYWNlT2JqZWN0W3BsdWdpbl0pOwogICAgICAgIH0KCiAgICAgICAgZm9yICh2YXIgZGlyZWN0aXZlIGluIHBsdWdpbkRpcmVjdGl2ZXMpIHsKICAgICAgICAgIFZ1ZS5kaXJlY3RpdmUoZGlyZWN0aXZlLCBkaXJlY3RpdmVzX25hbWVzcGFjZU9iamVjdFtkaXJlY3RpdmVdKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07IC8vIEV4cG9ydCBsaWJyYXJ5CgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBzcmNfMCA9IENvcmV1aVZ1ZTsgLy9FeHBvcnQgY29tcG9uZW50cwogICAgLy8gQ09OQ0FURU5BVEVEIE1PRFVMRTogLi9ub2RlX21vZHVsZXMvQHZ1ZS9jbGktc2VydmljZS9saWIvY29tbWFuZHMvYnVpbGQvZW50cnktbGliLmpzCgogICAgLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLwoKICAgIHZhciBlbnRyeV9saWIgPSBfX3dlYnBhY2tfZXhwb3J0c19fWyJkZWZhdWx0Il0gPSBzcmNfMDsKICAgIC8qKiovCiAgfQogIC8qKioqKiovCgp9KTs="},{"version":3,"sources":["/home/glenn/下載/enms-20210823T000019Z-001/enms/node_modules/@coreui/vue/dist/coreui-vue.common.js"],"names":["module","exports","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","process","_CProgressBar__WEBPACK_IMPORTED_MODULE_0__","_shared_props__WEBPACK_IMPORTED_MODULE_1__","ownKeys","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","target","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","configurable","writable","props","height","String","size","type","validator","val","includes","components","CProgressBar","mounted","console","error","provide","_this","progress","_props","content","locals","add","default","update","useSourceMap","list","toString","map","item","cssWithMappingToString","concat","join","mediaQuery","dedupe","alreadyImportedModules","id","_i","cssMapping","btoa","sourceMapping","toComment","sourceURLs","sources","sourceRoot","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","normalizeComponent","scriptExports","render","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","options","_compiled","functional","_scopeId","hook","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","renderWithStyleInjection","h","existing","beforeCreate","Array","customClasses","src","title","use","computed","iconName","iconNameIsKebabCase","toCamelCase","titleCode","code","icons","icon","iconCode","isArray","scale","viewBox","$attrs","computedSize","addCustom","width","computedClasses","methods","str","replace","$1","toUpperCase","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CToast_vue_vue_type_style_index_0_id_7208152f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CToast_vue_vue_type_style_index_0_id_7208152f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_unused_webpack_default_export","a","_vue_style_loader_index_js_ref_6_oneOf_1_0_css_loader_dist_cjs_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_6_oneOf_1_2_postcss_loader_src_index_js_ref_6_oneOf_1_3_perfect_scrollbar_css_vue_type_style_index_0_id_3738b722_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_vue_style_loader_index_js_ref_6_oneOf_1_0_css_loader_dist_cjs_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_6_oneOf_1_2_postcss_loader_src_index_js_ref_6_oneOf_1_3_perfect_scrollbar_css_vue_type_style_index_0_id_3738b722_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CTab_vue_vue_type_style_index_0_id_295b6d9a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CTab_vue_vue_type_style_index_0_id_295b6d9a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","nextTick","fn","args","slice","shift","setTimeout","platform","arch","execPath","pid","browser","env","argv","binding","Error","cwd","path","chdir","dir","resolve","exit","kill","umask","dlopen","uptime","memoryUsage","uvCounters","features","addStylesClient","listToStyles","parentId","styles","newStyles","css","media","part","parts","hasDocument","document","DEBUG","stylesInDom","head","getElementsByTagName","singletonElement","singletonCounter","isProduction","noop","ssrIdKey","isOldIE","navigator","test","userAgent","toLowerCase","_isProduction","_options","addStylesToDom","newList","mayRemove","domStyle","refs","j","addStyle","createStyleElement","styleElement","createElement","appendChild","remove","querySelector","parentNode","removeChild","styleIndex","applyToSingletonTag","applyToTag","updateStyle","newObj","replaceText","textStore","index","replacement","Boolean","styleSheet","cssText","cssNode","createTextNode","childNodes","insertBefore","setAttribute","ssrId","firstChild","___CSS_LOADER_API_IMPORT___","webpackPolyfill","deprecate","paths","children","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CAlert_vue_vue_type_style_index_0_id_c95d1f08_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CAlert_vue_vue_type_style_index_0_id_c95d1f08_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","root","factory","undefined","self","getCurrentScript","descriptor","currentScript","err","ieStackRegExp","ffStackRegExp","stackDetails","exec","stack","scriptLocation","line","currentLocation","location","href","hash","pageSource","inlineScriptSourceRegExp","inlineScriptSource","scripts","documentElement","outerHTML","RegExp","trim","readyState","innerHTML","_vm","_h","$createElement","_c","_self","class","progressBarClasses","style","progressBarStyles","attrs","max","computedValue","_t","_v","_s","text","shared_props","CProgressBarvue_type_script_lang_js_","inject","directlyDeclaredProps","propsData","reduce","computedProps","propIsDirectlyDeclared","parentPropExists","isInherited","_ref","color","striped","animated","progressValue","Math","pow","precision","round","toFixed","showPercentage","showValue","progress_CProgressBarvue_type_script_lang_js_","componentNormalizer","component","Number","g","Function","e","window","global","LARGE_ARRAY_SIZE","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reRegExpChar","reFlags","reIsHostCtor","reIsUint","cloneableTags","freeGlobal","freeSelf","freeExports","nodeType","freeModule","moduleExports","addMapEntry","pair","set","addSetEntry","arrayEach","array","iteratee","arrayPush","values","offset","arrayReduce","accumulator","initAccum","baseTimes","result","getValue","isHostObject","mapToArray","overArg","func","transform","arg","setToArray","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","uid","IE_PROTO","funcToString","objectToString","reIsNative","Buffer","Uint8Array","getPrototype","getPrototypeOf","objectCreate","propertyIsEnumerable","splice","nativeGetSymbols","nativeIsBuffer","isBuffer","nativeKeys","DataView","getNative","Map","Promise","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","Hash","entries","clear","entry","hashClear","__data__","hashDelete","has","hashGet","hashHas","hashSet","ListCache","listCacheClear","listCacheDelete","assocIndexOf","lastIndex","pop","listCacheGet","listCacheHas","listCacheSet","MapCache","mapCacheClear","mapCacheDelete","getMapData","mapCacheGet","mapCacheHas","mapCacheSet","Stack","stackClear","stackDelete","stackGet","stackHas","stackSet","cache","pairs","arrayLikeKeys","inherited","isArguments","skipIndexes","isIndex","assignValue","objValue","eq","baseAssign","copyObject","baseClone","isDeep","isFull","customizer","isObject","isArr","initCloneArray","copyArray","tag","getTag","isFunc","cloneBuffer","initCloneObject","copySymbols","initCloneByTag","stacked","getAllKeys","subValue","baseCreate","proto","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","baseIsNative","isMasked","pattern","isFunction","baseKeys","isPrototype","buffer","constructor","copy","cloneArrayBuffer","arrayBuffer","byteLength","cloneDataView","dataView","byteOffset","cloneMap","cloneFunc","cloneRegExp","regexp","cloneSet","cloneSymbol","symbol","cloneTypedArray","typedArray","newValue","getSymbols","isKeyable","stubArray","ArrayBuffer","Ctor","ctorString","input","cloneDeep","other","isArrayLikeObject","isArrayLike","isLength","isObjectLike","stubFalse","normalizeArray","allowAboveRoot","up","last","unshift","resolvedPath","resolvedAbsolute","TypeError","charAt","split","normalize","isAbsolute","trailingSlash","substr","relative","from","to","arr","start","end","fromParts","toParts","min","samePartsLength","outputParts","sep","delimiter","dirname","charCodeAt","hasRoot","matchedSlash","basename","ext","f","extname","startDot","startPart","preDotState","xs","res","len","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CDataTable_vue_vue_type_style_index_0_id_2e6be878_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CDataTable_vue_vue_type_style_index_0_id_2e6be878_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","isBrowser","timeoutDuration","longerTimeoutBrowsers","indexOf","microtaskDebounce","called","then","taskDebounce","scheduled","supportsMicroTasks","debounce","functionToCheck","getType","getStyleComputedProperty","element","ownerDocument","defaultView","getComputedStyle","getParentNode","nodeName","host","getScrollParent","body","_getStyleComputedProp","overflow","overflowX","overflowY","getReferenceNode","reference","referenceNode","isIE11","MSInputMethodContext","documentMode","isIE10","isIE","version","getOffsetParent","noOffsetParent","offsetParent","nextElementSibling","isOffsetContainer","firstElementChild","getRoot","node","findCommonOffsetParent","element1","element2","order","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","range","createRange","setStart","setEnd","commonAncestorContainer","contains","element1root","getScroll","side","upperSide","html","scrollingElement","includeScroll","rect","subtract","scrollTop","scrollLeft","modifier","top","bottom","left","right","getBordersSize","axis","sideA","sideB","parseFloat","getSize","computedStyle","parseInt","getWindowSizes","classCallCheck","instance","Constructor","createClass","protoProps","staticProps","_extends","assign","getClientRect","offsets","getBoundingClientRect","sizes","clientWidth","clientHeight","horizScrollbar","offsetWidth","vertScrollbar","offsetHeight","getOffsetRectRelativeToArbitraryNode","fixedPosition","isHTML","childrenRect","parentRect","scrollParent","borderTopWidth","borderLeftWidth","marginTop","marginLeft","getViewportOffsetRectRelativeToArtbitraryNode","excludeScroll","relativeOffset","innerWidth","innerHeight","isFixed","getFixedPositionOffsetParent","parentElement","el","getBoundaries","popper","padding","boundariesElement","boundaries","boundariesNode","_getWindowSizes","isPaddingNumber","getArea","computeAutoPlacement","placement","refRect","rects","sortedAreas","area","sort","b","filteredAreas","_ref2","computedPlacement","variation","getReferenceOffsets","state","commonOffsetParent","getOuterSizes","x","marginBottom","y","marginRight","getOppositePlacement","matched","getPopperOffsets","referenceOffsets","popperRect","popperOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","find","check","findIndex","prop","cur","match","runModifiers","modifiers","ends","modifiersToRun","warn","enabled","isDestroyed","arrowStyles","attributes","flipped","positionFixed","flip","originalPlacement","position","isCreated","onCreate","onUpdate","isModifierEnabled","modifierName","some","getSupportedPropertyName","prefixes","upperProp","prefix","toCheck","destroy","removeAttribute","willChange","disableEventListeners","removeOnDestroy","getWindow","attachToScrollParents","event","callback","scrollParents","isBody","addEventListener","passive","setupEventListeners","updateBound","scrollElement","eventsEnabled","enableEventListeners","scheduleUpdate","removeEventListeners","removeEventListener","cancelAnimationFrame","isNumeric","isNaN","isFinite","setStyles","unit","setAttributes","applyStyle","arrowElement","applyStyleOnLoad","modifierOptions","getRoundedOffsets","shouldRound","_data$offsets","floor","noRound","v","referenceWidth","popperWidth","isVertical","isVariation","sameWidthParity","bothOddWidth","horizontalToInteger","verticalToInteger","isFirefox","computeStyle","legacyGpuAccelerationOption","gpuAcceleration","offsetParentRect","devicePixelRatio","prefixedProperty","invertTop","invertLeft","arrow","isModifierRequired","requestingName","requestedName","requesting","isRequired","_requesting","requested","_data$offsets$arrow","sideCapitalized","altSide","opSide","arrowElementSize","center","popperMarginSide","popperBorderSide","sideValue","getOppositeVariation","placements","validPlacements","clockwise","counter","reverse","BEHAVIORS","FLIP","CLOCKWISE","COUNTERCLOCKWISE","placementOpposite","flipOrder","behavior","step","refOffsets","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariationByRef","flipVariations","flippedVariationByContent","flipVariationsByContent","flippedVariation","keepTogether","toValue","parseOffset","basePlacement","useHeight","fragments","frag","divider","search","splitRegex","ops","op","mergeWithPrevious","index2","preventOverflow","transformProp","popperStyles","priority","primary","escapeWithReference","secondary","shiftvariation","shiftOffsets","hide","bound","inner","subtractLength","onLoad","Defaults","Popper","requestAnimationFrame","jquery","update$$1","destroy$$1","enableEventListeners$$1","disableEventListeners$$1","Utils","PopperUtils","CAlert","CBadge","CBreadcrumb","CBreadcrumbRouter","CButton","CButtonClose","CButtonGroup","CButtonToolbar","CCallout","CCarousel","CCarouselItem","CCard","CCardBody","CCardFooter","CCardHeader","CCardGroup","CCardImg","CCardImgOverlay","CCardLink","CCardSubtitle","CCardText","CCardTitle","CCollapse","CDropdown","CDropdownHeader","CDropdownDivider","CDropdownItem","CElementCover","CEmbed","CForm","CFormGroup","CInput","CInputCheckbox","CInputFile","CInputRadio","CInputRadioGroup","CSelect","CTextarea","CContainer","CRow","CCol","CImg","CJumbotron","CLink","CListGroup","CListGroupItem","CListGroupItemDivider","CMedia","CModal","CNav","CNavItem","CNavbar","CNavbarBrand","CNavbarNav","CNavbarText","CPagination","CProgress","CRenderFunction","CScrollbar","CSpinner","CSwitch","CDataTable","CTab","CTabs","CFooter","CHeader","CHeaderBrand","CHeaderNav","CHeaderNavItem","CHeaderNavLink","CSubheader","CSidebar","CSidebarBrand","CSidebarClose","CSidebarFooter","CSidebarForm","CSidebarHeader","CSidebarMinimizer","CSidebarNav","CSidebarNavDivider","CSidebarNavDropdown","CSidebarNavItem","CSidebarNavTitle","CWrapper","CToast","CToaster","CToggler","CWidgetProgress","CWidgetIcon","CWidgetBrand","CWidgetProgressIcon","CWidgetDropdown","CWidgetSimple","CIconRaw","CClickaway","CEmitRootEvent","CPopover","CTooltip","form_mixins_namespaceObject","sharedComputedProps","wrapperComputedProps","watchValue","classesComputedProps","components_namespaceObject","directives_namespaceObject","setPublicPath","CAlertvue_type_template_id_c95d1f08_scoped_true_render","fade","alertClasses","closeButton","on","$event","dismiss","_e","kebab","styleProp","styleList","CButtonClosevue_type_script_lang_js_","buttonClasses","slots","domProps","button_CButtonClosevue_type_script_lang_js_","CButtonClose_render","CButtonClose_staticRenderFns","CAlertvue_type_script_lang_js_","show","countdownTimeout","watch","immediate","handler","oldVal","clearCounter","$emit","isWatched","$listeners","destroyed","clearTimeout","alert_CAlertvue_type_script_lang_js_","CAlertvue_type_style_index_0_id_c95d1f08_scoped_true_lang_css_","CAlert_component","propsFactory","rel","disabled","active","activeClass","append","exact","exactActiveClass","routerTag","CLinkvue_type_script_lang_js_props","getComputedTag","$router","clickHandlerFactory","suppliedHandler","onClick","Event","stopPropagation","stopImmediatePropagation","preventDefault","CLinkvue_type_script_lang_js_","_ref3","eventType","click","handlers","tabindex","componentData","link_CLinkvue_type_script_lang_js_","CLink_render","CLink_staticRenderFns","CLink_component","CBadgevue_type_script_lang_js_defineProperty","CBadgevue_type_script_lang_js_props","shape","CBadgevue_type_script_lang_js_","_class","staticClass","badge_CBadgevue_type_script_lang_js_","CBadge_render","CBadge_staticRenderFns","CBadge_component","CBreadcrumbvue_type_template_id_1ffcd443_render","_l","linkItems","addClasses","sharedClasses","addLinkClasses","_b","lastItem","lastItemClasses","CBreadcrumbvue_type_template_id_1ffcd443_staticRenderFns","CBreadcrumbvue_type_script_lang_js_","items","addLastItemClasses","breadcrumb_CBreadcrumbvue_type_script_lang_js_","CBreadcrumb_component","CBreadcrumbRoutervue_type_template_id_811c5d4a_render","CBreadcrumbRoutervue_type_template_id_811c5d4a_staticRenderFns","CBreadcrumbRoutervue_type_script_lang_js_","routes","$route","route","meta","label","breadcrumb_CBreadcrumbRoutervue_type_script_lang_js_","CBreadcrumbRouter_component","pickByKeys","originalObject","pick_by_keys","CButtonvue_type_script_lang_js_defineProperty","btnProps","block","variant","pressed","CButtonvue_type_script_lang_js_props","CButtonvue_type_script_lang_js_isLink","isToggle","computeClasses","outlineSuffix","computePassedProps","computeAttrs","isButton","toggle","autocomplete","CButtonvue_type_script_lang_js_","listeners","button_CButtonvue_type_script_lang_js_","CButton_render","CButton_staticRenderFns","CButton_component","CButtonGroupvue_type_script_lang_js_defineProperty","CButtonGroupvue_type_script_lang_js_","vertical","role","button_CButtonGroupvue_type_script_lang_js_","CButtonGroup_render","CButtonGroup_staticRenderFns","CButtonGroup_component","CButtonToolbarvue_type_script_lang_js_defineProperty","CButtonToolbarvue_type_script_lang_js_","justify","button_CButtonToolbarvue_type_script_lang_js_","CButtonToolbar_render","CButtonToolbar_staticRenderFns","CButtonToolbar_component","CCalloutvue_type_template_id_8fc790c6_render","CCalloutvue_type_template_id_8fc790c6_staticRenderFns","CCalloutvue_type_script_lang_js_","callout_CCalloutvue_type_script_lang_js_","CCallout_component","CCarouselvue_type_template_id_9c4fbe64_scoped_true_render","indicators","indicatorClasses","activated","setItem","arrows","previousItem","nextItem","CCarouselvue_type_template_id_9c4fbe64_scoped_true_staticRenderFns","CCarouselvue_type_script_lang_js_","interval","animate","currentInterval","transitioning","$children","activate","beforeDestroy","clearInterval","resetInterval","setInterval","passedOrder","_this2","slide","_this3","idx","carousel_CCarouselvue_type_script_lang_js_","CCarousel_component","CCarouselItemvue_type_template_id_643514fc_render","itemClasses","image","computedImage","captionHeader","captionText","CCarouselItemvue_type_template_id_643514fc_staticRenderFns","CImgvue_type_template_id_91e4e712_render","isActive","imageClasses","alt","placeholderColor","CImgvue_type_template_id_91e4e712_staticRenderFns","CImgvue_type_script_lang_js_defineProperty","CImgvue_type_script_lang_js_","fluid","fluidGrow","thumbnail","align","alignClass","animationClasses","image_CImgvue_type_script_lang_js_","CImg_component","CCarouselItemvue_type_script_lang_js_defineProperty","CCarouselItemvue_type_script_lang_js_","$on","slideToItem","direction","_uid","carousel_CCarouselItemvue_type_script_lang_js_","CCarouselItem_component","shared_card_props","borderColor","textColor","CCardBodyvue_type_script_lang_js_defineProperty","CCardBodyvue_type_script_lang_js_","card_CCardBodyvue_type_script_lang_js_","CCardBody_render","CCardBody_staticRenderFns","CCardBody_component","CCardvue_type_script_lang_js_defineProperty","CCardvue_type_script_lang_js_props","bodyWrapper","accentColor","CCardvue_type_script_lang_js_","slot","card_CCardvue_type_script_lang_js_","CCard_render","CCard_staticRenderFns","CCard_component","CCardFootervue_type_script_lang_js_defineProperty","CCardFootervue_type_script_lang_js_","card_CCardFootervue_type_script_lang_js_","CCardFooter_render","CCardFooter_staticRenderFns","CCardFooter_component","CCardGroupvue_type_script_lang_js_","deck","columns","card_CCardGroupvue_type_script_lang_js_","CCardGroup_render","CCardGroup_staticRenderFns","CCardGroup_component","CCardHeadervue_type_script_lang_js_defineProperty","CCardHeadervue_type_script_lang_js_","card_CCardHeadervue_type_script_lang_js_","CCardHeader_render","CCardHeader_staticRenderFns","CCardHeader_component","CCardImgvue_type_script_lang_js_props","CCardImgvue_type_script_lang_js_","haveClassSuffix","card_CCardImgvue_type_script_lang_js_","CCardImg_render","CCardImg_staticRenderFns","CCardImg_component","CCardImgOverlayvue_type_script_lang_js_","card_CCardImgOverlayvue_type_script_lang_js_","CCardImgOverlay_render","CCardImgOverlay_staticRenderFns","CCardImgOverlay_component","CCardLinkvue_type_script_lang_js_","card_CCardLinkvue_type_script_lang_js_","CCardLink_render","CCardLink_staticRenderFns","CCardLink_component","CCardSubtitlevue_type_script_lang_js_","card_CCardSubtitlevue_type_script_lang_js_","CCardSubtitle_render","CCardSubtitle_staticRenderFns","CCardSubtitle_component","CCardTextvue_type_script_lang_js_","card_CCardTextvue_type_script_lang_js_","CCardText_render","CCardText_staticRenderFns","CCardText_component","CCardTitlevue_type_script_lang_js_","card_CCardTitlevue_type_script_lang_js_","CCardTitle_render","CCardTitle_staticRenderFns","CCardTitle_component","CCollapsevue_type_template_id_288abac9_render","navbar","CCollapsevue_type_template_id_288abac9_staticRenderFns","CCollapsevue_type_script_lang_js_props","duration","transition","CCollapsevue_type_script_lang_js_","collapsing","heightWatcher","visible","toggleTime","collapseController","reset","$el","display","setFinishTimer","setTransition","turn","current","time","scrollHeight","collapse_CCollapsevue_type_script_lang_js_","CCollapse_component","CDropdownvue_type_template_id_10327108_render","inNav","directives","rawName","expression","computedDropdownClasses","checkClick","togglerTag","_g","computedTogglerClasses","splittedToggler","togglerAttrs","togglerText","ref","computedMenuClasses","CDropdownvue_type_template_id_10327108_staticRenderFns","getWindowScroll","win","pageXOffset","pageYOffset","isElement","OwnElement","Element","isHTMLElement","HTMLElement","getHTMLElementScroll","getNodeScroll","getNodeName","getDocumentElement","getWindowScrollBarX","getComputedStyle_getComputedStyle","isScrollParent","_getComputedStyle","getCompositeRect","elementOrVirtualElement","isOffsetParentAnElement","scroll","clientLeft","clientTop","getLayoutRect","offsetLeft","offsetTop","assignedSlot","listScrollParents","visualViewport","updatedList","isTableElement","getTrueOffsetParent","getContainingBlock","currentNode","perspective","enums_top","auto","basePlacements","enums_clippingParents","viewport","enums_popper","enums_reference","variationPlacements","acc","enums_placements","beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite","modifierPhases","visited","requires","requiresIfExists","dep","depModifier","orderModifiers","orderedModifiers","phase","pending","mergeByName","merged","INVALID_ELEMENT_ERROR","INFINITE_LOOP_ERROR","DEFAULT_OPTIONS","strategy","areValidElements","_len","_key","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","createPopper","modifiersData","elements","effectCleanupFns","setOptions","cleanupModifierEffects","contextElement","flipModifier","runModifierEffects","forceUpdate","_state$elements","__debug_loops__","_state$orderedModifie","_state$orderedModifie2","onFirstUpdate","_ref3$options","effect","cleanupFn","noopFn","lib_createPopper","_options$scroll","_options$resize","resize","eventListeners","getBasePlacement","getVariation","getMainAxisFromPlacement","computeOffsets","commonX","commonY","mainAxis","ceil","popperOffsets_popperOffsets","modifiers_popperOffsets","unsetSides","roundOffsets","dpr","mapToStyles","_Object$assign2","adaptive","_roundOffsets","hasX","hasY","sideX","sideY","commonStyles","_Object$assign","computeStyles","_options$gpuAccelerat","_options$adaptive","transitionProperty","modifiers_computeStyles","applyStyles","applyStyles_effect","initialStyles","margin","styleProperties","attribute","modifiers_applyStyles","distanceAndSkiddingToXY","invertDistance","skidding","distance","offset_offset","_options$offset","_data$state$placement","modifiers_offset","getOppositeVariationPlacement_hash","getOppositeVariationPlacement","getViewportRect","getDocumentRect","winScroll","scrollWidth","child","isShadow","getRootNode","next","isSameNode","rectToClientRect","getInnerBoundingClientRect","getClientRectFromMixedType","clippingParent","getClippingParents","clippingParents","canEscapeClipping","clipperElement","getClippingRect","boundary","rootBoundary","mainClippingParents","firstClippingParent","clippingRect","accRect","getFreshSideObject","mergePaddingObject","paddingObject","expandToHashMap","hashMap","detectOverflow","_options$placement","_options$boundary","_options$rootBoundary","_options$elementConte","elementContext","_options$altBoundary","altBoundary","_options$padding","altContext","referenceElement","clippingClientRect","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","multiply","_options$allowedAutoP","allowedAutoPlacements","allowedPlacements","overflows","getExpandedFallbackPlacements","oppositePlacement","_skip","_options$mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","_options$flipVariatio","preferredPlacement","isBasePlacement","referenceRect","checksMap","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","mainVariationSide","altVariationSide","checks","every","numberOfChecks","_loop","fittingPlacement","_ret","modifiers_flip","getAltAxis","within","_options$tether","tether","_options$tetherOffset","tetherOffset","tetherOffsetValue","additive","minLen","maxLen","arrowRect","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","arrowOffsetParent","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_mainSide","_altSide","_offset","_min","_max","_preventedOffset","modifiers_preventOverflow","_state$modifiersData$","minProp","maxProp","endDiff","startDiff","clientSize","centerToReference","axisProp","centerOffset","arrow_effect","_options$element","modifiers_arrow","getSideOffsets","preventedOffsets","isAnySideFullyClipped","referenceOverflow","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","modifiers_hide","popper_defaultModifiers","popper_createPopper","HANDLER","setListeners","vnode","unsetListeners","oldValue","unbind","CDropdownvue_type_script_lang_js_defineProperty","CDropdownvue_type_script_lang_js_","addMenuClasses","addTogglerClasses","caret","_default","customPopperOptions","removePopper","$scopedSlots","toggler","_popper","$nextTick","$refs","menu","defaultPopperOptions","carretClass","dropdown_CDropdownvue_type_script_lang_js_","CDropdown_component","CDropdownHeadervue_type_script_lang_js_defineProperty","CDropdownHeadervue_type_script_lang_js_","dropdown_CDropdownHeadervue_type_script_lang_js_","CDropdownHeader_render","CDropdownHeader_staticRenderFns","CDropdownHeader_component","CDropdownDividervue_type_script_lang_js_","dropdown_CDropdownDividervue_type_script_lang_js_","CDropdownDivider_render","CDropdownDivider_staticRenderFns","CDropdownDivider_component","CDropdownItemvue_type_script_lang_js_defineProperty","CDropdownItemvue_type_script_lang_js_","$parent","nativeOn","$slots","dropdown_CDropdownItemvue_type_script_lang_js_","CDropdownItem_render","CDropdownItem_staticRenderFns","CDropdownItem_component","CElementCovervue_type_template_id_dd1ee9a4_render","outerContainerStyles","centeringStyles","CElementCovervue_type_template_id_dd1ee9a4_staticRenderFns","CSpinnervue_type_script_lang_js_defineProperty","CSpinnervue_type_script_lang_js_","grow","spinner_CSpinnervue_type_script_lang_js_","CSpinner_render","CSpinner_staticRenderFns","CSpinner_component","CElementCovervue_type_script_lang_js_ownKeys","CElementCovervue_type_script_lang_js_objectSpread","CElementCovervue_type_script_lang_js_defineProperty","CElementCovervue_type_script_lang_js_","opacity","containerCoords","parentCoords","setOffsets","sides","query","coords","sideMargin","abs","element_cover_CElementCovervue_type_script_lang_js_","CElementCover_component","CEmbedvue_type_script_lang_js_props","ratio","CEmbedvue_type_script_lang_js_","embed_CEmbedvue_type_script_lang_js_","CEmbed_render","CEmbed_staticRenderFns","CEmbed_component","CFormvue_type_script_lang_js_","inline","wasValidated","form_CFormvue_type_script_lang_js_","CForm_render","CForm_staticRenderFns","CForm_component","CFormGroupvue_type_template_id_b521e786_render","wrapperClasses","prepend","validFeedback","tooltipFeedback","invalidFeedback","description","CFormGroupvue_type_template_id_b521e786_staticRenderFns","formGroupAlwaysSharedProps","formGroupSharedProps","formGroupProps","universalProps","isValid","addInputClasses","addLabelClasses","form_props_props","horizontal","addWrapperClasses","textInputsProps","readonly","plaintext","lazy","inputFileProps","custom","placeholder","multiple","textareaProps","inputProps","selectProps","inputCheckboxProps","checked","CFormGroupvue_type_script_lang_js_","inheritAttrs","form_CFormGroupvue_type_script_lang_js_","CFormGroup_component","CInputvue_type_template_id_13bcd5d2_render","scopedSlots","_u","labelClasses","safeId","proxy","inputClasses","onInput","onChange","CInputvue_type_template_id_13bcd5d2_staticRenderFns","makeUid","random","make_uid","form_mixins_defineProperty","computedIsValid","validationClass","isHorizontal","haveInputGroup","haveWrapper","haveCustomSize","customSizeClass","inputClass","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","sourceKeys","mixins","CInputvue_type_script_lang_js_","syncTimeout","_this$$listeners","change","form_CInputvue_type_script_lang_js_","CInput_component","CInputCheckboxvue_type_template_id_ef4e2f08_render","CInputCheckboxvue_type_template_id_ef4e2f08_staticRenderFns","CInputCheckboxvue_type_script_lang_js_defineProperty","CInputCheckboxvue_type_script_lang_js_","customType","controlClass","form_CInputCheckboxvue_type_script_lang_js_","CInputCheckbox_component","CInputFilevue_type_template_id_09f42d4e_render","computedPlaceholder","CInputFilevue_type_template_id_09f42d4e_staticRenderFns","CInputFilevue_type_script_lang_js_objectWithoutProperties","CInputFilevue_type_script_lang_js_objectWithoutPropertiesLoose","CInputFilevue_type_script_lang_js_mixins","CInputFilevue_type_script_lang_js_","files","form_CInputFilevue_type_script_lang_js_","CInputFile_component","CInputRadiovue_type_script_lang_js_","extends","form_CInputRadiovue_type_script_lang_js_","CInputRadio_render","CInputRadio_staticRenderFns","CInputRadio_component","CInputRadioGroupvue_type_template_id_8a19d7a6_render","computedOptions","groupName","CInputRadioGroupvue_type_template_id_8a19d7a6_staticRenderFns","_typeof","iterator","CInputRadioGroupvue_type_script_lang_js_","required","option","form_CInputRadioGroupvue_type_script_lang_js_","CInputRadioGroup_component","CSelectvue_type_template_id_eddf74b0_render","onSelect","CSelectvue_type_template_id_eddf74b0_staticRenderFns","CSelectvue_type_script_lang_js_mixins","CSelectvue_type_script_lang_js_","standardClass","optionIndex","selectedOptions","dataset","form_CSelectvue_type_script_lang_js_","CSelect_component","CTextareavue_type_template_id_592e4330_render","CTextareavue_type_template_id_592e4330_staticRenderFns","CTextareavue_type_script_lang_js_objectWithoutProperties","CTextareavue_type_script_lang_js_objectWithoutPropertiesLoose","CTextareavue_type_script_lang_js_mixins","CTextareavue_type_script_lang_js_","form_CTextareavue_type_script_lang_js_","CTextarea_component","CContainervue_type_script_lang_js_","grid_CContainervue_type_script_lang_js_","CContainer_render","CContainer_staticRenderFns","CContainer_component","CRowvue_type_script_lang_js_defineProperty","CRowvue_type_script_lang_js_props","gutters","alignVertical","alignHorizontal","form","CRowvue_type_script_lang_js_","grid_CRowvue_type_script_lang_js_","CRow_render","CRow_staticRenderFns","CRow_component","CColvue_type_script_lang_js_typeof","CColvue_type_script_lang_js_","col","sm","md","lg","xl","classes","suffixes","grid_CColvue_type_script_lang_js_","CCol_render","CCol_staticRenderFns","CCol_component","CJumbotronvue_type_script_lang_js_defineProperty","CJumbotronvue_type_script_lang_js_","jumbotron_CJumbotronvue_type_script_lang_js_","CJumbotron_render","CJumbotron_staticRenderFns","CJumbotron_component","CListGroupvue_type_script_lang_js_defineProperty","CListGroupvue_type_script_lang_js_","flush","accent","hor","horizontalClassSuffix","list_group_CListGroupvue_type_script_lang_js_","CListGroup_render","CListGroup_staticRenderFns","CListGroup_component","CListGroupItemvue_type_script_lang_js_defineProperty","CListGroupItemvue_type_script_lang_js_props","action","CListGroupItemvue_type_script_lang_js_","isAction","itemProps","list_group_CListGroupItemvue_type_script_lang_js_","CListGroupItem_render","CListGroupItem_staticRenderFns","CListGroupItem_component","CListGroupItemDividervue_type_template_id_21236f99_render","CListGroupItemDividervue_type_template_id_21236f99_staticRenderFns","CListGroupItemDividervue_type_script_lang_js_","list_group_CListGroupItemDividervue_type_script_lang_js_","CListGroupItemDivider_component","CMediavue_type_template_id_f9a384fa_render","mediaClasses","asideClasses","computedAsideImageProps","mediaBodyClasses","CMediavue_type_template_id_f9a384fa_staticRenderFns","CMediavue_type_script_lang_js_","addAsideMargin","addAsideClasses","addBodyClasses","asideRight","asideImageProps","asideVerticalPosition","media_CMediavue_type_script_lang_js_","CMedia_component","CModalvue_type_template_id_18169574_render","modalClasses","modalClick","dialogClasses","contentClasses","btnClasses","backdrop","isTransitioning","backdropClasses","CModalvue_type_template_id_18169574_staticRenderFns","CModalvue_type_script_lang_js_defineProperty","CModalvue_type_script_lang_js_","centered","closeOnBackdrop","addContentClasses","timeout","accept","newVal","modal_CModalvue_type_script_lang_js_","CModal_component","CNavvue_type_template_id_4fc69644_render","navClasses","CNavvue_type_template_id_4fc69644_staticRenderFns","CNavvue_type_script_lang_js_defineProperty","CNavvue_type_script_lang_js_","fill","justified","inCard","nav","activeItemInstance","verticalSuffix","nav_CNavvue_type_script_lang_js_","CNav_component","CNavItemvue_type_template_id_540fdf1a_render","$props","CNavItemvue_type_template_id_540fdf1a_staticRenderFns","CNavItemvue_type_script_lang_js_","nav_CNavItemvue_type_script_lang_js_","CNavItem_component","CNavbarvue_type_script_lang_js_defineProperty","CNavbarvue_type_script_lang_js_props","light","expandable","fixed","sticky","CNavbarvue_type_script_lang_js_","expandClassSuffix","navbar_CNavbarvue_type_script_lang_js_","CNavbar_render","CNavbar_staticRenderFns","CNavbar_component","CNavbarBrandvue_type_script_lang_js_props","CNavbarBrandvue_type_script_lang_js_","isLink","navbar_CNavbarBrandvue_type_script_lang_js_","CNavbarBrand_render","CNavbarBrand_staticRenderFns","CNavbarBrand_component","CNavbarNavvue_type_script_lang_js_","navbar_CNavbarNavvue_type_script_lang_js_","CNavbarNav_render","CNavbarNav_staticRenderFns","CNavbarNav_component","CNavbarTextvue_type_template_id_bbae35c6_render","CNavbarTextvue_type_template_id_bbae35c6_staticRenderFns","CNavbarTextvue_type_script_lang_js_","navbar_CNavbarTextvue_type_script_lang_js_","CNavbarText_component","CPaginationvue_type_template_id_7ee6d664_render","doubleArrows","backArrowsClasses","activePage","setPage","beforeDots","afterDots","nextArrowsClasses","pages","CPaginationvue_type_template_id_7ee6d664_staticRenderFns","CPaginationvue_type_script_lang_js_","limit","dots","sizeClass","showDots","maxPrevItems","maxNextItems","computedLimit","itemsAmount","number","changeFocus","getElementsByClassName","focused","focus","pagination_CPaginationvue_type_script_lang_js_","CPagination_component","CProgressvue_type_template_id_9ce936dc_render","CProgressvue_type_template_id_9ce936dc_staticRenderFns","CProgressvue_type_script_lang_js_","progress_CProgressvue_type_script_lang_js_","CProgress_component","lodash_clonedeep","lodash_clonedeep_default","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","iter","arr2","CRenderFunctionvue_type_script_lang_js_","contentToRender","flat","copiedContent","convertedContent","convertItem","newItem","_name","getProps","renderFunctionOptions","_children","computeRenderFunction","renderFunction","render_function_CRenderFunctionvue_type_script_lang_js_","CRenderFunction_render","CRenderFunction_staticRenderFns","CRenderFunction_component","div","className","elMatches","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","queryChildren","selector","cls","rtl","thumb","rail","consuming","clicking","scrolling","scrollingClassTimeout","addScrollingClass","classList","removeScrollingClass","isAlive","settings","scrollingThreshold","setScrollingClassInstantly","EventElement","prototypeAccessors","isEmpty","eventName","this$1","unbindAll","EventManager","eventElements","eventElement","ee","once","onceHandler","evt","createEvent","CustomEvent","initCustomEvent","processScrollDiff","diff","useScrollingClass","forceFireReachEvent","fields","processScrollDiff$1","contentHeight","containerHeight","down","reach","dispatchEvent","toInt","isEditable","perfect_scrollbar_esm_outerWidth","paddingLeft","paddingRight","borderRightWidth","isWebKit","supportsTouch","maxTouchPoints","DocumentTouch","supportsIePointer","msMaxTouchPoints","isChrome","updateGeometry","roundedScrollTop","containerWidth","contentWidth","scrollbarXRail","scrollbarYRail","suppressScrollX","scrollXMarginOffset","scrollbarXActive","railXWidth","railXMarginWidth","railXRatio","scrollbarXWidth","getThumbSize","scrollbarXLeft","negativeScrollAdjustment","suppressScrollY","scrollYMarginOffset","scrollbarYActive","railYHeight","railYMarginHeight","railYRatio","scrollbarYHeight","scrollbarYTop","updateCss","isRtl","thumbSize","minScrollbarLength","maxScrollbarLength","xRailOffset","isScrollbarXUsingBottom","scrollbarXBottom","scrollbarXTop","yRailOffset","isScrollbarYUsingRight","scrollbarYRight","scrollbarYOuterWidth","scrollbarYLeft","scrollbarX","railBorderXWidth","scrollbarY","railBorderYWidth","clickRail","positionTop","pageY","positionLeft","pageX","dragThumb","bindMouseScrollHandler","startingScrollTop","startingMousePageY","scrollBy","mouseMoveHandler","touches","mouseUpHandler","bindMoves","touchMode","keyboard","elementHovered","scrollbarFocused","shouldPreventDefault","deltaX","deltaY","wheelPropagation","isDefaultPrevented","defaultPrevented","activeElement","tagName","contentDocument","which","metaKey","altKey","shiftKey","wheel","isTop","isBottom","isLeft","isRight","hitsBound","getDeltaFromEvent","wheelDeltaX","wheelDeltaY","deltaMode","wheelDelta","shouldBeConsumedByChild","cursor","maxScrollTop","maxScrollLeft","mousewheelHandler","shouldPrevent","useBothWheelAxes","wheelSpeed","ctrlKey","onwheel","onmousewheel","touch","magnitudeX","magnitudeY","scrollY","applyTouchMove","differenceX","differenceY","startOffset","startTime","speed","easingLoop","getTouch","targetTouches","shouldHandle","pointerType","buttons","MSPOINTER_TYPE_MOUSE","touchStart","Date","getTime","touchMove","currentOffset","currentTime","timeGap","touchEnd","swipeEasing","isInitialized","PointerEvent","MSPointerEvent","defaultSettings","perfect_scrollbar_esm_handlers","PerfectScrollbar","userSettings","blur","isNegativeScroll","originalScrollLeft","railXStyle","railYStyle","borderBottomWidth","handlerName","lastScrollTop","lastScrollLeft","onScroll","removePsClasses","perfect_scrollbar_esm","CScrollbarvue_type_script_lang_js_","switcher","__uninit","__init","$isServer","updated","__update","_ps_bar","__createPerfectScrollbar","scrollbar_CScrollbarvue_type_script_lang_js_","perfect_scrollbarvue_type_style_index_0_id_3738b722_scoped_true_lang_css_","CScrollbar_render","CScrollbar_staticRenderFns","CScrollbar_component","CSwitchvue_type_template_id_b3615da0_render","labelOn","labelOff","CSwitchvue_type_template_id_b3615da0_staticRenderFns","CSwitchvue_type_script_lang_js_defineProperty","CSwitchvue_type_script_lang_js_","switch_CSwitchvue_type_script_lang_js_","CSwitch_component","CDataTablevue_type_template_id_2e6be878_scoped_true_render","itemsPerPageSelect","haveFilterOption","tableFilter","tableFilterData","tableFilterState","tableFilterChange","cleaner","clean","cleanerProps","isFiltered","paginationSelect","paginationChange","perPageItems","responsive","tableClasses","header","columnNames","headerClass","sortingIconStyles","headerStyles","changeSort","rawColumnNames","isSortable","iconClasses","cilArrowTop","getIconState","columnFilter","colName","itemsDataColumns","columnFilterState","columnFilterEvent","clickableRows","currentItems","itemIndex","_classes","rowClicked","firstItemIndex","cellClass","details","staticStyle","colspan","noItemsText","cilBan","footer","loading","pagination","totalPages","page","CDataTablevue_type_template_id_2e6be878_scoped_true_staticRenderFns","CIconRawvue_type_template_id_a253365e_render","CIconRawvue_type_template_id_a253365e_staticRenderFns","CIconRawvue_type_script_lang_js_","src_CIconRawvue_type_script_lang_js_","CIconRaw_component","cilFilterX","CDataTablevue_type_script_lang_js_defineProperty","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","CDataTablevue_type_script_lang_js_unsupportedIterableToArray","_nonIterableRest","CDataTablevue_type_script_lang_js_arrayLikeToArray","_arr","_n","_d","done","CDataTablevue_type_script_lang_js_","CIcon","itemsPerPage","addTableClasses","dark","hover","border","outlined","sorter","sorterValue","tableFilterValue","columnFilterValue","noItemsView","sorterState","column","asc","passedItems","objectsAreIdentical","computedPage","sortedItems","columnFiltered","external","generatedColumnNames","tableFiltered","hasFilter","item2","value2","paginatedItems","_this4","pretifyName","customValues","noResults","noItems","columnRepeated","resetable","isLazy","$set","word","_cellClasses","_style","detailsClick","getClickedColumnName","closest","clickedCell","obj1","obj2","table_CDataTablevue_type_script_lang_js_","CDataTablevue_type_style_index_0_id_2e6be878_scoped_true_lang_css_","CDataTable_component","CTabvue_type_template_id_295b6d9a_scoped_true_render","distributed","navClick","navLinkProps","tabs","paneClasses","CTabvue_type_template_id_295b6d9a_scoped_true_staticRenderFns","CTabvue_type_script_lang_js_props","CTabvue_type_script_lang_js_","beforeMount","initialTab","changeTabTo","activeTab","tabs_CTabvue_type_script_lang_js_","CTabvue_type_style_index_0_id_295b6d9a_scoped_true_lang_css_","CTab_component","CTabsvue_type_template_id_314e4687_render","navWrapperClasses","addTabsWrapperClasses","gridClasses","tabsClasses","addTabClasses","CTabsvue_type_template_id_314e4687_staticRenderFns","CDistributorvue_type_template_id_70b0f18f_render","CDistributorvue_type_template_id_70b0f18f_staticRenderFns","CDistributorvue_type_script_lang_js_","tabs_CDistributorvue_type_script_lang_js_","CDistributor_component","CDistributor","CTabsvue_type_script_lang_js_","activeTabIndex","addNavWrapperClasses","addNavClasses","addTabsClasses","navs","tab","tabs_CTabsvue_type_script_lang_js_","CTabs_component","CFootervue_type_template_id_2ec66e76_render","CFootervue_type_template_id_2ec66e76_staticRenderFns","CFootervue_type_script_lang_js_","template_CFootervue_type_script_lang_js_","CFooter_component","CHeadervue_type_template_id_d560eb9c_render","CHeadervue_type_template_id_d560eb9c_staticRenderFns","CHeadervue_type_script_lang_js_","colorScheme","withSubheader","template_CHeadervue_type_script_lang_js_","CHeader_component","CHeaderBrandvue_type_script_lang_js_props","CHeaderBrandvue_type_script_lang_js_","template_CHeaderBrandvue_type_script_lang_js_","CHeaderBrand_render","CHeaderBrand_staticRenderFns","CHeaderBrand_component","CHeaderNavvue_type_template_id_5fc36f60_render","CHeaderNavvue_type_template_id_5fc36f60_staticRenderFns","CHeaderNavvue_type_script_lang_js_","template_CHeaderNavvue_type_script_lang_js_","CHeaderNav_component","CHeaderNavItemvue_type_template_id_18913d68_render","CHeaderNavItemvue_type_template_id_18913d68_staticRenderFns","CHeaderNavItemvue_type_script_lang_js_","template_CHeaderNavItemvue_type_script_lang_js_","CHeaderNavItem_component","CHeaderNavLinkvue_type_template_id_1f542e7a_render","CHeaderNavLinkvue_type_template_id_1f542e7a_staticRenderFns","CHeaderNavLinkvue_type_script_lang_js_","template_CHeaderNavLinkvue_type_script_lang_js_","CHeaderNavLink_component","CSubheadervue_type_template_id_6d918d32_render","CSubheadervue_type_template_id_6d918d32_staticRenderFns","CSubheadervue_type_script_lang_js_","template_CSubheadervue_type_script_lang_js_","CSubheader_component","CSidebarvue_type_template_id_28216474_render","sidebarClasses","sidebarClick","CSidebarvue_type_template_id_28216474_staticRenderFns","CSidebarvue_type_script_lang_js_defineProperty","CSidebarvue_type_script_lang_js_","unfoldable","overlaid","breakpoint","minimize","hideOnMobileClick","aside","dropdownMode","open","createBackdrop","removeBackdrop","haveResponsiveClass","isOnMobile","closeSidebar","getPropertyValue","sidebarCloseListener","getElementById","template_CSidebarvue_type_script_lang_js_","CSidebar_component","CSidebarBrandvue_type_script_lang_js_props","CSidebarBrandvue_type_script_lang_js_","template_CSidebarBrandvue_type_script_lang_js_","CSidebarBrand_render","CSidebarBrand_staticRenderFns","CSidebarBrand_component","CSidebarClosevue_type_template_id_7fce8dcf_render","CSidebarClosevue_type_template_id_7fce8dcf_staticRenderFns","CSidebarClosevue_type_script_lang_js_","template_CSidebarClosevue_type_script_lang_js_","CSidebarClose_component","CSidebarFootervue_type_template_id_448e4ba6_render","CSidebarFootervue_type_template_id_448e4ba6_staticRenderFns","CSidebarFootervue_type_script_lang_js_","template_CSidebarFootervue_type_script_lang_js_","CSidebarFooter_component","CSidebarFormvue_type_template_id_1acfb844_render","CSidebarFormvue_type_template_id_1acfb844_staticRenderFns","CSidebarFormvue_type_script_lang_js_","template_CSidebarFormvue_type_script_lang_js_","CSidebarForm_component","CSidebarHeadervue_type_template_id_51b6153b_render","CSidebarHeadervue_type_template_id_51b6153b_staticRenderFns","CSidebarHeadervue_type_script_lang_js_","template_CSidebarHeadervue_type_script_lang_js_","CSidebarHeader_component","CSidebarMinimizervue_type_template_id_891a05e4_render","CSidebarMinimizervue_type_template_id_891a05e4_staticRenderFns","CSidebarMinimizervue_type_script_lang_js_","template_CSidebarMinimizervue_type_script_lang_js_","CSidebarMinimizer_component","CSidebarNavvue_type_template_id_4e4153de_render","psSettings","CSidebarNavvue_type_template_id_4e4153de_staticRenderFns","CSidebarNavvue_type_script_lang_js_","template_CSidebarNavvue_type_script_lang_js_","CSidebarNav_component","CSidebarNavDividervue_type_template_id_b1a40e70_render","CSidebarNavDividervue_type_template_id_b1a40e70_staticRenderFns","CSidebarNavDividervue_type_script_lang_js_","template_CSidebarNavDividervue_type_script_lang_js_","CSidebarNavDivider_component","CSidebarNavDropdownvue_type_template_id_4e497851_render","dropdownClasses","handleClick","computedIcon","fontIcon","itemClicked","CSidebarNavDropdownvue_type_template_id_4e497851_staticRenderFns","CSidebarNavItemvue_type_template_id_ad5dc7f6_render","linkClasses","computedLinkProps","badge","CSidebarNavItemvue_type_template_id_ad5dc7f6_staticRenderFns","CSidebarNavItemvue_type_script_lang_js_ownKeys","CSidebarNavItemvue_type_script_lang_js_objectSpread","CSidebarNavItemvue_type_script_lang_js_defineProperty","CSidebarNavItemvue_type_script_lang_js_typeof","CSidebarNavItemvue_type_script_lang_js_props","CSidebarNavItemvue_type_script_lang_js_","template_CSidebarNavItemvue_type_script_lang_js_","CSidebarNavItem_component","CSidebarNavDropdownvue_type_script_lang_js_ownKeys","CSidebarNavDropdownvue_type_script_lang_js_objectSpread","CSidebarNavDropdownvue_type_script_lang_js_defineProperty","CSidebarNavDropdownvue_type_script_lang_js_typeof","CSidebarNavDropdownvue_type_script_lang_js_","fullPath","template_CSidebarNavDropdownvue_type_script_lang_js_","CSidebarNavDropdown_component","CSidebarNavTitlevue_type_template_id_5331e5b0_render","CSidebarNavTitlevue_type_template_id_5331e5b0_staticRenderFns","CSidebarNavTitlevue_type_script_lang_js_","template_CSidebarNavTitlevue_type_script_lang_js_","CSidebarNavTitle_component","CWrappervue_type_template_id_13351784_render","CWrappervue_type_template_id_13351784_staticRenderFns","CWrappervue_type_script_lang_js_","template_CWrappervue_type_script_lang_js_","CWrapper_component","CToastvue_type_template_id_7208152f_scoped_true_render","isShowed","close","CToastvue_type_template_id_7208152f_scoped_true_staticRenderFns","toast_props_props","autohide","CToastvue_type_script_lang_js_ownKeys","CToastvue_type_script_lang_js_objectSpread","CToastvue_type_script_lang_js_defineProperty","CToastvue_type_script_lang_js_","toaster","hideTimeout","closeTimeout","injectedProps","propIsInherited","setAutohide","onHover","restoreHiddingToast","onHoverOut","setHiddingMode","toast_CToastvue_type_script_lang_js_","CToastvue_type_style_index_0_id_7208152f_scoped_true_lang_css_","CToast_component","CToastervue_type_template_id_0dc99056_render","toasterClasses","CToastervue_type_template_id_0dc99056_staticRenderFns","CToastervue_type_script_lang_js_ownKeys","CToastervue_type_script_lang_js_objectSpread","CToastervue_type_script_lang_js_defineProperty","CToastervue_type_script_lang_js_","hasFixedPosition","toast_CToastervue_type_script_lang_js_","CToaster_component","CTogglervue_type_script_lang_js_","inHeader","inNavbar","iconClass","toggler_CTogglervue_type_script_lang_js_","CToggler_render","CToggler_staticRenderFns","CToggler_component","CWidgetProgressvue_type_template_id_503c0761_render","inverse","CWidgetProgressvue_type_template_id_503c0761_staticRenderFns","CWidgetProgressvue_type_script_lang_js_","widgets_CWidgetProgressvue_type_script_lang_js_","CWidgetProgress_component","CWidgetIconvue_type_template_id_0a72cfde_render","iconPadding","CWidgetIconvue_type_template_id_0a72cfde_staticRenderFns","CWidgetIconvue_type_script_lang_js_","widgets_CWidgetIconvue_type_script_lang_js_","CWidgetIcon_component","CWidgetBrandvue_type_template_id_42ecf084_render","addHeaderClasses","rightHeader","rightFooter","leftHeader","leftFooter","CWidgetBrandvue_type_template_id_42ecf084_staticRenderFns","CWidgetBrandvue_type_script_lang_js_","widgets_CWidgetBrandvue_type_script_lang_js_","CWidgetBrand_component","CWidgetProgressIconvue_type_template_id_6b95ba9b_render","CWidgetProgressIconvue_type_template_id_6b95ba9b_staticRenderFns","CWidgetProgressIconvue_type_script_lang_js_","widgets_CWidgetProgressIconvue_type_script_lang_js_","CWidgetProgressIcon_component","CWidgetDropdownvue_type_template_id_46a617c6_render","CWidgetDropdownvue_type_template_id_46a617c6_staticRenderFns","CWidgetDropdownvue_type_script_lang_js_","widgets_CWidgetDropdownvue_type_script_lang_js_","CWidgetDropdown_component","CWidgetSimplevue_type_template_id_2a54f662_render","CWidgetSimplevue_type_template_id_2a54f662_staticRenderFns","CWidgetSimplevue_type_script_lang_js_","widgets_CWidgetSimplevue_type_script_lang_js_","CWidgetSimple_component","customListeners","listener","esm_popper","tooltip_DEFAULT_OPTIONS","container","delay","template","trigger","arrowSelector","innerSelector","tooltip_Tooltip","Tooltip","_initialiseProps","events","_isOpen","_popperOptions","_setEventListeners","_create","allowHtml","tooltipGenerator","tooltipNode","titleNode","_addTitleContent","textContent","_show","_isOpening","_tooltipNode","visibility","popperInstance","getAttribute","_findContainer","_append","popperOptions","_hide","_dispose","_events","directEvents","oppositeEvents","usedByTooltip","_scheduleShow","_scheduleHide","closeOnClickOutside","computedDelay","_showTimeout","isSet","_setTooltipNodeEvent","_updateTitleContent","_clearTitleContent","lastTitle","_this5","dispose","updateTitleContent","relatedreference","toElement","relatedTarget","evt2","relatedreference2","esm_tooltip","old_popover","tooltip","inserted","def","getTooltipConfig","_tooltip","getTemplate","appendToBody","old_tooltip","src_slicedToArray","src_arrayWithHoles","src_iterableToArrayLimit","src_unsupportedIterableToArray","src_nonIterableRest","src_arrayLikeToArray","removeKeysFromObject","CoreuiVue","install","Vue","pluginComponents","pluginDirectives","toRemove","plugin","directive","src_0","entry_lib"],"mappings":"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AAD,EAAY,iBAAZ,EAA+B,gBAA/B,EAAiD,QAAjD,EAA2D,mBAA3D,EAAgF,gBAAhF,EAAkG,kBAAlG,EAAsH,aAAtH,CAN2D;AAOlEqtB,MAAAA,MAAM,EAAE6C,qCAP0D;AAQlE5tD,MAAAA,KAAK,EAAE6oD,WAR2D;AASlE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA7lD,MAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpB,eAAO;AACL0nB,UAAAA,KAAK,EAAE,KAAKrtB,KAAL,IAAckQ;AADhB,SAAP;AAGD,OAzCiE;AA0ClE;AACA;AACA;AACA;AACA;AACA;AACAnI,MAAAA,QAAQ,EAAE;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAolD,QAAAA,eAAe,EAAE,SAASA,eAAT,GAA2B;AAC1C,cAAI,KAAKD,cAAL,IAAuB,CAAC,KAAKD,WAAjC,EAA8C;AAC5C,mBAAO,GAAG1oD,MAAH,CAAU,KAAK4mD,MAAL,GAAc,eAAd,GAAgC,cAA1C,EAA0D,GAA1D,EAA+D5mD,MAA/D,CAAsE,KAAKzB,IAA3E,CAAP;AACD;AACF,SA5BO;AA6BRsqD,QAAAA,UAAU,EAAE,SAASA,UAAT,GAAsB;AAChC,cAAIqD,aAAa,GAAG,eAAelsD,MAAf,CAAsB,KAAKymD,SAAL,GAAiB,YAAjB,GAAgC,EAAtD,CAApB;AACA,iBAAO,KAAKG,MAAL,GAAc,eAAd,GAAgCsF,aAAvC;AACD,SAhCO,CAgCN;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAjFQ,OAhDwD;AAoIlEznD,MAAAA,OAAO,EAAE;AACPqnD,QAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkB57C,CAAlB,EAAqB;AAC7B,cAAI,KAAK9L,MAAL,CAAY0iD,QAAZ,KAAyBn7C,SAA7B,EAAwC;AACxC,cAAIwgD,WAAW,GAAGj8C,CAAC,CAACzS,MAAF,CAAS2uD,eAAT,CAAyB,CAAzB,EAA4BC,OAA5B,CAAoCtwD,GAAtD;AACA,cAAI2vD,MAAM,GAAG,KAAK5pD,OAAL,CAAaqqD,WAAb,CAAb;AACA,cAAI1wD,KAAK,GAAGiwD,MAAM,CAACjwD,KAAP,KAAiBkQ,SAAjB,GAA6B+/C,MAAM,CAACjwD,KAApC,GAA4CiwD,MAAxD;AACA,eAAK5iC,KAAL,GAAartB,KAAb;AACA,eAAKkhC,KAAL,CAAW,cAAX,EAA2BlhC,KAA3B,EAAkCyU,CAAlC;AACD;AARM;AApIyD,KAAvC,CA7kLqC,CA4tLlE;;AACC;;AAA6B,QAAIo8C,oCAAoC,GAAIL,+BAA5C,CA7tLoC,CA8tLlE;;AAMA;;AAEA,QAAIM,iBAAiB,GAAGrxD,MAAM,CAAC2U,mBAAmB,CAAC;AAAI;AAAL,KAApB,CAAN,CACtBy8C,oCADsB,EAEtBT,2CAFsB,EAGtBE,oDAHsB,EAItB,KAJsB,EAKtB,IALsB,EAMtB,IANsB,EAOtB,IAPsB,CAAxB;AAWA;;AAA6B,QAAIp1B,OAAO,GAAI41B,iBAAiB,CAACnyD,OAAjC,CAjvLqC,CAkvLlE;;AACA,QAAIoyD,6CAA6C,GAAG,SAAhDA,6CAAgD,GAAY;AAAC,UAAIl/C,GAAG,GAAC,IAAR;;AAAa,UAAIC,EAAE,GAACD,GAAG,CAACE,cAAX;;AAA0B,UAAIC,EAAE,GAACH,GAAG,CAACI,KAAJ,CAAUD,EAAV,IAAcF,EAArB;;AAAwB,aAAOE,EAAE,CAAC,YAAD,EAAcH,GAAG,CAAC2yB,EAAJ,CAAO;AAACwnB,QAAAA,WAAW,EAACn6C,GAAG,CAACo6C,EAAJ,CAAO,CAAC;AAAC3rD,UAAAA,GAAG,EAAC,OAAL;AAAawJ,UAAAA,EAAE,EAAC,cAAU;AAAC,mBAAO,CAAC+H,GAAG,CAACY,EAAJ,CAAO,OAAP,EAAe,CAAEZ,GAAG,CAAC2zB,KAAL,GAAYxzB,EAAE,CAAC,OAAD,EAAS;AAACE,cAAAA,KAAK,EAACL,GAAG,CAACq6C,YAAX;AAAwB55C,cAAAA,KAAK,EAAC;AAAC,uBAAMT,GAAG,CAACs6C;AAAX;AAA9B,aAAT,EAA2D,CAACt6C,GAAG,CAACa,EAAJ,CAAO,MAAIb,GAAG,CAACc,EAAJ,CAAOd,GAAG,CAAC2zB,KAAX,CAAJ,GAAsB,GAA7B,CAAD,CAA3D,CAAd,GAA8G3zB,GAAG,CAACkuB,EAAJ,EAA/G,CAAf,CAAD,CAAP;AAAkJ,WAA7K;AAA8KqsB,UAAAA,KAAK,EAAC;AAApL,SAAD,EAA2L;AAAC9rD,UAAAA,GAAG,EAAC,OAAL;AAAawJ,UAAAA,EAAE,EAAC,cAAU;AAAC,mBAAO,CAACkI,EAAE,CAAC,UAAD,EAAYH,GAAG,CAACygC,EAAJ,CAAOzgC,GAAG,CAAC2yB,EAAJ,CAAO;AAACtyB,cAAAA,KAAK,EAACL,GAAG,CAACw6C,YAAX;AAAwB/5C,cAAAA,KAAK,EAAC;AAAC,sBAAKT,GAAG,CAACs6C,MAAV;AAAiB,4BAAWt6C,GAAG,CAACk5C,QAAJ,IAAgBl5C,GAAG,CAACm5C;AAAhD,eAA9B;AAAyF1qB,cAAAA,QAAQ,EAAC;AAAC,yBAAQzuB,GAAG,CAACwb;AAAb,eAAlG;AAAsHuS,cAAAA,EAAE,EAAC;AAAC,yBAAQ,eAASC,MAAT,EAAgB;AAAC,yBAAOhuB,GAAG,CAACy6C,OAAJ,CAAYzsB,MAAZ,CAAP;AAA2B,iBAArD;AAAsD,0BAAS,gBAASA,MAAT,EAAgB;AAAC,yBAAOhuB,GAAG,CAAC06C,QAAJ,CAAa1sB,MAAb,CAAP;AAA4B;AAA5G;AAAzH,aAAP,EAA+O,UAA/O,EAA0PhuB,GAAG,CAAClJ,MAA9P,EAAqQ,KAArQ,CAAP,EAAmRkJ,GAAG,CAACi1B,SAAvR,CAAZ,CAAH,CAAP;AAA0T,WAArV;AAAsVslB,UAAAA,KAAK,EAAC;AAA5V,SAA3L,EAA6hBv6C,GAAG,CAACsyB,EAAJ,CAAQtyB,GAAG,CAAC3K,QAAJ,CAAam5B,KAArB,EAA4B,UAAS0M,IAAT,EAAc;AAAC,iBAAO;AAACzsC,YAAAA,GAAG,EAACysC,IAAL;AAAUjjC,YAAAA,EAAE,EAAC,cAAU;AAAC,qBAAO,CAAC+H,GAAG,CAACY,EAAJ,CAAOs6B,IAAP,CAAD,CAAP;AAAsB,aAA9C;AAA+Cqf,YAAAA,KAAK,EAAC;AAArD,WAAP;AAAkE,SAA7G,CAA7hB,CAAP,EAAopB,IAAppB,EAAypB,IAAzpB;AAAb,OAAP,EAAorB,YAAprB,EAAisB;AAACrqB,QAAAA,MAAM,EAAElwB,GAAG,CAACkwB,MAAb;AAAqB+nB,QAAAA,OAAO,EAAEj4C,GAAG,CAACi4C,OAAlC;AAA2CC,QAAAA,aAAa,EAAEl4C,GAAG,CAACk4C,aAA9D;AAA6EE,QAAAA,eAAe,EAAEp4C,GAAG,CAACo4C,eAAlG;AACp1BD,QAAAA,eAAe,EAAEn4C,GAAG,CAACm4C,eAD+zB;AAC9yBE,QAAAA,WAAW,EAAEr4C,GAAG,CAACq4C,WAD6xB;AAChxBL,QAAAA,cAAc,EAAEh4C,GAAG,CAACg4C,cAD4vB;AAC5uB33C,QAAAA,KAAK,EAAEL,GAAG,CAAC9I;AADiuB,OAAjsB,EACf,KADe,CAAd,CAAT;AACgB,KADhJ;;AAEA,QAAIioD,sDAAsD,GAAG,EAA7D,CArvLkE,CAwvLlE;;AACA,aAASC,wDAAT,CAAkE9uD,MAAlE,EAA0EmrD,QAA1E,EAAoF;AAAE,UAAInrD,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;AAAW,UAAIH,MAAM,GAAGkvD,6DAA6D,CAAC/uD,MAAD,EAASmrD,QAAT,CAA1E;AAA8F,UAAIhtD,GAAJ,EAAStB,CAAT;;AAAY,UAAIS,MAAM,CAAC+B,qBAAX,EAAkC;AAAE,YAAIgsD,gBAAgB,GAAG/tD,MAAM,CAAC+B,qBAAP,CAA6BW,MAA7B,CAAvB;;AAA6D,aAAKnD,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGwuD,gBAAgB,CAACtrD,MAAjC,EAAyClD,CAAC,EAA1C,EAA8C;AAAEsB,UAAAA,GAAG,GAAGktD,gBAAgB,CAACxuD,CAAD,CAAtB;AAA2B,cAAIsuD,QAAQ,CAAC3oC,OAAT,CAAiBrkB,GAAjB,KAAyB,CAA7B,EAAgC;AAAU,cAAI,CAACb,MAAM,CAACoB,SAAP,CAAiB8Y,oBAAjB,CAAsCza,IAAtC,CAA2CiD,MAA3C,EAAmD7B,GAAnD,CAAL,EAA8D;AAAU0B,UAAAA,MAAM,CAAC1B,GAAD,CAAN,GAAc6B,MAAM,CAAC7B,GAAD,CAApB;AAA4B;AAAE;;AAAC,aAAO0B,MAAP;AAAgB;;AAE5iB,aAASkvD,6DAAT,CAAuE/uD,MAAvE,EAA+EmrD,QAA/E,EAAyF;AAAE,UAAInrD,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;AAAW,UAAIH,MAAM,GAAG,EAAb;AAAiB,UAAIyrD,UAAU,GAAGhuD,MAAM,CAAC8B,IAAP,CAAYY,MAAZ,CAAjB;AAAsC,UAAI7B,GAAJ,EAAStB,CAAT;;AAAY,WAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGyuD,UAAU,CAACvrD,MAA3B,EAAmClD,CAAC,EAApC,EAAwC;AAAEsB,QAAAA,GAAG,GAAGmtD,UAAU,CAACzuD,CAAD,CAAhB;AAAqB,YAAIsuD,QAAQ,CAAC3oC,OAAT,CAAiBrkB,GAAjB,KAAyB,CAA7B,EAAgC;AAAU0B,QAAAA,MAAM,CAAC1B,GAAD,CAAN,GAAc6B,MAAM,CAAC7B,GAAD,CAApB;AAA4B;;AAAC,aAAO0B,MAAP;AAAgB,KA3vLjR,CA6vLlE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAIA,QAAImvD,uCAAuC,GAAG1xD,MAAM,CAACoY,MAAP,CAAcmnB,2BAAd,CAA9C;AACA;;AAA6B,QAAIoyB,iCAAiC,GAAI;AACpE9xD,MAAAA,IAAI,EAAE,WAD8D;AAEpE+gC,MAAAA,KAAK,EAAE,CAAC,SAAD,EAAY,iBAAZ,EAA+B,gBAA/B,EAAiD,QAAjD,EAA2D,mBAA3D,EAAgF,gBAAhF,EAAkG,kBAAlG,EAAsH,aAAtH,CAF6D;AAGpEurB,MAAAA,YAAY,EAAE,KAHsD;AAIpEzoD,MAAAA,UAAU,EAAE;AACVy3B,QAAAA,UAAU,EAAEA;AADF,OAJwD;AAOpE8yB,MAAAA,MAAM,EAAEyD,uCAP4D;AAQpExuD,MAAAA,KAAK,EAAE2oD,aAR6D;AASpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA3lD,MAAAA,IAAI,EAAE,SAASA,IAAT,GAAgB;AACpB,eAAO;AACL0nB,UAAAA,KAAK,EAAE,KAAKrtB;AADP,SAAP;AAGD,OA3CmE;AA4CpE;AACA;AACA;AACA;AACA;AACA;AACA+H,MAAAA,QAAQ,EAAE;AACR++B,QAAAA,SAAS,EAAE,SAASA,SAAT,GAAqB;AAC9B,cAAI+mB,gBAAgB,GAAG,KAAKzsB,UAA5B;AAAA,cACI/f,KAAK,GAAGwsC,gBAAgB,CAACxsC,KAD7B;AAAA,cAEIysC,MAAM,GAAGD,gBAAgB,CAACC,MAF9B;AAAA,cAGIhnB,SAAS,GAAGmqB,wDAAwD,CAACpD,gBAAD,EAAmB,CAAC,OAAD,EAAU,QAAV,CAAnB,CAHxE,CAD8B,CAImF;;AAGjH,iBAAO/mB,SAAP;AACD,SATO,CASN;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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ACA,QAAIg7B,wDAAwD,GAAG,EAA/D,CA5gOkE,CA+gOlE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAA6B,QAAIC,mCAAmC,GAAI;AACtE17D,MAAAA,IAAI,EAAE,aADgE;AAEtE6D,MAAAA,UAAU,EAAE;AACVs4B,QAAAA,KAAK,EAAEA;AADG,OAF0D;AAKtE94B,MAAAA,KAAK,EAAE;AACL83D,QAAAA,UAAU,EAAE;AACV13D,UAAAA,IAAI,EAAEuR,MADI;AAEVvQ,UAAAA,OAAO,EAAE;AAFC,SADP;AAKL+2D,QAAAA,KAAK,EAAE;AACL/3D,UAAAA,IAAI,EAAEuR,MADD;AAELvQ,UAAAA,OAAO,EAAE;AAFJ,SALF;AASLjB,QAAAA,IAAI,EAAE;AACJC,UAAAA,IAAI,EAAEF,MADF;AAEJG,UAAAA,SAAS,EAAE,SAASA,SAAT,CAAmBC,GAAnB,EAAwB;AACjC,mBAAO,CAAC,EAAD,EAAK,IAAL,EAAW,IAAX,EAAiBC,QAAjB,CAA0BD,GAA1B,CAAP;AACD;AAJG,SATD;AAeLmoC,QAAAA,KAAK,EAAE;AACLroC,UAAAA,IAAI,EAAEF,MADD;AAELkB,UAAAA,OAAO,EAAE,OAFJ;AAGLf,UAAAA,SAAS,EAAE,SAASA,SAAT,CAAmBC,GAAnB,EAAwB;AACjC,mBAAO,CAAC,OAAD,EAAU,QAAV,EAAoB,KAApB,EAA2BC,QAA3B,CAAoCD,GAApC,CAAP;AACD;AALI,SAfF;A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AD,IAAOrrE,EAAE,CAAC,QAAD,CAAF,IAAgB,IAA3B,EAAiCA,EAAE,CAAC,QAAD,CAAF;AAAiB,SAAxD,SAAiE;AAAE,cAAIsrE,EAAJ,EAAQ,MAAMpwC,EAAN;AAAW;AAAE;;AAAC,aAAOkwC,IAAP;AAAc;;AAEze,aAASL,eAAT,CAAyB9sD,GAAzB,EAA8B;AAAE,UAAIpb,KAAK,CAACc,OAAN,CAAcsa,GAAd,CAAJ,EAAwB,OAAOA,GAAP;AAAa,KAvgSH,CAygSlE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"fb15\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"0cd6\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {/* harmony import */ var _CProgressBar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"8fc1\");\n/* harmony import */ var _shared_props__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"b683\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\nvar props = _objectSpread(_objectSpread({}, _shared_props__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"]), {}, {\n  height: String,\n  size: {\n    type: String,\n    validator: function validator(val) {\n      return ['', 'xs', 'sm'].includes(val);\n    }\n  }\n});\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'CProgress',\n  components: {\n    CProgressBar: _CProgressBar__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"]\n  },\n  props: props,\n  mounted: function mounted() {\n    /* istanbul ignore next */\n    if (this.height && process && Object({\"NODE_ENV\":\"production\",\"BASE_URL\":\"/\"}) && \"production\" === 'development') {\n      console.error(\"CProgress component: 'height' prop is deprecated and will be removed in the next version. Use 'size' prop instead or pass custom height in 'style' attribute.\");\n    }\n  },\n  provide: function provide() {\n    var _this = this;\n\n    var progress = {};\n    Object.defineProperty(progress, 'props', {\n      get: function get() {\n        return _this._props;\n      }\n    });\n    return {\n      progress: progress\n    };\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"4362\")))\n\n/***/ }),\n\n/***/ \"1e7e\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"ceaa\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(\"499e\").default\nvar update = add(\"289b2c70\", content, true, {\"sourceMap\":false,\"shadowMode\":false});\n\n/***/ }),\n\n/***/ \"23e2\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"898f\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(\"499e\").default\nvar update = add(\"52f85b4e\", content, true, {\"sourceMap\":false,\"shadowMode\":false});\n\n/***/ }),\n\n/***/ \"24fb\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}\n\n/***/ }),\n\n/***/ \"2877\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return normalizeComponent; });\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nfunction normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n\n/***/ \"33c8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'CIcon',\n  props: {\n    name: String,\n    content: [String, Array],\n    size: {\n      type: String,\n      validator: function validator(size) {\n        return ['custom', 'custom-size', 'sm', 'lg', 'xl', '2xl', '3xl', '4xl', '5xl', '6xl', '7xl', '8xl', '9xl'].includes(size);\n      }\n    },\n    customClasses: [String, Array, Object],\n    src: String,\n    title: String,\n    use: String\n  },\n  computed: {\n    iconName: function iconName() {\n      var iconNameIsKebabCase = this.name && this.name.includes('-');\n      return iconNameIsKebabCase ? this.toCamelCase(this.name) : this.name;\n    },\n    titleCode: function titleCode() {\n      return this.title ? \"<title>\".concat(this.title, \"</title>\") : '';\n    },\n    code: function code() {\n      if (this.content) {\n        return this.content;\n      } else if (this.$root.$options.icons) {\n        var icon = this.$root.$options.icons[this.iconName];\n\n        if (!icon && process && Object({\"NODE_ENV\":\"production\",\"BASE_URL\":\"/\"}) && \"production\" === 'development') {\n          console.error('CIcon: \"' + this.iconName + '\" is not registered in $root.icons object. For CIcon docs visit https://coreui.io/vue/docs/components/icon.html');\n        }\n\n        return icon;\n      }\n    },\n    iconCode: function iconCode() {\n      return Array.isArray(this.code) ? this.code[1] || this.code[0] : this.code;\n    },\n    scale: function scale() {\n      return Array.isArray(this.code) && this.code.length > 1 ? this.code[0] : '64 64';\n    },\n    viewBox: function viewBox() {\n      return this.$attrs.viewBox || \"0 0 \".concat(this.scale);\n    },\n    computedSize: function computedSize() {\n      var addCustom = !this.size && (this.$attrs.width || this.$attrs.height);\n      return this.size === 'custom' || addCustom ? 'custom-size' : this.size;\n    },\n    computedClasses: function computedClasses() {\n      var size = this.computedSize;\n      return this.customClasses || ['c-icon', _defineProperty({}, \"c-icon-\".concat(size), size)];\n    }\n  },\n  methods: {\n    toCamelCase: function toCamelCase(str) {\n      return str.replace(/([-_][a-z0-9])/ig, function ($1) {\n        return $1.toUpperCase();\n      }).replace(/-/ig, '');\n    }\n  }\n});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"4362\")))\n\n/***/ }),\n\n/***/ \"38c0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CToast_vue_vue_type_style_index_0_id_7208152f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"1e7e\");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CToast_vue_vue_type_style_index_0_id_7208152f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CToast_vue_vue_type_style_index_0_id_7208152f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CToast_vue_vue_type_style_index_0_id_7208152f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n/***/ }),\n\n/***/ \"399a\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _vue_style_loader_index_js_ref_6_oneOf_1_0_css_loader_dist_cjs_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_6_oneOf_1_2_postcss_loader_src_index_js_ref_6_oneOf_1_3_perfect_scrollbar_css_vue_type_style_index_0_id_3738b722_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"f9c7\");\n/* harmony import */ var _vue_style_loader_index_js_ref_6_oneOf_1_0_css_loader_dist_cjs_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_6_oneOf_1_2_postcss_loader_src_index_js_ref_6_oneOf_1_3_perfect_scrollbar_css_vue_type_style_index_0_id_3738b722_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_vue_style_loader_index_js_ref_6_oneOf_1_0_css_loader_dist_cjs_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_6_oneOf_1_2_postcss_loader_src_index_js_ref_6_oneOf_1_3_perfect_scrollbar_css_vue_type_style_index_0_id_3738b722_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n /* unused harmony default export */ var _unused_webpack_default_export = (_vue_style_loader_index_js_ref_6_oneOf_1_0_css_loader_dist_cjs_js_ref_6_oneOf_1_1_vue_loader_lib_loaders_stylePostLoader_js_postcss_loader_src_index_js_ref_6_oneOf_1_2_postcss_loader_src_index_js_ref_6_oneOf_1_3_perfect_scrollbar_css_vue_type_style_index_0_id_3738b722_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n/***/ }),\n\n/***/ \"415c\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"5a91\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(\"499e\").default\nvar update = add(\"4efba38b\", content, true, {\"sourceMap\":false,\"shadowMode\":false});\n\n/***/ }),\n\n/***/ \"4194\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CTab_vue_vue_type_style_index_0_id_295b6d9a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"23e2\");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CTab_vue_vue_type_style_index_0_id_295b6d9a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CTab_vue_vue_type_style_index_0_id_295b6d9a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CTab_vue_vue_type_style_index_0_id_295b6d9a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n/***/ }),\n\n/***/ \"4362\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports.nextTick = function nextTick(fn) {\n    var args = Array.prototype.slice.call(arguments);\n    args.shift();\n    setTimeout(function () {\n        fn.apply(null, args);\n    }, 0);\n};\n\nexports.platform = exports.arch = \nexports.execPath = exports.title = 'browser';\nexports.pid = 1;\nexports.browser = true;\nexports.env = {};\nexports.argv = [];\n\nexports.binding = function (name) {\n\tthrow new Error('No such module. (Possibly not yet loaded)')\n};\n\n(function () {\n    var cwd = '/';\n    var path;\n    exports.cwd = function () { return cwd };\n    exports.chdir = function (dir) {\n        if (!path) path = __webpack_require__(\"df7c\");\n        cwd = path.resolve(dir, cwd);\n    };\n})();\n\nexports.exit = exports.kill = \nexports.umask = exports.dlopen = \nexports.uptime = exports.memoryUsage = \nexports.uvCounters = function() {};\nexports.features = {};\n\n\n/***/ }),\n\n/***/ \"499e\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"default\", function() { return /* binding */ addStylesClient; });\n\n// CONCATENATED MODULE: ./node_modules/vue-style-loader/lib/listToStyles.js\n/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nfunction listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n// CONCATENATED MODULE: ./node_modules/vue-style-loader/lib/addStylesClient.js\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\n\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nfunction addStylesClient (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n\n\n/***/ }),\n\n/***/ \"5a91\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(\"24fb\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".tooltip-old{position:absolute;z-index:1070;display:block;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.765625rem;word-wrap:break-word;opacity:0}.tooltip-old.show{opacity:.9}.tooltip-old .arrow{position:absolute;display:block;width:.8rem;height:.4rem}.tooltip-old .arrow:before{position:absolute;content:\\\"\\\";border-color:transparent;border-style:solid}.bs-tooltip-old-auto[x-placement^=top],.bs-tooltip-old-top{padding:.4rem 0}.bs-tooltip-old-auto[x-placement^=top] .arrow,.bs-tooltip-old-top .arrow{bottom:0}.bs-tooltip-old-auto[x-placement^=top] .arrow:before,.bs-tooltip-old-top .arrow:before{top:0;border-width:.4rem .4rem 0;border-top-color:#000015}.bs-tooltip-old-auto[x-placement^=right],.bs-tooltip-old-right{padding:0 .4rem}.bs-tooltip-old-auto[x-placement^=right] .arrow,.bs-tooltip-old-right .arrow{left:0;width:.4rem;height:.8rem}.bs-tooltip-old-auto[x-placement^=right] .arrow:before,.bs-tooltip-old-right .arrow:before{right:0;border-width:.4rem .4rem .4rem 0;border-right-color:#000015}.bs-tooltip-old-auto[x-placement^=bottom],.bs-tooltip-old-bottom{padding:.4rem 0}.bs-tooltip-old-auto[x-placement^=bottom] .arrow,.bs-tooltip-old-bottom .arrow{top:0}.bs-tooltip-old-auto[x-placement^=bottom] .arrow:before,.bs-tooltip-old-bottom .arrow:before{bottom:0;border-width:0 .4rem .4rem;border-bottom-color:#000015}.bs-tooltip-old-auto[x-placement^=left],.bs-tooltip-old-left{padding:0 .4rem}.bs-tooltip-old-auto[x-placement^=left] .arrow,.bs-tooltip-old-left .arrow{right:0;width:.4rem;height:.8rem}.bs-tooltip-old-auto[x-placement^=left] .arrow:before,.bs-tooltip-old-left .arrow:before{left:0;border-width:.4rem 0 .4rem .4rem;border-left-color:#000015}.tooltip-old-inner{max-width:200px;padding:.25rem .5rem;color:#fff;text-align:center;background-color:#000015;border-radius:.25rem}\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n/***/ }),\n\n/***/ \"5f63\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(\"24fb\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".fade-enter-active[data-v-c95d1f08],.fade-leave-active[data-v-c95d1f08]{-webkit-transition:opacity .3s;transition:opacity .3s}.fade-enter[data-v-c95d1f08],.fade-leave-to[data-v-c95d1f08]{opacity:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n/***/ }),\n\n/***/ \"62e4\":\n/***/ (function(module, exports) {\n\nmodule.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n/***/ }),\n\n/***/ \"659f\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(\"24fb\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".popover-old{position:absolute;top:0;left:0;z-index:1060;display:block;max-width:276px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.765625rem;word-wrap:break-word;background-clip:padding-box;border:1px solid;border-radius:.3rem;background-color:#fff;border-color:rgba(0,0,21,.2)}.c-legacy-theme .popover-old{background-color:#fff;border-color:rgba(0,0,0,.2)}.c-dark-theme .popover-old{background-color:#1e1e29;border-color:#181924}.popover-old .arrow{position:absolute;display:block;width:1rem;height:.5rem;margin:0 .3rem}.popover-old .arrow:after,.popover-old .arrow:before{position:absolute;display:block;content:\\\"\\\";border-color:transparent;border-style:solid}.bs-popover-old-auto[x-placement^=top],.bs-popover-old-top{margin-bottom:.5rem}.bs-popover-old-auto[x-placement^=top]>.arrow,.bs-popover-old-top>.arrow{bottom:calc(-.5rem - 1px)}.bs-popover-old-auto[x-placement^=top]>.arrow:before,.bs-popover-old-top>.arrow:before{bottom:0;border-width:.5rem .5rem 0;border-top-color:rgba(0,0,21,.25)}.c-legacy-theme .bs-popover-old-auto[x-placement^=top]>.arrow:before,.c-legacy-theme .bs-popover-old-top>.arrow:before{border-top-color:rgba(0,0,0,.25)}.c-dark-theme .bs-popover-old-auto[x-placement^=top]>.arrow:before,.c-dark-theme .bs-popover-old-top>.arrow:before{border-top-color:#181924}.bs-popover-old-auto[x-placement^=top]>.arrow:after,.bs-popover-old-top>.arrow:after{bottom:1px;border-width:.5rem .5rem 0;border-top-color:#fff}.c-legacy-theme .bs-popover-old-auto[x-placement^=top]>.arrow:after,.c-legacy-theme .bs-popover-old-top>.arrow:after{border-top-color:#fff}.c-dark-theme .bs-popover-old-auto[x-placement^=top]>.arrow:after,.c-dark-theme .bs-popover-old-top>.arrow:after{border-top-color:#1e1e29}.bs-popover-old-auto[x-placement^=right],.bs-popover-old-right{margin-left:.5rem}.bs-popover-old-auto[x-placement^=right]>.arrow,.bs-popover-old-right>.arrow{left:calc(-.5rem - 1px);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-old-auto[x-placement^=right]>.arrow:before,.bs-popover-old-right>.arrow:before{left:0;border-width:.5rem .5rem .5rem 0;border-right-color:rgba(0,0,21,.25)}.c-legacy-theme .bs-popover-old-auto[x-placement^=right]>.arrow:before,.c-legacy-theme .bs-popover-old-right>.arrow:before{border-right-color:rgba(0,0,0,.25)}.c-dark-theme .bs-popover-old-auto[x-placement^=right]>.arrow:before,.c-dark-theme .bs-popover-old-right>.arrow:before{border-right-color:#181924}.bs-popover-old-auto[x-placement^=right]>.arrow:after,.bs-popover-old-right>.arrow:after{left:1px;border-width:.5rem .5rem .5rem 0;border-right-color:#fff}.c-legacy-theme .bs-popover-old-auto[x-placement^=right]>.arrow:after,.c-legacy-theme .bs-popover-old-right>.arrow:after{border-right-color:#fff}.c-dark-theme .bs-popover-old-auto[x-placement^=right]>.arrow:after,.c-dark-theme .bs-popover-old-right>.arrow:after{border-right-color:#1e1e29}.bs-popover-old-auto[x-placement^=bottom],.bs-popover-old-bottom{margin-top:.5rem}.bs-popover-old-auto[x-placement^=bottom]>.arrow,.bs-popover-old-bottom>.arrow{top:calc(-.5rem - 1px)}.bs-popover-old-auto[x-placement^=bottom]>.arrow:before,.bs-popover-old-bottom>.arrow:before{top:0;border-width:0 .5rem .5rem .5rem;border-bottom-color:rgba(0,0,21,.25)}.c-legacy-theme .bs-popover-old-auto[x-placement^=bottom]>.arrow:before,.c-legacy-theme .bs-popover-old-bottom>.arrow:before{border-bottom-color:rgba(0,0,0,.25)}.c-dark-theme .bs-popover-old-auto[x-placement^=bottom]>.arrow:before,.c-dark-theme .bs-popover-old-bottom>.arrow:before{border-bottom-color:#181924}.bs-popover-old-auto[x-placement^=bottom]>.arrow:after,.bs-popover-old-bottom>.arrow:after{top:1px;border-width:0 .5rem .5rem .5rem;border-bottom-color:#fff}.c-legacy-theme .bs-popover-old-auto[x-placement^=bottom]>.arrow:after,.c-legacy-theme .bs-popover-old-bottom>.arrow:after{border-bottom-color:#fff}.c-dark-theme .bs-popover-old-auto[x-placement^=bottom]>.arrow:after,.c-dark-theme .bs-popover-old-bottom>.arrow:after{border-bottom-color:#1e1e29}.bs-popover-old-auto[x-placement^=bottom] .popover-old-header:before,.bs-popover-old-bottom .popover-old-header:before{position:absolute;top:0;left:50%;display:block;width:1rem;margin-left:-.5rem;content:\\\"\\\";border-bottom:1px solid;border-bottom-color:#f7f7f7}.c-legacy-theme .bs-popover-old-auto[x-placement^=bottom] .popover-old-header:before,.c-legacy-theme .bs-popover-old-bottom .popover-old-header:before{border-bottom-color:#f7f7f7}.c-dark-theme .bs-popover-old-auto[x-placement^=bottom] .popover-old-header:before,.c-dark-theme .bs-popover-old-bottom .popover-old-header:before{border-bottom-color:#181924}.bs-popover-old-auto[x-placement^=left],.bs-popover-old-left{margin-right:.5rem}.bs-popover-old-auto[x-placement^=left]>.arrow,.bs-popover-old-left>.arrow{right:calc(-.5rem - 1px);width:.5rem;height:1rem;margin:.3rem 0}.bs-popover-old-auto[x-placement^=left]>.arrow:before,.bs-popover-old-left>.arrow:before{right:0;border-width:.5rem 0 .5rem .5rem;border-left-color:rgba(0,0,21,.25)}.c-legacy-theme .bs-popover-old-auto[x-placement^=left]>.arrow:before,.c-legacy-theme .bs-popover-old-left>.arrow:before{border-left-color:rgba(0,0,0,.25)}.c-dark-theme .bs-popover-old-auto[x-placement^=left]>.arrow:before,.c-dark-theme .bs-popover-old-left>.arrow:before{border-left-color:#181924}.bs-popover-old-auto[x-placement^=left]>.arrow:after,.bs-popover-old-left>.arrow:after{right:1px;border-width:.5rem 0 .5rem .5rem;border-left-color:#fff}.c-legacy-theme .bs-popover-old-auto[x-placement^=left]>.arrow:after,.c-legacy-theme .bs-popover-old-left>.arrow:after{border-left-color:#fff}.c-dark-theme .bs-popover-old-auto[x-placement^=left]>.arrow:after,.c-dark-theme .bs-popover-old-left>.arrow:after{border-left-color:#1e1e29}.popover-old-header{padding:.5rem .75rem;margin-bottom:0;font-size:.875rem;border-bottom:1px solid;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.c-legacy-theme .popover-old-header,.popover-old-header{background-color:#f7f7f7;border-bottom-color:#ebebeb}.c-dark-theme .popover-old-header{color:#e1e1e1;background-color:#181924;border-bottom-color:#0e0e15}.popover-old-header:empty{display:none}.popover-old-body{padding:.5rem .75rem;color:#4f5d73}.c-legacy-theme .popover-old-body{color:#23282c}.c-dark-theme .popover-old-body{color:#e1e1e1}\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n/***/ }),\n\n/***/ \"7419\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CAlert_vue_vue_type_style_index_0_id_c95d1f08_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"87be\");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CAlert_vue_vue_type_style_index_0_id_c95d1f08_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CAlert_vue_vue_type_style_index_0_id_c95d1f08_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CAlert_vue_vue_type_style_index_0_id_c95d1f08_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n/***/ }),\n\n/***/ \"80f5\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(\"24fb\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".ps[data-v-3738b722]{overflow:hidden!important;overflow-anchor:none;-ms-overflow-style:none;touch-action:auto;-ms-touch-action:auto}.ps__rail-x[data-v-3738b722]{height:15px;bottom:0}.ps__rail-x[data-v-3738b722],.ps__rail-y[data-v-3738b722]{display:none;opacity:0;transition:background-color .2s linear,opacity .2s linear;-webkit-transition:background-color .2s linear,opacity .2s linear;position:absolute}.ps__rail-y[data-v-3738b722]{width:15px;right:0}.ps--active-x>.ps__rail-x[data-v-3738b722],.ps--active-y>.ps__rail-y[data-v-3738b722]{display:block;background-color:transparent}.ps--focus>.ps__rail-x[data-v-3738b722],.ps--focus>.ps__rail-y[data-v-3738b722],.ps--scrolling-x>.ps__rail-x[data-v-3738b722],.ps--scrolling-y>.ps__rail-y[data-v-3738b722],.ps:hover>.ps__rail-x[data-v-3738b722],.ps:hover>.ps__rail-y[data-v-3738b722]{opacity:.6}.ps .ps__rail-x.ps--clicking[data-v-3738b722],.ps .ps__rail-x[data-v-3738b722]:focus,.ps .ps__rail-x[data-v-3738b722]:hover,.ps .ps__rail-y.ps--clicking[data-v-3738b722],.ps .ps__rail-y[data-v-3738b722]:focus,.ps .ps__rail-y[data-v-3738b722]:hover{background-color:#eee;opacity:.9}.ps__thumb-x[data-v-3738b722]{transition:background-color .2s linear,height .2s ease-in-out;-webkit-transition:background-color .2s linear,height .2s ease-in-out;height:6px;bottom:2px}.ps__thumb-x[data-v-3738b722],.ps__thumb-y[data-v-3738b722]{background-color:#aaa;border-radius:6px;position:absolute}.ps__thumb-y[data-v-3738b722]{transition:background-color .2s linear,width .2s ease-in-out;-webkit-transition:background-color .2s linear,width .2s ease-in-out;width:6px;right:2px}.ps__rail-x.ps--clicking .ps__thumb-x[data-v-3738b722],.ps__rail-x:focus>.ps__thumb-x[data-v-3738b722],.ps__rail-x:hover>.ps__thumb-x[data-v-3738b722]{background-color:#999;height:11px}.ps__rail-y.ps--clicking .ps__thumb-y[data-v-3738b722],.ps__rail-y:focus>.ps__thumb-y[data-v-3738b722],.ps__rail-y:hover>.ps__thumb-y[data-v-3738b722]{background-color:#999;width:11px}@supports (-ms-overflow-style:none){.ps[data-v-3738b722]{overflow:auto!important}}@media (-ms-high-contrast:none),screen and (-ms-high-contrast:active){.ps[data-v-3738b722]{overflow:auto!important}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n/***/ }),\n\n/***/ \"87be\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"5f63\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(\"499e\").default\nvar update = add(\"767ae63c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});\n\n/***/ }),\n\n/***/ \"8875\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// addapted from the document.currentScript polyfill by Adam Miller\n// MIT license\n// source: https://github.com/amiller-gh/currentScript-polyfill\n\n// added support for Firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1620505\n\n(function (root, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(typeof self !== 'undefined' ? self : this, function () {\n  function getCurrentScript () {\n    var descriptor = Object.getOwnPropertyDescriptor(document, 'currentScript')\n    // for chrome\n    if (!descriptor && 'currentScript' in document && document.currentScript) {\n      return document.currentScript\n    }\n\n    // for other browsers with native support for currentScript\n    if (descriptor && descriptor.get !== getCurrentScript && document.currentScript) {\n      return document.currentScript\n    }\n  \n    // IE 8-10 support script readyState\n    // IE 11+ & Firefox support stack trace\n    try {\n      throw new Error();\n    }\n    catch (err) {\n      // Find the second match for the \"at\" string to get file src url from stack.\n      var ieStackRegExp = /.*at [^(]*\\((.*):(.+):(.+)\\)$/ig,\n        ffStackRegExp = /@([^@]*):(\\d+):(\\d+)\\s*$/ig,\n        stackDetails = ieStackRegExp.exec(err.stack) || ffStackRegExp.exec(err.stack),\n        scriptLocation = (stackDetails && stackDetails[1]) || false,\n        line = (stackDetails && stackDetails[2]) || false,\n        currentLocation = document.location.href.replace(document.location.hash, ''),\n        pageSource,\n        inlineScriptSourceRegExp,\n        inlineScriptSource,\n        scripts = document.getElementsByTagName('script'); // Live NodeList collection\n  \n      if (scriptLocation === currentLocation) {\n        pageSource = document.documentElement.outerHTML;\n        inlineScriptSourceRegExp = new RegExp('(?:[^\\\\n]+?\\\\n){0,' + (line - 2) + '}[^<]*<script>([\\\\d\\\\D]*?)<\\\\/script>[\\\\d\\\\D]*', 'i');\n        inlineScriptSource = pageSource.replace(inlineScriptSourceRegExp, '$1').trim();\n      }\n  \n      for (var i = 0; i < scripts.length; i++) {\n        // If ready state is interactive, return the script tag\n        if (scripts[i].readyState === 'interactive') {\n          return scripts[i];\n        }\n  \n        // If src matches, return the script tag\n        if (scripts[i].src === scriptLocation) {\n          return scripts[i];\n        }\n  \n        // If inline source matches, return the script tag\n        if (\n          scriptLocation === currentLocation &&\n          scripts[i].innerHTML &&\n          scripts[i].innerHTML.trim() === inlineScriptSource\n        ) {\n          return scripts[i];\n        }\n      }\n  \n      // If no match, return null\n      return null;\n    }\n  };\n\n  return getCurrentScript\n}));\n\n\n/***/ }),\n\n/***/ \"898f\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(\"24fb\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".fade-enter[data-v-295b6d9a]{display:none;opacity:0}.fade-enter-active[data-v-295b6d9a]{-webkit-transition:opacity .3s;transition:opacity .3s}.fade-leave[data-v-295b6d9a],.fade-leave-active[data-v-295b6d9a]{position:absolute;display:none;opacity:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n/***/ }),\n\n/***/ \"8fc1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/progress/CProgressBar.vue?vue&type=template&id=bba3e146&\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.progressBarClasses,style:(_vm.progressBarStyles),attrs:{\"role\":\"progressbar\",\"aria-valuemin\":\"0\",\"aria-valuemax\":_vm.props.max.toString(),\"aria-valuenow\":_vm.computedValue}},[_vm._t(\"default\",[_vm._v(_vm._s(_vm.text))])],2)}\nvar staticRenderFns = []\n\n\n// EXTERNAL MODULE: ./src/components/progress/shared-props.js\nvar shared_props = __webpack_require__(\"b683\");\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/progress/CProgressBar.vue?vue&type=script&lang=js&\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CProgressBarvue_type_script_lang_js_ = ({\n  name: 'CProgressBar',\n  props: shared_props[\"a\" /* default */],\n  inject: {\n    progress: {\n      default: {\n        props: {}\n      }\n    }\n  },\n  computed: {\n    directlyDeclaredProps: function directlyDeclaredProps() {\n      return Object.keys(this.$options.propsData);\n    },\n    props: function props() {\n      var _this = this;\n\n      return Object.keys(shared_props[\"a\" /* default */]).reduce(function (computedProps, key) {\n        var propIsDirectlyDeclared = _this.directlyDeclaredProps.includes(key);\n\n        var parentPropExists = _this.progress.props[key] !== undefined;\n        var isInherited = parentPropExists && !propIsDirectlyDeclared;\n        computedProps[key] = isInherited ? _this.progress.props[key] : _this[key];\n        return computedProps;\n      }, {});\n    },\n    progressBarClasses: function progressBarClasses() {\n      var _ref;\n\n      return ['progress-bar', (_ref = {}, _defineProperty(_ref, \"bg-\".concat(this.props.color), this.props.color), _defineProperty(_ref, 'progress-bar-striped', this.props.striped || this.props.animated), _defineProperty(_ref, 'progress-bar-animated', this.props.animated), _ref)];\n    },\n    progressBarStyles: function progressBarStyles() {\n      return {\n        width: \"\".concat(100 * (this.props.value / this.props.max), \"%\")\n      };\n    },\n    progressValue: function progressValue() {\n      var p = Math.pow(10, this.props.precision);\n      return Math.round(100 * p * this.props.value / this.props.max) / p;\n    },\n    computedValue: function computedValue() {\n      return this.props.value.toFixed(shared_props[\"a\" /* default */].precision);\n    },\n    text: function text() {\n      if (this.props.showPercentage) {\n        return this.progressValue + '%';\n      } else if (this.props.showValue) {\n        return this.computedValue;\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/progress/CProgressBar.vue?vue&type=script&lang=js&\n /* harmony default export */ var progress_CProgressBarvue_type_script_lang_js_ = (CProgressBarvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// CONCATENATED MODULE: ./src/components/progress/CProgressBar.vue\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  progress_CProgressBarvue_type_script_lang_js_,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CProgressBar = __webpack_exports__[\"a\"] = (component.exports);\n\n/***/ }),\n\n/***/ \"ab58\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"e4b2\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(\"499e\").default\nvar update = add(\"5169f441\", content, true, {\"sourceMap\":false,\"shadowMode\":false});\n\n/***/ }),\n\n/***/ \"b0d3\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"659f\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(\"499e\").default\nvar update = add(\"679a3e6a\", content, true, {\"sourceMap\":false,\"shadowMode\":false});\n\n/***/ }),\n\n/***/ \"b683\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  color: String,\n  striped: Boolean,\n  animated: Boolean,\n  precision: {\n    type: Number,\n    default: 0\n  },\n  showPercentage: Boolean,\n  showValue: Boolean,\n  max: {\n    type: Number,\n    default: 100\n  },\n  value: {\n    type: Number,\n    default: 0\n  }\n});\n\n/***/ }),\n\n/***/ \"c8ba\":\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n\n/***/ \"cd3f\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global, module) {/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports =  true && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, true, true);\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = cloneDeep;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"c8ba\"), __webpack_require__(\"62e4\")(module)))\n\n/***/ }),\n\n/***/ \"ceaa\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(\"24fb\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \".toast[data-v-7208152f]{opacity:inherit}.fade-enter-active[data-v-7208152f]{-webkit-transition:opacity .5s;transition:opacity .5s}.fade-leave-active[data-v-7208152f]{-webkit-transition:opacity 2s;transition:opacity 2s}.fade-enter[data-v-7208152f],.fade-leave-to[data-v-7208152f]{opacity:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n/***/ }),\n\n/***/ \"df7c\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process) {// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"4362\")))\n\n/***/ }),\n\n/***/ \"e4b2\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(\"24fb\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, \"thead tr:not(:last-child) th[data-v-2e6be878]{border-bottom:1px}.transparent[data-v-2e6be878]{opacity:.4}.icon-transition[data-v-2e6be878]{-webkit-transition:transform .3s;-webkit-transition:-webkit-transform .3s;transition:-webkit-transform .3s;transition:transform .3s;transition:transform .3s,-webkit-transform .3s}.arrow-position[data-v-2e6be878]{right:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.rotate-icon[data-v-2e6be878]{-webkit-transform:translateY(-50%) rotate(-180deg);transform:translateY(-50%) rotate(-180deg)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n\n\n/***/ }),\n\n/***/ \"e76b\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CDataTable_vue_vue_type_style_index_0_id_2e6be878_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"ab58\");\n/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CDataTable_vue_vue_type_style_index_0_id_2e6be878_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CDataTable_vue_vue_type_style_index_0_id_2e6be878_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);\n/* unused harmony reexport * */\n /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_CDataTable_vue_vue_type_style_index_0_id_2e6be878_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); \n\n/***/ }),\n\n/***/ \"f0bd\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/**!\n * @fileOverview Kickass library to create and place poppers near their reference elements.\n * @version 1.16.1\n * @license\n * Copyright (c) 2016 Federico Zivolo and contributors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && typeof navigator !== 'undefined';\n\nvar timeoutDuration = function () {\n  var longerTimeoutBrowsers = ['Edge', 'Trident', 'Firefox'];\n  for (var i = 0; i < longerTimeoutBrowsers.length; i += 1) {\n    if (isBrowser && navigator.userAgent.indexOf(longerTimeoutBrowsers[i]) >= 0) {\n      return 1;\n    }\n  }\n  return 0;\n}();\n\nfunction microtaskDebounce(fn) {\n  var called = false;\n  return function () {\n    if (called) {\n      return;\n    }\n    called = true;\n    window.Promise.resolve().then(function () {\n      called = false;\n      fn();\n    });\n  };\n}\n\nfunction taskDebounce(fn) {\n  var scheduled = false;\n  return function () {\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(function () {\n        scheduled = false;\n        fn();\n      }, timeoutDuration);\n    }\n  };\n}\n\nvar supportsMicroTasks = isBrowser && window.Promise;\n\n/**\n* Create a debounced version of a method, that's asynchronously deferred\n* but called in the minimum time possible.\n*\n* @method\n* @memberof Popper.Utils\n* @argument {Function} fn\n* @returns {Function}\n*/\nvar debounce = supportsMicroTasks ? microtaskDebounce : taskDebounce;\n\n/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nfunction isFunction(functionToCheck) {\n  var getType = {};\n  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n}\n\n/**\n * Get CSS computed property of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Eement} element\n * @argument {String} property\n */\nfunction getStyleComputedProperty(element, property) {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  var window = element.ownerDocument.defaultView;\n  var css = window.getComputedStyle(element, null);\n  return property ? css[property] : css;\n}\n\n/**\n * Returns the parentNode or the host of the element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} parent\n */\nfunction getParentNode(element) {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n  return element.parentNode || element.host;\n}\n\n/**\n * Returns the scrolling parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} scroll parent\n */\nfunction getScrollParent(element) {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element) {\n    return document.body;\n  }\n\n  switch (element.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return element.ownerDocument.body;\n    case '#document':\n      return element.body;\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n\n  var _getStyleComputedProp = getStyleComputedProperty(element),\n      overflow = _getStyleComputedProp.overflow,\n      overflowX = _getStyleComputedProp.overflowX,\n      overflowY = _getStyleComputedProp.overflowY;\n\n  if (/(auto|scroll|overlay)/.test(overflow + overflowY + overflowX)) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n\n/**\n * Returns the reference node of the reference object, or the reference object itself.\n * @method\n * @memberof Popper.Utils\n * @param {Element|Object} reference - the reference element (the popper will be relative to this)\n * @returns {Element} parent\n */\nfunction getReferenceNode(reference) {\n  return reference && reference.referenceNode ? reference.referenceNode : reference;\n}\n\nvar isIE11 = isBrowser && !!(window.MSInputMethodContext && document.documentMode);\nvar isIE10 = isBrowser && /MSIE 10/.test(navigator.userAgent);\n\n/**\n * Determines if the browser is Internet Explorer\n * @method\n * @memberof Popper.Utils\n * @param {Number} version to check\n * @returns {Boolean} isIE\n */\nfunction isIE(version) {\n  if (version === 11) {\n    return isIE11;\n  }\n  if (version === 10) {\n    return isIE10;\n  }\n  return isIE11 || isIE10;\n}\n\n/**\n * Returns the offset parent of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} offset parent\n */\nfunction getOffsetParent(element) {\n  if (!element) {\n    return document.documentElement;\n  }\n\n  var noOffsetParent = isIE(10) ? document.body : null;\n\n  // NOTE: 1 DOM access here\n  var offsetParent = element.offsetParent || null;\n  // Skip hidden elements which don't have an offsetParent\n  while (offsetParent === noOffsetParent && element.nextElementSibling) {\n    offsetParent = (element = element.nextElementSibling).offsetParent;\n  }\n\n  var nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return element ? element.ownerDocument.documentElement : document.documentElement;\n  }\n\n  // .offsetParent will return the closest TH, TD or TABLE in case\n  // no offsetParent is present, I hate this job...\n  if (['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 && getStyleComputedProperty(offsetParent, 'position') === 'static') {\n    return getOffsetParent(offsetParent);\n  }\n\n  return offsetParent;\n}\n\nfunction isOffsetContainer(element) {\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY') {\n    return false;\n  }\n  return nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element;\n}\n\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @method\n * @memberof Popper.Utils\n * @argument {Element} node\n * @returns {Element} root node\n */\nfunction getRoot(node) {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n\n/**\n * Finds the offset parent common to the two provided nodes\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element1\n * @argument {Element} element2\n * @returns {Element} common offset parent\n */\nfunction findCommonOffsetParent(element1, element2) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n  var order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n  var start = order ? element1 : element2;\n  var end = order ? element2 : element1;\n\n  // Get common ancestor container\n  var range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n  var commonAncestorContainer = range.commonAncestorContainer;\n\n  // Both nodes are inside #document\n\n  if (element1 !== commonAncestorContainer && element2 !== commonAncestorContainer || start.contains(end)) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  var element1root = getRoot(element1);\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host, element2);\n  } else {\n    return findCommonOffsetParent(element1, getRoot(element2).host);\n  }\n}\n\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {String} side `top` or `left`\n * @returns {number} amount of scrolled pixels\n */\nfunction getScroll(element) {\n  var side = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'top';\n\n  var upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  var nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    var html = element.ownerDocument.documentElement;\n    var scrollingElement = element.ownerDocument.scrollingElement || html;\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n\n/*\n * Sum or subtract the element scroll values (left and top) from a given rect object\n * @method\n * @memberof Popper.Utils\n * @param {Object} rect - Rect object you want to change\n * @param {HTMLElement} element - The element from the function reads the scroll values\n * @param {Boolean} subtract - set to true if you want to subtract the scroll values\n * @return {Object} rect - The modifier rect object\n */\nfunction includeScroll(rect, element) {\n  var subtract = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var scrollTop = getScroll(element, 'top');\n  var scrollLeft = getScroll(element, 'left');\n  var modifier = subtract ? -1 : 1;\n  rect.top += scrollTop * modifier;\n  rect.bottom += scrollTop * modifier;\n  rect.left += scrollLeft * modifier;\n  rect.right += scrollLeft * modifier;\n  return rect;\n}\n\n/*\n * Helper to detect borders of a given element\n * @method\n * @memberof Popper.Utils\n * @param {CSSStyleDeclaration} styles\n * Result of `getStyleComputedProperty` on the given element\n * @param {String} axis - `x` or `y`\n * @return {number} borders - The borders size of the given axis\n */\n\nfunction getBordersSize(styles, axis) {\n  var sideA = axis === 'x' ? 'Left' : 'Top';\n  var sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return parseFloat(styles['border' + sideA + 'Width']) + parseFloat(styles['border' + sideB + 'Width']);\n}\n\nfunction getSize(axis, body, html, computedStyle) {\n  return Math.max(body['offset' + axis], body['scroll' + axis], html['client' + axis], html['offset' + axis], html['scroll' + axis], isIE(10) ? parseInt(html['offset' + axis]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Top' : 'Left')]) + parseInt(computedStyle['margin' + (axis === 'Height' ? 'Bottom' : 'Right')]) : 0);\n}\n\nfunction getWindowSizes(document) {\n  var body = document.body;\n  var html = document.documentElement;\n  var computedStyle = isIE(10) && getComputedStyle(html);\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle)\n  };\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\nvar defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n * @method\n * @memberof Popper.Utils\n * @argument {Object} offsets\n * @returns {Object} ClientRect like output\n */\nfunction getClientRect(offsets) {\n  return _extends({}, offsets, {\n    right: offsets.left + offsets.width,\n    bottom: offsets.top + offsets.height\n  });\n}\n\n/**\n * Get bounding client rect of given element\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} element\n * @return {Object} client rect\n */\nfunction getBoundingClientRect(element) {\n  var rect = {};\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  try {\n    if (isIE(10)) {\n      rect = element.getBoundingClientRect();\n      var scrollTop = getScroll(element, 'top');\n      var scrollLeft = getScroll(element, 'left');\n      rect.top += scrollTop;\n      rect.left += scrollLeft;\n      rect.bottom += scrollTop;\n      rect.right += scrollLeft;\n    } else {\n      rect = element.getBoundingClientRect();\n    }\n  } catch (e) {}\n\n  var result = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top\n  };\n\n  // subtract scrollbar size from sizes\n  var sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n  var width = sizes.width || element.clientWidth || result.width;\n  var height = sizes.height || element.clientHeight || result.height;\n\n  var horizScrollbar = element.offsetWidth - width;\n  var vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    var styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n\nfunction getOffsetRectRelativeToArbitraryNode(children, parent) {\n  var fixedPosition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  var isIE10 = isIE(10);\n  var isHTML = parent.nodeName === 'HTML';\n  var childrenRect = getBoundingClientRect(children);\n  var parentRect = getBoundingClientRect(parent);\n  var scrollParent = getScrollParent(children);\n\n  var styles = getStyleComputedProperty(parent);\n  var borderTopWidth = parseFloat(styles.borderTopWidth);\n  var borderLeftWidth = parseFloat(styles.borderLeftWidth);\n\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n  if (fixedPosition && isHTML) {\n    parentRect.top = Math.max(parentRect.top, 0);\n    parentRect.left = Math.max(parentRect.left, 0);\n  }\n  var offsets = getClientRect({\n    top: childrenRect.top - parentRect.top - borderTopWidth,\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height\n  });\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    var marginTop = parseFloat(styles.marginTop);\n    var marginLeft = parseFloat(styles.marginLeft);\n\n    offsets.top -= borderTopWidth - marginTop;\n    offsets.bottom -= borderTopWidth - marginTop;\n    offsets.left -= borderLeftWidth - marginLeft;\n    offsets.right -= borderLeftWidth - marginLeft;\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (isIE10 && !fixedPosition ? parent.contains(scrollParent) : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element) {\n  var excludeScroll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var html = element.ownerDocument.documentElement;\n  var relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  var width = Math.max(html.clientWidth, window.innerWidth || 0);\n  var height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  var scrollTop = !excludeScroll ? getScroll(html) : 0;\n  var scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n\n  var offset = {\n    top: scrollTop - relativeOffset.top + relativeOffset.marginTop,\n    left: scrollLeft - relativeOffset.left + relativeOffset.marginLeft,\n    width: width,\n    height: height\n  };\n\n  return getClientRect(offset);\n}\n\n/**\n * Check if the given element is fixed or is inside a fixed parent\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @argument {Element} customContainer\n * @returns {Boolean} answer to \"isFixed?\"\n */\nfunction isFixed(element) {\n  var nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n  var parentNode = getParentNode(element);\n  if (!parentNode) {\n    return false;\n  }\n  return isFixed(parentNode);\n}\n\n/**\n * Finds the first parent of an element that has a transformed property defined\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Element} first transformed parent or documentElement\n */\n\nfunction getFixedPositionOffsetParent(element) {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element || !element.parentElement || isIE()) {\n    return document.documentElement;\n  }\n  var el = element.parentElement;\n  while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n    el = el.parentElement;\n  }\n  return el || document.documentElement;\n}\n\n/**\n * Computed the boundaries limits and return them\n * @method\n * @memberof Popper.Utils\n * @param {HTMLElement} popper\n * @param {HTMLElement} reference\n * @param {number} padding\n * @param {HTMLElement} boundariesElement - Element used to define the boundaries\n * @param {Boolean} fixedPosition - Is in fixed position mode\n * @returns {Object} Coordinates of the boundaries\n */\nfunction getBoundaries(popper, reference, padding, boundariesElement) {\n  var fixedPosition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  // NOTE: 1 DOM access here\n\n  var boundaries = { top: 0, left: 0 };\n  var offsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport') {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n  } else {\n    // Handle other cases based on DOM element used as boundaries\n    var boundariesNode = void 0;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(reference));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = popper.ownerDocument.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = popper.ownerDocument.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    var offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent, fixedPosition);\n\n    // In case of HTML, we need a different computation\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      var _getWindowSizes = getWindowSizes(popper.ownerDocument),\n          height = _getWindowSizes.height,\n          width = _getWindowSizes.width;\n\n      boundaries.top += offsets.top - offsets.marginTop;\n      boundaries.bottom = height + offsets.top;\n      boundaries.left += offsets.left - offsets.marginLeft;\n      boundaries.right = width + offsets.left;\n    } else {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  padding = padding || 0;\n  var isPaddingNumber = typeof padding === 'number';\n  boundaries.left += isPaddingNumber ? padding : padding.left || 0;\n  boundaries.top += isPaddingNumber ? padding : padding.top || 0;\n  boundaries.right -= isPaddingNumber ? padding : padding.right || 0;\n  boundaries.bottom -= isPaddingNumber ? padding : padding.bottom || 0;\n\n  return boundaries;\n}\n\nfunction getArea(_ref) {\n  var width = _ref.width,\n      height = _ref.height;\n\n  return width * height;\n}\n\n/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n * @method\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeAutoPlacement(placement, refRect, popper, reference, boundariesElement) {\n  var padding = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 0;\n\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  var boundaries = getBoundaries(popper, reference, padding, boundariesElement);\n\n  var rects = {\n    top: {\n      width: boundaries.width,\n      height: refRect.top - boundaries.top\n    },\n    right: {\n      width: boundaries.right - refRect.right,\n      height: boundaries.height\n    },\n    bottom: {\n      width: boundaries.width,\n      height: boundaries.bottom - refRect.bottom\n    },\n    left: {\n      width: refRect.left - boundaries.left,\n      height: boundaries.height\n    }\n  };\n\n  var sortedAreas = Object.keys(rects).map(function (key) {\n    return _extends({\n      key: key\n    }, rects[key], {\n      area: getArea(rects[key])\n    });\n  }).sort(function (a, b) {\n    return b.area - a.area;\n  });\n\n  var filteredAreas = sortedAreas.filter(function (_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    return width >= popper.clientWidth && height >= popper.clientHeight;\n  });\n\n  var computedPlacement = filteredAreas.length > 0 ? filteredAreas[0].key : sortedAreas[0].key;\n\n  var variation = placement.split('-')[1];\n\n  return computedPlacement + (variation ? '-' + variation : '');\n}\n\n/**\n * Get offsets to the reference element\n * @method\n * @memberof Popper.Utils\n * @param {Object} state\n * @param {Element} popper - the popper element\n * @param {Element} reference - the reference element (the popper will be relative to this)\n * @param {Element} fixedPosition - is in fixed position mode\n * @returns {Object} An object containing the offsets which will be applied to the popper\n */\nfunction getReferenceOffsets(state, popper, reference) {\n  var fixedPosition = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  var commonOffsetParent = fixedPosition ? getFixedPositionOffsetParent(popper) : findCommonOffsetParent(popper, getReferenceNode(reference));\n  return getOffsetRectRelativeToArbitraryNode(reference, commonOffsetParent, fixedPosition);\n}\n\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element\n * @returns {Object} object containing width and height properties\n */\nfunction getOuterSizes(element) {\n  var window = element.ownerDocument.defaultView;\n  var styles = window.getComputedStyle(element);\n  var x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n  var y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n  var result = {\n    width: element.offsetWidth + y,\n    height: element.offsetHeight + x\n  };\n  return result;\n}\n\n/**\n * Get the opposite placement of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement\n * @returns {String} flipped placement\n */\nfunction getOppositePlacement(placement) {\n  var hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}\n\n/**\n * Get offsets to the popper\n * @method\n * @memberof Popper.Utils\n * @param {Object} position - CSS position the Popper will get applied\n * @param {HTMLElement} popper - the popper element\n * @param {Object} referenceOffsets - the reference offsets (the popper will be relative to this)\n * @param {String} placement - one of the valid placement options\n * @returns {Object} popperOffsets - An object containing the offsets which will be applied to the popper\n */\nfunction getPopperOffsets(popper, referenceOffsets, placement) {\n  placement = placement.split('-')[0];\n\n  // Get popper node sizes\n  var popperRect = getOuterSizes(popper);\n\n  // Add position, width and height to our offsets object\n  var popperOffsets = {\n    width: popperRect.width,\n    height: popperRect.height\n  };\n\n  // depending by the popper placement we have to compute its offsets slightly differently\n  var isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  var mainSide = isHoriz ? 'top' : 'left';\n  var secondarySide = isHoriz ? 'left' : 'top';\n  var measurement = isHoriz ? 'height' : 'width';\n  var secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  popperOffsets[mainSide] = referenceOffsets[mainSide] + referenceOffsets[measurement] / 2 - popperRect[measurement] / 2;\n  if (placement === secondarySide) {\n    popperOffsets[secondarySide] = referenceOffsets[secondarySide] - popperRect[secondaryMeasurement];\n  } else {\n    popperOffsets[secondarySide] = referenceOffsets[getOppositePlacement(secondarySide)];\n  }\n\n  return popperOffsets;\n}\n\n/**\n * Mimics the `find` method of Array\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction find(arr, check) {\n  // use native find if supported\n  if (Array.prototype.find) {\n    return arr.find(check);\n  }\n\n  // use `filter` to obtain the same behavior of `find`\n  return arr.filter(check)[0];\n}\n\n/**\n * Return the index of the matching object\n * @method\n * @memberof Popper.Utils\n * @argument {Array} arr\n * @argument prop\n * @argument value\n * @returns index or -1\n */\nfunction findIndex(arr, prop, value) {\n  // use native findIndex if supported\n  if (Array.prototype.findIndex) {\n    return arr.findIndex(function (cur) {\n      return cur[prop] === value;\n    });\n  }\n\n  // use `find` + `indexOf` if `findIndex` isn't supported\n  var match = find(arr, function (obj) {\n    return obj[prop] === value;\n  });\n  return arr.indexOf(match);\n}\n\n/**\n * Loop trough the list of modifiers and run them in order,\n * each of them will then edit the data object.\n * @method\n * @memberof Popper.Utils\n * @param {dataObject} data\n * @param {Array} modifiers\n * @param {String} ends - Optional modifier name used as stopper\n * @returns {dataObject}\n */\nfunction runModifiers(modifiers, data, ends) {\n  var modifiersToRun = ends === undefined ? modifiers : modifiers.slice(0, findIndex(modifiers, 'name', ends));\n\n  modifiersToRun.forEach(function (modifier) {\n    if (modifier['function']) {\n      // eslint-disable-line dot-notation\n      console.warn('`modifier.function` is deprecated, use `modifier.fn`!');\n    }\n    var fn = modifier['function'] || modifier.fn; // eslint-disable-line dot-notation\n    if (modifier.enabled && isFunction(fn)) {\n      // Add properties to offsets to make them a complete clientRect object\n      // we do this before each modifier to make sure the previous one doesn't\n      // mess with these values\n      data.offsets.popper = getClientRect(data.offsets.popper);\n      data.offsets.reference = getClientRect(data.offsets.reference);\n\n      data = fn(data, modifier);\n    }\n  });\n\n  return data;\n}\n\n/**\n * Updates the position of the popper, computing the new offsets and applying\n * the new style.<br />\n * Prefer `scheduleUpdate` over `update` because of performance reasons.\n * @method\n * @memberof Popper\n */\nfunction update() {\n  // if popper is destroyed, don't perform any further update\n  if (this.state.isDestroyed) {\n    return;\n  }\n\n  var data = {\n    instance: this,\n    styles: {},\n    arrowStyles: {},\n    attributes: {},\n    flipped: false,\n    offsets: {}\n  };\n\n  // compute reference element offsets\n  data.offsets.reference = getReferenceOffsets(this.state, this.popper, this.reference, this.options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  data.placement = computeAutoPlacement(this.options.placement, data.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding);\n\n  // store the computed placement inside `originalPlacement`\n  data.originalPlacement = data.placement;\n\n  data.positionFixed = this.options.positionFixed;\n\n  // compute the popper offsets\n  data.offsets.popper = getPopperOffsets(this.popper, data.offsets.reference, data.placement);\n\n  data.offsets.popper.position = this.options.positionFixed ? 'fixed' : 'absolute';\n\n  // run the modifiers\n  data = runModifiers(this.modifiers, data);\n\n  // the first `update` will call `onCreate` callback\n  // the other ones will call `onUpdate` callback\n  if (!this.state.isCreated) {\n    this.state.isCreated = true;\n    this.options.onCreate(data);\n  } else {\n    this.options.onUpdate(data);\n  }\n}\n\n/**\n * Helper used to know if the given modifier is enabled.\n * @method\n * @memberof Popper.Utils\n * @returns {Boolean}\n */\nfunction isModifierEnabled(modifiers, modifierName) {\n  return modifiers.some(function (_ref) {\n    var name = _ref.name,\n        enabled = _ref.enabled;\n    return enabled && name === modifierName;\n  });\n}\n\n/**\n * Get the prefixed supported property name\n * @method\n * @memberof Popper.Utils\n * @argument {String} property (camelCase)\n * @returns {String} prefixed property (camelCase or PascalCase, depending on the vendor prefix)\n */\nfunction getSupportedPropertyName(property) {\n  var prefixes = [false, 'ms', 'Webkit', 'Moz', 'O'];\n  var upperProp = property.charAt(0).toUpperCase() + property.slice(1);\n\n  for (var i = 0; i < prefixes.length; i++) {\n    var prefix = prefixes[i];\n    var toCheck = prefix ? '' + prefix + upperProp : property;\n    if (typeof document.body.style[toCheck] !== 'undefined') {\n      return toCheck;\n    }\n  }\n  return null;\n}\n\n/**\n * Destroys the popper.\n * @method\n * @memberof Popper\n */\nfunction destroy() {\n  this.state.isDestroyed = true;\n\n  // touch DOM only if `applyStyle` modifier is enabled\n  if (isModifierEnabled(this.modifiers, 'applyStyle')) {\n    this.popper.removeAttribute('x-placement');\n    this.popper.style.position = '';\n    this.popper.style.top = '';\n    this.popper.style.left = '';\n    this.popper.style.right = '';\n    this.popper.style.bottom = '';\n    this.popper.style.willChange = '';\n    this.popper.style[getSupportedPropertyName('transform')] = '';\n  }\n\n  this.disableEventListeners();\n\n  // remove the popper if user explicitly asked for the deletion on destroy\n  // do not use `remove` because IE11 doesn't support it\n  if (this.options.removeOnDestroy) {\n    this.popper.parentNode.removeChild(this.popper);\n  }\n  return this;\n}\n\n/**\n * Get the window associated with the element\n * @argument {Element} element\n * @returns {Window}\n */\nfunction getWindow(element) {\n  var ownerDocument = element.ownerDocument;\n  return ownerDocument ? ownerDocument.defaultView : window;\n}\n\nfunction attachToScrollParents(scrollParent, event, callback, scrollParents) {\n  var isBody = scrollParent.nodeName === 'BODY';\n  var target = isBody ? scrollParent.ownerDocument.defaultView : scrollParent;\n  target.addEventListener(event, callback, { passive: true });\n\n  if (!isBody) {\n    attachToScrollParents(getScrollParent(target.parentNode), event, callback, scrollParents);\n  }\n  scrollParents.push(target);\n}\n\n/**\n * Setup needed event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction setupEventListeners(reference, options, state, updateBound) {\n  // Resize event listener on window\n  state.updateBound = updateBound;\n  getWindow(reference).addEventListener('resize', state.updateBound, { passive: true });\n\n  // Scroll event listener on scroll parents\n  var scrollElement = getScrollParent(reference);\n  attachToScrollParents(scrollElement, 'scroll', state.updateBound, state.scrollParents);\n  state.scrollElement = scrollElement;\n  state.eventsEnabled = true;\n\n  return state;\n}\n\n/**\n * It will add resize/scroll events and start recalculating\n * position of the popper element when they are triggered.\n * @method\n * @memberof Popper\n */\nfunction enableEventListeners() {\n  if (!this.state.eventsEnabled) {\n    this.state = setupEventListeners(this.reference, this.options, this.state, this.scheduleUpdate);\n  }\n}\n\n/**\n * Remove event listeners used to update the popper position\n * @method\n * @memberof Popper.Utils\n * @private\n */\nfunction removeEventListeners(reference, state) {\n  // Remove resize event listener on window\n  getWindow(reference).removeEventListener('resize', state.updateBound);\n\n  // Remove scroll event listener on scroll parents\n  state.scrollParents.forEach(function (target) {\n    target.removeEventListener('scroll', state.updateBound);\n  });\n\n  // Reset state\n  state.updateBound = null;\n  state.scrollParents = [];\n  state.scrollElement = null;\n  state.eventsEnabled = false;\n  return state;\n}\n\n/**\n * It will remove resize/scroll events and won't recalculate popper position\n * when they are triggered. It also won't trigger `onUpdate` callback anymore,\n * unless you call `update` method manually.\n * @method\n * @memberof Popper\n */\nfunction disableEventListeners() {\n  if (this.state.eventsEnabled) {\n    cancelAnimationFrame(this.scheduleUpdate);\n    this.state = removeEventListeners(this.reference, this.state);\n  }\n}\n\n/**\n * Tells if a given input is a number\n * @method\n * @memberof Popper.Utils\n * @param {*} input to check\n * @return {Boolean}\n */\nfunction isNumeric(n) {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * Set the style to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the style to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setStyles(element, styles) {\n  Object.keys(styles).forEach(function (prop) {\n    var unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && isNumeric(styles[prop])) {\n      unit = 'px';\n    }\n    element.style[prop] = styles[prop] + unit;\n  });\n}\n\n/**\n * Set the attributes to the given popper\n * @method\n * @memberof Popper.Utils\n * @argument {Element} element - Element to apply the attributes to\n * @argument {Object} styles\n * Object with a list of properties and values which will be applied to the element\n */\nfunction setAttributes(element, attributes) {\n  Object.keys(attributes).forEach(function (prop) {\n    var value = attributes[prop];\n    if (value !== false) {\n      element.setAttribute(prop, attributes[prop]);\n    } else {\n      element.removeAttribute(prop);\n    }\n  });\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} data.styles - List of style properties - values to apply to popper element\n * @argument {Object} data.attributes - List of attribute properties - values to apply to popper element\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The same data object\n */\nfunction applyStyle(data) {\n  // any property present in `data.styles` will be applied to the popper,\n  // in this way we can make the 3rd party modifiers add custom styles to it\n  // Be aware, modifiers could override the properties defined in the previous\n  // lines of this modifier!\n  setStyles(data.instance.popper, data.styles);\n\n  // any property present in `data.attributes` will be applied to the popper,\n  // they will be set as HTML attributes of the element\n  setAttributes(data.instance.popper, data.attributes);\n\n  // if arrowElement is defined and arrowStyles has some properties\n  if (data.arrowElement && Object.keys(data.arrowStyles).length) {\n    setStyles(data.arrowElement, data.arrowStyles);\n  }\n\n  return data;\n}\n\n/**\n * Set the x-placement attribute before everything else because it could be used\n * to add margins to the popper margins needs to be calculated to get the\n * correct popper offsets.\n * @method\n * @memberof Popper.modifiers\n * @param {HTMLElement} reference - The reference element used to position the popper\n * @param {HTMLElement} popper - The HTML element used as popper\n * @param {Object} options - Popper.js options\n */\nfunction applyStyleOnLoad(reference, popper, options, modifierOptions, state) {\n  // compute reference element offsets\n  var referenceOffsets = getReferenceOffsets(state, popper, reference, options.positionFixed);\n\n  // compute auto placement, store placement inside the data object,\n  // modifiers will be able to edit `placement` if needed\n  // and refer to originalPlacement to know the original value\n  var placement = computeAutoPlacement(options.placement, referenceOffsets, popper, reference, options.modifiers.flip.boundariesElement, options.modifiers.flip.padding);\n\n  popper.setAttribute('x-placement', placement);\n\n  // Apply `position` to popper before anything else because\n  // without the position applied we can't guarantee correct computations\n  setStyles(popper, { position: options.positionFixed ? 'fixed' : 'absolute' });\n\n  return options;\n}\n\n/**\n * @function\n * @memberof Popper.Utils\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Boolean} shouldRound - If the offsets should be rounded at all\n * @returns {Object} The popper's position offsets rounded\n *\n * The tale of pixel-perfect positioning. It's still not 100% perfect, but as\n * good as it can be within reason.\n * Discussion here: https://github.com/FezVrasta/popper.js/pull/715\n *\n * Low DPI screens cause a popper to be blurry if not using full pixels (Safari\n * as well on High DPI screens).\n *\n * Firefox prefers no rounding for positioning and does not have blurriness on\n * high DPI screens.\n *\n * Only horizontal placement and left/right values need to be considered.\n */\nfunction getRoundedOffsets(data, shouldRound) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n  var round = Math.round,\n      floor = Math.floor;\n\n  var noRound = function noRound(v) {\n    return v;\n  };\n\n  var referenceWidth = round(reference.width);\n  var popperWidth = round(popper.width);\n\n  var isVertical = ['left', 'right'].indexOf(data.placement) !== -1;\n  var isVariation = data.placement.indexOf('-') !== -1;\n  var sameWidthParity = referenceWidth % 2 === popperWidth % 2;\n  var bothOddWidth = referenceWidth % 2 === 1 && popperWidth % 2 === 1;\n\n  var horizontalToInteger = !shouldRound ? noRound : isVertical || isVariation || sameWidthParity ? round : floor;\n  var verticalToInteger = !shouldRound ? noRound : round;\n\n  return {\n    left: horizontalToInteger(bothOddWidth && !isVariation && shouldRound ? popper.left - 1 : popper.left),\n    top: verticalToInteger(popper.top),\n    bottom: verticalToInteger(popper.bottom),\n    right: horizontalToInteger(popper.right)\n  };\n}\n\nvar isFirefox = isBrowser && /Firefox/i.test(navigator.userAgent);\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction computeStyle(data, options) {\n  var x = options.x,\n      y = options.y;\n  var popper = data.offsets.popper;\n\n  // Remove this legacy support in Popper.js v2\n\n  var legacyGpuAccelerationOption = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'applyStyle';\n  }).gpuAcceleration;\n  if (legacyGpuAccelerationOption !== undefined) {\n    console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');\n  }\n  var gpuAcceleration = legacyGpuAccelerationOption !== undefined ? legacyGpuAccelerationOption : options.gpuAcceleration;\n\n  var offsetParent = getOffsetParent(data.instance.popper);\n  var offsetParentRect = getBoundingClientRect(offsetParent);\n\n  // Styles\n  var styles = {\n    position: popper.position\n  };\n\n  var offsets = getRoundedOffsets(data, window.devicePixelRatio < 2 || !isFirefox);\n\n  var sideA = x === 'bottom' ? 'top' : 'bottom';\n  var sideB = y === 'right' ? 'left' : 'right';\n\n  // if gpuAcceleration is set to `true` and transform is supported,\n  //  we use `translate3d` to apply the position to the popper we\n  // automatically use the supported prefixed version if needed\n  var prefixedProperty = getSupportedPropertyName('transform');\n\n  // now, let's make a step back and look at this code closely (wtf?)\n  // If the content of the popper grows once it's been positioned, it\n  // may happen that the popper gets misplaced because of the new content\n  // overflowing its reference element\n  // To avoid this problem, we provide two options (x and y), which allow\n  // the consumer to define the offset origin.\n  // If we position a popper on top of a reference element, we can set\n  // `x` to `top` to make the popper grow towards its top instead of\n  // its bottom.\n  var left = void 0,\n      top = void 0;\n  if (sideA === 'bottom') {\n    // when offsetParent is <html> the positioning is relative to the bottom of the screen (excluding the scrollbar)\n    // and not the bottom of the html element\n    if (offsetParent.nodeName === 'HTML') {\n      top = -offsetParent.clientHeight + offsets.bottom;\n    } else {\n      top = -offsetParentRect.height + offsets.bottom;\n    }\n  } else {\n    top = offsets.top;\n  }\n  if (sideB === 'right') {\n    if (offsetParent.nodeName === 'HTML') {\n      left = -offsetParent.clientWidth + offsets.right;\n    } else {\n      left = -offsetParentRect.width + offsets.right;\n    }\n  } else {\n    left = offsets.left;\n  }\n  if (gpuAcceleration && prefixedProperty) {\n    styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\n    styles[sideA] = 0;\n    styles[sideB] = 0;\n    styles.willChange = 'transform';\n  } else {\n    // othwerise, we use the standard `top`, `left`, `bottom` and `right` properties\n    var invertTop = sideA === 'bottom' ? -1 : 1;\n    var invertLeft = sideB === 'right' ? -1 : 1;\n    styles[sideA] = top * invertTop;\n    styles[sideB] = left * invertLeft;\n    styles.willChange = sideA + ', ' + sideB;\n  }\n\n  // Attributes\n  var attributes = {\n    'x-placement': data.placement\n  };\n\n  // Update `data` attributes, styles and arrowStyles\n  data.attributes = _extends({}, attributes, data.attributes);\n  data.styles = _extends({}, styles, data.styles);\n  data.arrowStyles = _extends({}, data.offsets.arrow, data.arrowStyles);\n\n  return data;\n}\n\n/**\n * Helper used to know if the given modifier depends from another one.<br />\n * It checks if the needed modifier is listed and enabled.\n * @method\n * @memberof Popper.Utils\n * @param {Array} modifiers - list of modifiers\n * @param {String} requestingName - name of requesting modifier\n * @param {String} requestedName - name of requested modifier\n * @returns {Boolean}\n */\nfunction isModifierRequired(modifiers, requestingName, requestedName) {\n  var requesting = find(modifiers, function (_ref) {\n    var name = _ref.name;\n    return name === requestingName;\n  });\n\n  var isRequired = !!requesting && modifiers.some(function (modifier) {\n    return modifier.name === requestedName && modifier.enabled && modifier.order < requesting.order;\n  });\n\n  if (!isRequired) {\n    var _requesting = '`' + requestingName + '`';\n    var requested = '`' + requestedName + '`';\n    console.warn(requested + ' modifier is required by ' + _requesting + ' modifier in order to work, be sure to include it before ' + _requesting + '!');\n  }\n  return isRequired;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction arrow(data, options) {\n  var _data$offsets$arrow;\n\n  // arrow depends on keepTogether in order to work\n  if (!isModifierRequired(data.instance.modifiers, 'arrow', 'keepTogether')) {\n    return data;\n  }\n\n  var arrowElement = options.element;\n\n  // if arrowElement is a string, suppose it's a CSS selector\n  if (typeof arrowElement === 'string') {\n    arrowElement = data.instance.popper.querySelector(arrowElement);\n\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n      return data;\n    }\n  } else {\n    // if the arrowElement isn't a query selector we must check that the\n    // provided DOM node is child of its popper node\n    if (!data.instance.popper.contains(arrowElement)) {\n      console.warn('WARNING: `arrow.element` must be child of its popper element!');\n      return data;\n    }\n  }\n\n  var placement = data.placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isVertical = ['left', 'right'].indexOf(placement) !== -1;\n\n  var len = isVertical ? 'height' : 'width';\n  var sideCapitalized = isVertical ? 'Top' : 'Left';\n  var side = sideCapitalized.toLowerCase();\n  var altSide = isVertical ? 'left' : 'top';\n  var opSide = isVertical ? 'bottom' : 'right';\n  var arrowElementSize = getOuterSizes(arrowElement)[len];\n\n  //\n  // extends keepTogether behavior making sure the popper and its\n  // reference have enough pixels in conjunction\n  //\n\n  // top/left side\n  if (reference[opSide] - arrowElementSize < popper[side]) {\n    data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowElementSize);\n  }\n  // bottom/right side\n  if (reference[side] + arrowElementSize > popper[opSide]) {\n    data.offsets.popper[side] += reference[side] + arrowElementSize - popper[opSide];\n  }\n  data.offsets.popper = getClientRect(data.offsets.popper);\n\n  // compute center of the popper\n  var center = reference[side] + reference[len] / 2 - arrowElementSize / 2;\n\n  // Compute the sideValue using the updated popper offsets\n  // take popper margin in account because we don't have this info available\n  var css = getStyleComputedProperty(data.instance.popper);\n  var popperMarginSide = parseFloat(css['margin' + sideCapitalized]);\n  var popperBorderSide = parseFloat(css['border' + sideCapitalized + 'Width']);\n  var sideValue = center - data.offsets.popper[side] - popperMarginSide - popperBorderSide;\n\n  // prevent arrowElement from being placed not contiguously to its popper\n  sideValue = Math.max(Math.min(popper[len] - arrowElementSize, sideValue), 0);\n\n  data.arrowElement = arrowElement;\n  data.offsets.arrow = (_data$offsets$arrow = {}, defineProperty(_data$offsets$arrow, side, Math.round(sideValue)), defineProperty(_data$offsets$arrow, altSide, ''), _data$offsets$arrow);\n\n  return data;\n}\n\n/**\n * Get the opposite placement variation of the given one\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement variation\n * @returns {String} flipped placement variation\n */\nfunction getOppositeVariation(variation) {\n  if (variation === 'end') {\n    return 'start';\n  } else if (variation === 'start') {\n    return 'end';\n  }\n  return variation;\n}\n\n/**\n * List of accepted placements to use as values of the `placement` option.<br />\n * Valid placements are:\n * - `auto`\n * - `top`\n * - `right`\n * - `bottom`\n * - `left`\n *\n * Each placement can have a variation from this list:\n * - `-start`\n * - `-end`\n *\n * Variations are interpreted easily if you think of them as the left to right\n * written languages. Horizontally (`top` and `bottom`), `start` is left and `end`\n * is right.<br />\n * Vertically (`left` and `right`), `start` is top and `end` is bottom.\n *\n * Some valid examples are:\n * - `top-end` (on top of reference, right aligned)\n * - `right-start` (on right of reference, top aligned)\n * - `bottom` (on bottom, centered)\n * - `auto-end` (on the side with more space available, alignment depends by placement)\n *\n * @static\n * @type {Array}\n * @enum {String}\n * @readonly\n * @method placements\n * @memberof Popper\n */\nvar placements = ['auto-start', 'auto', 'auto-end', 'top-start', 'top', 'top-end', 'right-start', 'right', 'right-end', 'bottom-end', 'bottom', 'bottom-start', 'left-end', 'left', 'left-start'];\n\n// Get rid of `auto` `auto-start` and `auto-end`\nvar validPlacements = placements.slice(3);\n\n/**\n * Given an initial placement, returns all the subsequent placements\n * clockwise (or counter-clockwise).\n *\n * @method\n * @memberof Popper.Utils\n * @argument {String} placement - A valid placement (it accepts variations)\n * @argument {Boolean} counter - Set to true to walk the placements counterclockwise\n * @returns {Array} placements including their variations\n */\nfunction clockwise(placement) {\n  var counter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var index = validPlacements.indexOf(placement);\n  var arr = validPlacements.slice(index + 1).concat(validPlacements.slice(0, index));\n  return counter ? arr.reverse() : arr;\n}\n\nvar BEHAVIORS = {\n  FLIP: 'flip',\n  CLOCKWISE: 'clockwise',\n  COUNTERCLOCKWISE: 'counterclockwise'\n};\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction flip(data, options) {\n  // if `inner` modifier is enabled, we can't use the `flip` modifier\n  if (isModifierEnabled(data.instance.modifiers, 'inner')) {\n    return data;\n  }\n\n  if (data.flipped && data.placement === data.originalPlacement) {\n    // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\n    return data;\n  }\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, options.boundariesElement, data.positionFixed);\n\n  var placement = data.placement.split('-')[0];\n  var placementOpposite = getOppositePlacement(placement);\n  var variation = data.placement.split('-')[1] || '';\n\n  var flipOrder = [];\n\n  switch (options.behavior) {\n    case BEHAVIORS.FLIP:\n      flipOrder = [placement, placementOpposite];\n      break;\n    case BEHAVIORS.CLOCKWISE:\n      flipOrder = clockwise(placement);\n      break;\n    case BEHAVIORS.COUNTERCLOCKWISE:\n      flipOrder = clockwise(placement, true);\n      break;\n    default:\n      flipOrder = options.behavior;\n  }\n\n  flipOrder.forEach(function (step, index) {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return data;\n    }\n\n    placement = data.placement.split('-')[0];\n    placementOpposite = getOppositePlacement(placement);\n\n    var popperOffsets = data.offsets.popper;\n    var refOffsets = data.offsets.reference;\n\n    // using floor because the reference offsets may contain decimals we are not going to consider here\n    var floor = Math.floor;\n    var overlapsRef = placement === 'left' && floor(popperOffsets.right) > floor(refOffsets.left) || placement === 'right' && floor(popperOffsets.left) < floor(refOffsets.right) || placement === 'top' && floor(popperOffsets.bottom) > floor(refOffsets.top) || placement === 'bottom' && floor(popperOffsets.top) < floor(refOffsets.bottom);\n\n    var overflowsLeft = floor(popperOffsets.left) < floor(boundaries.left);\n    var overflowsRight = floor(popperOffsets.right) > floor(boundaries.right);\n    var overflowsTop = floor(popperOffsets.top) < floor(boundaries.top);\n    var overflowsBottom = floor(popperOffsets.bottom) > floor(boundaries.bottom);\n\n    var overflowsBoundaries = placement === 'left' && overflowsLeft || placement === 'right' && overflowsRight || placement === 'top' && overflowsTop || placement === 'bottom' && overflowsBottom;\n\n    // flip the variation if required\n    var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n\n    // flips variation if reference element overflows boundaries\n    var flippedVariationByRef = !!options.flipVariations && (isVertical && variation === 'start' && overflowsLeft || isVertical && variation === 'end' && overflowsRight || !isVertical && variation === 'start' && overflowsTop || !isVertical && variation === 'end' && overflowsBottom);\n\n    // flips variation if popper content overflows boundaries\n    var flippedVariationByContent = !!options.flipVariationsByContent && (isVertical && variation === 'start' && overflowsRight || isVertical && variation === 'end' && overflowsLeft || !isVertical && variation === 'start' && overflowsBottom || !isVertical && variation === 'end' && overflowsTop);\n\n    var flippedVariation = flippedVariationByRef || flippedVariationByContent;\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      // this boolean to detect any flip loop\n      data.flipped = true;\n\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? '-' + variation : '');\n\n      // this object contains `position`, we want to preserve it along with\n      // any additional property we may add in the future\n      data.offsets.popper = _extends({}, data.offsets.popper, getPopperOffsets(data.instance.popper, data.offsets.reference, data.placement));\n\n      data = runModifiers(data.instance.modifiers, data, 'flip');\n    }\n  });\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction keepTogether(data) {\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var placement = data.placement.split('-')[0];\n  var floor = Math.floor;\n  var isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n  var side = isVertical ? 'right' : 'bottom';\n  var opSide = isVertical ? 'left' : 'top';\n  var measurement = isVertical ? 'width' : 'height';\n\n  if (popper[side] < floor(reference[opSide])) {\n    data.offsets.popper[opSide] = floor(reference[opSide]) - popper[measurement];\n  }\n  if (popper[opSide] > floor(reference[side])) {\n    data.offsets.popper[opSide] = floor(reference[side]);\n  }\n\n  return data;\n}\n\n/**\n * Converts a string containing value + unit into a px value number\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} str - Value + unit string\n * @argument {String} measurement - `height` or `width`\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @returns {Number|String}\n * Value in pixels, or original string if no values were extracted\n */\nfunction toValue(str, measurement, popperOffsets, referenceOffsets) {\n  // separate value from unit\n  var split = str.match(/((?:\\-|\\+)?\\d*\\.?\\d*)(.*)/);\n  var value = +split[1];\n  var unit = split[2];\n\n  // If it's not a number it's an operator, I guess\n  if (!value) {\n    return str;\n  }\n\n  if (unit.indexOf('%') === 0) {\n    var element = void 0;\n    switch (unit) {\n      case '%p':\n        element = popperOffsets;\n        break;\n      case '%':\n      case '%r':\n      default:\n        element = referenceOffsets;\n    }\n\n    var rect = getClientRect(element);\n    return rect[measurement] / 100 * value;\n  } else if (unit === 'vh' || unit === 'vw') {\n    // if is a vh or vw, we calculate the size based on the viewport\n    var size = void 0;\n    if (unit === 'vh') {\n      size = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n    } else {\n      size = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n    }\n    return size / 100 * value;\n  } else {\n    // if is an explicit pixel unit, we get rid of the unit and keep the value\n    // if is an implicit unit, it's px, and we return just the value\n    return value;\n  }\n}\n\n/**\n * Parse an `offset` string to extrapolate `x` and `y` numeric offsets.\n * @function\n * @memberof {modifiers~offset}\n * @private\n * @argument {String} offset\n * @argument {Object} popperOffsets\n * @argument {Object} referenceOffsets\n * @argument {String} basePlacement\n * @returns {Array} a two cells array with x and y offsets in numbers\n */\nfunction parseOffset(offset, popperOffsets, referenceOffsets, basePlacement) {\n  var offsets = [0, 0];\n\n  // Use height if placement is left or right and index is 0 otherwise use width\n  // in this way the first offset will use an axis and the second one\n  // will use the other one\n  var useHeight = ['right', 'left'].indexOf(basePlacement) !== -1;\n\n  // Split the offset string to obtain a list of values and operands\n  // The regex addresses values with the plus or minus sign in front (+10, -20, etc)\n  var fragments = offset.split(/(\\+|\\-)/).map(function (frag) {\n    return frag.trim();\n  });\n\n  // Detect if the offset string contains a pair of values or a single one\n  // they could be separated by comma or space\n  var divider = fragments.indexOf(find(fragments, function (frag) {\n    return frag.search(/,|\\s/) !== -1;\n  }));\n\n  if (fragments[divider] && fragments[divider].indexOf(',') === -1) {\n    console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');\n  }\n\n  // If divider is found, we divide the list of values and operands to divide\n  // them by ofset X and Y.\n  var splitRegex = /\\s*,\\s*|\\s+/;\n  var ops = divider !== -1 ? [fragments.slice(0, divider).concat([fragments[divider].split(splitRegex)[0]]), [fragments[divider].split(splitRegex)[1]].concat(fragments.slice(divider + 1))] : [fragments];\n\n  // Convert the values with units to absolute pixels to allow our computations\n  ops = ops.map(function (op, index) {\n    // Most of the units rely on the orientation of the popper\n    var measurement = (index === 1 ? !useHeight : useHeight) ? 'height' : 'width';\n    var mergeWithPrevious = false;\n    return op\n    // This aggregates any `+` or `-` sign that aren't considered operators\n    // e.g.: 10 + +5 => [10, +, +5]\n    .reduce(function (a, b) {\n      if (a[a.length - 1] === '' && ['+', '-'].indexOf(b) !== -1) {\n        a[a.length - 1] = b;\n        mergeWithPrevious = true;\n        return a;\n      } else if (mergeWithPrevious) {\n        a[a.length - 1] += b;\n        mergeWithPrevious = false;\n        return a;\n      } else {\n        return a.concat(b);\n      }\n    }, [])\n    // Here we convert the string values into number values (in px)\n    .map(function (str) {\n      return toValue(str, measurement, popperOffsets, referenceOffsets);\n    });\n  });\n\n  // Loop trough the offsets arrays and execute the operations\n  ops.forEach(function (op, index) {\n    op.forEach(function (frag, index2) {\n      if (isNumeric(frag)) {\n        offsets[index] += frag * (op[index2 - 1] === '-' ? -1 : 1);\n      }\n    });\n  });\n  return offsets;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @argument {Number|String} options.offset=0\n * The offset value as described in the modifier description\n * @returns {Object} The data object, properly modified\n */\nfunction offset(data, _ref) {\n  var offset = _ref.offset;\n  var placement = data.placement,\n      _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var basePlacement = placement.split('-')[0];\n\n  var offsets = void 0;\n  if (isNumeric(+offset)) {\n    offsets = [+offset, 0];\n  } else {\n    offsets = parseOffset(offset, popper, reference, basePlacement);\n  }\n\n  if (basePlacement === 'left') {\n    popper.top += offsets[0];\n    popper.left -= offsets[1];\n  } else if (basePlacement === 'right') {\n    popper.top += offsets[0];\n    popper.left += offsets[1];\n  } else if (basePlacement === 'top') {\n    popper.left += offsets[0];\n    popper.top -= offsets[1];\n  } else if (basePlacement === 'bottom') {\n    popper.left += offsets[0];\n    popper.top += offsets[1];\n  }\n\n  data.popper = popper;\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction preventOverflow(data, options) {\n  var boundariesElement = options.boundariesElement || getOffsetParent(data.instance.popper);\n\n  // If offsetParent is the reference element, we really want to\n  // go one step up and use the next offsetParent as reference to\n  // avoid to make this modifier completely useless and look like broken\n  if (data.instance.reference === boundariesElement) {\n    boundariesElement = getOffsetParent(boundariesElement);\n  }\n\n  // NOTE: DOM access here\n  // resets the popper's position so that the document size can be calculated excluding\n  // the size of the popper element itself\n  var transformProp = getSupportedPropertyName('transform');\n  var popperStyles = data.instance.popper.style; // assignment to help minification\n  var top = popperStyles.top,\n      left = popperStyles.left,\n      transform = popperStyles[transformProp];\n\n  popperStyles.top = '';\n  popperStyles.left = '';\n  popperStyles[transformProp] = '';\n\n  var boundaries = getBoundaries(data.instance.popper, data.instance.reference, options.padding, boundariesElement, data.positionFixed);\n\n  // NOTE: DOM access here\n  // restores the original style properties after the offsets have been computed\n  popperStyles.top = top;\n  popperStyles.left = left;\n  popperStyles[transformProp] = transform;\n\n  options.boundaries = boundaries;\n\n  var order = options.priority;\n  var popper = data.offsets.popper;\n\n  var check = {\n    primary: function primary(placement) {\n      var value = popper[placement];\n      if (popper[placement] < boundaries[placement] && !options.escapeWithReference) {\n        value = Math.max(popper[placement], boundaries[placement]);\n      }\n      return defineProperty({}, placement, value);\n    },\n    secondary: function secondary(placement) {\n      var mainSide = placement === 'right' ? 'left' : 'top';\n      var value = popper[mainSide];\n      if (popper[placement] > boundaries[placement] && !options.escapeWithReference) {\n        value = Math.min(popper[mainSide], boundaries[placement] - (placement === 'right' ? popper.width : popper.height));\n      }\n      return defineProperty({}, mainSide, value);\n    }\n  };\n\n  order.forEach(function (placement) {\n    var side = ['left', 'top'].indexOf(placement) !== -1 ? 'primary' : 'secondary';\n    popper = _extends({}, popper, check[side](placement));\n  });\n\n  data.offsets.popper = popper;\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction shift(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var shiftvariation = placement.split('-')[1];\n\n  // if shift shiftvariation is specified, run the modifier\n  if (shiftvariation) {\n    var _data$offsets = data.offsets,\n        reference = _data$offsets.reference,\n        popper = _data$offsets.popper;\n\n    var isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    var side = isVertical ? 'left' : 'top';\n    var measurement = isVertical ? 'width' : 'height';\n\n    var shiftOffsets = {\n      start: defineProperty({}, side, reference[side]),\n      end: defineProperty({}, side, reference[side] + reference[measurement] - popper[measurement])\n    };\n\n    data.offsets.popper = _extends({}, popper, shiftOffsets[shiftvariation]);\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by update method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction hide(data) {\n  if (!isModifierRequired(data.instance.modifiers, 'hide', 'preventOverflow')) {\n    return data;\n  }\n\n  var refRect = data.offsets.reference;\n  var bound = find(data.instance.modifiers, function (modifier) {\n    return modifier.name === 'preventOverflow';\n  }).boundaries;\n\n  if (refRect.bottom < bound.top || refRect.left > bound.right || refRect.top > bound.bottom || refRect.right < bound.left) {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === true) {\n      return data;\n    }\n\n    data.hide = true;\n    data.attributes['x-out-of-boundaries'] = '';\n  } else {\n    // Avoid unnecessary DOM access if visibility hasn't changed\n    if (data.hide === false) {\n      return data;\n    }\n\n    data.hide = false;\n    data.attributes['x-out-of-boundaries'] = false;\n  }\n\n  return data;\n}\n\n/**\n * @function\n * @memberof Modifiers\n * @argument {Object} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {Object} The data object, properly modified\n */\nfunction inner(data) {\n  var placement = data.placement;\n  var basePlacement = placement.split('-')[0];\n  var _data$offsets = data.offsets,\n      popper = _data$offsets.popper,\n      reference = _data$offsets.reference;\n\n  var isHoriz = ['left', 'right'].indexOf(basePlacement) !== -1;\n\n  var subtractLength = ['top', 'left'].indexOf(basePlacement) === -1;\n\n  popper[isHoriz ? 'left' : 'top'] = reference[basePlacement] - (subtractLength ? popper[isHoriz ? 'width' : 'height'] : 0);\n\n  data.placement = getOppositePlacement(placement);\n  data.offsets.popper = getClientRect(popper);\n\n  return data;\n}\n\n/**\n * Modifier function, each modifier can have a function of this type assigned\n * to its `fn` property.<br />\n * These functions will be called on each update, this means that you must\n * make sure they are performant enough to avoid performance bottlenecks.\n *\n * @function ModifierFn\n * @argument {dataObject} data - The data object generated by `update` method\n * @argument {Object} options - Modifiers configuration and options\n * @returns {dataObject} The data object, properly modified\n */\n\n/**\n * Modifiers are plugins used to alter the behavior of your poppers.<br />\n * Popper.js uses a set of 9 modifiers to provide all the basic functionalities\n * needed by the library.\n *\n * Usually you don't want to override the `order`, `fn` and `onLoad` props.\n * All the other properties are configurations that could be tweaked.\n * @namespace modifiers\n */\nvar modifiers = {\n  /**\n   * Modifier used to shift the popper on the start or end of its reference\n   * element.<br />\n   * It will read the variation of the `placement` property.<br />\n   * It can be one either `-end` or `-start`.\n   * @memberof modifiers\n   * @inner\n   */\n  shift: {\n    /** @prop {number} order=100 - Index used to define the order of execution */\n    order: 100,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: shift\n  },\n\n  /**\n   * The `offset` modifier can shift your popper on both its axis.\n   *\n   * It accepts the following units:\n   * - `px` or unit-less, interpreted as pixels\n   * - `%` or `%r`, percentage relative to the length of the reference element\n   * - `%p`, percentage relative to the length of the popper element\n   * - `vw`, CSS viewport width unit\n   * - `vh`, CSS viewport height unit\n   *\n   * For length is intended the main axis relative to the placement of the popper.<br />\n   * This means that if the placement is `top` or `bottom`, the length will be the\n   * `width`. In case of `left` or `right`, it will be the `height`.\n   *\n   * You can provide a single value (as `Number` or `String`), or a pair of values\n   * as `String` divided by a comma or one (or more) white spaces.<br />\n   * The latter is a deprecated method because it leads to confusion and will be\n   * removed in v2.<br />\n   * Additionally, it accepts additions and subtractions between different units.\n   * Note that multiplications and divisions aren't supported.\n   *\n   * Valid examples are:\n   * ```\n   * 10\n   * '10%'\n   * '10, 10'\n   * '10%, 10'\n   * '10 + 10%'\n   * '10 - 5vh + 3%'\n   * '-10px + 5vh, 5px - 6%'\n   * ```\n   * > **NB**: If you desire to apply offsets to your poppers in a way that may make them overlap\n   * > with their reference element, unfortunately, you will have to disable the `flip` modifier.\n   * > You can read more on this at this [issue](https://github.com/FezVrasta/popper.js/issues/373).\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  offset: {\n    /** @prop {number} order=200 - Index used to define the order of execution */\n    order: 200,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: offset,\n    /** @prop {Number|String} offset=0\n     * The offset value as described in the modifier description\n     */\n    offset: 0\n  },\n\n  /**\n   * Modifier used to prevent the popper from being positioned outside the boundary.\n   *\n   * A scenario exists where the reference itself is not within the boundaries.<br />\n   * We can say it has \"escaped the boundaries\" — or just \"escaped\".<br />\n   * In this case we need to decide whether the popper should either:\n   *\n   * - detach from the reference and remain \"trapped\" in the boundaries, or\n   * - if it should ignore the boundary and \"escape with its reference\"\n   *\n   * When `escapeWithReference` is set to`true` and reference is completely\n   * outside its boundaries, the popper will overflow (or completely leave)\n   * the boundaries in order to remain attached to the edge of the reference.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  preventOverflow: {\n    /** @prop {number} order=300 - Index used to define the order of execution */\n    order: 300,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: preventOverflow,\n    /**\n     * @prop {Array} [priority=['left','right','top','bottom']]\n     * Popper will try to prevent overflow following these priorities by default,\n     * then, it could overflow on the left and on top of the `boundariesElement`\n     */\n    priority: ['left', 'right', 'top', 'bottom'],\n    /**\n     * @prop {number} padding=5\n     * Amount of pixel used to define a minimum distance between the boundaries\n     * and the popper. This makes sure the popper always has a little padding\n     * between the edges of its container\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='scrollParent'\n     * Boundaries used by the modifier. Can be `scrollParent`, `window`,\n     * `viewport` or any DOM element.\n     */\n    boundariesElement: 'scrollParent'\n  },\n\n  /**\n   * Modifier used to make sure the reference and its popper stay near each other\n   * without leaving any gap between the two. Especially useful when the arrow is\n   * enabled and you want to ensure that it points to its reference element.\n   * It cares only about the first axis. You can still have poppers with margin\n   * between the popper and its reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  keepTogether: {\n    /** @prop {number} order=400 - Index used to define the order of execution */\n    order: 400,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: keepTogether\n  },\n\n  /**\n   * This modifier is used to move the `arrowElement` of the popper to make\n   * sure it is positioned between the reference element and its popper element.\n   * It will read the outer size of the `arrowElement` node to detect how many\n   * pixels of conjunction are needed.\n   *\n   * It has no effect if no `arrowElement` is provided.\n   * @memberof modifiers\n   * @inner\n   */\n  arrow: {\n    /** @prop {number} order=500 - Index used to define the order of execution */\n    order: 500,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: arrow,\n    /** @prop {String|HTMLElement} element='[x-arrow]' - Selector or node used as arrow */\n    element: '[x-arrow]'\n  },\n\n  /**\n   * Modifier used to flip the popper's placement when it starts to overlap its\n   * reference element.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   *\n   * **NOTE:** this modifier will interrupt the current update cycle and will\n   * restart it if it detects the need to flip the placement.\n   * @memberof modifiers\n   * @inner\n   */\n  flip: {\n    /** @prop {number} order=600 - Index used to define the order of execution */\n    order: 600,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: flip,\n    /**\n     * @prop {String|Array} behavior='flip'\n     * The behavior used to change the popper's placement. It can be one of\n     * `flip`, `clockwise`, `counterclockwise` or an array with a list of valid\n     * placements (with optional variations)\n     */\n    behavior: 'flip',\n    /**\n     * @prop {number} padding=5\n     * The popper will flip if it hits the edges of the `boundariesElement`\n     */\n    padding: 5,\n    /**\n     * @prop {String|HTMLElement} boundariesElement='viewport'\n     * The element which will define the boundaries of the popper position.\n     * The popper will never be placed outside of the defined boundaries\n     * (except if `keepTogether` is enabled)\n     */\n    boundariesElement: 'viewport',\n    /**\n     * @prop {Boolean} flipVariations=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the reference element overlaps its boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariations: false,\n    /**\n     * @prop {Boolean} flipVariationsByContent=false\n     * The popper will switch placement variation between `-start` and `-end` when\n     * the popper element overlaps its reference boundaries.\n     *\n     * The original placement should have a set variation.\n     */\n    flipVariationsByContent: false\n  },\n\n  /**\n   * Modifier used to make the popper flow toward the inner of the reference element.\n   * By default, when this modifier is disabled, the popper will be placed outside\n   * the reference element.\n   * @memberof modifiers\n   * @inner\n   */\n  inner: {\n    /** @prop {number} order=700 - Index used to define the order of execution */\n    order: 700,\n    /** @prop {Boolean} enabled=false - Whether the modifier is enabled or not */\n    enabled: false,\n    /** @prop {ModifierFn} */\n    fn: inner\n  },\n\n  /**\n   * Modifier used to hide the popper when its reference element is outside of the\n   * popper boundaries. It will set a `x-out-of-boundaries` attribute which can\n   * be used to hide with a CSS selector the popper when its reference is\n   * out of boundaries.\n   *\n   * Requires the `preventOverflow` modifier before it in order to work.\n   * @memberof modifiers\n   * @inner\n   */\n  hide: {\n    /** @prop {number} order=800 - Index used to define the order of execution */\n    order: 800,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: hide\n  },\n\n  /**\n   * Computes the style that will be applied to the popper element to gets\n   * properly positioned.\n   *\n   * Note that this modifier will not touch the DOM, it just prepares the styles\n   * so that `applyStyle` modifier can apply it. This separation is useful\n   * in case you need to replace `applyStyle` with a custom implementation.\n   *\n   * This modifier has `850` as `order` value to maintain backward compatibility\n   * with previous versions of Popper.js. Expect the modifiers ordering method\n   * to change in future major versions of the library.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  computeStyle: {\n    /** @prop {number} order=850 - Index used to define the order of execution */\n    order: 850,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: computeStyle,\n    /**\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: true,\n    /**\n     * @prop {string} [x='bottom']\n     * Where to anchor the X axis (`bottom` or `top`). AKA X offset origin.\n     * Change this if your popper should grow in a direction different from `bottom`\n     */\n    x: 'bottom',\n    /**\n     * @prop {string} [x='left']\n     * Where to anchor the Y axis (`left` or `right`). AKA Y offset origin.\n     * Change this if your popper should grow in a direction different from `right`\n     */\n    y: 'right'\n  },\n\n  /**\n   * Applies the computed styles to the popper element.\n   *\n   * All the DOM manipulations are limited to this modifier. This is useful in case\n   * you want to integrate Popper.js inside a framework or view library and you\n   * want to delegate all the DOM manipulations to it.\n   *\n   * Note that if you disable this modifier, you must make sure the popper element\n   * has its position set to `absolute` before Popper.js can do its work!\n   *\n   * Just disable this modifier and define your own to achieve the desired effect.\n   *\n   * @memberof modifiers\n   * @inner\n   */\n  applyStyle: {\n    /** @prop {number} order=900 - Index used to define the order of execution */\n    order: 900,\n    /** @prop {Boolean} enabled=true - Whether the modifier is enabled or not */\n    enabled: true,\n    /** @prop {ModifierFn} */\n    fn: applyStyle,\n    /** @prop {Function} */\n    onLoad: applyStyleOnLoad,\n    /**\n     * @deprecated since version 1.10.0, the property moved to `computeStyle` modifier\n     * @prop {Boolean} gpuAcceleration=true\n     * If true, it uses the CSS 3D transformation to position the popper.\n     * Otherwise, it will use the `top` and `left` properties\n     */\n    gpuAcceleration: undefined\n  }\n};\n\n/**\n * The `dataObject` is an object containing all the information used by Popper.js.\n * This object is passed to modifiers and to the `onCreate` and `onUpdate` callbacks.\n * @name dataObject\n * @property {Object} data.instance The Popper.js instance\n * @property {String} data.placement Placement applied to popper\n * @property {String} data.originalPlacement Placement originally defined on init\n * @property {Boolean} data.flipped True if popper has been flipped by flip modifier\n * @property {Boolean} data.hide True if the reference element is out of boundaries, useful to know when to hide the popper\n * @property {HTMLElement} data.arrowElement Node used as arrow by arrow modifier\n * @property {Object} data.styles Any CSS property defined here will be applied to the popper. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.arrowStyles Any CSS property defined here will be applied to the popper arrow. It expects the JavaScript nomenclature (eg. `marginBottom`)\n * @property {Object} data.boundaries Offsets of the popper boundaries\n * @property {Object} data.offsets The measurements of popper, reference and arrow elements\n * @property {Object} data.offsets.popper `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.reference `top`, `left`, `width`, `height` values\n * @property {Object} data.offsets.arrow] `top` and `left` offsets, only one of them will be different from 0\n */\n\n/**\n * Default options provided to Popper.js constructor.<br />\n * These can be overridden using the `options` argument of Popper.js.<br />\n * To override an option, simply pass an object with the same\n * structure of the `options` object, as the 3rd argument. For example:\n * ```\n * new Popper(ref, pop, {\n *   modifiers: {\n *     preventOverflow: { enabled: false }\n *   }\n * })\n * ```\n * @type {Object}\n * @static\n * @memberof Popper\n */\nvar Defaults = {\n  /**\n   * Popper's placement.\n   * @prop {Popper.placements} placement='bottom'\n   */\n  placement: 'bottom',\n\n  /**\n   * Set this to true if you want popper to position it self in 'fixed' mode\n   * @prop {Boolean} positionFixed=false\n   */\n  positionFixed: false,\n\n  /**\n   * Whether events (resize, scroll) are initially enabled.\n   * @prop {Boolean} eventsEnabled=true\n   */\n  eventsEnabled: true,\n\n  /**\n   * Set to true if you want to automatically remove the popper when\n   * you call the `destroy` method.\n   * @prop {Boolean} removeOnDestroy=false\n   */\n  removeOnDestroy: false,\n\n  /**\n   * Callback called when the popper is created.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onCreate}\n   */\n  onCreate: function onCreate() {},\n\n  /**\n   * Callback called when the popper is updated. This callback is not called\n   * on the initialization/creation of the popper, but only on subsequent\n   * updates.<br />\n   * By default, it is set to no-op.<br />\n   * Access Popper.js instance with `data.instance`.\n   * @prop {onUpdate}\n   */\n  onUpdate: function onUpdate() {},\n\n  /**\n   * List of modifiers used to modify the offsets before they are applied to the popper.\n   * They provide most of the functionalities of Popper.js.\n   * @prop {modifiers}\n   */\n  modifiers: modifiers\n};\n\n/**\n * @callback onCreate\n * @param {dataObject} data\n */\n\n/**\n * @callback onUpdate\n * @param {dataObject} data\n */\n\n// Utils\n// Methods\nvar Popper = function () {\n  /**\n   * Creates a new Popper.js instance.\n   * @class Popper\n   * @param {Element|referenceObject} reference - The reference element used to position the popper\n   * @param {Element} popper - The HTML / XML element used as the popper\n   * @param {Object} options - Your custom options to override the ones defined in [Defaults](#defaults)\n   * @return {Object} instance - The generated Popper.js instance\n   */\n  function Popper(reference, popper) {\n    var _this = this;\n\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    classCallCheck(this, Popper);\n\n    this.scheduleUpdate = function () {\n      return requestAnimationFrame(_this.update);\n    };\n\n    // make update() debounced, so that it only runs at most once-per-tick\n    this.update = debounce(this.update.bind(this));\n\n    // with {} we create a new object with the options inside it\n    this.options = _extends({}, Popper.Defaults, options);\n\n    // init state\n    this.state = {\n      isDestroyed: false,\n      isCreated: false,\n      scrollParents: []\n    };\n\n    // get reference and popper elements (allow jQuery wrappers)\n    this.reference = reference && reference.jquery ? reference[0] : reference;\n    this.popper = popper && popper.jquery ? popper[0] : popper;\n\n    // Deep merge modifiers options\n    this.options.modifiers = {};\n    Object.keys(_extends({}, Popper.Defaults.modifiers, options.modifiers)).forEach(function (name) {\n      _this.options.modifiers[name] = _extends({}, Popper.Defaults.modifiers[name] || {}, options.modifiers ? options.modifiers[name] : {});\n    });\n\n    // Refactoring modifiers' list (Object => Array)\n    this.modifiers = Object.keys(this.options.modifiers).map(function (name) {\n      return _extends({\n        name: name\n      }, _this.options.modifiers[name]);\n    })\n    // sort the modifiers by order\n    .sort(function (a, b) {\n      return a.order - b.order;\n    });\n\n    // modifiers have the ability to execute arbitrary code when Popper.js get inited\n    // such code is executed in the same order of its modifier\n    // they could add new properties to their options configuration\n    // BE AWARE: don't add options to `options.modifiers.name` but to `modifierOptions`!\n    this.modifiers.forEach(function (modifierOptions) {\n      if (modifierOptions.enabled && isFunction(modifierOptions.onLoad)) {\n        modifierOptions.onLoad(_this.reference, _this.popper, _this.options, modifierOptions, _this.state);\n      }\n    });\n\n    // fire the first update to position the popper in the right place\n    this.update();\n\n    var eventsEnabled = this.options.eventsEnabled;\n    if (eventsEnabled) {\n      // setup event listeners, they will take care of update the position in specific situations\n      this.enableEventListeners();\n    }\n\n    this.state.eventsEnabled = eventsEnabled;\n  }\n\n  // We can't use class properties because they don't get listed in the\n  // class prototype and break stuff like Sinon stubs\n\n\n  createClass(Popper, [{\n    key: 'update',\n    value: function update$$1() {\n      return update.call(this);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy$$1() {\n      return destroy.call(this);\n    }\n  }, {\n    key: 'enableEventListeners',\n    value: function enableEventListeners$$1() {\n      return enableEventListeners.call(this);\n    }\n  }, {\n    key: 'disableEventListeners',\n    value: function disableEventListeners$$1() {\n      return disableEventListeners.call(this);\n    }\n\n    /**\n     * Schedules an update. It will run on the next UI update available.\n     * @method scheduleUpdate\n     * @memberof Popper\n     */\n\n\n    /**\n     * Collection of utilities useful when writing custom modifiers.\n     * Starting from version 1.7, this method is available only if you\n     * include `popper-utils.js` before `popper.js`.\n     *\n     * **DEPRECATION**: This way to access PopperUtils is deprecated\n     * and will be removed in v2! Use the PopperUtils module directly instead.\n     * Due to the high instability of the methods contained in Utils, we can't\n     * guarantee them to follow semver. Use them at your own risk!\n     * @static\n     * @private\n     * @type {Object}\n     * @deprecated since version 1.8\n     * @member Utils\n     * @memberof Popper\n     */\n\n  }]);\n  return Popper;\n}();\n\n/**\n * The `referenceObject` is an object that provides an interface compatible with Popper.js\n * and lets you use it as replacement of a real DOM node.<br />\n * You can use this method to position a popper relatively to a set of coordinates\n * in case you don't have a DOM node to use as reference.\n *\n * ```\n * new Popper(referenceObject, popperNode);\n * ```\n *\n * NB: This feature isn't supported in Internet Explorer 10.\n * @name referenceObject\n * @property {Function} data.getBoundingClientRect\n * A function that returns a set of coordinates compatible with the native `getBoundingClientRect` method.\n * @property {number} data.clientWidth\n * An ES6 getter that will return the width of the virtual reference element.\n * @property {number} data.clientHeight\n * An ES6 getter that will return the height of the virtual reference element.\n */\n\n\nPopper.Utils = (typeof window !== 'undefined' ? window : global).PopperUtils;\nPopper.placements = placements;\nPopper.Defaults = Defaults;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Popper);\n//# sourceMappingURL=popper.js.map\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(\"c8ba\")))\n\n/***/ }),\n\n/***/ \"f9c7\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"80f5\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(\"499e\").default\nvar update = add(\"8ef96322\", content, true, {\"sourceMap\":false,\"shadowMode\":false});\n\n/***/ }),\n\n/***/ \"fb15\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"CAlert\", function() { return /* reexport */ CAlert; });\n__webpack_require__.d(__webpack_exports__, \"CBadge\", function() { return /* reexport */ CBadge; });\n__webpack_require__.d(__webpack_exports__, \"CBreadcrumb\", function() { return /* reexport */ CBreadcrumb; });\n__webpack_require__.d(__webpack_exports__, \"CBreadcrumbRouter\", function() { return /* reexport */ CBreadcrumbRouter; });\n__webpack_require__.d(__webpack_exports__, \"CButton\", function() { return /* reexport */ CButton; });\n__webpack_require__.d(__webpack_exports__, \"CButtonClose\", function() { return /* reexport */ CButtonClose; });\n__webpack_require__.d(__webpack_exports__, \"CButtonGroup\", function() { return /* reexport */ CButtonGroup; });\n__webpack_require__.d(__webpack_exports__, \"CButtonToolbar\", function() { return /* reexport */ CButtonToolbar; });\n__webpack_require__.d(__webpack_exports__, \"CCallout\", function() { return /* reexport */ CCallout; });\n__webpack_require__.d(__webpack_exports__, \"CCarousel\", function() { return /* reexport */ CCarousel; });\n__webpack_require__.d(__webpack_exports__, \"CCarouselItem\", function() { return /* reexport */ CCarouselItem; });\n__webpack_require__.d(__webpack_exports__, \"CCard\", function() { return /* reexport */ CCard; });\n__webpack_require__.d(__webpack_exports__, \"CCardBody\", function() { return /* reexport */ CCardBody; });\n__webpack_require__.d(__webpack_exports__, \"CCardFooter\", function() { return /* reexport */ CCardFooter; });\n__webpack_require__.d(__webpack_exports__, \"CCardHeader\", function() { return /* reexport */ CCardHeader; });\n__webpack_require__.d(__webpack_exports__, \"CCardGroup\", function() { return /* reexport */ CCardGroup; });\n__webpack_require__.d(__webpack_exports__, \"CCardImg\", function() { return /* reexport */ CCardImg; });\n__webpack_require__.d(__webpack_exports__, \"CCardImgOverlay\", function() { return /* reexport */ CCardImgOverlay; });\n__webpack_require__.d(__webpack_exports__, \"CCardLink\", function() { return /* reexport */ CCardLink; });\n__webpack_require__.d(__webpack_exports__, \"CCardSubtitle\", function() { return /* reexport */ CCardSubtitle; });\n__webpack_require__.d(__webpack_exports__, \"CCardText\", function() { return /* reexport */ CCardText; });\n__webpack_require__.d(__webpack_exports__, \"CCardTitle\", function() { return /* reexport */ CCardTitle; });\n__webpack_require__.d(__webpack_exports__, \"CCollapse\", function() { return /* reexport */ CCollapse; });\n__webpack_require__.d(__webpack_exports__, \"CDropdown\", function() { return /* reexport */ CDropdown; });\n__webpack_require__.d(__webpack_exports__, \"CDropdownHeader\", function() { return /* reexport */ CDropdownHeader; });\n__webpack_require__.d(__webpack_exports__, \"CDropdownDivider\", function() { return /* reexport */ CDropdownDivider; });\n__webpack_require__.d(__webpack_exports__, \"CDropdownItem\", function() { return /* reexport */ CDropdownItem; });\n__webpack_require__.d(__webpack_exports__, \"CElementCover\", function() { return /* reexport */ CElementCover; });\n__webpack_require__.d(__webpack_exports__, \"CEmbed\", function() { return /* reexport */ CEmbed; });\n__webpack_require__.d(__webpack_exports__, \"CForm\", function() { return /* reexport */ CForm; });\n__webpack_require__.d(__webpack_exports__, \"CFormGroup\", function() { return /* reexport */ CFormGroup; });\n__webpack_require__.d(__webpack_exports__, \"CInput\", function() { return /* reexport */ CInput; });\n__webpack_require__.d(__webpack_exports__, \"CInputCheckbox\", function() { return /* reexport */ CInputCheckbox; });\n__webpack_require__.d(__webpack_exports__, \"CInputFile\", function() { return /* reexport */ CInputFile; });\n__webpack_require__.d(__webpack_exports__, \"CInputRadio\", function() { return /* reexport */ CInputRadio; });\n__webpack_require__.d(__webpack_exports__, \"CInputRadioGroup\", function() { return /* reexport */ CInputRadioGroup; });\n__webpack_require__.d(__webpack_exports__, \"CSelect\", function() { return /* reexport */ CSelect; });\n__webpack_require__.d(__webpack_exports__, \"CTextarea\", function() { return /* reexport */ CTextarea; });\n__webpack_require__.d(__webpack_exports__, \"CContainer\", function() { return /* reexport */ CContainer; });\n__webpack_require__.d(__webpack_exports__, \"CRow\", function() { return /* reexport */ CRow; });\n__webpack_require__.d(__webpack_exports__, \"CCol\", function() { return /* reexport */ CCol; });\n__webpack_require__.d(__webpack_exports__, \"CImg\", function() { return /* reexport */ CImg; });\n__webpack_require__.d(__webpack_exports__, \"CJumbotron\", function() { return /* reexport */ CJumbotron; });\n__webpack_require__.d(__webpack_exports__, \"CLink\", function() { return /* reexport */ CLink; });\n__webpack_require__.d(__webpack_exports__, \"CListGroup\", function() { return /* reexport */ CListGroup; });\n__webpack_require__.d(__webpack_exports__, \"CListGroupItem\", function() { return /* reexport */ CListGroupItem; });\n__webpack_require__.d(__webpack_exports__, \"CListGroupItemDivider\", function() { return /* reexport */ CListGroupItemDivider; });\n__webpack_require__.d(__webpack_exports__, \"CMedia\", function() { return /* reexport */ CMedia; });\n__webpack_require__.d(__webpack_exports__, \"CModal\", function() { return /* reexport */ CModal; });\n__webpack_require__.d(__webpack_exports__, \"CNav\", function() { return /* reexport */ CNav; });\n__webpack_require__.d(__webpack_exports__, \"CNavItem\", function() { return /* reexport */ CNavItem; });\n__webpack_require__.d(__webpack_exports__, \"CNavbar\", function() { return /* reexport */ CNavbar; });\n__webpack_require__.d(__webpack_exports__, \"CNavbarBrand\", function() { return /* reexport */ CNavbarBrand; });\n__webpack_require__.d(__webpack_exports__, \"CNavbarNav\", function() { return /* reexport */ CNavbarNav; });\n__webpack_require__.d(__webpack_exports__, \"CNavbarText\", function() { return /* reexport */ CNavbarText; });\n__webpack_require__.d(__webpack_exports__, \"CPagination\", function() { return /* reexport */ CPagination; });\n__webpack_require__.d(__webpack_exports__, \"CProgress\", function() { return /* reexport */ CProgress; });\n__webpack_require__.d(__webpack_exports__, \"CProgressBar\", function() { return /* reexport */ CProgressBar[\"a\" /* default */]; });\n__webpack_require__.d(__webpack_exports__, \"CRenderFunction\", function() { return /* reexport */ CRenderFunction; });\n__webpack_require__.d(__webpack_exports__, \"CScrollbar\", function() { return /* reexport */ CScrollbar; });\n__webpack_require__.d(__webpack_exports__, \"CSpinner\", function() { return /* reexport */ CSpinner; });\n__webpack_require__.d(__webpack_exports__, \"CSwitch\", function() { return /* reexport */ CSwitch; });\n__webpack_require__.d(__webpack_exports__, \"CDataTable\", function() { return /* reexport */ CDataTable; });\n__webpack_require__.d(__webpack_exports__, \"CTab\", function() { return /* reexport */ CTab; });\n__webpack_require__.d(__webpack_exports__, \"CTabs\", function() { return /* reexport */ CTabs; });\n__webpack_require__.d(__webpack_exports__, \"CFooter\", function() { return /* reexport */ CFooter; });\n__webpack_require__.d(__webpack_exports__, \"CHeader\", function() { return /* reexport */ CHeader; });\n__webpack_require__.d(__webpack_exports__, \"CHeaderBrand\", function() { return /* reexport */ CHeaderBrand; });\n__webpack_require__.d(__webpack_exports__, \"CHeaderNav\", function() { return /* reexport */ CHeaderNav; });\n__webpack_require__.d(__webpack_exports__, \"CHeaderNavItem\", function() { return /* reexport */ CHeaderNavItem; });\n__webpack_require__.d(__webpack_exports__, \"CHeaderNavLink\", function() { return /* reexport */ CHeaderNavLink; });\n__webpack_require__.d(__webpack_exports__, \"CSubheader\", function() { return /* reexport */ CSubheader; });\n__webpack_require__.d(__webpack_exports__, \"CSidebar\", function() { return /* reexport */ CSidebar; });\n__webpack_require__.d(__webpack_exports__, \"CSidebarBrand\", function() { return /* reexport */ CSidebarBrand; });\n__webpack_require__.d(__webpack_exports__, \"CSidebarClose\", function() { return /* reexport */ CSidebarClose; });\n__webpack_require__.d(__webpack_exports__, \"CSidebarFooter\", function() { return /* reexport */ CSidebarFooter; });\n__webpack_require__.d(__webpack_exports__, \"CSidebarForm\", function() { return /* reexport */ CSidebarForm; });\n__webpack_require__.d(__webpack_exports__, \"CSidebarHeader\", function() { return /* reexport */ CSidebarHeader; });\n__webpack_require__.d(__webpack_exports__, \"CSidebarMinimizer\", function() { return /* reexport */ CSidebarMinimizer; });\n__webpack_require__.d(__webpack_exports__, \"CSidebarNav\", function() { return /* reexport */ CSidebarNav; });\n__webpack_require__.d(__webpack_exports__, \"CSidebarNavDivider\", function() { return /* reexport */ CSidebarNavDivider; });\n__webpack_require__.d(__webpack_exports__, \"CSidebarNavDropdown\", function() { return /* reexport */ CSidebarNavDropdown; });\n__webpack_require__.d(__webpack_exports__, \"CSidebarNavItem\", function() { return /* reexport */ CSidebarNavItem; });\n__webpack_require__.d(__webpack_exports__, \"CSidebarNavTitle\", function() { return /* reexport */ CSidebarNavTitle; });\n__webpack_require__.d(__webpack_exports__, \"CWrapper\", function() { return /* reexport */ CWrapper; });\n__webpack_require__.d(__webpack_exports__, \"CToast\", function() { return /* reexport */ CToast; });\n__webpack_require__.d(__webpack_exports__, \"CToaster\", function() { return /* reexport */ CToaster; });\n__webpack_require__.d(__webpack_exports__, \"CToggler\", function() { return /* reexport */ CToggler; });\n__webpack_require__.d(__webpack_exports__, \"CWidgetProgress\", function() { return /* reexport */ CWidgetProgress; });\n__webpack_require__.d(__webpack_exports__, \"CWidgetIcon\", function() { return /* reexport */ CWidgetIcon; });\n__webpack_require__.d(__webpack_exports__, \"CWidgetBrand\", function() { return /* reexport */ CWidgetBrand; });\n__webpack_require__.d(__webpack_exports__, \"CWidgetProgressIcon\", function() { return /* reexport */ CWidgetProgressIcon; });\n__webpack_require__.d(__webpack_exports__, \"CWidgetDropdown\", function() { return /* reexport */ CWidgetDropdown; });\n__webpack_require__.d(__webpack_exports__, \"CWidgetSimple\", function() { return /* reexport */ CWidgetSimple; });\n__webpack_require__.d(__webpack_exports__, \"CIcon\", function() { return /* reexport */ CIconRaw; });\n__webpack_require__.d(__webpack_exports__, \"CClickaway\", function() { return /* reexport */ CClickaway; });\n__webpack_require__.d(__webpack_exports__, \"CEmitRootEvent\", function() { return /* reexport */ CEmitRootEvent; });\n__webpack_require__.d(__webpack_exports__, \"CPopover\", function() { return /* reexport */ CPopover; });\n__webpack_require__.d(__webpack_exports__, \"CTooltip\", function() { return /* reexport */ CTooltip; });\n\n// NAMESPACE OBJECT: ./src/components/form/form-mixins.js\nvar form_mixins_namespaceObject = {};\n__webpack_require__.r(form_mixins_namespaceObject);\n__webpack_require__.d(form_mixins_namespaceObject, \"sharedComputedProps\", function() { return sharedComputedProps; });\n__webpack_require__.d(form_mixins_namespaceObject, \"wrapperComputedProps\", function() { return wrapperComputedProps; });\n__webpack_require__.d(form_mixins_namespaceObject, \"watchValue\", function() { return watchValue; });\n__webpack_require__.d(form_mixins_namespaceObject, \"classesComputedProps\", function() { return classesComputedProps; });\n\n// NAMESPACE OBJECT: ./src/components/index.js\nvar components_namespaceObject = {};\n__webpack_require__.r(components_namespaceObject);\n__webpack_require__.d(components_namespaceObject, \"CAlert\", function() { return CAlert; });\n__webpack_require__.d(components_namespaceObject, \"CBadge\", function() { return CBadge; });\n__webpack_require__.d(components_namespaceObject, \"CBreadcrumb\", function() { return CBreadcrumb; });\n__webpack_require__.d(components_namespaceObject, \"CBreadcrumbRouter\", function() { return CBreadcrumbRouter; });\n__webpack_require__.d(components_namespaceObject, \"CButton\", function() { return CButton; });\n__webpack_require__.d(components_namespaceObject, \"CButtonClose\", function() { return CButtonClose; });\n__webpack_require__.d(components_namespaceObject, \"CButtonGroup\", function() { return CButtonGroup; });\n__webpack_require__.d(components_namespaceObject, \"CButtonToolbar\", function() { return CButtonToolbar; });\n__webpack_require__.d(components_namespaceObject, \"CCallout\", function() { return CCallout; });\n__webpack_require__.d(components_namespaceObject, \"CCarousel\", function() { return CCarousel; });\n__webpack_require__.d(components_namespaceObject, \"CCarouselItem\", function() { return CCarouselItem; });\n__webpack_require__.d(components_namespaceObject, \"CCard\", function() { return CCard; });\n__webpack_require__.d(components_namespaceObject, \"CCardBody\", function() { return CCardBody; });\n__webpack_require__.d(components_namespaceObject, \"CCardFooter\", function() { return CCardFooter; });\n__webpack_require__.d(components_namespaceObject, \"CCardHeader\", function() { return CCardHeader; });\n__webpack_require__.d(components_namespaceObject, \"CCardGroup\", function() { return CCardGroup; });\n__webpack_require__.d(components_namespaceObject, \"CCardImg\", function() { return CCardImg; });\n__webpack_require__.d(components_namespaceObject, \"CCardImgOverlay\", function() { return CCardImgOverlay; });\n__webpack_require__.d(components_namespaceObject, \"CCardLink\", function() { return CCardLink; });\n__webpack_require__.d(components_namespaceObject, \"CCardSubtitle\", function() { return CCardSubtitle; });\n__webpack_require__.d(components_namespaceObject, \"CCardText\", function() { return CCardText; });\n__webpack_require__.d(components_namespaceObject, \"CCardTitle\", function() { return CCardTitle; });\n__webpack_require__.d(components_namespaceObject, \"CCollapse\", function() { return CCollapse; });\n__webpack_require__.d(components_namespaceObject, \"CDropdown\", function() { return CDropdown; });\n__webpack_require__.d(components_namespaceObject, \"CDropdownHeader\", function() { return CDropdownHeader; });\n__webpack_require__.d(components_namespaceObject, \"CDropdownDivider\", function() { return CDropdownDivider; });\n__webpack_require__.d(components_namespaceObject, \"CDropdownItem\", function() { return CDropdownItem; });\n__webpack_require__.d(components_namespaceObject, \"CElementCover\", function() { return CElementCover; });\n__webpack_require__.d(components_namespaceObject, \"CEmbed\", function() { return CEmbed; });\n__webpack_require__.d(components_namespaceObject, \"CForm\", function() { return CForm; });\n__webpack_require__.d(components_namespaceObject, \"CFormGroup\", function() { return CFormGroup; });\n__webpack_require__.d(components_namespaceObject, \"CInput\", function() { return CInput; });\n__webpack_require__.d(components_namespaceObject, \"CInputCheckbox\", function() { return CInputCheckbox; });\n__webpack_require__.d(components_namespaceObject, \"CInputFile\", function() { return CInputFile; });\n__webpack_require__.d(components_namespaceObject, \"CInputRadio\", function() { return CInputRadio; });\n__webpack_require__.d(components_namespaceObject, \"CInputRadioGroup\", function() { return CInputRadioGroup; });\n__webpack_require__.d(components_namespaceObject, \"CSelect\", function() { return CSelect; });\n__webpack_require__.d(components_namespaceObject, \"CTextarea\", function() { return CTextarea; });\n__webpack_require__.d(components_namespaceObject, \"CContainer\", function() { return CContainer; });\n__webpack_require__.d(components_namespaceObject, \"CRow\", function() { return CRow; });\n__webpack_require__.d(components_namespaceObject, \"CCol\", function() { return CCol; });\n__webpack_require__.d(components_namespaceObject, \"CImg\", function() { return CImg; });\n__webpack_require__.d(components_namespaceObject, \"CJumbotron\", function() { return CJumbotron; });\n__webpack_require__.d(components_namespaceObject, \"CLink\", function() { return CLink; });\n__webpack_require__.d(components_namespaceObject, \"CListGroup\", function() { return CListGroup; });\n__webpack_require__.d(components_namespaceObject, \"CListGroupItem\", function() { return CListGroupItem; });\n__webpack_require__.d(components_namespaceObject, \"CListGroupItemDivider\", function() { return CListGroupItemDivider; });\n__webpack_require__.d(components_namespaceObject, \"CMedia\", function() { return CMedia; });\n__webpack_require__.d(components_namespaceObject, \"CModal\", function() { return CModal; });\n__webpack_require__.d(components_namespaceObject, \"CNav\", function() { return CNav; });\n__webpack_require__.d(components_namespaceObject, \"CNavItem\", function() { return CNavItem; });\n__webpack_require__.d(components_namespaceObject, \"CNavbar\", function() { return CNavbar; });\n__webpack_require__.d(components_namespaceObject, \"CNavbarBrand\", function() { return CNavbarBrand; });\n__webpack_require__.d(components_namespaceObject, \"CNavbarNav\", function() { return CNavbarNav; });\n__webpack_require__.d(components_namespaceObject, \"CNavbarText\", function() { return CNavbarText; });\n__webpack_require__.d(components_namespaceObject, \"CPagination\", function() { return CPagination; });\n__webpack_require__.d(components_namespaceObject, \"CProgress\", function() { return CProgress; });\n__webpack_require__.d(components_namespaceObject, \"CProgressBar\", function() { return CProgressBar[\"a\" /* default */]; });\n__webpack_require__.d(components_namespaceObject, \"CRenderFunction\", function() { return CRenderFunction; });\n__webpack_require__.d(components_namespaceObject, \"CScrollbar\", function() { return CScrollbar; });\n__webpack_require__.d(components_namespaceObject, \"CSpinner\", function() { return CSpinner; });\n__webpack_require__.d(components_namespaceObject, \"CSwitch\", function() { return CSwitch; });\n__webpack_require__.d(components_namespaceObject, \"CDataTable\", function() { return CDataTable; });\n__webpack_require__.d(components_namespaceObject, \"CTab\", function() { return CTab; });\n__webpack_require__.d(components_namespaceObject, \"CTabs\", function() { return CTabs; });\n__webpack_require__.d(components_namespaceObject, \"CFooter\", function() { return CFooter; });\n__webpack_require__.d(components_namespaceObject, \"CHeader\", function() { return CHeader; });\n__webpack_require__.d(components_namespaceObject, \"CHeaderBrand\", function() { return CHeaderBrand; });\n__webpack_require__.d(components_namespaceObject, \"CHeaderNav\", function() { return CHeaderNav; });\n__webpack_require__.d(components_namespaceObject, \"CHeaderNavItem\", function() { return CHeaderNavItem; });\n__webpack_require__.d(components_namespaceObject, \"CHeaderNavLink\", function() { return CHeaderNavLink; });\n__webpack_require__.d(components_namespaceObject, \"CSubheader\", function() { return CSubheader; });\n__webpack_require__.d(components_namespaceObject, \"CSidebar\", function() { return CSidebar; });\n__webpack_require__.d(components_namespaceObject, \"CSidebarBrand\", function() { return CSidebarBrand; });\n__webpack_require__.d(components_namespaceObject, \"CSidebarClose\", function() { return CSidebarClose; });\n__webpack_require__.d(components_namespaceObject, \"CSidebarFooter\", function() { return CSidebarFooter; });\n__webpack_require__.d(components_namespaceObject, \"CSidebarForm\", function() { return CSidebarForm; });\n__webpack_require__.d(components_namespaceObject, \"CSidebarHeader\", function() { return CSidebarHeader; });\n__webpack_require__.d(components_namespaceObject, \"CSidebarMinimizer\", function() { return CSidebarMinimizer; });\n__webpack_require__.d(components_namespaceObject, \"CSidebarNav\", function() { return CSidebarNav; });\n__webpack_require__.d(components_namespaceObject, \"CSidebarNavDivider\", function() { return CSidebarNavDivider; });\n__webpack_require__.d(components_namespaceObject, \"CSidebarNavDropdown\", function() { return CSidebarNavDropdown; });\n__webpack_require__.d(components_namespaceObject, \"CSidebarNavItem\", function() { return CSidebarNavItem; });\n__webpack_require__.d(components_namespaceObject, \"CSidebarNavTitle\", function() { return CSidebarNavTitle; });\n__webpack_require__.d(components_namespaceObject, \"CWrapper\", function() { return CWrapper; });\n__webpack_require__.d(components_namespaceObject, \"CToast\", function() { return CToast; });\n__webpack_require__.d(components_namespaceObject, \"CToaster\", function() { return CToaster; });\n__webpack_require__.d(components_namespaceObject, \"CToggler\", function() { return CToggler; });\n__webpack_require__.d(components_namespaceObject, \"CWidgetProgress\", function() { return CWidgetProgress; });\n__webpack_require__.d(components_namespaceObject, \"CWidgetIcon\", function() { return CWidgetIcon; });\n__webpack_require__.d(components_namespaceObject, \"CWidgetBrand\", function() { return CWidgetBrand; });\n__webpack_require__.d(components_namespaceObject, \"CWidgetProgressIcon\", function() { return CWidgetProgressIcon; });\n__webpack_require__.d(components_namespaceObject, \"CWidgetDropdown\", function() { return CWidgetDropdown; });\n__webpack_require__.d(components_namespaceObject, \"CWidgetSimple\", function() { return CWidgetSimple; });\n__webpack_require__.d(components_namespaceObject, \"CIcon\", function() { return CIconRaw; });\n\n// NAMESPACE OBJECT: ./src/directives/index.js\nvar directives_namespaceObject = {};\n__webpack_require__.r(directives_namespaceObject);\n__webpack_require__.d(directives_namespaceObject, \"CClickaway\", function() { return CClickaway; });\n__webpack_require__.d(directives_namespaceObject, \"CEmitRootEvent\", function() { return CEmitRootEvent; });\n__webpack_require__.d(directives_namespaceObject, \"CPopover\", function() { return CPopover; });\n__webpack_require__.d(directives_namespaceObject, \"CTooltip\", function() { return CTooltip; });\n\n// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (true) {\n    var getCurrentScript = __webpack_require__(\"8875\")\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_require__.p = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\n/* harmony default export */ var setPublicPath = (null);\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/alert/CAlert.vue?vue&type=template&id=c95d1f08&scoped=true&\nvar CAlertvue_type_template_id_c95d1f08_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":_vm.fade ? 'fade' : null,\"appear\":true}},[(_vm.state)?_c('div',{class:_vm.alertClasses,attrs:{\"role\":\"alert\",\"aria-live\":\"polite\",\"aria-atomic\":\"true\"}},[(_vm.closeButton)?_c('CButtonClose',{on:{\"click\":function($event){return _vm.dismiss()}}}):_vm._e(),_vm._t(\"default\")],2):_vm._e()])}\nvar staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/alert/CAlert.vue?vue&type=template&id=c95d1f08&scoped=true&\n\n// CONCATENATED MODULE: ./node_modules/vue-functional-data-merge/dist/lib.esm.js\nvar e=function(){return(e=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},t={kebab:/-(\\w)/g,styleProp:/:(.*)/,styleList:/;(?![^(]*\\))/g};function r(e,t){return t?t.toUpperCase():\"\"}function s(e){for(var s,a={},c=0,o=e.split(t.styleList);c<o.length;c++){var n=o[c].split(t.styleProp),i=n[0],l=n[1];(i=i.trim())&&(\"string\"==typeof l&&(l=l.trim()),a[(s=i,s.replace(t.kebab,r))]=l)}return a}function a(){for(var t,r,a={},c=arguments.length;c--;)for(var o=0,n=Object.keys(arguments[c]);o<n.length;o++)switch(t=n[o]){case\"class\":case\"style\":case\"directives\":if(Array.isArray(a[t])||(a[t]=[]),\"style\"===t){var i=void 0;i=Array.isArray(arguments[c].style)?arguments[c].style:[arguments[c].style];for(var l=0;l<i.length;l++){var y=i[l];\"string\"==typeof y&&(i[l]=s(y))}arguments[c].style=i}a[t]=a[t].concat(arguments[c][t]);break;case\"staticClass\":if(!arguments[c][t])break;void 0===a[t]&&(a[t]=\"\"),a[t]&&(a[t]+=\" \"),a[t]+=arguments[c][t].trim();break;case\"on\":case\"nativeOn\":a[t]||(a[t]={});for(var p=0,f=Object.keys(arguments[c][t]||{});p<f.length;p++)r=f[p],a[t][r]?a[t][r]=[].concat(a[t][r],arguments[c][t][r]):a[t][r]=arguments[c][t][r];break;case\"attrs\":case\"props\":case\"domProps\":case\"scopedSlots\":case\"staticStyle\":case\"hook\":case\"transition\":a[t]||(a[t]={}),a[t]=e({},arguments[c][t],a[t]);break;case\"slot\":case\"key\":case\"ref\":case\"tag\":case\"show\":case\"keepAlive\":default:a[t]||(a[t]=arguments[c][t])}return a}\n//# sourceMappingURL=lib.esm.js.map\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/button/CButtonClose.vue?vue&type=script&lang=js&\n\n/* harmony default export */ var CButtonClosevue_type_script_lang_js_ = ({\n  name: 'CButtonClose',\n  functional: true,\n  props: {\n    buttonClasses: {\n      type: [String, Array, Object],\n      default: 'close'\n    }\n  },\n  render: function render(h, _ref) {\n    var data = _ref.data,\n        props = _ref.props,\n        slots = _ref.slots;\n    return h('button', a(data, {\n      class: props.buttonClasses,\n      attrs: {\n        type: 'button',\n        'aria-label': 'Close'\n      },\n      domProps: !slots().default ? {\n        innerHTML: '&times;'\n      } : null\n    }), slots().default);\n  }\n});\n// CONCATENATED MODULE: ./src/components/button/CButtonClose.vue?vue&type=script&lang=js&\n /* harmony default export */ var button_CButtonClosevue_type_script_lang_js_ = (CButtonClosevue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js\nvar componentNormalizer = __webpack_require__(\"2877\");\n\n// CONCATENATED MODULE: ./src/components/button/CButtonClose.vue\nvar CButtonClose_render, CButtonClose_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar component = Object(componentNormalizer[\"a\" /* default */])(\n  button_CButtonClosevue_type_script_lang_js_,\n  CButtonClose_render,\n  CButtonClose_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CButtonClose = (component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/alert/CAlert.vue?vue&type=script&lang=js&\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CAlertvue_type_script_lang_js_ = ({\n  name: 'CAlert',\n  components: {\n    CButtonClose: CButtonClose\n  },\n  props: {\n    color: String,\n    closeButton: Boolean,\n    show: {\n      type: [Boolean, Number],\n      default: true\n    },\n    fade: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      countdownTimeout: null,\n      state: this.show\n    };\n  },\n  computed: {\n    alertClasses: function alertClasses() {\n      return ['alert', _defineProperty({\n        'alert-dismissible': this.closeButton\n      }, \"alert-\".concat(this.color), this.color)];\n    }\n  },\n  watch: {\n    show: function show(val) {\n      this.state = val;\n    },\n    state: {\n      immediate: true,\n      handler: function handler(val, oldVal) {\n        var _this = this;\n\n        this.clearCounter();\n\n        if (!val && oldVal) {\n          this.$emit('update:show', val);\n        } else if (typeof val === 'number' && val) {\n          this.countdownTimeout = setTimeout(function () {\n            var isWatched = _this.$listeners['update:show'];\n            isWatched ? _this.$emit('update:show', _this.state - 1) : _this.state--;\n          }, 1000);\n        }\n      }\n    }\n  },\n  destroyed: function destroyed() {\n    this.clearCounter();\n  },\n  methods: {\n    dismiss: function dismiss() {\n      this.state = false;\n    },\n    clearCounter: function clearCounter() {\n      if (this.countdownTimeout) {\n        clearTimeout(this.countdownTimeout);\n        this.countdownTimeout = null;\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/alert/CAlert.vue?vue&type=script&lang=js&\n /* harmony default export */ var alert_CAlertvue_type_script_lang_js_ = (CAlertvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/components/alert/CAlert.vue?vue&type=style&index=0&id=c95d1f08&scoped=true&lang=css&\nvar CAlertvue_type_style_index_0_id_c95d1f08_scoped_true_lang_css_ = __webpack_require__(\"7419\");\n\n// CONCATENATED MODULE: ./src/components/alert/CAlert.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar CAlert_component = Object(componentNormalizer[\"a\" /* default */])(\n  alert_CAlertvue_type_script_lang_js_,\n  CAlertvue_type_template_id_c95d1f08_scoped_true_render,\n  staticRenderFns,\n  false,\n  null,\n  \"c95d1f08\",\n  null\n  \n)\n\n/* harmony default export */ var CAlert = (CAlert_component.exports);\n// CONCATENATED MODULE: ./src/components/alert/index.js\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/link/CLink.vue?vue&type=script&lang=js&\n\nfunction propsFactory() {\n  return {\n    href: String,\n    rel: String,\n    target: {\n      type: String,\n      default: '_self'\n    },\n    disabled: Boolean,\n    active: Boolean,\n    //these are router-link component props (default active class changed)\n    activeClass: {\n      type: String,\n      default: 'router-link-active'\n    },\n    append: Boolean,\n    event: {\n      type: [String, Array],\n      default: 'click'\n    },\n    exact: Boolean,\n    exactActiveClass: {\n      type: String,\n      default: 'router-link-exact-active'\n    },\n    replace: Boolean,\n    routerTag: {\n      type: String,\n      default: 'a'\n    },\n    to: [String, Object]\n  };\n}\nvar CLinkvue_type_script_lang_js_props = propsFactory();\n\nfunction getComputedTag(_ref, parent) {\n  var to = _ref.to,\n      disabled = _ref.disabled;\n  return Boolean(parent.$router) && to && !disabled ? 'router-link' : 'a';\n}\n\nfunction clickHandlerFactory(_ref2) {\n  var disabled = _ref2.disabled,\n      tag = _ref2.tag,\n      href = _ref2.href,\n      suppliedHandler = _ref2.suppliedHandler;\n  return function onClick(e) {\n    if (disabled && e instanceof Event) {\n      // Stop event from bubbling up.\n      e.stopPropagation(); // Kill the event loop attached to this specific EventTarget.\n\n      e.stopImmediatePropagation();\n    } else if (typeof suppliedHandler === 'function') {\n      suppliedHandler.apply(void 0, arguments);\n    }\n\n    if (tag !== 'router-link' && href === '#' || disabled) {\n      // Stop scroll-to-top behavior or navigation.\n      e.preventDefault();\n    }\n  };\n}\n\n/* harmony default export */ var CLinkvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CLink',\n  props: CLinkvue_type_script_lang_js_props,\n  render: function render(h, _ref3) {\n    var props = _ref3.props,\n        data = _ref3.data,\n        parent = _ref3.parent,\n        children = _ref3.children;\n    var tag = getComputedTag(props, parent);\n    var rel = props.target === '_blank' && !props.rel ? 'noopener' : props.rel;\n    var href = props.href || '#';\n    var eventType = tag === 'router-link' ? 'nativeOn' : 'on';\n    var suppliedHandler = (data[eventType] || {}).click;\n    var handlers = {\n      click: clickHandlerFactory({\n        tag: tag,\n        href: href,\n        disabled: props.disabled,\n        suppliedHandler: suppliedHandler\n      })\n    };\n    var tabindex = data.attrs ? data.attrs.tabindex : null;\n    var componentData = a(data, {\n      class: {\n        'disabled': props.disabled,\n        'active': props.active\n      },\n      attrs: {\n        rel: rel,\n        href: href,\n        target: props.target,\n        tabindex: props.disabled ? '-1' : tabindex,\n        'aria-disabled': tag === 'a' && props.disabled ? 'true' : null\n      },\n      props: Object.assign(props, {\n        tag: props.routerTag\n      })\n    }); // If href prop exists on router-link (even undefined or null) it fails working on SSR\n\n    if (tag === 'router-link') {\n      delete componentData.attrs.href;\n    } // We want to overwrite any click handler since our callback\n    // will invoke the supplied handler if !props.disabled\n\n\n    componentData[eventType] = Object.assign(componentData[eventType] || {}, handlers);\n    return h(tag, componentData, children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/link/CLink.vue?vue&type=script&lang=js&\n /* harmony default export */ var link_CLinkvue_type_script_lang_js_ = (CLinkvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/link/CLink.vue\nvar CLink_render, CLink_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CLink_component = Object(componentNormalizer[\"a\" /* default */])(\n  link_CLinkvue_type_script_lang_js_,\n  CLink_render,\n  CLink_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CLink = (CLink_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/badge/CBadge.vue?vue&type=script&lang=js&\nfunction CBadgevue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\nvar CBadgevue_type_script_lang_js_props = Object.assign({}, CLinkvue_type_script_lang_js_props, {\n  tag: {\n    type: String,\n    default: 'span'\n  },\n  color: String,\n  shape: {\n    type: String,\n    validator: function validator(shape) {\n      return ['', 'pill'].includes(shape);\n    }\n  }\n});\n/* harmony default export */ var CBadgevue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CBadge',\n  props: CBadgevue_type_script_lang_js_props,\n  render: function render(h, _ref) {\n    var _class;\n\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    var tag = !props.href && !props.to ? props.tag : CLink;\n    var componentData = {\n      staticClass: 'badge',\n      class: (_class = {}, CBadgevue_type_script_lang_js_defineProperty(_class, \"badge-\".concat(props.color), props.color), CBadgevue_type_script_lang_js_defineProperty(_class, 'badge-pill', props.shape === 'pill'), _class),\n      props: props\n    };\n    return h(tag, a(data, componentData), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/badge/CBadge.vue?vue&type=script&lang=js&\n /* harmony default export */ var badge_CBadgevue_type_script_lang_js_ = (CBadgevue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/badge/CBadge.vue\nvar CBadge_render, CBadge_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CBadge_component = Object(componentNormalizer[\"a\" /* default */])(\n  badge_CBadgevue_type_script_lang_js_,\n  CBadge_render,\n  CBadge_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CBadge = (CBadge_component.exports);\n// CONCATENATED MODULE: ./src/components/badge/index.js\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/breadcrumb/CBreadcrumb.vue?vue&type=template&id=1ffcd443&\nvar CBreadcrumbvue_type_template_id_1ffcd443_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ol',{staticClass:\"breadcrumb\"},[_vm._l((_vm.linkItems),function(item,index){return _c('li',{key:index,class:[item.addClasses, _vm.sharedClasses, _vm.addLinkClasses],attrs:{\"role\":\"presentation\"}},[_c('CLink',_vm._b({},'CLink',Object.assign({}, item, { addClasses: null, text: null }),false),[_vm._v(\" \"+_vm._s(item.text)+\" \")])],1)}),(_vm.lastItem)?_c('li',{class:_vm.lastItemClasses,attrs:{\"role\":\"presentation\"}},[_c('span',{domProps:{\"textContent\":_vm._s(_vm.lastItem.text)}})]):_vm._e(),_vm._t(\"default\")],2)}\nvar CBreadcrumbvue_type_template_id_1ffcd443_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/breadcrumb/CBreadcrumb.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CBreadcrumbvue_type_script_lang_js_ = ({\n  name: 'CBreadcrumb',\n  components: {\n    CLink: CLink\n  },\n  props: {\n    items: Array,\n    addClasses: [String, Array, Object],\n    addLinkClasses: [String, Array, Object],\n    addLastItemClasses: [String, Array, Object]\n  },\n  computed: {\n    lastItem: function lastItem() {\n      return this.items ? this.items[this.items.length - 1] : null;\n    },\n    linkItems: function linkItems() {\n      return this.items ? this.items.slice(0, -1) : [];\n    },\n    sharedClasses: function sharedClasses() {\n      return [this.addClasses, 'breadcrumb-item'];\n    },\n    lastItemClasses: function lastItemClasses() {\n      return ['active', this.lastItem.addClasses, this.sharedClasses, this.addLastItemClasses];\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/breadcrumb/CBreadcrumb.vue?vue&type=script&lang=js&\n /* harmony default export */ var breadcrumb_CBreadcrumbvue_type_script_lang_js_ = (CBreadcrumbvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/breadcrumb/CBreadcrumb.vue\n\n\n\n\n\n/* normalize component */\n\nvar CBreadcrumb_component = Object(componentNormalizer[\"a\" /* default */])(\n  breadcrumb_CBreadcrumbvue_type_script_lang_js_,\n  CBreadcrumbvue_type_template_id_1ffcd443_render,\n  CBreadcrumbvue_type_template_id_1ffcd443_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CBreadcrumb = (CBreadcrumb_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/breadcrumb/CBreadcrumbRouter.vue?vue&type=template&id=811c5d4a&\nvar CBreadcrumbRoutervue_type_template_id_811c5d4a_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CBreadcrumb',_vm._b({},'CBreadcrumb',_vm.props,false),[_vm._t(\"default\")],2)}\nvar CBreadcrumbRoutervue_type_template_id_811c5d4a_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/breadcrumb/CBreadcrumbRouter.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CBreadcrumbRoutervue_type_script_lang_js_ = ({\n  name: 'CBreadcrumbRouter',\n  components: {\n    CBreadcrumb: CBreadcrumb\n  },\n  props: {\n    addClasses: [String, Array, Object],\n    addLinkClasses: [String, Array, Object],\n    addLastItemClasses: [String, Array, Object]\n  },\n  computed: {\n    items: function items() {\n      var routes = this.$route.matched.filter(function (route) {\n        return route.name || route.meta && route.meta.label;\n      });\n      return routes.map(function (route) {\n        var meta = route.meta || {};\n        return {\n          to: route,\n          text: meta.label || route.name\n        };\n      });\n    },\n    props: function props() {\n      return {\n        items: this.items,\n        addClasses: this.addClasses,\n        addLinkClasses: this.addLinkClasses,\n        addLastItemClasses: this.addLastItemClasses\n      };\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/breadcrumb/CBreadcrumbRouter.vue?vue&type=script&lang=js&\n /* harmony default export */ var breadcrumb_CBreadcrumbRoutervue_type_script_lang_js_ = (CBreadcrumbRoutervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/breadcrumb/CBreadcrumbRouter.vue\n\n\n\n\n\n/* normalize component */\n\nvar CBreadcrumbRouter_component = Object(componentNormalizer[\"a\" /* default */])(\n  breadcrumb_CBreadcrumbRoutervue_type_script_lang_js_,\n  CBreadcrumbRoutervue_type_template_id_811c5d4a_render,\n  CBreadcrumbRoutervue_type_template_id_811c5d4a_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CBreadcrumbRouter = (CBreadcrumbRouter_component.exports);\n// CONCATENATED MODULE: ./src/components/breadcrumb/index.js\n\n\n\n// CONCATENATED MODULE: ./node_modules/@coreui/utils/src/pick-by-keys.js\nvar pickByKeys = function pickByKeys(originalObject, keys) {\n  var newObj = {};\n\n  for (var i = 0; i < keys.length; i++) {\n    newObj[keys[i]] = originalObject[keys[i]];\n  }\n\n  return newObj;\n};\n\n/* harmony default export */ var pick_by_keys = (pickByKeys);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/button/CButton.vue?vue&type=script&lang=js&\nfunction CButtonvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nvar btnProps = {\n  block: Boolean,\n  shape: {\n    type: String,\n    validator: function validator(shape) {\n      return ['', 'pill', 'square'].includes(shape);\n    }\n  },\n  variant: {\n    type: String,\n    validator: function validator(val) {\n      return ['', 'ghost', 'outline'].includes(val);\n    }\n  },\n  size: {\n    type: String,\n    validator: function validator(value) {\n      return ['', 'sm', 'lg'].includes(value);\n    }\n  },\n  color: String,\n  type: {\n    type: String,\n    default: 'button'\n  },\n  pressed: {\n    type: Boolean,\n    default: null\n  }\n};\nvar CButtonvue_type_script_lang_js_props = Object.assign(propsFactory(), btnProps); // Helper functons to minimize runtime memory footprint when lots of buttons on page(TODO: check it)\n\nfunction CButtonvue_type_script_lang_js_isLink(props) {\n  return Boolean(props.href || props.to);\n}\n\nfunction isToggle(props) {\n  return props.pressed !== null;\n}\n\nfunction computeClasses(props) {\n  var _ref;\n\n  var outlineSuffix = props.variant === 'outline' ? 'outline-' : '';\n  return _ref = {}, CButtonvue_type_script_lang_js_defineProperty(_ref, \"btn-\".concat(outlineSuffix).concat(props.color), props.color), CButtonvue_type_script_lang_js_defineProperty(_ref, \"btn-\".concat(props.size), props.size), CButtonvue_type_script_lang_js_defineProperty(_ref, \"btn-ghost-\".concat(props.color), props.variant === 'ghost'), CButtonvue_type_script_lang_js_defineProperty(_ref, 'btn-block', props.block), CButtonvue_type_script_lang_js_defineProperty(_ref, 'btn-pill', props.shape === 'pill'), CButtonvue_type_script_lang_js_defineProperty(_ref, 'btn-square', props.shape === 'square'), CButtonvue_type_script_lang_js_defineProperty(_ref, 'disabled', props.disabled), CButtonvue_type_script_lang_js_defineProperty(_ref, 'active', props.pressed), _ref;\n}\n\nfunction computePassedProps(props) {\n  if (!CButtonvue_type_script_lang_js_isLink(props)) {\n    return null;\n  }\n\n  return pick_by_keys(props, Object.keys(propsFactory()));\n}\n\nfunction computeAttrs(props, data, isButton, toggle) {\n  return {\n    type: isButton ? props.type : null,\n    // in CLink disabled property works diffrently\n    disabled: isButton ? props.disabled : null,\n    'aria-pressed': toggle ? String(props.pressed) : null,\n    // autocomplete off is needed in toggle mode to prevent some browsers from\n    // remembering the previous setting when using the back button.\n    autocomplete: toggle ? 'off' : null\n  };\n}\n\n/* harmony default export */ var CButtonvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CButton',\n  props: CButtonvue_type_script_lang_js_props,\n  render: function render(h, _ref2) {\n    var props = _ref2.props,\n        data = _ref2.data,\n        listeners = _ref2.listeners,\n        children = _ref2.children;\n    var toggle = isToggle(props);\n    var isButton = !CButtonvue_type_script_lang_js_isLink(props);\n    var on = {\n      click: function click() {\n        if (toggle && listeners && listeners['update:pressed']) {\n          // Send .sync updates to \"pressed\" prop (if .sync listener is set)\n          listeners['update:pressed'](!props.pressed);\n        }\n      }\n    };\n    var componentData = {\n      staticClass: 'btn',\n      class: computeClasses(props),\n      props: computePassedProps(props),\n      attrs: computeAttrs(props, data, isButton, toggle),\n      on: on\n    };\n    return h(isButton ? 'button' : CLink, a(data, componentData), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/button/CButton.vue?vue&type=script&lang=js&\n /* harmony default export */ var button_CButtonvue_type_script_lang_js_ = (CButtonvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/button/CButton.vue\nvar CButton_render, CButton_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CButton_component = Object(componentNormalizer[\"a\" /* default */])(\n  button_CButtonvue_type_script_lang_js_,\n  CButton_render,\n  CButton_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CButton = (CButton_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/button/CButtonGroup.vue?vue&type=script&lang=js&\nfunction CButtonGroupvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n/* harmony default export */ var CButtonGroupvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CButtonGroup',\n  props: {\n    vertical: Boolean,\n    size: {\n      type: String,\n      validator: function validator(size) {\n        return ['', 'sm', 'lg'].includes(size);\n      }\n    }\n  },\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h('div', a(data, {\n      class: [!props.vertical ? 'btn-group' : 'btn-group-vertical', CButtonGroupvue_type_script_lang_js_defineProperty({}, \"btn-group-\".concat(props.size), props.size)],\n      attrs: {\n        role: 'group'\n      }\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/button/CButtonGroup.vue?vue&type=script&lang=js&\n /* harmony default export */ var button_CButtonGroupvue_type_script_lang_js_ = (CButtonGroupvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/button/CButtonGroup.vue\nvar CButtonGroup_render, CButtonGroup_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CButtonGroup_component = Object(componentNormalizer[\"a\" /* default */])(\n  button_CButtonGroupvue_type_script_lang_js_,\n  CButtonGroup_render,\n  CButtonGroup_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CButtonGroup = (CButtonGroup_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/button/CButtonToolbar.vue?vue&type=script&lang=js&\nfunction CButtonToolbarvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n/* harmony default export */ var CButtonToolbarvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CButtonToolbar',\n  props: {\n    justify: {\n      type: String,\n      validator: function validator(val) {\n        return ['', 'start', 'end', 'between', 'center'].includes(val);\n      }\n    }\n  },\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h('div', a(data, {\n      class: ['btn-toolbar', CButtonToolbarvue_type_script_lang_js_defineProperty({}, \"justify-content-\".concat(props.justify), props.justify)],\n      attrs: {\n        'aria-label': 'toolbar',\n        role: 'toolbar'\n      }\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/button/CButtonToolbar.vue?vue&type=script&lang=js&\n /* harmony default export */ var button_CButtonToolbarvue_type_script_lang_js_ = (CButtonToolbarvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/button/CButtonToolbar.vue\nvar CButtonToolbar_render, CButtonToolbar_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CButtonToolbar_component = Object(componentNormalizer[\"a\" /* default */])(\n  button_CButtonToolbarvue_type_script_lang_js_,\n  CButtonToolbar_render,\n  CButtonToolbar_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CButtonToolbar = (CButtonToolbar_component.exports);\n// CONCATENATED MODULE: ./src/components/button/index.js\n\n\n\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/callout/CCallout.vue?vue&type=template&id=8fc790c6&\nvar CCalloutvue_type_template_id_8fc790c6_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:(\"c-callout \" + (_vm.color ? 'c-callout-' + _vm.color : ''))},[_vm._t(\"default\")],2)}\nvar CCalloutvue_type_template_id_8fc790c6_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/callout/CCallout.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CCalloutvue_type_script_lang_js_ = ({\n  name: 'CCallout',\n  props: {\n    color: String\n  }\n});\n// CONCATENATED MODULE: ./src/components/callout/CCallout.vue?vue&type=script&lang=js&\n /* harmony default export */ var callout_CCalloutvue_type_script_lang_js_ = (CCalloutvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/callout/CCallout.vue\n\n\n\n\n\n/* normalize component */\n\nvar CCallout_component = Object(componentNormalizer[\"a\" /* default */])(\n  callout_CCalloutvue_type_script_lang_js_,\n  CCalloutvue_type_template_id_8fc790c6_render,\n  CCalloutvue_type_template_id_8fc790c6_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CCallout = (CCallout_component.exports);\n// CONCATENATED MODULE: ./src/components/callout/index.js\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/carousel/CCarousel.vue?vue&type=template&id=9c4fbe64&scoped=true&\nvar CCarouselvue_type_template_id_9c4fbe64_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"carousel slide\",style:({ height: _vm.height || 'auto' })},[(_vm.indicators)?_c('ol',{class:_vm.indicatorClasses},_vm._l((_vm.items.length),function(index,key){return _c('li',{key:key,class:{ 'active': _vm.activated === key },on:{\"click\":function($event){return _vm.setItem(key)}}})}),0):_vm._e(),_c('div',{staticClass:\"carousel-inner\"},[_vm._t(\"default\")],2),(_vm.arrows)?[_c('a',{staticClass:\"carousel-control-prev\",on:{\"click\":_vm.previousItem}},[_c('span',{staticClass:\"carousel-control-prev-icon\",attrs:{\"aria-label\":\"Previous\"}})]),_c('a',{staticClass:\"carousel-control-next\",on:{\"click\":_vm.nextItem}},[_c('span',{staticClass:\"carousel-control-next-icon\",attrs:{\"aria-label\":\"Next\"}})])]:_vm._e()],2)}\nvar CCarouselvue_type_template_id_9c4fbe64_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/carousel/CCarousel.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CCarouselvue_type_script_lang_js_ = ({\n  name: 'CCarousel',\n  props: {\n    interval: Number,\n    animate: Boolean,\n    indicators: Boolean,\n    arrows: Boolean,\n    indicatorClasses: {\n      type: [String, Array, Object],\n      default: 'carousel-indicators'\n    },\n    height: [String, Number]\n  },\n  data: function data() {\n    return {\n      active: null,\n      activated: null,\n      items: [],\n      currentInterval: null,\n      transitioning: false\n    };\n  },\n  mounted: function mounted() {\n    this.items = this.$children;\n    var activated = this.items.map(function (item, index) {\n      return item.active ? index : null;\n    }).filter(function (item) {\n      return item;\n    });\n    this.active = activated[0] || 0;\n    this.activate(activated[0] || 0);\n  },\n  beforeDestroy: function beforeDestroy() {\n    clearInterval(this.currentInterval);\n  },\n  methods: {\n    resetInterval: function resetInterval() {\n      var _this = this;\n\n      if (this.animate && this.interval) {\n        clearInterval(this.currentInterval);\n        this.currentInterval = setInterval(function () {\n          _this.nextItem();\n        }, this.interval);\n      }\n    },\n    nextItem: function nextItem() {\n      this.setItem(this.active === this.items.length - 1 ? 0 : this.active + 1, 'next');\n    },\n    previousItem: function previousItem() {\n      this.setItem(this.active === 0 ? this.items.length - 1 : this.active - 1, 'prev');\n    },\n    setItem: function setItem(index) {\n      var passedOrder = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (index === this.activated) {\n        return this.resetInterval();\n      } else if (this.transitioning) {\n        return;\n      }\n\n      var order = passedOrder || (this.active > index ? 'prev' : 'next');\n      this.active = index;\n      this.activate(index, order);\n    },\n    activate: function activate(index, order) {\n      var _this2 = this;\n\n      this.resetInterval();\n      this.activated = index;\n\n      if (!order || !this.animate) {\n        this.items.forEach(function (item) {\n          return item.$emit('setItem', _this2.items[index]);\n        });\n      } else {\n        this.slide(index, order);\n      }\n    },\n    slide: function slide(i, order) {\n      var _this3 = this;\n\n      this.items[i].$emit('slideToItem', this.items[i], order);\n      this.items.forEach(function (item, idx) {\n        if (i !== idx) {\n          item.$emit('slideToItem', _this3.items[i], order);\n        }\n      });\n      this.transitioning = true;\n      setTimeout(function () {\n        return _this3.transitioning = false;\n      }, 600);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/carousel/CCarousel.vue?vue&type=script&lang=js&\n /* harmony default export */ var carousel_CCarouselvue_type_script_lang_js_ = (CCarouselvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/carousel/CCarousel.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar CCarousel_component = Object(componentNormalizer[\"a\" /* default */])(\n  carousel_CCarouselvue_type_script_lang_js_,\n  CCarouselvue_type_template_id_9c4fbe64_scoped_true_render,\n  CCarouselvue_type_template_id_9c4fbe64_scoped_true_staticRenderFns,\n  false,\n  null,\n  \"9c4fbe64\",\n  null\n  \n)\n\n/* harmony default export */ var CCarousel = (CCarousel_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/carousel/CCarouselItem.vue?vue&type=template&id=643514fc&\nvar CCarouselItemvue_type_template_id_643514fc_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.itemClasses},[(_vm.image)?_c('CImg',_vm._b({staticClass:\"d-block w-100 h-100 img-fluid\"},'CImg',_vm.computedImage,false)):_vm._e(),_vm._t(\"default\",[(_vm.captionHeader || _vm.captionText)?_c('div',{staticClass:\"carousel-caption\"},[_c('h3',[_vm._v(_vm._s(_vm.captionHeader))]),_c('p',[_vm._v(_vm._s(_vm.captionText))])]):_vm._e()])],2)}\nvar CCarouselItemvue_type_template_id_643514fc_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/image/CImg.vue?vue&type=template&id=91e4e712&\nvar CImgvue_type_template_id_91e4e712_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.src && _vm.isActive)?_c('img',{class:_vm.imageClasses,attrs:{\"src\":_vm.src,\"alt\":_vm.alt,\"width\":_vm.width,\"height\":_vm.height}}):_c('svg',{class:_vm.imageClasses,style:({'background-color': _vm.isActive ? _vm.placeholderColor : 'transparent' }),attrs:{\"width\":_vm.width,\"height\":_vm.height}})}\nvar CImgvue_type_template_id_91e4e712_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/image/CImg.vue?vue&type=script&lang=js&\nfunction CImgvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CImgvue_type_script_lang_js_ = ({\n  name: 'CImg',\n  props: {\n    src: String,\n    alt: String,\n    width: [Number, String],\n    height: [Number, String],\n    block: Boolean,\n    fluid: Boolean,\n    fluidGrow: Boolean,\n    shape: String,\n    thumbnail: Boolean,\n    align: {\n      type: String,\n      validator: function validator(align) {\n        return ['', 'left', 'right', 'center'].includes(align);\n      }\n    },\n    placeholderColor: {\n      type: String,\n      default: 'transparent'\n    }\n  },\n  computed: {\n    isActive: function isActive() {\n      //active prop is present in CImgLazy component, here always undefined\n      return this.active !== false;\n    },\n    alignClass: function alignClass() {\n      if (this.align === 'center') {\n        return 'mx-auto';\n      } else if (this.align === 'right') {\n        return 'float-right';\n      } else if (this.align === 'left') {\n        return 'float-left';\n      }\n\n      return null;\n    },\n    imageClasses: function imageClasses() {\n      var _ref;\n\n      return [//animationClasses is rendered in CImgLazy\n      this.animationClasses, this.alignClass, (_ref = {\n        'img-thumbnail': this.thumbnail,\n        'img-fluid': this.fluid || this.fluidGrow,\n        'w-100': this.fluidGrow\n      }, CImgvue_type_script_lang_js_defineProperty(_ref, \"\".concat(this.shape), this.shape), CImgvue_type_script_lang_js_defineProperty(_ref, 'd-block', this.block), _ref)];\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/image/CImg.vue?vue&type=script&lang=js&\n /* harmony default export */ var image_CImgvue_type_script_lang_js_ = (CImgvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/image/CImg.vue\n\n\n\n\n\n/* normalize component */\n\nvar CImg_component = Object(componentNormalizer[\"a\" /* default */])(\n  image_CImgvue_type_script_lang_js_,\n  CImgvue_type_template_id_91e4e712_render,\n  CImgvue_type_template_id_91e4e712_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CImg = (CImg_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/carousel/CCarouselItem.vue?vue&type=script&lang=js&\nfunction CCarouselItemvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CCarouselItemvue_type_script_lang_js_ = ({\n  name: 'CCarouselItem',\n  components: {\n    CImg: CImg\n  },\n  props: {\n    image: [String, Object],\n    captionHeader: String,\n    captionText: String,\n    active: Boolean\n  },\n  data: function data() {\n    return {\n      activated: false,\n      transitioning: false,\n      order: null\n    };\n  },\n  mounted: function mounted() {\n    this.$on('setItem', this.setItem);\n    this.$on('slideToItem', this.slideToItem);\n  },\n  computed: {\n    direction: function direction() {\n      return this.order === 'next' ? 'left' : 'right';\n    },\n    itemClasses: function itemClasses() {\n      var _ref;\n\n      return ['carousel-item', (_ref = {}, CCarouselItemvue_type_script_lang_js_defineProperty(_ref, \"carousel-item-\".concat(this.order), this.order && !this.activated), CCarouselItemvue_type_script_lang_js_defineProperty(_ref, \"carousel-item-\".concat(this.direction), this.transitioning), CCarouselItemvue_type_script_lang_js_defineProperty(_ref, 'active', this.activated), _ref)];\n    },\n    computedImage: function computedImage() {\n      return typeof this.image === 'string' ? {\n        src: this.image\n      } : this.image;\n    }\n  },\n  methods: {\n    setItem: function setItem(item) {\n      this.activated = this._uid === item._uid;\n    },\n    slideToItem: function slideToItem(item, order) {\n      var _this = this;\n\n      if (this._uid === item._uid || this.activated) {\n        this.order = order;\n        setTimeout(function () {\n          _this.transitioning = true;\n        }, 0);\n        setTimeout(function () {\n          _this.transitioning = false;\n          _this.order = null;\n\n          _this.setItem(item);\n        }, 600);\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/carousel/CCarouselItem.vue?vue&type=script&lang=js&\n /* harmony default export */ var carousel_CCarouselItemvue_type_script_lang_js_ = (CCarouselItemvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/carousel/CCarouselItem.vue\n\n\n\n\n\n/* normalize component */\n\nvar CCarouselItem_component = Object(componentNormalizer[\"a\" /* default */])(\n  carousel_CCarouselItemvue_type_script_lang_js_,\n  CCarouselItemvue_type_template_id_643514fc_render,\n  CCarouselItemvue_type_template_id_643514fc_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CCarouselItem = (CCarouselItem_component.exports);\n// CONCATENATED MODULE: ./src/components/carousel/index.js\n\n\n\n// CONCATENATED MODULE: ./src/components/card/shared-card-props.js\n/* harmony default export */ var shared_card_props = ({\n  tag: String,\n  color: String,\n  borderColor: String,\n  textColor: String,\n  align: {\n    type: String,\n    validator: function validator(val) {\n      return ['', 'left', 'center', 'right'].includes(val);\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/card/CCardBody.vue?vue&type=script&lang=js&\nfunction CCardBodyvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n/* harmony default export */ var CCardBodyvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CCardBody',\n  props: shared_card_props,\n  render: function render(h, _ref) {\n    var _ref2;\n\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(props.tag || 'div', a(data, {\n      staticClass: 'card-body',\n      class: [(_ref2 = {}, CCardBodyvue_type_script_lang_js_defineProperty(_ref2, \"bg-\".concat(props.color), props.color), CCardBodyvue_type_script_lang_js_defineProperty(_ref2, \"border-\".concat(props.borderColor), props.borderColor), CCardBodyvue_type_script_lang_js_defineProperty(_ref2, \"text-\".concat(props.textColor), props.textColor), CCardBodyvue_type_script_lang_js_defineProperty(_ref2, \"text-\".concat(props.align), props.align), _ref2)]\n    }), [children]);\n  }\n});\n// CONCATENATED MODULE: ./src/components/card/CCardBody.vue?vue&type=script&lang=js&\n /* harmony default export */ var card_CCardBodyvue_type_script_lang_js_ = (CCardBodyvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/card/CCardBody.vue\nvar CCardBody_render, CCardBody_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CCardBody_component = Object(componentNormalizer[\"a\" /* default */])(\n  card_CCardBodyvue_type_script_lang_js_,\n  CCardBody_render,\n  CCardBody_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CCardBody = (CCardBody_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/card/CCard.vue?vue&type=script&lang=js&\nfunction CCardvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nvar CCardvue_type_script_lang_js_props = Object.assign(shared_card_props, {\n  bodyWrapper: Boolean,\n  accentColor: String\n});\n/* harmony default export */ var CCardvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CCard',\n  props: CCardvue_type_script_lang_js_props,\n  render: function render(h, _ref) {\n    var _class;\n\n    var props = _ref.props,\n        data = _ref.data,\n        slots = _ref.slots;\n    var slot = slots().default;\n    var content = props.bodyWrapper ? h(CCardBody, slot) : slot;\n    return h(props.tag || 'div', a(data, {\n      staticClass: 'card',\n      class: (_class = {}, CCardvue_type_script_lang_js_defineProperty(_class, \"card-accent-\".concat(props.accentColor), props.accentColor), CCardvue_type_script_lang_js_defineProperty(_class, \"text-\".concat(props.align), props.align), CCardvue_type_script_lang_js_defineProperty(_class, \"bg-\".concat(props.color), props.color), CCardvue_type_script_lang_js_defineProperty(_class, \"border-\".concat(props.borderColor), props.borderColor), CCardvue_type_script_lang_js_defineProperty(_class, \"text-\".concat(props.textColor), props.textColor), _class)\n    }), [content]);\n  }\n});\n// CONCATENATED MODULE: ./src/components/card/CCard.vue?vue&type=script&lang=js&\n /* harmony default export */ var card_CCardvue_type_script_lang_js_ = (CCardvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/card/CCard.vue\nvar CCard_render, CCard_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CCard_component = Object(componentNormalizer[\"a\" /* default */])(\n  card_CCardvue_type_script_lang_js_,\n  CCard_render,\n  CCard_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CCard = (CCard_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/card/CCardFooter.vue?vue&type=script&lang=js&\nfunction CCardFootervue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n/* harmony default export */ var CCardFootervue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CCardFooter',\n  props: shared_card_props,\n  render: function render(h, _ref) {\n    var _ref2;\n\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(props.tag || 'footer', a(data, {\n      staticClass: 'card-footer',\n      class: [(_ref2 = {}, CCardFootervue_type_script_lang_js_defineProperty(_ref2, \"text-\".concat(props.align), props.align), CCardFootervue_type_script_lang_js_defineProperty(_ref2, \"bg-\".concat(props.color), props.color), CCardFootervue_type_script_lang_js_defineProperty(_ref2, \"border-\".concat(props.borderColor), props.borderColor), CCardFootervue_type_script_lang_js_defineProperty(_ref2, \"text-\".concat(props.textColor), props.textColor), _ref2)]\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/card/CCardFooter.vue?vue&type=script&lang=js&\n /* harmony default export */ var card_CCardFootervue_type_script_lang_js_ = (CCardFootervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/card/CCardFooter.vue\nvar CCardFooter_render, CCardFooter_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CCardFooter_component = Object(componentNormalizer[\"a\" /* default */])(\n  card_CCardFootervue_type_script_lang_js_,\n  CCardFooter_render,\n  CCardFooter_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CCardFooter = (CCardFooter_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/card/CCardGroup.vue?vue&type=script&lang=js&\n\n/* harmony default export */ var CCardGroupvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CCardGroup',\n  props: {\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    deck: Boolean,\n    columns: Boolean\n  },\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    var type = props.columns ? 'columns' : props.deck ? 'deck' : 'group';\n    return h(props.tag, a(data, {\n      staticClass: \"card-\".concat(type)\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/card/CCardGroup.vue?vue&type=script&lang=js&\n /* harmony default export */ var card_CCardGroupvue_type_script_lang_js_ = (CCardGroupvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/card/CCardGroup.vue\nvar CCardGroup_render, CCardGroup_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CCardGroup_component = Object(componentNormalizer[\"a\" /* default */])(\n  card_CCardGroupvue_type_script_lang_js_,\n  CCardGroup_render,\n  CCardGroup_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CCardGroup = (CCardGroup_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/card/CCardHeader.vue?vue&type=script&lang=js&\nfunction CCardHeadervue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n/* harmony default export */ var CCardHeadervue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CCardHeader',\n  props: shared_card_props,\n  render: function render(h, _ref) {\n    var _ref2;\n\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(props.tag || 'header', a(data, {\n      staticClass: 'card-header',\n      class: [(_ref2 = {}, CCardHeadervue_type_script_lang_js_defineProperty(_ref2, \"text-\".concat(props.align), props.align), CCardHeadervue_type_script_lang_js_defineProperty(_ref2, \"bg-\".concat(props.color), props.color), CCardHeadervue_type_script_lang_js_defineProperty(_ref2, \"border-\".concat(props.borderColor), props.borderColor), CCardHeadervue_type_script_lang_js_defineProperty(_ref2, \"text-\".concat(props.textColor), props.textColor), _ref2)]\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/card/CCardHeader.vue?vue&type=script&lang=js&\n /* harmony default export */ var card_CCardHeadervue_type_script_lang_js_ = (CCardHeadervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/card/CCardHeader.vue\nvar CCardHeader_render, CCardHeader_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CCardHeader_component = Object(componentNormalizer[\"a\" /* default */])(\n  card_CCardHeadervue_type_script_lang_js_,\n  CCardHeader_render,\n  CCardHeader_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CCardHeader = (CCardHeader_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/card/CCardImg.vue?vue&type=script&lang=js&\n\n\nvar CCardImgvue_type_script_lang_js_props = Object.assign({\n  variant: {\n    type: String,\n    default: 'full',\n    validator: function validator(val) {\n      return ['', 'top', 'bottom', 'full'].includes(val);\n    }\n  }\n}, CImg.props);\n/* harmony default export */ var CCardImgvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CCardImg',\n  props: CCardImgvue_type_script_lang_js_props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data;\n    var haveClassSuffix = props.variant !== 'full';\n    return h(CImg, a(data, {\n      class: \"card-img\".concat(haveClassSuffix ? \"-\".concat(props.variant) : ''),\n      props: props\n    }));\n  }\n});\n// CONCATENATED MODULE: ./src/components/card/CCardImg.vue?vue&type=script&lang=js&\n /* harmony default export */ var card_CCardImgvue_type_script_lang_js_ = (CCardImgvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/card/CCardImg.vue\nvar CCardImg_render, CCardImg_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CCardImg_component = Object(componentNormalizer[\"a\" /* default */])(\n  card_CCardImgvue_type_script_lang_js_,\n  CCardImg_render,\n  CCardImg_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CCardImg = (CCardImg_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/card/CCardImgOverlay.vue?vue&type=script&lang=js&\n\n/* harmony default export */ var CCardImgOverlayvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CCardImgOverlay',\n  props: {\n    tag: {\n      type: String,\n      default: 'div'\n    }\n  },\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(props.tag, a(data, {\n      staticClass: 'card-img-overlay'\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/card/CCardImgOverlay.vue?vue&type=script&lang=js&\n /* harmony default export */ var card_CCardImgOverlayvue_type_script_lang_js_ = (CCardImgOverlayvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/card/CCardImgOverlay.vue\nvar CCardImgOverlay_render, CCardImgOverlay_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CCardImgOverlay_component = Object(componentNormalizer[\"a\" /* default */])(\n  card_CCardImgOverlayvue_type_script_lang_js_,\n  CCardImgOverlay_render,\n  CCardImgOverlay_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CCardImgOverlay = (CCardImgOverlay_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/card/CCardLink.vue?vue&type=script&lang=js&\n\n\n/* harmony default export */ var CCardLinkvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CCardLink',\n  props: CLinkvue_type_script_lang_js_props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(CLink, a(data, {\n      staticClass: 'card-link',\n      props: props\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/card/CCardLink.vue?vue&type=script&lang=js&\n /* harmony default export */ var card_CCardLinkvue_type_script_lang_js_ = (CCardLinkvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/card/CCardLink.vue\nvar CCardLink_render, CCardLink_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CCardLink_component = Object(componentNormalizer[\"a\" /* default */])(\n  card_CCardLinkvue_type_script_lang_js_,\n  CCardLink_render,\n  CCardLink_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CCardLink = (CCardLink_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/card/CCardSubtitle.vue?vue&type=script&lang=js&\n\n/* harmony default export */ var CCardSubtitlevue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CCardSubtitle',\n  props: {\n    tag: {\n      type: String,\n      default: 'h6'\n    }\n  },\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(props.tag, a(data, {\n      staticClass: 'card-subtitle'\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/card/CCardSubtitle.vue?vue&type=script&lang=js&\n /* harmony default export */ var card_CCardSubtitlevue_type_script_lang_js_ = (CCardSubtitlevue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/card/CCardSubtitle.vue\nvar CCardSubtitle_render, CCardSubtitle_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CCardSubtitle_component = Object(componentNormalizer[\"a\" /* default */])(\n  card_CCardSubtitlevue_type_script_lang_js_,\n  CCardSubtitle_render,\n  CCardSubtitle_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CCardSubtitle = (CCardSubtitle_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/card/CCardText.vue?vue&type=script&lang=js&\n\n/* harmony default export */ var CCardTextvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CCardText',\n  props: {\n    tag: {\n      type: String,\n      default: 'p'\n    }\n  },\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(props.tag, a(data, {\n      staticClass: 'card-text'\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/card/CCardText.vue?vue&type=script&lang=js&\n /* harmony default export */ var card_CCardTextvue_type_script_lang_js_ = (CCardTextvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/card/CCardText.vue\nvar CCardText_render, CCardText_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CCardText_component = Object(componentNormalizer[\"a\" /* default */])(\n  card_CCardTextvue_type_script_lang_js_,\n  CCardText_render,\n  CCardText_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CCardText = (CCardText_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/card/CCardTitle.vue?vue&type=script&lang=js&\n\n/* harmony default export */ var CCardTitlevue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CCardTitle',\n  props: {\n    tag: {\n      type: String,\n      default: 'h4'\n    }\n  },\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(props.tag, a(data, {\n      staticClass: 'card-title'\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/card/CCardTitle.vue?vue&type=script&lang=js&\n /* harmony default export */ var card_CCardTitlevue_type_script_lang_js_ = (CCardTitlevue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/card/CCardTitle.vue\nvar CCardTitle_render, CCardTitle_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CCardTitle_component = Object(componentNormalizer[\"a\" /* default */])(\n  card_CCardTitlevue_type_script_lang_js_,\n  CCardTitle_render,\n  CCardTitle_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CCardTitle = (CCardTitle_component.exports);\n// CONCATENATED MODULE: ./src/components/card/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/collapse/CCollapse.vue?vue&type=template&id=288abac9&\nvar CCollapsevue_type_template_id_288abac9_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ 'navbar-collapse': this.navbar }},[_vm._t(\"default\")],2)}\nvar CCollapsevue_type_template_id_288abac9_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/collapse/CCollapse.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\nvar CCollapsevue_type_script_lang_js_props = {\n  duration: {\n    type: [Number, Object],\n    default: 400\n  },\n  transition: {\n    type: String,\n    default: 'ease-in-out'\n  },\n  show: Boolean,\n  navbar: Boolean\n};\n/* harmony default export */ var CCollapsevue_type_script_lang_js_ = ({\n  name: 'CCollapse',\n  props: CCollapsevue_type_script_lang_js_props,\n  data: function data() {\n    return {\n      collapsing: false,\n      heightWatcher: null,\n      visible: this.show,\n      el: null\n    };\n  },\n  watch: {\n    show: function show(val) {\n      this.visible = val;\n    },\n    visible: function visible(val) {\n      if (this.toggleTime) {\n        this.collapseController(val);\n      } else {\n        this.reset();\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.$el.style.display = this.visible ? '' : 'none';\n  },\n  beforeDestroy: function beforeDestroy() {\n    clearTimeout(this.heightWatcher);\n  },\n  computed: {\n    toggleTime: function toggleTime() {\n      return (this.visible ? this.duration.show : this.duration.hide) || this.duration;\n    }\n  },\n  methods: {\n    collapseController: function collapseController(val) {\n      if (this.collapsing === false) {\n        val ? this.toggle(true) : this.toggle(false);\n        this.setFinishTimer(this.toggleTime);\n      } else {\n        this.setTransition();\n        this.turn();\n        var height = Number(this.collapsing.slice(0, -2));\n        var current = this.$el.offsetHeight;\n        var time = (val ? height - current : current) / height;\n        this.setFinishTimer(this.toggleTime * time);\n      }\n    },\n    turn: function turn() {\n      if (this.visible) {\n        this.$el.style.height = this.collapsing;\n      } else {\n        this.$el.style.height = 0;\n      }\n    },\n    toggle: function toggle(val) {\n      var _this = this;\n\n      this.$el.style.display = '';\n      this.collapsing = this.$el.scrollHeight + 'px';\n      this.$el.style.height = val ? 0 : this.$el.scrollHeight + 'px';\n      this.$el.style.overflow = 'hidden';\n      this.setTransition();\n      var self = this;\n      setTimeout(function () {\n        self.$el.style.height = val ? _this.collapsing : 0;\n      }, 0);\n    },\n    setTransition: function setTransition() {\n      this.$el.style.transition = \"all \".concat(this.toggleTime, \"ms \").concat(this.transition);\n    },\n    setFinishTimer: function setFinishTimer(duration) {\n      var _this2 = this;\n\n      clearTimeout(this.heightWatcher);\n      this.heightWatcher = setTimeout(function () {\n        return _this2.reset();\n      }, duration);\n    },\n    reset: function reset() {\n      this.collapsing = false;\n      this.$el.style.display = this.visible ? '' : 'none';\n      this.$el.style.height = '';\n      this.$el.style.overflow = '';\n      this.$el.style.transition = '';\n      this.$emit('finish', this.visible);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/collapse/CCollapse.vue?vue&type=script&lang=js&\n /* harmony default export */ var collapse_CCollapsevue_type_script_lang_js_ = (CCollapsevue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/collapse/CCollapse.vue\n\n\n\n\n\n/* normalize component */\n\nvar CCollapse_component = Object(componentNormalizer[\"a\" /* default */])(\n  collapse_CCollapsevue_type_script_lang_js_,\n  CCollapsevue_type_template_id_288abac9_render,\n  CCollapsevue_type_template_id_288abac9_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CCollapse = (CCollapse_component.exports);\n// CONCATENATED MODULE: ./src/components/collapse/index.js\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/dropdown/CDropdown.vue?vue&type=template&id=10327108&\nvar CDropdownvue_type_template_id_10327108_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.inNav ? 'li' : 'div',{directives:[{name:\"c-clickaway\",rawName:\"v-c-clickaway\",value:(_vm.visible ? _vm.hide : null),expression:\"visible ? hide : null\"}],tag:\"component\",class:_vm.computedDropdownClasses,on:{\"click\":function($event){return _vm.checkClick($event)}}},[_vm._t(\"toggler\",[_c(_vm.togglerTag,_vm._g(_vm._b({tag:\"component\",class:_vm.computedTogglerClasses},'component',_vm.splittedToggler ? '' : _vm.togglerAttrs,false),{ click: _vm.splittedToggler ? _vm.hide : _vm.toggle }),[_vm._t(\"toggler-content\",[_vm._v(_vm._s(_vm.togglerText))])],2),(_vm.splittedToggler)?_c('button',_vm._b({staticClass:\"dropdown-toggle dropdown-toggle-split\",class:_vm.computedTogglerClasses,on:{\"click\":_vm.toggle}},'button',_vm.togglerAttrs,false)):_vm._e()]),_c('div',{ref:\"menu\",class:_vm.computedMenuClasses},[_vm._t(\"default\")],2)],2)}\nvar CDropdownvue_type_template_id_10327108_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js\nfunction getBoundingClientRect(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    width: rect.width,\n    height: rect.height,\n    top: rect.top,\n    right: rect.right,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    y: rect.top\n  };\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/getWindow.js\n/*:: import type { Window } from '../types'; */\n\n/*:: declare function getWindow(node: Node | Window): Window; */\nfunction getWindow(node) {\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView : window;\n  }\n\n  return node;\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js\n\nfunction getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js\n\n/*:: declare function isElement(node: mixed): boolean %checks(node instanceof\n  Element); */\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n/*:: declare function isHTMLElement(node: mixed): boolean %checks(node instanceof\n  HTMLElement); */\n\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\n\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js\nfunction getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js\n\n\n\n\nfunction getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js\nfunction getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js\n\nfunction getDocumentElement(element) {\n  // $FlowFixMe: assume body is always available\n  return (isElement(element) ? element.ownerDocument : element.document).documentElement;\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js\n\n\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js\n\nfunction getComputedStyle_getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js\n\nfunction isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle_getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js\n\n\n\n\n\n\n // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\nfunction getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement);\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js\n// Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\nfunction getLayoutRect(element) {\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  };\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js\n\n\nfunction getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// $FlowFixMe: this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || // DOM Element detected\n    // $FlowFixMe: need a better way to handle this...\n    element.host || // ShadowRoot detected\n    // $FlowFixMe: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js\n\n\n\n\nfunction getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js\n\n\n\n\n\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the \nreference element's position.\n*/\n\nfunction listScrollParents(element, list) {\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = getNodeName(scrollParent) === 'body';\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js\n\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js\n\n\n\n\n\n\n\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle_getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  var offsetParent = element.offsetParent;\n\n  if (offsetParent) {\n    var html = getDocumentElement(offsetParent);\n\n    if (getNodeName(offsetParent) === 'body' && getComputedStyle_getComputedStyle(offsetParent).position === 'static' && getComputedStyle_getComputedStyle(html).position !== 'static') {\n      return html;\n    }\n  }\n\n  return offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var currentNode = getParentNode(element);\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle_getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.willChange && css.willChange !== 'auto') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nfunction getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle_getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && getNodeName(offsetParent) === 'body' && getComputedStyle_getComputedStyle(offsetParent).position === 'static') {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/enums.js\nvar enums_top = 'top';\nvar bottom = 'bottom';\nvar right = 'right';\nvar left = 'left';\nvar auto = 'auto';\nvar basePlacements = [enums_top, bottom, right, left];\nvar start = 'start';\nvar end = 'end';\nvar enums_clippingParents = 'clippingParents';\nvar viewport = 'viewport';\nvar enums_popper = 'popper';\nvar enums_reference = 'reference';\nvar variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nvar enums_placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nvar beforeRead = 'beforeRead';\nvar read = 'read';\nvar afterRead = 'afterRead'; // pure-logic modifiers\n\nvar beforeMain = 'beforeMain';\nvar main = 'main';\nvar afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nvar beforeWrite = 'beforeWrite';\nvar write = 'write';\nvar afterWrite = 'afterWrite';\nvar modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/utils/orderModifiers.js\n // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nfunction orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/utils/debounce.js\nfunction debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/utils/mergeByName.js\nfunction mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign(Object.assign(Object.assign({}, existing), current), {}, {\n      options: Object.assign(Object.assign({}, existing.options), current.options),\n      data: Object.assign(Object.assign({}, existing.data), current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nfunction popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign(Object.assign({}, DEFAULT_OPTIONS), defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(options) {\n        cleanupModifierEffects();\n        state.options = Object.assign(Object.assign(Object.assign({}, defaultOptions), state.options), options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (false) { var _getComputedStyle, marginTop, marginRight, marginBottom, marginLeft, flipModifier, modifiers; }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (false) {}\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (false) {}\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (false) {}\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nvar lib_createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\n\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/modifiers/eventListeners.js\n // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ var eventListeners = ({\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n});\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/utils/getBasePlacement.js\n\nfunction getBasePlacement(placement) {\n  return placement.split('-')[0];\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/utils/getVariation.js\nfunction getVariation(placement) {\n  return placement.split('-')[1];\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js\nfunction getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/utils/computeOffsets.js\n\n\n\n\nfunction computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case enums_top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = Math.floor(offsets[mainAxis]) - Math.floor(reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = Math.floor(offsets[mainAxis]) + Math.ceil(reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js\n\n\nfunction popperOffsets_popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ var modifiers_popperOffsets = ({\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets_popperOffsets,\n  data: {}\n});\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/modifiers/computeStyles.js\n\n\n\n\n\n // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsets(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: Math.round(x * dpr) / dpr || 0,\n    y: Math.round(y * dpr) / dpr || 0\n  };\n}\n\nfunction mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive;\n\n  var _roundOffsets = roundOffsets(offsets),\n      x = _roundOffsets.x,\n      y = _roundOffsets.y;\n\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = enums_top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n    } // $FlowFixMe: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n    /*:: offsetParent = (offsetParent: Element); */\n\n\n    if (placement === enums_top) {\n      sideY = bottom;\n      y -= offsetParent.clientHeight - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left) {\n      sideX = right;\n      x -= offsetParent.clientWidth - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign(Object.assign({}, commonStyles), {}, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) < 2 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign(Object.assign({}, commonStyles), {}, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref3) {\n  var state = _ref3.state,\n      options = _ref3.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive;\n\n  if (false) { var transitionProperty; }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign(Object.assign({}, state.styles.popper), mapToStyles(Object.assign(Object.assign({}, commonStyles), {}, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign(Object.assign({}, state.styles.arrow), mapToStyles(Object.assign(Object.assign({}, commonStyles), {}, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false\n    })));\n  }\n\n  state.attributes.popper = Object.assign(Object.assign({}, state.attributes.popper), {}, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ var modifiers_computeStyles = ({\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n});\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/modifiers/applyStyles.js\n\n // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction applyStyles_effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      } // Flow doesn't support to extend this property, but it's the most\n      // effective way to apply styles to an HTMLElement\n      // $FlowFixMe\n\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ var modifiers_applyStyles = ({\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: applyStyles_effect,\n  requires: ['computeStyles']\n});\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/modifiers/offset.js\n\n\nfunction distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, enums_top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign(Object.assign({}, rects), {}, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset_offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = enums_placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ var modifiers_offset = ({\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset_offset\n});\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js\nvar hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js\nvar getOppositeVariationPlacement_hash = {\n  start: 'end',\n  end: 'start'\n};\nfunction getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return getOppositeVariationPlacement_hash[matched];\n  });\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js\n\n\n\nfunction getViewportRect(element) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0; // NB: This isn't supported on iOS <= 12. If the keyboard is open, the popper\n  // can be obscured underneath it.\n  // Also, `html.clientHeight` adds the bottom bar height in Safari iOS, even\n  // if it isn't open, so if this isn't available, the popper will be detected\n  // to overflow the bottom of the screen too early.\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height; // Uses Layout Viewport (like Chrome; Safari does not currently)\n    // In Chrome, it returns a value very close to 0 (+/-) but contains rounding\n    // errors due to floating point numbers, so we need to check precision.\n    // Safari returns a number <= 0, usually < -1 when pinch-zoomed\n    // Feature detection fails in mobile emulation mode in Chrome.\n    // Math.abs(win.innerWidth / visualViewport.scale - visualViewport.width) <\n    // 0.001\n    // Fallback here: \"Not Safari\" userAgent\n\n    if (!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js\n\n\n\n // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nfunction getDocumentRect(element) {\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = element.ownerDocument.body;\n  var width = Math.max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = Math.max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle_getComputedStyle(body || html).direction === 'rtl') {\n    x += Math.max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/contains.js\nfunction contains(parent, child) {\n  // $FlowFixMe: hasOwnProperty doesn't seem to work in tests\n  var isShadow = Boolean(child.getRootNode && child.getRootNode().host); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (isShadow) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/utils/rectToClientRect.js\nfunction rectToClientRect(rect) {\n  return Object.assign(Object.assign({}, rect), {}, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction getInnerBoundingClientRect(element) {\n  var rect = getBoundingClientRect(element);\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element)) : isHTMLElement(clippingParent) ? getInnerBoundingClientRect(clippingParent) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle_getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nfunction getClippingRect(element, boundary, rootBoundary) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent);\n    accRect.top = Math.max(rect.top, accRect.top);\n    accRect.right = Math.min(rect.right, accRect.right);\n    accRect.bottom = Math.min(rect.bottom, accRect.bottom);\n    accRect.left = Math.max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js\nfunction getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js\n\nfunction mergePaddingObject(paddingObject) {\n  return Object.assign(Object.assign({}, getFreshSideObject()), paddingObject);\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/utils/expandToHashMap.js\nfunction expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/utils/detectOverflow.js\n\n\n\n\n\n\n\n\n // eslint-disable-next-line import/no-unused-modules\n\nfunction detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? enums_clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? enums_popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === enums_popper ? enums_reference : enums_popper;\n  var referenceElement = state.elements.reference;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary);\n  var referenceClientRect = getBoundingClientRect(referenceElement);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign(Object.assign({}, popperRect), popperOffsets));\n  var elementClientRect = elementContext === enums_popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === enums_popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [enums_top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js\n\n\n\n\n\n/*:: type OverflowsMap = { [ComputedPlacement]: number }; */\n\n/*;; type OverflowsMap = { [key in ComputedPlacement]: number }; */\nfunction computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? enums_placements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements; // $FlowFixMe\n\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n\n    if (false) {}\n  } // $FlowFixMe: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/modifiers/flip.js\n\n\n\n\n\n\n // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [enums_top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : enums_top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases – research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ var modifiers_flip = ({\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n});\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/utils/getAltAxis.js\nfunction getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/utils/within.js\nfunction within(min, value, max) {\n  return Math.max(min, Math.min(value, max));\n}\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js\n\n\n\n\n\n\n\n\n\n\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign(Object.assign({}, state.rects), {}, {\n    placement: state.placement\n  })) : tetherOffset;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var mainSide = mainAxis === 'y' ? enums_top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = popperOffsets[mainAxis] + overflow[mainSide];\n    var max = popperOffsets[mainAxis] - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - tetherOffsetValue : minLen - arrowLen - arrowPaddingMin - tetherOffsetValue;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + tetherOffsetValue : maxLen + arrowLen + arrowPaddingMax + tetherOffsetValue;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = state.modifiersData.offset ? state.modifiersData.offset[state.placement][mainAxis] : 0;\n    var tetherMin = popperOffsets[mainAxis] + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = popperOffsets[mainAxis] + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? Math.min(min, tetherMin) : min, offset, tether ? Math.max(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _mainSide = mainAxis === 'x' ? enums_top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var _preventedOffset = within(_min, _offset, _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ var modifiers_preventOverflow = ({\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n});\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/modifiers/arrow.js\n\n\n\n\n\n\n\n\n\n // eslint-disable-next-line import/no-unused-modules\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = state.modifiersData[name + \"#persistent\"].padding;\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? enums_top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction arrow_effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element,\n      _options$padding = options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (false) {}\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (false) {}\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n  state.modifiersData[name + \"#persistent\"] = {\n    padding: mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements))\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ var modifiers_arrow = ({\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: arrow_effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n});\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/modifiers/hide.js\n\n\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [enums_top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign(Object.assign({}, state.attributes.popper), {}, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\n/* harmony default export */ var modifiers_hide = ({\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n});\n// CONCATENATED MODULE: ./node_modules/@popperjs/core/lib/popper.js\n\n\n\n\n\n\n\n\n\n\nvar popper_defaultModifiers = [eventListeners, modifiers_popperOffsets, modifiers_computeStyles, modifiers_applyStyles, modifiers_offset, modifiers_flip, modifiers_preventOverflow, modifiers_arrow, modifiers_hide];\nvar popper_createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: popper_defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\n\n// CONCATENATED MODULE: ./src/directives/CClickaway.js\nvar HANDLER = 'c_clickaway_handler';\n\nfunction setListeners(el, binding, vnode) {\n  var callback = binding.value;\n\n  if (typeof callback !== 'function') {\n    return;\n  }\n\n  el[HANDLER] = function (e) {\n    return el.contains(e.target) || callback.call(vnode.context, e);\n  };\n\n  document.documentElement.addEventListener(binding.arg || 'click', el[HANDLER]);\n}\n\nfunction unsetListeners(el, binding) {\n  document.documentElement.removeEventListener(binding.arg || 'click', el[HANDLER]);\n  delete el[HANDLER];\n}\n\n/* harmony default export */ var CClickaway = ({\n  bind: setListeners,\n  update: function update(el, binding, vnode) {\n    if (binding.value !== binding.oldValue) {\n      unsetListeners(el, binding);\n      setListeners(el, binding, vnode);\n    }\n  },\n  unbind: unsetListeners\n});\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/dropdown/CDropdown.vue?vue&type=script&lang=js&\nfunction CDropdownvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var CDropdownvue_type_script_lang_js_ = ({\n  name: 'CDropdown',\n  directives: {\n    CClickaway: CClickaway\n  },\n  components: {\n    CLink: CLink\n  },\n  props: {\n    togglerText: {\n      type: String,\n      default: 'Dropdown'\n    },\n    show: Boolean,\n    disabled: Boolean,\n    addMenuClasses: [String, Array, Object],\n    addTogglerClasses: [String, Array, Object],\n    inNav: Boolean,\n    caret: {\n      type: Boolean,\n      default: true\n    },\n    color: String,\n    size: {\n      type: String,\n      validator: function validator(val) {\n        return ['', 'sm', 'lg'].includes(val);\n      }\n    },\n    split: Boolean,\n    placement: {\n      type: String,\n      validator: function validator(position) {\n        return ['', 'top-end', 'top', 'top-start', 'bottom-end', 'bottom', 'bottom-start', 'right-start', 'right', 'right-end', 'left-start', 'left', 'left-end'].includes(position);\n      },\n      default: 'bottom-start'\n    },\n    offset: {\n      type: Array,\n      default: function _default() {\n        return [0, 0];\n      }\n    },\n    flip: {\n      type: Boolean,\n      default: true\n    },\n    customPopperOptions: Object\n  },\n  data: function data() {\n    return {\n      visible: this.show\n    };\n  },\n  watch: {\n    show: function show(val) {\n      this.visible = val;\n    },\n    visible: {\n      immediate: true,\n      handler: function handler(val) {\n        val ? this.createPopper() : this.removePopper();\n        this.$emit('update:show', val);\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.$on('dropdown-close', this.hide);\n  },\n  methods: {\n    checkClick: function checkClick(e) {\n      if (this.$scopedSlots.toggler && this.$el.firstElementChild.contains(e.target)) {\n        this.toggle(e);\n      }\n    },\n    hide: function hide() {\n      this.visible = false;\n    },\n    toggle: function toggle(e) {\n      e.preventDefault();\n      this.visible = !this.visible;\n    },\n    removePopper: function removePopper() {\n      if (this._popper) {\n        this._popper.destroy();\n      }\n\n      this._popper = null;\n    },\n    createPopper: function createPopper() {\n      var _this = this;\n\n      this.removePopper();\n\n      if (this.disabled) {\n        this.visible = false;\n        return;\n      }\n\n      this.$nextTick(function () {\n        _this._popper = popper_createPopper( //not first child because of split buttons\n        _this.$el.children[_this.$el.children.length - 2], _this.$refs.menu, _this.customPopperOptions || _this.defaultPopperOptions);\n      });\n    }\n  },\n  computed: {\n    defaultPopperOptions: function defaultPopperOptions() {\n      return {\n        placement: this.placement,\n        modifiers: [{\n          name: 'offset',\n          options: {\n            offset: this.offset\n          }\n        }, {\n          name: 'flip',\n          enabled: this.flip\n        }, {\n          name: 'preventOverflow',\n          options: {\n            padding: 10\n          }\n        }]\n      };\n    },\n    carretClass: function carretClass() {\n      return this.placement.includes('top') ? 'dropup' : this.placement.includes('right') ? 'dropright' : this.placement.includes('left') ? 'dropleft' : 'dropdown';\n    },\n    computedDropdownClasses: function computedDropdownClasses() {\n      return [this.carretClass, {\n        'show': this.visible,\n        'nav-item': this.inNav,\n        'btn-group': this.splittedToggler\n      }];\n    },\n    togglerTag: function togglerTag() {\n      return this.inNav ? CLink : 'button';\n    },\n    splittedToggler: function splittedToggler() {\n      return this.split && !this.inNav;\n    },\n    computedTogglerClasses: function computedTogglerClasses() {\n      var _ref;\n\n      return [this.addTogglerClasses, this.inNav ? 'nav-link' : 'btn', (_ref = {\n        'dropdown-toggle': this.caret && !this.split\n      }, CDropdownvue_type_script_lang_js_defineProperty(_ref, \"btn-\".concat(this.size), this.size && !this.inNav), CDropdownvue_type_script_lang_js_defineProperty(_ref, 'disabled', this.disabled), CDropdownvue_type_script_lang_js_defineProperty(_ref, \"\".concat(this.inNav ? 'bg' : 'btn', \"-\").concat(this.color), this.color), _ref)];\n    },\n    togglerAttrs: function togglerAttrs() {\n      return {\n        'type': this.inNav ? null : 'button',\n        'aria-expanded': this.visible ? 'true' : 'false',\n        'aria-haspopup': 'true'\n      };\n    },\n    computedMenuClasses: function computedMenuClasses() {\n      return [this.addMenuClasses, 'dropdown-menu', {\n        'show': this.visible\n      }];\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/dropdown/CDropdown.vue?vue&type=script&lang=js&\n /* harmony default export */ var dropdown_CDropdownvue_type_script_lang_js_ = (CDropdownvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/dropdown/CDropdown.vue\n\n\n\n\n\n/* normalize component */\n\nvar CDropdown_component = Object(componentNormalizer[\"a\" /* default */])(\n  dropdown_CDropdownvue_type_script_lang_js_,\n  CDropdownvue_type_template_id_10327108_render,\n  CDropdownvue_type_template_id_10327108_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CDropdown = (CDropdown_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/dropdown/CDropdownHeader.vue?vue&type=script&lang=js&\nfunction CDropdownHeadervue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n/* harmony default export */ var CDropdownHeadervue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CDropdownHeader',\n  props: {\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    color: String\n  },\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(props.tag, a(data, {\n      staticClass: 'dropdown-header',\n      class: CDropdownHeadervue_type_script_lang_js_defineProperty({}, \"bg-\".concat(props.color), props.color)\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/dropdown/CDropdownHeader.vue?vue&type=script&lang=js&\n /* harmony default export */ var dropdown_CDropdownHeadervue_type_script_lang_js_ = (CDropdownHeadervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/dropdown/CDropdownHeader.vue\nvar CDropdownHeader_render, CDropdownHeader_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CDropdownHeader_component = Object(componentNormalizer[\"a\" /* default */])(\n  dropdown_CDropdownHeadervue_type_script_lang_js_,\n  CDropdownHeader_render,\n  CDropdownHeader_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CDropdownHeader = (CDropdownHeader_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/dropdown/CDropdownDivider.vue?vue&type=script&lang=js&\n\n/* harmony default export */ var CDropdownDividervue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CDropdownDivider',\n  props: {\n    tag: {\n      type: String,\n      default: 'div'\n    }\n  },\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data;\n    return h(props.tag, a(data, {\n      staticClass: 'dropdown-divider',\n      attrs: {\n        role: 'separator'\n      }\n    }));\n  }\n});\n// CONCATENATED MODULE: ./src/components/dropdown/CDropdownDivider.vue?vue&type=script&lang=js&\n /* harmony default export */ var dropdown_CDropdownDividervue_type_script_lang_js_ = (CDropdownDividervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/dropdown/CDropdownDivider.vue\nvar CDropdownDivider_render, CDropdownDivider_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CDropdownDivider_component = Object(componentNormalizer[\"a\" /* default */])(\n  dropdown_CDropdownDividervue_type_script_lang_js_,\n  CDropdownDivider_render,\n  CDropdownDivider_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CDropdownDivider = (CDropdownDivider_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/dropdown/CDropdownItem.vue?vue&type=script&lang=js&\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { CDropdownItemvue_type_script_lang_js_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction CDropdownItemvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n/* harmony default export */ var CDropdownItemvue_type_script_lang_js_ = ({\n  name: 'CDropdownItem',\n  props: propsFactory(),\n  render: function render(h) {\n    var _this = this;\n\n    var data = {\n      props: this._props,\n      staticClass: 'dropdown-item',\n      attrs: {\n        role: 'menuitem'\n      },\n      on: _objectSpread(_objectSpread({}, this.$listeners), {}, {\n        click: function click(e) {\n          _this.$parent.$emit('dropdown-close');\n\n          _this.$emit('click', e);\n        }\n      })\n    };\n\n    if (this.to) {\n      data.nativeOn = {\n        click: function click(e) {\n          _this.$parent.$emit('dropdown-close');\n\n          _this.$emit('click', e);\n        }\n      };\n    }\n\n    return h(CLink, data, this.$slots.default);\n  }\n});\n// CONCATENATED MODULE: ./src/components/dropdown/CDropdownItem.vue?vue&type=script&lang=js&\n /* harmony default export */ var dropdown_CDropdownItemvue_type_script_lang_js_ = (CDropdownItemvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/dropdown/CDropdownItem.vue\nvar CDropdownItem_render, CDropdownItem_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CDropdownItem_component = Object(componentNormalizer[\"a\" /* default */])(\n  dropdown_CDropdownItemvue_type_script_lang_js_,\n  CDropdownItem_render,\n  CDropdownItem_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CDropdownItem = (CDropdownItem_component.exports);\n// CONCATENATED MODULE: ./src/components/dropdown/index.js\n\n\n\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/element-cover/CElementCover.vue?vue&type=template&id=dd1ee9a4&\nvar CElementCovervue_type_template_id_dd1ee9a4_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{style:(_vm.outerContainerStyles)},[(_vm.center)?_c('div',{style:(_vm.centeringStyles)},[_vm._t(\"default\",[_c('CSpinner',{attrs:{\"grow\":\"\",\"size\":\"lg\",\"color\":\"primary\"}})])],2):_vm._t(\"default\",[_c('CSpinner',{attrs:{\"size\":\"lg\",\"color\":\"primary\"}})])],2)}\nvar CElementCovervue_type_template_id_dd1ee9a4_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/spinner/CSpinner.vue?vue&type=script&lang=js&\nfunction CSpinnervue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n/* harmony default export */ var CSpinnervue_type_script_lang_js_ = ({\n  name: 'CSpinner',\n  functional: true,\n  props: {\n    grow: Boolean,\n    color: String,\n    size: String,\n    tag: {\n      type: String,\n      default: 'div'\n    }\n  },\n  render: function render(h, _ref) {\n    var _ref2;\n\n    var props = _ref.props,\n        data = _ref.data;\n    var type = props.grow ? 'grow' : 'border';\n    return h(props.tag, a(data, {\n      attrs: {\n        role: 'status',\n        'aria-hidden': 'false',\n        'aria-label': 'Loading'\n      },\n      class: [\"spinner-\".concat(type), (_ref2 = {}, CSpinnervue_type_script_lang_js_defineProperty(_ref2, \"spinner-\".concat(type, \"-\").concat(props.size), props.size), CSpinnervue_type_script_lang_js_defineProperty(_ref2, \"text-\".concat(props.color), props.color), _ref2)]\n    }));\n  }\n});\n// CONCATENATED MODULE: ./src/components/spinner/CSpinner.vue?vue&type=script&lang=js&\n /* harmony default export */ var spinner_CSpinnervue_type_script_lang_js_ = (CSpinnervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/spinner/CSpinner.vue\nvar CSpinner_render, CSpinner_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CSpinner_component = Object(componentNormalizer[\"a\" /* default */])(\n  spinner_CSpinnervue_type_script_lang_js_,\n  CSpinner_render,\n  CSpinner_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CSpinner = (CSpinner_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/element-cover/CElementCover.vue?vue&type=script&lang=js&\nfunction CElementCovervue_type_script_lang_js_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction CElementCovervue_type_script_lang_js_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { CElementCovervue_type_script_lang_js_ownKeys(Object(source), true).forEach(function (key) { CElementCovervue_type_script_lang_js_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { CElementCovervue_type_script_lang_js_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction CElementCovervue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CElementCovervue_type_script_lang_js_ = ({\n  name: 'CElementCover',\n  props: {\n    boundaries: Array,\n    center: {\n      type: Boolean,\n      default: true\n    },\n    opacity: {\n      type: Number,\n      default: 0.4\n    }\n  },\n  components: {\n    CSpinner: CSpinner\n  },\n  data: function data() {\n    return {\n      containerCoords: {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0\n      },\n      parentCoords: null\n    };\n  },\n  mounted: function mounted() {\n    if (this.boundaries) {\n      this.setOffsets();\n    }\n  },\n  computed: {\n    outerContainerStyles: function outerContainerStyles() {\n      return CElementCovervue_type_script_lang_js_objectSpread(CElementCovervue_type_script_lang_js_objectSpread({}, this.containerCoords), {}, {\n        position: 'absolute',\n        'background-color': \"rgb(255,255,255,\".concat(this.opacity, \")\")\n      });\n    },\n    centeringStyles: function centeringStyles() {\n      return {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        transform: 'translateX(-50%) translateY(-50%)'\n      };\n    }\n  },\n  methods: {\n    setOffsets: function setOffsets() {\n      var _this = this;\n\n      var parent = this.$el.parentElement;\n      this.parentCoords = parent.getBoundingClientRect();\n      this.boundaries.forEach(function (_ref) {\n        var sides = _ref.sides,\n            query = _ref.query;\n        var element = parent.querySelector(query);\n\n        if (!element || !sides) {\n          return;\n        }\n\n        var coords = element.getBoundingClientRect();\n        sides.forEach(function (side) {\n          var sideMargin = Math.abs(coords[side] - _this.parentCoords[side]);\n          _this.containerCoords[side] = sideMargin + 'px';\n        });\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/element-cover/CElementCover.vue?vue&type=script&lang=js&\n /* harmony default export */ var element_cover_CElementCovervue_type_script_lang_js_ = (CElementCovervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/element-cover/CElementCover.vue\n\n\n\n\n\n/* normalize component */\n\nvar CElementCover_component = Object(componentNormalizer[\"a\" /* default */])(\n  element_cover_CElementCovervue_type_script_lang_js_,\n  CElementCovervue_type_template_id_dd1ee9a4_render,\n  CElementCovervue_type_template_id_dd1ee9a4_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CElementCover = (CElementCover_component.exports);\n// CONCATENATED MODULE: ./src/components/element-cover/index.js\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/embed/CEmbed.vue?vue&type=script&lang=js&\n\nvar CEmbedvue_type_script_lang_js_props = {\n  type: {\n    type: String,\n    default: 'iframe',\n    validator: function validator(type) {\n      return ['iframe', 'embed', 'video', 'object', 'img'].includes(type);\n    }\n  },\n  ratio: {\n    type: String,\n    default: '16by9',\n    validator: function validator(ratio) {\n      return ['21by9', '16by9', '4by3', '1by1'].includes(ratio);\n    }\n  },\n  tag: {\n    type: String,\n    default: 'div'\n  }\n};\n/* harmony default export */ var CEmbedvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CEmbed',\n  props: CEmbedvue_type_script_lang_js_props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(props.tag, {\n      ref: data.ref,\n      staticClass: 'embed-responsive',\n      class: \"embed-responsive-\".concat(props.ratio)\n    }, [h(props.type, a(data, {\n      ref: '',\n      staticClass: 'embed-responsive-item'\n    }), children)]);\n  }\n});\n// CONCATENATED MODULE: ./src/components/embed/CEmbed.vue?vue&type=script&lang=js&\n /* harmony default export */ var embed_CEmbedvue_type_script_lang_js_ = (CEmbedvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/embed/CEmbed.vue\nvar CEmbed_render, CEmbed_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CEmbed_component = Object(componentNormalizer[\"a\" /* default */])(\n  embed_CEmbedvue_type_script_lang_js_,\n  CEmbed_render,\n  CEmbed_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CEmbed = (CEmbed_component.exports);\n// CONCATENATED MODULE: ./src/components/embed/index.js\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/form/CForm.vue?vue&type=script&lang=js&\n\n/* harmony default export */ var CFormvue_type_script_lang_js_ = ({\n  name: 'CForm',\n  functional: true,\n  props: {\n    inline: Boolean,\n    wasValidated: Boolean\n  },\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h('form', a(data, {\n      class: {\n        'form-inline': props.inline,\n        'was-validated': props.wasValidated\n      }\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/form/CForm.vue?vue&type=script&lang=js&\n /* harmony default export */ var form_CFormvue_type_script_lang_js_ = (CFormvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/form/CForm.vue\nvar CForm_render, CForm_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CForm_component = Object(componentNormalizer[\"a\" /* default */])(\n  form_CFormvue_type_script_lang_js_,\n  CForm_render,\n  CForm_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CForm = (CForm_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/form/CFormGroup.vue?vue&type=template&id=b521e786&\nvar CFormGroupvue_type_template_id_b521e786_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"role\":\"group\"}},[(_vm.wrapperClasses)?[_vm._t(\"label\"),_c('div',{class:_vm.wrapperClasses},[(_vm.prepend || _vm.$slots.prepend|| _vm.$slots['prepend-content'])?_c('div',{staticClass:\"input-group-prepend\"},[_vm._t(\"prepend\",[_c('span',{staticClass:\"input-group-text\"},[_vm._t(\"prepend-content\",[_vm._v(_vm._s(_vm.prepend))])],2)])],2):_vm._e(),_vm._t(\"input\"),_vm._t(\"label-after-input\"),(_vm.append || _vm.$slots.append || _vm.$slots['append-content'])?_c('div',{staticClass:\"input-group-append\"},[_vm._t(\"append\",[_c('span',{staticClass:\"input-group-text\"},[_vm._t(\"append-content\",[_vm._v(_vm._s(_vm.append))])],2)])],2):_vm._e(),_vm._t(\"valid-feedback\",[(_vm.validFeedback)?_c('div',{class:_vm.tooltipFeedback ? 'valid-tooltip' : 'valid-feedback',domProps:{\"textContent\":_vm._s(_vm.validFeedback)}}):_vm._e()]),_vm._t(\"invalid-feedback\",[(_vm.invalidFeedback)?_c('div',{class:_vm.tooltipFeedback ? 'invalid-tooltip' : 'invalid-feedback',domProps:{\"textContent\":_vm._s(_vm.invalidFeedback)}}):_vm._e()]),_vm._t(\"description\",[(_vm.description)?_c('small',{staticClass:\"form-text text-muted w-100\",domProps:{\"textContent\":_vm._s(_vm.description)}}):_vm._e()])],2)]:[_vm._t(\"label\"),(_vm.prepend || _vm.$slots.prepend || _vm.$slots['prepend-content'])?_c('div',{staticClass:\"input-group-prepend\"},[_vm._t(\"prepend\",[_c('span',{staticClass:\"input-group-text\"},[_vm._t(\"prepend-content\",[_vm._v(_vm._s(_vm.prepend))])],2)])],2):_vm._e(),_vm._t(\"input\"),_vm._t(\"label-after-input\"),(_vm.append || _vm.$slots.append || _vm.$slots['append-content'])?_c('div',{staticClass:\"input-group-append\"},[_vm._t(\"append\",[_c('span',{staticClass:\"input-group-text\"},[_vm._t(\"append-content\",[_vm._v(_vm._s(_vm.append))])],2)])],2):_vm._e(),_vm._t(\"valid-feedback\",[(_vm.validFeedback)?_c('div',{class:_vm.tooltipFeedback ? 'valid-tooltip' : 'valid-feedback',domProps:{\"textContent\":_vm._s(_vm.validFeedback)}}):_vm._e()]),_vm._t(\"invalid-feedback\",[(_vm.invalidFeedback)?_c('div',{class:_vm.tooltipFeedback ? 'invalid-tooltip' : 'invalid-feedback',domProps:{\"textContent\":_vm._s(_vm.invalidFeedback)}}):_vm._e()]),_vm._t(\"description\",[(_vm.description)?_c('small',{staticClass:\"form-text text-muted w-100\",domProps:{\"textContent\":_vm._s(_vm.description)}}):_vm._e()])]],2)}\nvar CFormGroupvue_type_template_id_b521e786_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/form/form-props.js\nvar formGroupAlwaysSharedProps = {\n  validFeedback: String,\n  invalidFeedback: String,\n  tooltipFeedback: Boolean,\n  description: String\n};\nvar formGroupSharedProps = Object.assign({}, formGroupAlwaysSharedProps, {\n  append: String,\n  prepend: String\n});\nvar formGroupProps = Object.assign({}, formGroupSharedProps, {\n  wrapperClasses: [String, Array, Object]\n});\nvar universalProps = {\n  label: String,\n  wasValidated: Boolean,\n  isValid: {\n    type: [Boolean, Function],\n    default: null\n  },\n  addInputClasses: [String, Array, Object],\n  addLabelClasses: [String, Array, Object]\n};\nvar form_props_props = Object.assign({}, universalProps, {\n  horizontal: [Boolean, Object],\n  size: {\n    type: String,\n    validator: function validator(str) {\n      return ['', 'sm', 'lg'].includes(str);\n    }\n  },\n  addWrapperClasses: [String, Array, Object]\n});\nvar textInputsProps = {\n  readonly: Boolean,\n  plaintext: Boolean,\n  value: [String, Number],\n  lazy: {\n    type: [Boolean, Number],\n    default: 400\n  }\n}; // Html props: disabled, required, accept, id, placeholder\n\nvar inputFileProps = Object.assign({}, formGroupAlwaysSharedProps, form_props_props, {\n  custom: Boolean,\n  placeholder: String,\n  multiple: Boolean\n}); // Html props: disabled, required, rows, cols, placeholder, id\n\nvar textareaProps = Object.assign({}, formGroupSharedProps, form_props_props, textInputsProps); // HTML props: disabled, required, placeholder, id\n\nvar inputProps = Object.assign({}, formGroupSharedProps, form_props_props, textInputsProps, {\n  type: {\n    type: String,\n    default: 'text'\n  }\n}); // Html props: disabled, id required don't use multiple\n\nvar selectProps = Object.assign({}, formGroupSharedProps, form_props_props, {\n  options: Array,\n  value: [String, Number, Boolean, Array],\n  plaintext: Boolean,\n  placeholder: String,\n  custom: Boolean\n}); // Html props: id, disabled, required\n\nvar inputCheckboxProps = Object.assign({}, formGroupAlwaysSharedProps, universalProps, {\n  checked: Boolean,\n  custom: Boolean,\n  inline: Boolean\n});\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/form/CFormGroup.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CFormGroupvue_type_script_lang_js_ = ({\n  name: 'CFormGroup',\n  inheritAttrs: false,\n  props: formGroupProps // {\n  //   validFeedback: String,\n  //   invalidFeedback: String,\n  //   tooltipFeedback: Boolean,\n  //   description: String,\n  //   append: String,\n  //   prepend: String,\n  //   wrapperClasses: [String, Array, Object],\n  // },\n\n});\n// CONCATENATED MODULE: ./src/components/form/CFormGroup.vue?vue&type=script&lang=js&\n /* harmony default export */ var form_CFormGroupvue_type_script_lang_js_ = (CFormGroupvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/form/CFormGroup.vue\n\n\n\n\n\n/* normalize component */\n\nvar CFormGroup_component = Object(componentNormalizer[\"a\" /* default */])(\n  form_CFormGroupvue_type_script_lang_js_,\n  CFormGroupvue_type_template_id_b521e786_render,\n  CFormGroupvue_type_template_id_b521e786_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CFormGroup = (CFormGroup_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/form/CInput.vue?vue&type=template&id=13bcd5d2&\nvar CInputvue_type_template_id_13bcd5d2_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CFormGroup',_vm._b({scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._t(\"label\",[(_vm.label)?_c('label',{class:_vm.labelClasses,attrs:{\"for\":_vm.safeId}},[_vm._v(\" \"+_vm._s(_vm.label)+\" \")]):_vm._e()])]},proxy:true},{key:\"input\",fn:function(){return [_c('input',_vm._g(_vm._b({class:_vm.inputClasses,attrs:{\"id\":_vm.safeId,\"type\":_vm.type,\"readonly\":_vm.readonly || _vm.plaintext},domProps:{\"value\":_vm.state},on:{\"input\":function($event){return _vm.onInput($event)},\"change\":function($event){return _vm.onChange($event)}}},'input',_vm.$attrs,false),_vm.listeners))]},proxy:true},_vm._l((_vm.$options.slots),function(slot){return {key:slot,fn:function(){return [_vm._t(slot)]},proxy:true}})],null,true)},'CFormGroup',{append: _vm.append, prepend: _vm.prepend, validFeedback: _vm.validFeedback, invalidFeedback: _vm.invalidFeedback,\n      tooltipFeedback: _vm.tooltipFeedback, description: _vm.description, wrapperClasses: _vm.wrapperClasses, class: _vm.computedClasses},false))}\nvar CInputvue_type_template_id_13bcd5d2_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/@coreui/utils/src/make-uid.js\n//function for UI releted ID assignment, due to one in 10^15 probability of duplication\nvar makeUid = function makeUid() {\n  var key = Math.random().toString(36).substr(2);\n  return 'uid-' + key;\n};\n\n/* harmony default export */ var make_uid = (makeUid);\n// CONCATENATED MODULE: ./src/components/form/form-mixins.js\nfunction form_mixins_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nvar sharedComputedProps = {\n  computed: {\n    computedIsValid: function computedIsValid() {\n      if (typeof this.isValid === 'function') {\n        return this.isValid(this.state);\n      }\n\n      return this.isValid;\n    },\n    validationClass: function validationClass() {\n      if (typeof this.computedIsValid === 'boolean') {\n        return this.computedIsValid ? 'is-valid' : 'is-invalid';\n      }\n    },\n    safeId: function safeId() {\n      if (this.id || this.$attrs.id) {\n        return this.id || this.$attrs.id;\n      }\n\n      return make_uid();\n    }\n  }\n};\nvar wrapperComputedProps = {\n  computed: {\n    isHorizontal: function isHorizontal() {\n      return Boolean(this.horizontal);\n    },\n    haveInputGroup: function haveInputGroup() {\n      return Boolean(this.tooltipFeedback || this.append || this.prepend || this.$slots.append || this.$slots.prepend || this.$slots['append-content'] || this.$slots['prepend-content']);\n    },\n    haveWrapper: function haveWrapper() {\n      return this.haveInputGroup || Boolean(this.addWrapperClasses || this.isHorizontal);\n    },\n    wrapperClasses: function wrapperClasses() {\n      if (this.haveWrapper) {\n        var _ref;\n\n        return [this.addWrapperClasses, (_ref = {}, form_mixins_defineProperty(_ref, this.horizontal.input || 'col-sm-9', this.isHorizontal), form_mixins_defineProperty(_ref, 'input-group', this.haveInputGroup), form_mixins_defineProperty(_ref, \"input-group-\".concat(this.size), this.haveCustomSize), _ref)];\n      }\n    }\n  }\n};\nvar watchValue = {\n  watch: {\n    value: function value(val) {\n      this.state = val;\n    }\n  }\n};\nvar classesComputedProps = {\n  computed: {\n    haveCustomSize: function haveCustomSize() {\n      return ['sm', 'lg'].includes(this.size);\n    },\n    computedClasses: function computedClasses() {\n      return ['form-group', {\n        'was-validated': this.wasValidated,\n        'form-row': this.isHorizontal\n      }];\n    },\n    labelClasses: function labelClasses() {\n      var _ref2;\n\n      return [this.addLabelClasses, (_ref2 = {\n        'col-form-label': this.isHorizontal\n      }, form_mixins_defineProperty(_ref2, this.horizontal.label || 'col-sm-3', this.isHorizontal), form_mixins_defineProperty(_ref2, \"col-form-label-\".concat(this.size), this.haveCustomSize), _ref2)];\n    },\n    customSizeClass: function customSizeClass() {\n      if (this.haveCustomSize && !this.haveWrapper) {\n        return \"form-control-\".concat(this.size);\n      }\n    },\n    inputClasses: function inputClasses() {\n      return [this.inputClass || \"form-control\".concat(this.plaintext ? '-plaintext' : ''), this.validationClass, this.addInputClasses, this.customSizeClass];\n    }\n  }\n};\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/form/CInput.vue?vue&type=script&lang=js&\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\nvar mixins = Object.values(form_mixins_namespaceObject);\n/* harmony default export */ var CInputvue_type_script_lang_js_ = ({\n  name: 'CInput',\n  slots: ['prepend', 'prepend-content', 'append-content', 'append', 'label-after-input', 'valid-feedback', 'invalid-feedback', 'description'],\n  inheritAttrs: false,\n  components: {\n    CFormGroup: CFormGroup\n  },\n  mixins: mixins,\n  props: inputProps,\n  // Html props: disabled, required, rows, cols, placeholder\n  // {\n  //   validFeedback: String,\n  //   invalidFeedback: String,\n  //   tooltipFeedback: Boolean,\n  //   description: String,\n  //   append: String,\n  //   prepend: String,\n  //   label: String,\n  //   wasValidated: Boolean,\n  //   isValid: {\n  //     type: [Boolean, Function],\n  //     default: null\n  //   },\n  //   addInputClasses: [String, Array, Object],\n  //   addLabelClasses: [String, Array, Object],\n  //   horizontal: [Boolean, Object],\n  //   size: {\n  //     type: String,\n  //     validator: str => ['','sm','lg'].includes(str)\n  //   },\n  //   addWrapperClasses: [String, Array, Object],\n  //   readonly: Boolean,\n  //   plaintext: Boolean,\n  //   value: [String, Number],\n  //   lazy: {\n  //     type: [Boolean, Number],\n  //     default: 400\n  //   },\n  //   type: {\n  //     type: String,\n  //     default: 'text'\n  //   }\n  // },\n  data: function data() {\n    return {\n      state: this.value,\n      syncTimeout: null\n    };\n  },\n  //watchValue mixin\n  // watch: {\n  //   value (val) {\n  //     this.state = val\n  //   }\n  // },\n  computed: {\n    listeners: function listeners() {\n      var _this$$listeners = this.$listeners,\n          input = _this$$listeners.input,\n          change = _this$$listeners.change,\n          listeners = _objectWithoutProperties(_this$$listeners, [\"input\", \"change\"]); // eslint-disable-line no-unused-vars\n\n\n      return listeners;\n    } // classesComputedProps mixin\n    // haveCustomSize () {\n    //   return ['sm','lg'].includes(this.size)\n    // },\n    // computedClasses () {\n    //   return [\n    //     'form-group',\n    //     {\n    //      'was-validated': this.wasValidated,\n    //      'form-row': this.isHorizontal\n    //     }\n    //   ]\n    // },\n    // labelClasses () {\n    //   return [\n    //     this.addLabelClasses,\n    //     {\n    //       'col-form-label': this.isHorizontal,\n    //       [this.horizontal.label || 'col-sm-3']: this.isHorizontal,\n    //       [`col-form-label-${this.size}`]: this.haveCustomSize,\n    //     }\n    //   ]\n    // },\n    // customSizeClass () {\n    //   if (this.haveCustomSize && !this.haveWrapper) {\n    //     return `form-control-${this.size}`\n    //   }\n    // },\n    // inputClasses () {\n    //   return [\n    //     this.inputClass || `form-control${this.plaintext ? '-plaintext' : ''}`,\n    //     this.validationClass,\n    //     this.addInputClasses,\n    //     this.customSizeClass\n    //   ]\n    // }\n    // validationComputedProps mixin\n    // computedIsValid () {\n    //   if (typeof this.isValid === 'function') {\n    //     return this.isValid(this.state)\n    //   }\n    //   return this.isValid\n    // },\n    // validationClass () {\n    //   if (typeof this.computedIsValid === 'boolean') {\n    //     return this.computedIsValid ? 'is-valid' : 'is-invalid'\n    //   }\n    // }\n    //wrapperComputedProps mixin\n    // isHorizontal () {\n    //   return Boolean(this.horizontal)\n    // },\n    // haveInputGroup () {\n    //   return Boolean(\n    //     this.tooltipFeedback || \n    //     this.append ||\n    //     this.prepend || \n    //     this.$slots.append || \n    //     this.$slots.prepend || \n    //     this.$slots['append-content'] ||\n    //     this.$slots['prepend-content']\n    //   )\n    // },\n    // haveWrapper () {\n    //   return this.haveInputGroup || Boolean(this.addWrapperClasses || this.isHorizontal)\n    // },\n    // wrapperClasses () {\n    //   if (this.haveWrapper) {\n    //     return [\n    //       this.addWrapperClasses,\n    //       {\n    //         [this.horizontal.input || 'col-sm-9'] : this.isHorizontal,\n    //         'input-group' : this.haveInputGroup,\n    //         [`input-group-${this.size}`]: this.haveCustomSize\n    //       }\n    //     ]\n    //   }\n    // }\n\n  },\n  methods: {\n    onInput: function onInput(e) {\n      var _this = this;\n\n      this.state = e.target.value;\n      this.$emit('input', this.state, e);\n\n      if (this.lazy === true) {\n        return;\n      }\n\n      clearTimeout(this.syncTimeout);\n      this.syncTimeout = setTimeout(function () {\n        _this.$emit('update:value', _this.state, e);\n      }, this.lazy !== false ? this.lazy : 0);\n    },\n    onChange: function onChange(e) {\n      this.state = e.target.value;\n      this.$emit('change', this.state, e);\n      this.$emit('update:value', this.state, e);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/form/CInput.vue?vue&type=script&lang=js&\n /* harmony default export */ var form_CInputvue_type_script_lang_js_ = (CInputvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/form/CInput.vue\n\n\n\n\n\n/* normalize component */\n\nvar CInput_component = Object(componentNormalizer[\"a\" /* default */])(\n  form_CInputvue_type_script_lang_js_,\n  CInputvue_type_template_id_13bcd5d2_render,\n  CInputvue_type_template_id_13bcd5d2_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CInput = (CInput_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/form/CInputCheckbox.vue?vue&type=template&id=ef4e2f08&\nvar CInputCheckboxvue_type_template_id_ef4e2f08_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CFormGroup',_vm._b({scopedSlots:_vm._u([{key:\"input\",fn:function(){return [_c('input',_vm._g(_vm._b({class:_vm.inputClasses,attrs:{\"id\":_vm.safeId,\"type\":_vm.$options.type},domProps:{\"checked\":_vm.state},on:{\"change\":function($event){return _vm.onChange($event)}}},'input',_vm.$attrs,false),_vm.$listeners))]},proxy:true},{key:\"label-after-input\",fn:function(){return [_vm._t(\"label\",[(_vm.label || _vm.custom)?_c('label',{class:_vm.labelClasses,attrs:{\"for\":_vm.safeId}},[_vm._v(\" \"+_vm._s(_vm.label)+\" \")]):_vm._e()])]},proxy:true},_vm._l((['valid-feedback', 'invalid-feedback', 'description']),function(slot){return {key:slot,fn:function(){return [_vm._t(slot)]},proxy:true}})],null,true)},'CFormGroup',{validFeedback: _vm.validFeedback, invalidFeedback: _vm.invalidFeedback, tooltipFeedback: _vm.tooltipFeedback,\n                     description: _vm.description, class: _vm.computedClasses},false))}\nvar CInputCheckboxvue_type_template_id_ef4e2f08_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/form/CInputCheckbox.vue?vue&type=script&lang=js&\nfunction CInputCheckboxvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var CInputCheckboxvue_type_script_lang_js_ = ({\n  name: 'CInputCheckbox',\n  inheritAttrs: false,\n  components: {\n    CFormGroup: CFormGroup\n  },\n  mixins: [sharedComputedProps],\n  props: inputCheckboxProps,\n  // {\n  // validFeedback: String,\n  // invalidFeedback: String,\n  // tooltipFeedback: Boolean,\n  // description: String,\n  // label: String,\n  // wasValidated: Boolean,\n  // isValid: {\n  //   type: [Boolean, Function],\n  //   default: null\n  // },\n  // addInputClasses: [String, Array, Object],\n  // addLabelClasses: [String, Array, Object],\n  // checked: Boolean,\n  // custom: Boolean,\n  // inline: Boolean\n  // },\n  type: 'checkbox',\n  data: function data() {\n    return {\n      state: undefined\n    };\n  },\n  watch: {\n    checked: {\n      immediate: true,\n      handler: function handler(val) {\n        this.state = val;\n      }\n    }\n  },\n  computed: {\n    customType: function customType() {\n      return this.$options.type === 'checkbox' ? 'checkbox' : 'radio';\n    },\n    computedClasses: function computedClasses() {\n      var _ref;\n\n      var controlClass = this.custom ? 'custom-control' : 'form-check';\n      return _ref = {}, CInputCheckboxvue_type_script_lang_js_defineProperty(_ref, \"\".concat(controlClass), true), CInputCheckboxvue_type_script_lang_js_defineProperty(_ref, \"\".concat(controlClass, \"-inline\"), this.inline), CInputCheckboxvue_type_script_lang_js_defineProperty(_ref, \"custom-\".concat(this.customType), this.custom), CInputCheckboxvue_type_script_lang_js_defineProperty(_ref, 'was-validated', this.wasValidated), _ref;\n    },\n    labelClasses: function labelClasses() {\n      return [this.addLabelClasses, this.custom ? 'custom-control-label' : 'form-check-label'];\n    },\n    inputClasses: function inputClasses() {\n      return [this.custom ? 'custom-control-input' : 'form-check-input', this.validationClass, this.addInputClasses];\n    } // validationComputedProps mixin\n    // computedIsValid () {\n    //   if (typeof this.isValid === 'function') {\n    //     return this.isValid(this.state)\n    //   }\n    //   return this.isValid\n    // },\n    // validationClass () {\n    //   if (typeof this.computedIsValid === 'boolean') {\n    //     return this.computedIsValid ? 'is-valid' : 'is-invalid'\n    //   }\n    // }\n\n  },\n  methods: {\n    onChange: function onChange(e) {\n      this.state = e.target.checked;\n      this.$emit('update:checked', e.target.checked, e);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/form/CInputCheckbox.vue?vue&type=script&lang=js&\n /* harmony default export */ var form_CInputCheckboxvue_type_script_lang_js_ = (CInputCheckboxvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/form/CInputCheckbox.vue\n\n\n\n\n\n/* normalize component */\n\nvar CInputCheckbox_component = Object(componentNormalizer[\"a\" /* default */])(\n  form_CInputCheckboxvue_type_script_lang_js_,\n  CInputCheckboxvue_type_template_id_ef4e2f08_render,\n  CInputCheckboxvue_type_template_id_ef4e2f08_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CInputCheckbox = (CInputCheckbox_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/form/CInputFile.vue?vue&type=template&id=09f42d4e&\nvar CInputFilevue_type_template_id_09f42d4e_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CFormGroup',_vm._b({scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._t(\"label\",[(_vm.label)?_c('label',{class:_vm.labelClasses,attrs:{\"for\":_vm.safeId}},[_vm._v(\" \"+_vm._s(_vm.label)+\" \")]):_vm._e()])]},proxy:true},{key:\"input\",fn:function(){return [_c('input',_vm._g(_vm._b({class:_vm.inputClasses,attrs:{\"id\":_vm.safeId,\"multiple\":_vm.multiple,\"type\":\"file\"},on:{\"change\":function($event){return _vm.onChange($event)}}},'input',_vm.$attrs,false),_vm.listeners)),(_vm.custom)?_c('label',{staticClass:\"custom-file-label\",attrs:{\"for\":_vm.safeId}},[_vm._v(\" \"+_vm._s(_vm.computedPlaceholder)+\" \")]):_vm._e()]},proxy:true},_vm._l((_vm.$options.slots),function(slot){return {key:slot,fn:function(){return [_vm._t(slot)]},proxy:true}})],null,true)},'CFormGroup',{validFeedback: _vm.validFeedback, invalidFeedback: _vm.invalidFeedback, tooltipFeedback: _vm.tooltipFeedback, description: _vm.description,\n           wrapperClasses: _vm.wrapperClasses, class: _vm.computedClasses},false))}\nvar CInputFilevue_type_template_id_09f42d4e_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/form/CInputFile.vue?vue&type=script&lang=js&\nfunction CInputFilevue_type_script_lang_js_objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = CInputFilevue_type_script_lang_js_objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction CInputFilevue_type_script_lang_js_objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\nvar CInputFilevue_type_script_lang_js_mixins = Object.values(form_mixins_namespaceObject).filter(function (i, key) {\n  return key !== 'watchValue';\n});\n/* harmony default export */ var CInputFilevue_type_script_lang_js_ = ({\n  name: 'CInputFile',\n  inheritAttrs: false,\n  components: {\n    CFormGroup: CFormGroup\n  },\n  mixins: CInputFilevue_type_script_lang_js_mixins,\n  slots: ['label-after-input', 'valid-feedback', 'invalid-feedback', 'description'],\n  props: inputFileProps,\n  // {\n  // validFeedback: String,\n  // invalidFeedback: String,\n  // tooltipFeedback: Boolean,\n  // description: String,\n  // label: String,\n  // wasValidated: Boolean,\n  // isValid: {\n  //   type: [Boolean, Function],\n  //   default: null\n  // },\n  // addInputClasses: [String, Array, Object],\n  // addLabelClasses: [String, Array, Object],\n  // horizontal: [Boolean, Object],\n  // size: {\n  //   type: String,\n  //   validator: str => ['','sm','lg'].includes(str)\n  // },\n  // addWrapperClasses: [String, Array, Object],\n  // custom: Boolean,\n  // placeholder: String,\n  // multiple: Boolean\n  // },\n  data: function data() {\n    return {\n      state: null\n    };\n  },\n  computed: {\n    computedPlaceholder: function computedPlaceholder() {\n      return this.placeholder || \"Choose file\".concat(this.multiple ? 's' : '', \"...\");\n    },\n    // classesComputedProps mixin\n    // haveCustomSize () {\n    //   return ['sm','lg'].includes(this.size)\n    // },\n    computedClasses: function computedClasses() {\n      return [this.isHorizontal ? 'form-row' : this.custom ? 'custom-file' : 'form-group position-relative', {\n        'was-validated': this.wasValidated\n      }];\n    },\n    // labelClasses () {\n    //   return [\n    //     this.addLabelClasses,\n    //     {\n    //       'col-form-label': this.isHorizontal,\n    //       [this.horizontal.label || 'col-sm-3']: this.isHorizontal,\n    //       [`col-form-label-${this.size}`]: this.haveCustomSize,\n    //     }\n    //   ]\n    // },\n    // customSizeClass () {\n    //   if (this.haveCustomSize && !this.haveWrapper) {\n    //     return `form-control-${this.size}`\n    //   }\n    // },\n    inputClass: function inputClass() {\n      return this.custom ? 'custom-file-input' : 'form-control-file';\n    },\n    // inputClasses () {\n    //   return [\n    //     this.inputClass || `form-control${this.plaintext ? '-plaintext' : ''}`,\n    //     this.validationClass,\n    //     this.addInputClasses,\n    //     this.customSizeClass\n    //   ]\n    // }\n    // validationComputedProps mixin\n    // computedIsValid () {\n    //   if (typeof this.isValid === 'function') {\n    //     return this.isValid(this.state)\n    //   }\n    //   return this.isValid\n    // },\n    // validationClass () {\n    //   if (typeof this.computedIsValid === 'boolean') {\n    //     return this.computedIsValid ? 'is-valid' : 'is-invalid'\n    //   }\n    // }\n    //wrapperComputedProps mixin\n    // isHorizontal () {\n    //   return Boolean(this.horizontal)\n    // },\n    haveInputGroup: function haveInputGroup() {\n      return false;\n    },\n    listeners: function listeners() {\n      var _this$$listeners = this.$listeners,\n          change = _this$$listeners.change,\n          listeners = CInputFilevue_type_script_lang_js_objectWithoutProperties(_this$$listeners, [\"change\"]); // eslint-disable-line no-unused-vars\n\n\n      return listeners;\n    } // haveWrapper () {\n    //   return this.haveInputGroup || Boolean(this.addWrapperClasses || this.isHorizontal)\n    // },\n    // wrapperClasses () {\n    //   if (this.haveWrapper) {\n    //     return [\n    //       this.addWrapperClasses,\n    //       {\n    //         [this.horizontal.input || 'col-sm-9'] : this.isHorizontal,\n    //         'input-group' : this.haveInputGroup,\n    //         [`input-group-${this.size}`]: this.haveCustomSize\n    //       }\n    //     ]\n    //   }\n    // }\n\n  },\n  methods: {\n    onChange: function onChange(e) {\n      this.state = e.target.files;\n      this.$emit('change', e.target.files, e);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/form/CInputFile.vue?vue&type=script&lang=js&\n /* harmony default export */ var form_CInputFilevue_type_script_lang_js_ = (CInputFilevue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/form/CInputFile.vue\n\n\n\n\n\n/* normalize component */\n\nvar CInputFile_component = Object(componentNormalizer[\"a\" /* default */])(\n  form_CInputFilevue_type_script_lang_js_,\n  CInputFilevue_type_template_id_09f42d4e_render,\n  CInputFilevue_type_template_id_09f42d4e_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CInputFile = (CInputFile_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/form/CInputRadio.vue?vue&type=script&lang=js&\n\n/* harmony default export */ var CInputRadiovue_type_script_lang_js_ = ({\n  name: 'CInputRadio',\n  extends: CInputCheckbox,\n  type: 'radio'\n});\n// CONCATENATED MODULE: ./src/components/form/CInputRadio.vue?vue&type=script&lang=js&\n /* harmony default export */ var form_CInputRadiovue_type_script_lang_js_ = (CInputRadiovue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/form/CInputRadio.vue\nvar CInputRadio_render, CInputRadio_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CInputRadio_component = Object(componentNormalizer[\"a\" /* default */])(\n  form_CInputRadiovue_type_script_lang_js_,\n  CInputRadio_render,\n  CInputRadio_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CInputRadio = (CInputRadio_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/form/CInputRadioGroup.vue?vue&type=template&id=8a19d7a6&\nvar CInputRadioGroupvue_type_template_id_8a19d7a6_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ 'form-inline': _vm.inline }},_vm._l((_vm.computedOptions),function(ref,key){\nvar value = ref.value;\nvar label = ref.label;\nvar props = ref.props;\nreturn _c('CInputRadio',_vm._b({key:key,attrs:{\"label\":label,\"name\":_vm.groupName,\"value\":value,\"checked\":_vm.checked === value,\"custom\":_vm.custom,\"inline\":_vm.inline},on:{\"change\":function($event){return _vm.change($event, value)}}},'CInputRadio',props,false))}),1)}\nvar CInputRadioGroupvue_type_template_id_8a19d7a6_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/form/CInputRadioGroup.vue?vue&type=script&lang=js&\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CInputRadioGroupvue_type_script_lang_js_ = ({\n  name: 'CInputRadioGroup',\n  components: {\n    CInputRadio: CInputRadio\n  },\n  props: {\n    options: {\n      type: Array,\n      required: true\n    },\n    checked: String,\n    name: String,\n    custom: Boolean,\n    inline: Boolean\n  },\n  computed: {\n    computedOptions: function computedOptions() {\n      return this.options.map(function (option) {\n        if (_typeof(option) !== 'object') {\n          return {\n            label: option,\n            value: option\n          };\n        }\n\n        return option;\n      });\n    },\n    groupName: function groupName() {\n      return this.name || 'radio' + this._uid;\n    }\n  },\n  methods: {\n    change: function change(e, option) {\n      this.$emit('update:checked', option, e);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/form/CInputRadioGroup.vue?vue&type=script&lang=js&\n /* harmony default export */ var form_CInputRadioGroupvue_type_script_lang_js_ = (CInputRadioGroupvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/form/CInputRadioGroup.vue\n\n\n\n\n\n/* normalize component */\n\nvar CInputRadioGroup_component = Object(componentNormalizer[\"a\" /* default */])(\n  form_CInputRadioGroupvue_type_script_lang_js_,\n  CInputRadioGroupvue_type_template_id_8a19d7a6_render,\n  CInputRadioGroupvue_type_template_id_8a19d7a6_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CInputRadioGroup = (CInputRadioGroup_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/form/CSelect.vue?vue&type=template&id=eddf74b0&\nvar CSelectvue_type_template_id_eddf74b0_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CFormGroup',_vm._b({scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._t(\"label\",[(_vm.label)?_c('label',{class:_vm.labelClasses,attrs:{\"for\":_vm.safeId}},[_vm._v(\" \"+_vm._s(_vm.label)+\" \")]):_vm._e()])]},proxy:true},{key:\"input\",fn:function(){return [_c('select',_vm._g(_vm._b({class:_vm.inputClasses,attrs:{\"id\":_vm.safeId},on:{\"change\":function($event){return _vm.onSelect($event)}}},'select',_vm.$attrs,false),_vm.$listeners),[(_vm.placeholder)?_c('option',{attrs:{\"value\":\"\",\"selected\":\"\",\"hidden\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.placeholder)+\" \")]):_vm._e(),_vm._l((_vm.options),function(option,key){return [(typeof option === 'object')?_c('option',_vm._b({key:key,attrs:{\"disabled\":option.disabled,\"data-key\":key},domProps:{\"value\":option.value,\"selected\":option.value === _vm.value}},'option',option.attrs,false),[_vm._v(\" \"+_vm._s(option.label || option.value)+\" \")]):_c('option',{key:key,attrs:{\"data-key\":key},domProps:{\"value\":option,\"selected\":option === _vm.value}},[_vm._v(\" \"+_vm._s(option)+\" \")])]})],2)]},proxy:true},_vm._l((_vm.$options.slots),function(slot){return {key:slot,fn:function(){return [_vm._t(slot)]},proxy:true}})],null,true)},'CFormGroup',{\n    append: _vm.append, prepend: _vm.prepend, validFeedback: _vm.validFeedback, invalidFeedback: _vm.invalidFeedback,\n    tooltipFeedback: _vm.tooltipFeedback, description: _vm.description, wrapperClasses: _vm.wrapperClasses, class: _vm.computedClasses\n  },false))}\nvar CSelectvue_type_template_id_eddf74b0_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/form/CSelect.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar CSelectvue_type_script_lang_js_mixins = Object.values(form_mixins_namespaceObject);\n\n\n/* harmony default export */ var CSelectvue_type_script_lang_js_ = ({\n  name: 'CSelect',\n  inheritAttrs: false,\n  components: {\n    CFormGroup: CFormGroup\n  },\n  slots: ['prepend', 'prepend-content', 'append-content', 'append', 'label-after-input', 'valid-feedback', 'invalid-feedback', 'description'],\n  mixins: CSelectvue_type_script_lang_js_mixins,\n  props: selectProps,\n  // Html props: disabled, required don't use multiple\n  // {\n  //   validFeedback: String,\n  //   invalidFeedback: String,\n  //   tooltipFeedback: Boolean,\n  //   description: String,\n  //   append: String,\n  //   prepend: String,\n  //   label: String,\n  //   wasValidated: Boolean,\n  //   isValid: {\n  //     type: [Boolean, Function],\n  //     default: null\n  //   },\n  //   addInputClasses: [String, Array, Object],\n  //   addLabelClasses: [String, Array, Object],\n  //   horizontal: [Boolean, Object],\n  //   size: {\n  //     type: String,\n  //     validator: str => ['','sm','lg'].includes(str)\n  //   },\n  //   addWrapperClasses: [String, Array, Object],\n  //   options: Array,\n  //   value: [String, Number, Boolean, Array],\n  //   plaintext: Boolean,\n  //   placeholder: String,\n  //   custom: Boolean\n  // },\n  data: function data() {\n    return {\n      state: this.value || undefined\n    };\n  },\n  //watchValue mixin\n  // watch: {\n  //   value (val) {\n  //     this.state = val\n  //   }\n  // },\n  computed: {\n    // classesComputedProps mixin\n    // haveCustomSize () {\n    //   return ['sm','lg'].includes(this.size)\n    // },\n    // computedClasses () {\n    //   return [\n    //     'form-group',\n    //     {\n    //      'was-validated': this.wasValidated,\n    //      'form-row': this.isHorizontal\n    //     }\n    //   ]\n    // },\n    // labelClasses () {\n    //   return [\n    //     this.addLabelClasses,\n    //     {\n    //       'col-form-label': this.isHorizontal,\n    //       [this.horizontal.label || 'col-sm-3']: this.isHorizontal,\n    //       [`col-form-label-${this.size}`]: this.haveCustomSize,\n    //     }\n    //   ]\n    // },\n    customSizeClass: function customSizeClass() {\n      if (this.haveCustomSize && !this.haveWrapper) {\n        return \"\".concat(this.custom ? 'custom-select' : 'form-control', \"-\").concat(this.size);\n      }\n    },\n    inputClass: function inputClass() {\n      var standardClass = \"form-control\".concat(this.plaintext ? '-plaintext' : '');\n      return this.custom ? 'custom-select' : standardClass;\n    } // inputClasses () {\n    //   return [\n    //     this.inputClass || `form-control${this.plaintext ? '-plaintext' : ''}`,\n    //     this.validationClass,\n    //     this.addInputClasses,\n    //     this.customSizeClass\n    //   ]\n    // }\n    // validationComputedProps mixin\n    // computedIsValid () {\n    //   if (typeof this.isValid === 'function') {\n    //     return this.isValid(this.state)\n    //   }\n    //   return this.isValid\n    // },\n    // validationClass () {\n    //   if (typeof this.computedIsValid === 'boolean') {\n    //     return this.computedIsValid ? 'is-valid' : 'is-invalid'\n    //   }\n    // },\n    //wrapperComputedProps mixin\n    // isHorizontal () {\n    //   return Boolean(this.horizontal)\n    // },\n    // haveInputGroup () {\n    //   return Boolean(\n    //     this.tooltipFeedback || \n    //     this.append ||\n    //     this.prepend || \n    //     this.$slots.append || \n    //     this.$slots.prepend || \n    //     this.$slots['append-content'] ||\n    //     this.$slots['prepend-content']\n    //   )\n    // },\n    // haveWrapper () {\n    //   return this.haveInputGroup || Boolean(this.addWrapperClasses || this.isHorizontal)\n    // },\n    // wrapperClasses () {\n    //   if (this.haveWrapper) {\n    //     return [\n    //       this.addWrapperClasses,\n    //       {\n    //         [this.horizontal.input || 'col-sm-9'] : this.isHorizontal,\n    //         'input-group' : this.haveInputGroup,\n    //         [`input-group-${this.size}`]: this.haveCustomSize\n    //       }\n    //     ]\n    //   }\n    // }\n\n  },\n  methods: {\n    onSelect: function onSelect(e) {\n      if (this.$attrs.multiple !== undefined) return;\n      var optionIndex = e.target.selectedOptions[0].dataset.key;\n      var option = this.options[optionIndex];\n      var value = option.value !== undefined ? option.value : option;\n      this.state = value;\n      this.$emit('update:value', value, e);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/form/CSelect.vue?vue&type=script&lang=js&\n /* harmony default export */ var form_CSelectvue_type_script_lang_js_ = (CSelectvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/form/CSelect.vue\n\n\n\n\n\n/* normalize component */\n\nvar CSelect_component = Object(componentNormalizer[\"a\" /* default */])(\n  form_CSelectvue_type_script_lang_js_,\n  CSelectvue_type_template_id_eddf74b0_render,\n  CSelectvue_type_template_id_eddf74b0_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CSelect = (CSelect_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/form/CTextarea.vue?vue&type=template&id=592e4330&\nvar CTextareavue_type_template_id_592e4330_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CFormGroup',_vm._b({scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._t(\"label\",[(_vm.label)?_c('label',{class:_vm.labelClasses,attrs:{\"for\":_vm.safeId}},[_vm._v(\" \"+_vm._s(_vm.label)+\" \")]):_vm._e()])]},proxy:true},{key:\"input\",fn:function(){return [_c('textarea',_vm._g(_vm._b({class:_vm.inputClasses,attrs:{\"id\":_vm.safeId,\"readonly\":_vm.readonly || _vm.plaintext},domProps:{\"value\":_vm.state},on:{\"input\":function($event){return _vm.onInput($event)},\"change\":function($event){return _vm.onChange($event)}}},'textarea',_vm.$attrs,false),_vm.listeners))]},proxy:true},_vm._l((_vm.$options.slots),function(slot){return {key:slot,fn:function(){return [_vm._t(slot)]},proxy:true}})],null,true)},'CFormGroup',{append: _vm.append, prepend: _vm.prepend, validFeedback: _vm.validFeedback, invalidFeedback: _vm.invalidFeedback,\n    tooltipFeedback: _vm.tooltipFeedback, description: _vm.description, wrapperClasses: _vm.wrapperClasses, class: _vm.computedClasses},false))}\nvar CTextareavue_type_template_id_592e4330_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/form/CTextarea.vue?vue&type=script&lang=js&\nfunction CTextareavue_type_script_lang_js_objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = CTextareavue_type_script_lang_js_objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction CTextareavue_type_script_lang_js_objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\nvar CTextareavue_type_script_lang_js_mixins = Object.values(form_mixins_namespaceObject);\n/* harmony default export */ var CTextareavue_type_script_lang_js_ = ({\n  name: 'CTextarea',\n  slots: ['prepend', 'prepend-content', 'append-content', 'append', 'label-after-input', 'valid-feedback', 'invalid-feedback', 'description'],\n  inheritAttrs: false,\n  components: {\n    CFormGroup: CFormGroup\n  },\n  mixins: CTextareavue_type_script_lang_js_mixins,\n  props: textareaProps,\n  // Html props: disabled, required, rows, cols, placeholder\n  // {\n  //   validFeedback: String,\n  //   invalidFeedback: String,\n  //   tooltipFeedback: Boolean,\n  //   description: String,\n  //   append: String,\n  //   prepend: String,\n  //   label: String,\n  //   wasValidated: Boolean,\n  //   isValid: {\n  //     type: [Boolean, Function],\n  //     default: null\n  //   },\n  //   addInputClasses: [String, Array, Object],\n  //   addLabelClasses: [String, Array, Object],\n  //   horizontal: [Boolean, Object],\n  //   size: {\n  //     type: String,\n  //     validator: str => ['','sm','lg'].includes(str)\n  //   },\n  //   addWrapperClasses: [String, Array, Object],\n  //   readonly: Boolean,\n  //   plaintext: Boolean,\n  //   value: [String, Number],\n  //   lazy: {\n  //     type: [Boolean, Number],\n  //     default: 400\n  //   }\n  // },\n  data: function data() {\n    return {\n      state: this.value\n    };\n  },\n  //watchValue mixin\n  // watch: {\n  //   value (val) {\n  //     this.state = val\n  //   }\n  // },\n  computed: {\n    listeners: function listeners() {\n      var _this$$listeners = this.$listeners,\n          input = _this$$listeners.input,\n          change = _this$$listeners.change,\n          listeners = CTextareavue_type_script_lang_js_objectWithoutProperties(_this$$listeners, [\"input\", \"change\"]); // eslint-disable-line no-unused-vars\n\n\n      return listeners;\n    } // classesComputedProps mixin\n    // haveCustomSize () {\n    //   return ['sm','lg'].includes(this.size)\n    // },\n    // computedClasses () {\n    //   return [\n    //     'form-group',\n    //     {\n    //      'was-validated': this.wasValidated,\n    //      'form-row': this.isHorizontal\n    //     }\n    //   ]\n    // },\n    // labelClasses () {\n    //   return [\n    //     this.addLabelClasses,\n    //     {\n    //       'col-form-label': this.isHorizontal,\n    //       [this.horizontal.label || 'col-sm-3']: this.isHorizontal,\n    //       [`col-form-label-${this.size}`]: this.haveCustomSize,\n    //     }\n    //   ]\n    // },\n    // customSizeClass () {\n    //   if (this.haveCustomSize && !this.haveWrapper) {\n    //     return `form-control-${this.size}`\n    //   }\n    // },\n    // inputClasses () {\n    //   return [\n    //     this.inputClass || `form-control${this.plaintext ? '-plaintext' : ''}`,\n    //     this.validationClass,\n    //     this.addInputClasses,\n    //     this.customSizeClass\n    //   ]\n    // }\n    // validationComputedProps mixin\n    // computedIsValid () {\n    //   if (typeof this.isValid === 'function') {\n    //     return this.isValid(this.state)\n    //   }\n    //   return this.isValid\n    // },\n    // validationClass () {\n    //   if (typeof this.computedIsValid === 'boolean') {\n    //     return this.computedIsValid ? 'is-valid' : 'is-invalid'\n    //   }\n    // }\n    //wrapperComputedProps mixin\n    // isHorizontal () {\n    //   return Boolean(this.horizontal)\n    // },\n    // haveInputGroup () {\n    //   return Boolean(\n    //     this.tooltipFeedback || \n    //     this.append ||\n    //     this.prepend || \n    //     this.$slots.append || \n    //     this.$slots.prepend || \n    //     this.$slots['append-content'] ||\n    //     this.$slots['prepend-content']\n    //   )\n    // },\n    // haveWrapper () {\n    //   return this.haveInputGroup || Boolean(this.addWrapperClasses || this.isHorizontal)\n    // },\n    // wrapperClasses () {\n    //   if (this.haveWrapper) {\n    //     return [\n    //       this.addWrapperClasses,\n    //       {\n    //         [this.horizontal.input || 'col-sm-9'] : this.isHorizontal,\n    //         'input-group' : this.haveInputGroup,\n    //         [`input-group-${this.size}`]: this.haveCustomSize\n    //       }\n    //     ]\n    //   }\n    // }\n\n  },\n  methods: {\n    onInput: function onInput(e) {\n      var _this = this;\n\n      this.state = e.target.value;\n      this.$emit('input', this.state, e);\n      if (this.lazy === true) return;\n      clearTimeout(this.syncTimeout);\n      this.syncTimeout = setTimeout(function () {\n        _this.$emit('update:value', _this.state, e);\n      }, this.lazy !== false ? this.lazy : 0);\n    },\n    onChange: function onChange(e) {\n      this.state = e.target.value;\n      this.$emit('change', this.state, e);\n      this.$emit('update:value', this.state, e);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/form/CTextarea.vue?vue&type=script&lang=js&\n /* harmony default export */ var form_CTextareavue_type_script_lang_js_ = (CTextareavue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/form/CTextarea.vue\n\n\n\n\n\n/* normalize component */\n\nvar CTextarea_component = Object(componentNormalizer[\"a\" /* default */])(\n  form_CTextareavue_type_script_lang_js_,\n  CTextareavue_type_template_id_592e4330_render,\n  CTextareavue_type_template_id_592e4330_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CTextarea = (CTextarea_component.exports);\n// CONCATENATED MODULE: ./src/components/form/index.js\n\n\n\n\n\n\n\n\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/grid/CContainer.vue?vue&type=script&lang=js&\n\n/* harmony default export */ var CContainervue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CContainer',\n  props: {\n    fluid: Boolean,\n    tag: {\n      type: String,\n      default: 'div'\n    }\n  },\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(props.tag, a(data, {\n      class: {\n        'container': !props.fluid,\n        'container-fluid': props.fluid\n      }\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/grid/CContainer.vue?vue&type=script&lang=js&\n /* harmony default export */ var grid_CContainervue_type_script_lang_js_ = (CContainervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/grid/CContainer.vue\nvar CContainer_render, CContainer_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CContainer_component = Object(componentNormalizer[\"a\" /* default */])(\n  grid_CContainervue_type_script_lang_js_,\n  CContainer_render,\n  CContainer_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CContainer = (CContainer_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/grid/CRow.vue?vue&type=script&lang=js&\nfunction CRowvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nvar CRowvue_type_script_lang_js_props = {\n  tag: {\n    type: String,\n    default: 'div'\n  },\n  gutters: {\n    type: Boolean,\n    default: true\n  },\n  alignVertical: {\n    type: String,\n    validator: function validator(str) {\n      return ['', 'start', 'end', 'center', 'baseline', 'stretch'].includes(str);\n    }\n  },\n  alignHorizontal: {\n    type: String,\n    validator: function validator(str) {\n      return ['', 'start', 'end', 'center', 'between', 'around'].includes(str);\n    }\n  },\n  form: Boolean\n};\n/* harmony default export */ var CRowvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CRow',\n  props: CRowvue_type_script_lang_js_props,\n  render: function render(h, _ref) {\n    var _class;\n\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(props.tag, a(data, {\n      staticClass: props.form ? 'form-row' : 'row',\n      class: (_class = {\n        'no-gutters': !props.gutters\n      }, CRowvue_type_script_lang_js_defineProperty(_class, \"align-items-\".concat(props.alignVertical), props.alignVertical), CRowvue_type_script_lang_js_defineProperty(_class, \"justify-content-\".concat(props.alignHorizontal), props.alignHorizontal), _class)\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/grid/CRow.vue?vue&type=script&lang=js&\n /* harmony default export */ var grid_CRowvue_type_script_lang_js_ = (CRowvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/grid/CRow.vue\nvar CRow_render, CRow_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CRow_component = Object(componentNormalizer[\"a\" /* default */])(\n  grid_CRowvue_type_script_lang_js_,\n  CRow_render,\n  CRow_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CRow = (CRow_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/grid/CCol.vue?vue&type=script&lang=js&\nfunction CColvue_type_script_lang_js_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { CColvue_type_script_lang_js_typeof = function _typeof(obj) { return typeof obj; }; } else { CColvue_type_script_lang_js_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return CColvue_type_script_lang_js_typeof(obj); }\n\n\n/* harmony default export */ var CColvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CCol',\n  props: {\n    col: [Boolean, String, Number, Object],\n    xs: [Boolean, String, Number, Object],\n    sm: [Boolean, String, Number, Object],\n    md: [Boolean, String, Number, Object],\n    lg: [Boolean, String, Number, Object],\n    xl: [Boolean, String, Number, Object],\n    tag: {\n      type: String,\n      default: 'div'\n    }\n  },\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    var classes = [];\n    var suffixes = {\n      'col': '',\n      'xs': '-xs',\n      'sm': '-sm',\n      'md': '-md',\n      'lg': '-lg',\n      'xl': '-xl'\n    };\n    Object.keys(suffixes).forEach(function (key) {\n      var prop = props[key];\n\n      if (prop === true) {\n        classes.push(\"col\".concat(suffixes[key]));\n      } else if (typeof prop === 'number' || typeof prop === 'string') {\n        classes.push(\"col\".concat(suffixes[key], \"-\").concat(prop));\n      } else if (CColvue_type_script_lang_js_typeof(prop) === 'object') {\n        if (prop.size) {\n          classes.push(\"col\".concat(suffixes[key], \"-\").concat(prop.size));\n        }\n\n        if (prop.offset) {\n          classes.push(\"offset\".concat(suffixes[key], \"-\").concat(prop.offset));\n        }\n\n        if (prop.order) {\n          classes.push(\"order\".concat(suffixes[key], \"-\").concat(prop.order));\n        }\n      }\n    });\n    return h(props.tag, a(data, {\n      class: classes.length ? classes : 'col'\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/grid/CCol.vue?vue&type=script&lang=js&\n /* harmony default export */ var grid_CColvue_type_script_lang_js_ = (CColvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/grid/CCol.vue\nvar CCol_render, CCol_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CCol_component = Object(componentNormalizer[\"a\" /* default */])(\n  grid_CColvue_type_script_lang_js_,\n  CCol_render,\n  CCol_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CCol = (CCol_component.exports);\n// CONCATENATED MODULE: ./src/components/grid/index.js\n\n\n\n\n// CONCATENATED MODULE: ./src/components/image/index.js\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/jumbotron/CJumbotron.vue?vue&type=script&lang=js&\nfunction CJumbotronvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n/* harmony default export */ var CJumbotronvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CJumbotron',\n  props: {\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    fluid: Boolean,\n    color: String,\n    borderColor: String,\n    textColor: String\n  },\n  render: function render(h, _ref) {\n    var _class;\n\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(props.tag, a(data, {\n      staticClass: 'jumbotron',\n      class: (_class = {\n        'jumbotron-fluid': props.fluid\n      }, CJumbotronvue_type_script_lang_js_defineProperty(_class, \"text-\".concat(props.textColor), props.textColor), CJumbotronvue_type_script_lang_js_defineProperty(_class, \"bg-\".concat(props.color), props.color), CJumbotronvue_type_script_lang_js_defineProperty(_class, \"border-\".concat(props.borderColor), props.borderColor), CJumbotronvue_type_script_lang_js_defineProperty(_class, 'border', props.borderColor), _class)\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/jumbotron/CJumbotron.vue?vue&type=script&lang=js&\n /* harmony default export */ var jumbotron_CJumbotronvue_type_script_lang_js_ = (CJumbotronvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/jumbotron/CJumbotron.vue\nvar CJumbotron_render, CJumbotron_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CJumbotron_component = Object(componentNormalizer[\"a\" /* default */])(\n  jumbotron_CJumbotronvue_type_script_lang_js_,\n  CJumbotron_render,\n  CJumbotron_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CJumbotron = (CJumbotron_component.exports);\n// CONCATENATED MODULE: ./src/components/jumbotron/index.js\n\n\n// CONCATENATED MODULE: ./src/components/link/index.js\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/list-group/CListGroup.vue?vue&type=script&lang=js&\nfunction CListGroupvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n/* harmony default export */ var CListGroupvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CListGroup',\n  props: {\n    tag: {\n      type: String,\n      default: 'ul'\n    },\n    flush: Boolean,\n    horizontal: [Boolean, String],\n    accent: Boolean\n  },\n  render: function render(h, _ref) {\n    var _class;\n\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    var hor = props.horizontal;\n    var horizontalClassSuffix = typeof hor === 'string' ? \"-\".concat(hor) : '';\n    var componentData = {\n      staticClass: 'list-group',\n      class: (_class = {\n        'list-group-flush': !hor && props.flush\n      }, CListGroupvue_type_script_lang_js_defineProperty(_class, \"list-group-horizontal\".concat(horizontalClassSuffix), hor), CListGroupvue_type_script_lang_js_defineProperty(_class, 'list-group-accent', props.accent), _class),\n      attrs: {\n        role: data.attrs ? data.attrs.role || 'list-items' : 'list-items'\n      }\n    };\n    return h(props.tag, a(data, componentData), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/list-group/CListGroup.vue?vue&type=script&lang=js&\n /* harmony default export */ var list_group_CListGroupvue_type_script_lang_js_ = (CListGroupvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/list-group/CListGroup.vue\nvar CListGroup_render, CListGroup_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CListGroup_component = Object(componentNormalizer[\"a\" /* default */])(\n  list_group_CListGroupvue_type_script_lang_js_,\n  CListGroup_render,\n  CListGroup_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CListGroup = (CListGroup_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/list-group/CListGroupItem.vue?vue&type=script&lang=js&\nfunction CListGroupItemvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nvar CListGroupItemvue_type_script_lang_js_props = Object.assign({\n  tag: {\n    type: String,\n    default: 'li'\n  },\n  action: Boolean,\n  color: String,\n  accent: String\n}, propsFactory());\n/* harmony default export */ var CListGroupItemvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CListGroupItem',\n  props: CListGroupItemvue_type_script_lang_js_props,\n  render: function render(h, _ref) {\n    var _class;\n\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    var tag = props.href || props.to ? CLink : props.tag;\n    var isAction = Boolean(props.action || props.href || props.to || props.tag === 'button');\n    var attrs = {};\n    var itemProps = {};\n\n    if (tag === 'button') {\n      if (!data.attrs || !data.attrs.type) {\n        attrs.type = 'button';\n      }\n\n      if (props.disabled) {\n        attrs.disabled = true;\n      }\n    } else {\n      itemProps = pick_by_keys(props, Object.keys(propsFactory()));\n    }\n\n    var componentData = {\n      attrs: attrs,\n      props: itemProps,\n      staticClass: 'list-group-item',\n      class: (_class = {}, CListGroupItemvue_type_script_lang_js_defineProperty(_class, \"list-group-item-\".concat(props.color), props.color), CListGroupItemvue_type_script_lang_js_defineProperty(_class, \"list-group-item-accent-\".concat(props.accent), props.accent), CListGroupItemvue_type_script_lang_js_defineProperty(_class, 'list-group-item-action', isAction), CListGroupItemvue_type_script_lang_js_defineProperty(_class, 'active', props.active), CListGroupItemvue_type_script_lang_js_defineProperty(_class, 'disabled', props.disabled), _class)\n    };\n    return h(tag, a(data, componentData), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/list-group/CListGroupItem.vue?vue&type=script&lang=js&\n /* harmony default export */ var list_group_CListGroupItemvue_type_script_lang_js_ = (CListGroupItemvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/list-group/CListGroupItem.vue\nvar CListGroupItem_render, CListGroupItem_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CListGroupItem_component = Object(componentNormalizer[\"a\" /* default */])(\n  list_group_CListGroupItemvue_type_script_lang_js_,\n  CListGroupItem_render,\n  CListGroupItem_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CListGroupItem = (CListGroupItem_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/list-group/CListGroupItemDivider.vue?vue&type=template&id=21236f99&\nvar CListGroupItemDividervue_type_template_id_21236f99_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list-group-item-divider\"})}\nvar CListGroupItemDividervue_type_template_id_21236f99_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/list-group/CListGroupItemDivider.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n/* harmony default export */ var CListGroupItemDividervue_type_script_lang_js_ = ({\n  name: 'CListGroupItemDivider'\n});\n// CONCATENATED MODULE: ./src/components/list-group/CListGroupItemDivider.vue?vue&type=script&lang=js&\n /* harmony default export */ var list_group_CListGroupItemDividervue_type_script_lang_js_ = (CListGroupItemDividervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/list-group/CListGroupItemDivider.vue\n\n\n\n\n\n/* normalize component */\n\nvar CListGroupItemDivider_component = Object(componentNormalizer[\"a\" /* default */])(\n  list_group_CListGroupItemDividervue_type_script_lang_js_,\n  CListGroupItemDividervue_type_template_id_21236f99_render,\n  CListGroupItemDividervue_type_template_id_21236f99_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CListGroupItemDivider = (CListGroupItemDivider_component.exports);\n// CONCATENATED MODULE: ./src/components/list-group/index.js\n\n\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/media/CMedia.vue?vue&type=template&id=f9a384fa&\nvar CMediavue_type_template_id_f9a384fa_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.mediaClasses},[_c('div',{class:_vm.asideClasses},[_vm._t(\"aside\",[_c('CImg',_vm._b({},'CImg',_vm.computedAsideImageProps,false))])],2),_c('div',{class:_vm.mediaBodyClasses},[_vm._t(\"default\")],2)])}\nvar CMediavue_type_template_id_f9a384fa_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/media/CMedia.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CMediavue_type_script_lang_js_ = ({\n  name: 'CMedia',\n  components: {\n    CImg: CImg\n  },\n  props: {\n    addAsideMargin: {\n      type: Boolean,\n      default: true\n    },\n    addAsideClasses: [String, Array, Object],\n    addBodyClasses: [String, Array, Object],\n    asideRight: Boolean,\n    asideImageProps: Object,\n    asideVerticalPosition: {\n      type: String,\n      default: 'start',\n      validator: function validator(val) {\n        return ['start', 'center', 'end', 'stretch'].includes(val);\n      }\n    }\n  },\n  computed: {\n    computedAsideImageProps: function computedAsideImageProps() {\n      return Object.assign({\n        placeholderColor: '#777777',\n        width: '64px',\n        height: this.asideVerticalPosition === 'stretch' ? '100%' : '64px'\n      }, this.asideImageProps || {});\n    },\n    asideClasses: function asideClasses() {\n      return [this.addAsideMargin ? \"m\".concat(this.asideRight ? 'l' : 'r', \"-3\") : '', this.addAsideClasses, \"align-self-\".concat(this.asideVerticalPosition)];\n    },\n    mediaBodyClasses: function mediaBodyClasses() {\n      return ['media-body', this.addBodyClasses];\n    },\n    mediaClasses: function mediaClasses() {\n      return ['media', {\n        'd-flex flex-row-reverse': this.asideRight\n      }];\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/media/CMedia.vue?vue&type=script&lang=js&\n /* harmony default export */ var media_CMediavue_type_script_lang_js_ = (CMediavue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/media/CMedia.vue\n\n\n\n\n\n/* normalize component */\n\nvar CMedia_component = Object(componentNormalizer[\"a\" /* default */])(\n  media_CMediavue_type_script_lang_js_,\n  CMediavue_type_template_id_f9a384fa_render,\n  CMediavue_type_template_id_f9a384fa_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CMedia = (CMedia_component.exports);\n// CONCATENATED MODULE: ./src/components/media/index.js\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/modal/CModal.vue?vue&type=template&id=18169574&\nvar CModalvue_type_template_id_18169574_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{class:_vm.modalClasses,attrs:{\"tabindex\":\"-1\",\"role\":\"dialog\"},on:{\"click\":function($event){return _vm.modalClick($event)}}},[_c('div',{class:_vm.dialogClasses,attrs:{\"role\":\"document\"}},[_c('div',{class:_vm.contentClasses},[_vm._t(\"header-wrapper\",[_c('header',{staticClass:\"modal-header\"},[_vm._t(\"header\",[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('CButtonClose',{on:{\"click\":function($event){return _vm.hide($event)}}})])],2)]),_vm._t(\"body-wrapper\",[_c('div',{staticClass:\"modal-body\"},[_vm._t(\"default\")],2)]),_vm._t(\"footer-wrapper\",[_c('footer',{staticClass:\"modal-footer\"},[_vm._t(\"footer\",[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.hide($event)}}},[_vm._v(\" Cancel \")]),_c('button',{class:_vm.btnClasses,attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.hide($event, true)}}},[_vm._v(\" OK \")])])],2)])],2)])]),(_vm.backdrop && (_vm.visible || _vm.isTransitioning))?_c('div',{class:_vm.backdropClasses}):_vm._e()])}\nvar CModalvue_type_template_id_18169574_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/modal/CModal.vue?vue&type=script&lang=js&\nfunction CModalvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CModalvue_type_script_lang_js_ = ({\n  name: 'CModal',\n  components: {\n    CButtonClose: CButtonClose\n  },\n  props: {\n    show: Boolean,\n    centered: Boolean,\n    title: String,\n    size: {\n      type: String,\n      validator: function validator(val) {\n        return ['', 'sm', 'lg', 'xl'].includes(val);\n      }\n    },\n    color: String,\n    borderColor: String,\n    fade: {\n      type: Boolean,\n      default: true\n    },\n    backdrop: {\n      type: Boolean,\n      default: true\n    },\n    closeOnBackdrop: {\n      type: Boolean,\n      default: true\n    },\n    addContentClasses: [String, Array, Object]\n  },\n  data: function data() {\n    return {\n      visible: this.show,\n      isTransitioning: false,\n      timeout: null\n    };\n  },\n  computed: {\n    backdropClasses: function backdropClasses() {\n      return {\n        'modal-backdrop': true,\n        'fade': this.fade,\n        'show': this.visible || !this.fade\n      };\n    },\n    modalClasses: function modalClasses() {\n      return ['modal overflow-auto', CModalvue_type_script_lang_js_defineProperty({\n        'fade': this.fade,\n        'show': this.visible,\n        'd-block': this.visible || this.isTransitioning\n      }, \"modal-\".concat(this.color), this.color)];\n    },\n    dialogClasses: function dialogClasses() {\n      return ['modal-dialog', CModalvue_type_script_lang_js_defineProperty({\n        'modal-dialog-centered': this.centered\n      }, \"modal-\".concat(this.size), this.size)];\n    },\n    contentClasses: function contentClasses() {\n      return [this.addContentClasses, 'modal-content', CModalvue_type_script_lang_js_defineProperty({}, \"border-\".concat(this.borderColor), this.borderColor)];\n    },\n    btnClasses: function btnClasses() {\n      return [\"btn btn-\".concat(this.color || 'primary')];\n    }\n  },\n  watch: {\n    show: function show(val) {\n      this.toggle(val);\n    }\n  },\n  methods: {\n    modalClick: function modalClick(e) {\n      if (e.target === this.$el.firstElementChild && this.closeOnBackdrop) {\n        this.hide(e);\n      }\n    },\n    hide: function hide(e) {\n      var accept = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      this.$emit('update:show', false, e, accept);\n    },\n    toggle: function toggle(newVal) {\n      var _this = this;\n\n      setTimeout(function () {\n        _this.visible = newVal;\n      }, 0);\n\n      if (this.fade) {\n        this.isTransitioning = true;\n        clearTimeout(this.timeout);\n        this.timeout = setTimeout(function () {\n          _this.isTransitioning = false;\n        }, 150);\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/modal/CModal.vue?vue&type=script&lang=js&\n /* harmony default export */ var modal_CModalvue_type_script_lang_js_ = (CModalvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/modal/CModal.vue\n\n\n\n\n\n/* normalize component */\n\nvar CModal_component = Object(componentNormalizer[\"a\" /* default */])(\n  modal_CModalvue_type_script_lang_js_,\n  CModalvue_type_template_id_18169574_render,\n  CModalvue_type_template_id_18169574_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CModal = (CModal_component.exports);\n// CONCATENATED MODULE: ./src/components/modal/index.js\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/nav/CNav.vue?vue&type=template&id=4fc69644&\nvar CNavvue_type_template_id_4fc69644_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.tag || 'ul',{tag:\"component\",class:_vm.navClasses,on:{\"click\":_vm.onClick}},[_vm._t(\"default\")],2)}\nvar CNavvue_type_template_id_4fc69644_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/nav/CNav.vue?vue&type=script&lang=js&\nfunction CNavvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CNavvue_type_script_lang_js_ = ({\n  name: 'CNav',\n  props: {\n    variant: {\n      type: String,\n      validator: function validator(val) {\n        return ['', 'tabs', 'pills'].includes(val);\n      }\n    },\n    fill: Boolean,\n    justified: Boolean,\n    vertical: [Boolean, String],\n    inCard: Boolean,\n    tag: String\n  },\n  provide: function provide() {\n    var _this = this;\n\n    var nav = {};\n    Object.defineProperty(nav, 'active', {\n      get: function get() {\n        return _this.activeItemInstance;\n      }\n    });\n    return {\n      nav: nav\n    };\n  },\n  data: function data() {\n    return {\n      activeItemInstance: null\n    };\n  },\n  computed: {\n    navClasses: function navClasses() {\n      var _ref;\n\n      var verticalSuffix = this.vertical === true ? '' : '-' + this.vertical;\n      return _ref = {\n        'nav': true\n      }, CNavvue_type_script_lang_js_defineProperty(_ref, \"nav-\".concat(this.variant), this.variant), CNavvue_type_script_lang_js_defineProperty(_ref, \"flex\".concat(verticalSuffix, \"-column\"), this.vertical), CNavvue_type_script_lang_js_defineProperty(_ref, 'nav-fill', this.fill), CNavvue_type_script_lang_js_defineProperty(_ref, 'nav-justified', this.justified), CNavvue_type_script_lang_js_defineProperty(_ref, \"card-header-\".concat(this.variant), this.inCard && this.variant), _ref;\n    }\n  },\n  methods: {\n    onClick: function onClick(e) {\n      var _this2 = this;\n\n      this.$children.forEach(function (item) {\n        if (item.$el.contains(e.target) && !item.disabled) {\n          _this2.activeItemInstance = item;\n        }\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/nav/CNav.vue?vue&type=script&lang=js&\n /* harmony default export */ var nav_CNavvue_type_script_lang_js_ = (CNavvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/nav/CNav.vue\n\n\n\n\n\n/* normalize component */\n\nvar CNav_component = Object(componentNormalizer[\"a\" /* default */])(\n  nav_CNavvue_type_script_lang_js_,\n  CNavvue_type_template_id_4fc69644_render,\n  CNavvue_type_template_id_4fc69644_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CNav = (CNav_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/nav/CNavItem.vue?vue&type=template&id=540fdf1a&\nvar CNavItemvue_type_template_id_540fdf1a_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"nav-item\"},[_c('CLink',_vm._b({staticClass:\"nav-link\",attrs:{\"active\":_vm.isActive}},'CLink',_vm.$props,false),[_vm._t(\"default\")],2)],1)}\nvar CNavItemvue_type_template_id_540fdf1a_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/nav/CNavItem.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CNavItemvue_type_script_lang_js_ = ({\n  name: 'CNavItem',\n  components: {\n    CLink: CLink\n  },\n  inject: {\n    nav: {\n      default: {}\n    }\n  },\n  props: CLinkvue_type_script_lang_js_props,\n  computed: {\n    isActive: function isActive() {\n      return this.nav.active ? this.nav.active === this : this.active;\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/nav/CNavItem.vue?vue&type=script&lang=js&\n /* harmony default export */ var nav_CNavItemvue_type_script_lang_js_ = (CNavItemvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/nav/CNavItem.vue\n\n\n\n\n\n/* normalize component */\n\nvar CNavItem_component = Object(componentNormalizer[\"a\" /* default */])(\n  nav_CNavItemvue_type_script_lang_js_,\n  CNavItemvue_type_template_id_540fdf1a_render,\n  CNavItemvue_type_template_id_540fdf1a_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CNavItem = (CNavItem_component.exports);\n// CONCATENATED MODULE: ./src/components/nav/index.js\n\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/navbar/CNavbar.vue?vue&type=script&lang=js&\nfunction CNavbarvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nvar CNavbarvue_type_script_lang_js_props = {\n  tag: {\n    type: String,\n    default: 'nav'\n  },\n  light: Boolean,\n  color: String,\n  expandable: {\n    type: [Boolean, String],\n    default: false\n  },\n  fixed: {\n    type: String,\n    validator: function validator(val) {\n      return ['', 'top', 'bottom'].includes(val);\n    }\n  },\n  sticky: Boolean\n};\n/* harmony default export */ var CNavbarvue_type_script_lang_js_ = ({\n  name: 'CNavbar',\n  functional: true,\n  props: CNavbarvue_type_script_lang_js_props,\n  render: function render(h, _ref) {\n    var _ref2;\n\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    var expandClassSuffix = props.expandable === true ? '' : \"-\".concat(props.expandable);\n    return h(props.tag, a(data, {\n      staticClass: 'navbar',\n      class: [props.light ? 'navbar-light' : 'navbar-dark', (_ref2 = {\n        'sticky-top': props.sticky\n      }, CNavbarvue_type_script_lang_js_defineProperty(_ref2, \"bg-\".concat(props.color), props.color), CNavbarvue_type_script_lang_js_defineProperty(_ref2, \"fixed-\".concat(props.fixed), props.fixed), CNavbarvue_type_script_lang_js_defineProperty(_ref2, \"navbar-expand\".concat(expandClassSuffix), props.expandable), _ref2)],\n      attrs: {\n        role: props.tag === 'nav' ? null : 'navigation'\n      }\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/navbar/CNavbar.vue?vue&type=script&lang=js&\n /* harmony default export */ var navbar_CNavbarvue_type_script_lang_js_ = (CNavbarvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/navbar/CNavbar.vue\nvar CNavbar_render, CNavbar_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CNavbar_component = Object(componentNormalizer[\"a\" /* default */])(\n  navbar_CNavbarvue_type_script_lang_js_,\n  CNavbar_render,\n  CNavbar_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CNavbar = (CNavbar_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/navbar/CNavbarBrand.vue?vue&type=script&lang=js&\n\n\nvar CNavbarBrandvue_type_script_lang_js_props = Object.assign(propsFactory(), {\n  tag: {\n    type: String,\n    default: 'div'\n  }\n});\n/* harmony default export */ var CNavbarBrandvue_type_script_lang_js_ = ({\n  name: 'CNavbarBrand',\n  functional: true,\n  props: CNavbarBrandvue_type_script_lang_js_props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    var isLink = Boolean(props.to || props.href);\n    var tag = isLink ? CLink : props.tag;\n    return h(tag, a(data, {\n      staticClass: 'navbar-brand',\n      props: isLink ? props : null\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/navbar/CNavbarBrand.vue?vue&type=script&lang=js&\n /* harmony default export */ var navbar_CNavbarBrandvue_type_script_lang_js_ = (CNavbarBrandvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/navbar/CNavbarBrand.vue\nvar CNavbarBrand_render, CNavbarBrand_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CNavbarBrand_component = Object(componentNormalizer[\"a\" /* default */])(\n  navbar_CNavbarBrandvue_type_script_lang_js_,\n  CNavbarBrand_render,\n  CNavbarBrand_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CNavbarBrand = (CNavbarBrand_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/navbar/CNavbarNav.vue?vue&type=script&lang=js&\n\n/* harmony default export */ var CNavbarNavvue_type_script_lang_js_ = ({\n  name: 'CNavbarNav',\n  functional: true,\n  props: {\n    tag: {\n      type: String,\n      default: 'ul'\n    }\n  },\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(props.tag, a(data, {\n      staticClass: 'navbar-nav'\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/navbar/CNavbarNav.vue?vue&type=script&lang=js&\n /* harmony default export */ var navbar_CNavbarNavvue_type_script_lang_js_ = (CNavbarNavvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/navbar/CNavbarNav.vue\nvar CNavbarNav_render, CNavbarNav_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CNavbarNav_component = Object(componentNormalizer[\"a\" /* default */])(\n  navbar_CNavbarNavvue_type_script_lang_js_,\n  CNavbarNav_render,\n  CNavbarNav_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CNavbarNav = (CNavbarNav_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/navbar/CNavbarText.vue?vue&type=template&id=bbae35c6&\nvar CNavbarTextvue_type_template_id_bbae35c6_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.tag,{tag:\"component\",staticClass:\"navbar-text\"},[_vm._t(\"default\")],2)}\nvar CNavbarTextvue_type_template_id_bbae35c6_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/navbar/CNavbarText.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CNavbarTextvue_type_script_lang_js_ = ({\n  name: 'CNavbarText',\n  props: {\n    tag: {\n      type: String,\n      default: 'div'\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/navbar/CNavbarText.vue?vue&type=script&lang=js&\n /* harmony default export */ var navbar_CNavbarTextvue_type_script_lang_js_ = (CNavbarTextvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/navbar/CNavbarText.vue\n\n\n\n\n\n/* normalize component */\n\nvar CNavbarText_component = Object(componentNormalizer[\"a\" /* default */])(\n  navbar_CNavbarTextvue_type_script_lang_js_,\n  CNavbarTextvue_type_template_id_bbae35c6_render,\n  CNavbarTextvue_type_template_id_bbae35c6_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CNavbarText = (CNavbarText_component.exports);\n// CONCATENATED MODULE: ./src/components/navbar/index.js\n\n\n\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/pagination/CPagination.vue?vue&type=template&id=7ee6d664&\nvar CPaginationvue_type_template_id_7ee6d664_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{attrs:{\"aria-label\":\"pagination\"}},[_c('ul',{class:_vm.computedClasses},[(_vm.doubleArrows)?_c('li',{class:_vm.backArrowsClasses},[_c('CLink',{staticClass:\"page-link\",attrs:{\"disabled\":_vm.activePage === 1,\"aria-label\":\"Go to first page\",\"aria-disabled\":_vm.activePage === 1},on:{\"click\":function($event){return _vm.setPage(1)}}},[_vm._t(\"first-button\",[_vm._v(\"«\")])],2)],1):_vm._e(),(_vm.arrows)?_c('li',{class:_vm.backArrowsClasses},[_c('CLink',{staticClass:\"page-link\",attrs:{\"disabled\":_vm.activePage === 1,\"aria-label\":\"Go to previous page\",\"aria-disabled\":_vm.activePage === 1},on:{\"click\":function($event){return _vm.setPage(_vm.activePage - 1)}}},[_vm._t(\"previous-button\",[_vm._v(\"‹\")])],2)],1):_vm._e(),(_vm.beforeDots)?_c('li',{staticClass:\"page-item disabled\",attrs:{\"role\":\"separator\"}},[_c('span',{staticClass:\"page-link\"},[_vm._v(\"…\")])]):_vm._e(),_vm._l((_vm.items),function(item){return _c('li',{key:item,class:[{ 'active': _vm.activePage === item }, 'page-item']},[_c('CLink',{staticClass:\"page-link c-page-link-number\",attrs:{\"aria-label\":_vm.activePage === item ? (\"Current page \" + item) : (\"Go to page \" + item)},on:{\"click\":function($event){return _vm.setPage(item, $event)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])],1)}),(_vm.afterDots)?_c('li',{staticClass:\"page-item disabled\",attrs:{\"role\":\"separator\"}},[_c('span',{staticClass:\"page-link\"},[_vm._v(\"…\")])]):_vm._e(),(_vm.arrows)?_c('li',{class:_vm.nextArrowsClasses},[_c('CLink',{staticClass:\"page-link\",attrs:{\"disabled\":_vm.activePage === _vm.pages,\"aria-label\":\"Go to next page\",\"aria-disabled\":_vm.activePage === _vm.pages},on:{\"click\":function($event){return _vm.setPage(_vm.activePage + 1)}}},[_vm._t(\"next-button\",[_vm._v(\"›\")])],2)],1):_vm._e(),(_vm.doubleArrows)?_c('li',{class:_vm.nextArrowsClasses},[_c('CLink',{staticClass:\"page-link\",attrs:{\"disabled\":_vm.activePage === _vm.pages,\"aria-label\":\"Go to last page\",\"aria-disabled\":_vm.activePage === _vm.pages},on:{\"click\":function($event){return _vm.setPage(_vm.pages)}}},[_vm._t(\"last-button\",[_vm._v(\"»\")])],2)],1):_vm._e()],2)])}\nvar CPaginationvue_type_template_id_7ee6d664_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/pagination/CPagination.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CPaginationvue_type_script_lang_js_ = ({\n  name: 'CPagination',\n  components: {\n    CLink: CLink\n  },\n  props: {\n    activePage: {\n      type: Number,\n      default: 1\n    },\n    pages: {\n      type: Number,\n      default: 10\n    },\n    size: {\n      type: String,\n      validator: function validator(val) {\n        return ['', 'sm', 'lg'].includes(val);\n      }\n    },\n    align: {\n      type: String,\n      default: 'start',\n      validator: function validator(val) {\n        return ['start', 'center', 'end'].includes(val);\n      }\n    },\n    limit: {\n      type: Number,\n      default: 5\n    },\n    dots: {\n      type: Boolean,\n      default: true\n    },\n    arrows: {\n      type: Boolean,\n      default: true\n    },\n    doubleArrows: {\n      type: Boolean,\n      default: true\n    }\n  },\n  watch: {\n    pages: {\n      immediate: true,\n      handler: function handler(val) {\n        if (val && val < this.activePage) {\n          this.$emit('update:activePage', val, true);\n        }\n      }\n    }\n  },\n  computed: {\n    backArrowsClasses: function backArrowsClasses() {\n      return ['page-item', {\n        'disabled': this.activePage === 1\n      }];\n    },\n    nextArrowsClasses: function nextArrowsClasses() {\n      return ['page-item', {\n        'disabled': this.activePage === this.pages\n      }];\n    },\n    computedClasses: function computedClasses() {\n      var sizeClass = this.size ? \"pagination-\".concat(this.size) : '';\n      return \"pagination \".concat(sizeClass, \" justify-content-\").concat(this.align);\n    },\n    showDots: function showDots() {\n      return this.dots && this.limit > 4 && this.limit < this.pages;\n    },\n    maxPrevItems: function maxPrevItems() {\n      return Math.floor((this.limit - 1) / 2);\n    },\n    maxNextItems: function maxNextItems() {\n      return Math.ceil((this.limit - 1) / 2);\n    },\n    beforeDots: function beforeDots() {\n      return this.showDots && this.activePage > this.maxPrevItems + 1;\n    },\n    afterDots: function afterDots() {\n      return this.showDots && this.activePage < this.pages - this.maxNextItems;\n    },\n    computedLimit: function computedLimit() {\n      return this.limit - this.afterDots - this.beforeDots;\n    },\n    range: function range() {\n      return this.activePage + this.maxNextItems;\n    },\n    lastItem: function lastItem() {\n      return this.range >= this.pages ? this.pages : this.range - this.afterDots;\n    },\n    itemsAmount: function itemsAmount() {\n      return this.pages < this.computedLimit ? this.pages : this.computedLimit;\n    },\n    items: function items() {\n      var _this = this;\n\n      if (this.activePage - this.maxPrevItems <= 1) {\n        return Array.from({\n          length: this.itemsAmount\n        }, function (v, i) {\n          return i + 1;\n        });\n      } else {\n        return Array.from({\n          length: this.itemsAmount\n        }, function (v, i) {\n          return _this.lastItem - i;\n        }).reverse();\n      }\n    }\n  },\n  methods: {\n    setPage: function setPage(number) {\n      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (number === this.activePage) {\n        return;\n      }\n\n      this.$emit('update:activePage', number, false);\n\n      if (e) {\n        this.changeFocus(e);\n      }\n    },\n    changeFocus: function changeFocus(e) {\n      var items = this.$el.getElementsByClassName('c-page-link-number');\n      var focused = Number(e.target.innerHTML);\n      this.$nextTick(function () {\n        for (var i = 0; i < items.length; i++) {\n          if (Number(items[i].innerHTML) === focused) {\n            items[i].focus();\n          }\n        }\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/pagination/CPagination.vue?vue&type=script&lang=js&\n /* harmony default export */ var pagination_CPaginationvue_type_script_lang_js_ = (CPaginationvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/pagination/CPagination.vue\n\n\n\n\n\n/* normalize component */\n\nvar CPagination_component = Object(componentNormalizer[\"a\" /* default */])(\n  pagination_CPaginationvue_type_script_lang_js_,\n  CPaginationvue_type_template_id_7ee6d664_render,\n  CPaginationvue_type_template_id_7ee6d664_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CPagination = (CPagination_component.exports);\n// CONCATENATED MODULE: ./src/components/pagination/index.js\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/progress/CProgress.vue?vue&type=template&id=9ce936dc&\nvar CProgressvue_type_template_id_9ce936dc_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:['progress', _vm.size && (\"progress-\" + _vm.size)],style:({ height: _vm.height })},[_vm._t(\"default\",[_c('CProgressBar',{attrs:{\"value\":_vm.value}})])],2)}\nvar CProgressvue_type_template_id_9ce936dc_staticRenderFns = []\n\n\n// EXTERNAL MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/progress/CProgress.vue?vue&type=script&lang=js&\nvar CProgressvue_type_script_lang_js_ = __webpack_require__(\"0cd6\");\n\n// CONCATENATED MODULE: ./src/components/progress/CProgress.vue?vue&type=script&lang=js&\n /* harmony default export */ var progress_CProgressvue_type_script_lang_js_ = (CProgressvue_type_script_lang_js_[\"a\" /* default */]); \n// CONCATENATED MODULE: ./src/components/progress/CProgress.vue\n\n\n\n\n\n/* normalize component */\n\nvar CProgress_component = Object(componentNormalizer[\"a\" /* default */])(\n  progress_CProgressvue_type_script_lang_js_,\n  CProgressvue_type_template_id_9ce936dc_render,\n  CProgressvue_type_template_id_9ce936dc_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CProgress = (CProgress_component.exports);\n// EXTERNAL MODULE: ./src/components/progress/CProgressBar.vue + 3 modules\nvar CProgressBar = __webpack_require__(\"8fc1\");\n\n// CONCATENATED MODULE: ./src/components/progress/index.js\n\n\n\n// EXTERNAL MODULE: ./node_modules/lodash.clonedeep/index.js\nvar lodash_clonedeep = __webpack_require__(\"cd3f\");\nvar lodash_clonedeep_default = /*#__PURE__*/__webpack_require__.n(lodash_clonedeep);\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/render-function/CRenderFunction.vue?vue&type=script&lang=js&\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n/* harmony default export */ var CRenderFunctionvue_type_script_lang_js_ = ({\n  name: 'CRenderFunction',\n  props: {\n    contentToRender: Array,\n    flat: Boolean\n  },\n  computed: {\n    copiedContent: function copiedContent() {\n      return lodash_clonedeep_default()(this.contentToRender);\n    },\n    content: function content() {\n      if (!this.flat) {\n        return this.copiedContent;\n      } else {\n        return this.convertedContent[0];\n      }\n    },\n    convertedContent: function convertedContent() {\n      var _this = this;\n\n      return this.copiedContent.map(function (item) {\n        return _this.convertItem(item);\n      });\n    }\n  },\n  methods: {\n    convertItem: function convertItem(item) {\n      var _this2 = this;\n\n      if (typeof item === 'string') {\n        return item;\n      }\n\n      var newItem = [];\n      newItem[0] = item._name || 'div';\n      newItem[1] = {};\n      newItem[1].props = this.getProps(item);\n      this.$options.renderFunctionOptions.forEach(function (option) {\n        //on option doesn't work, possible to use only nativeOn\n        if (item[\"_\".concat(option)]) {\n          newItem[1][option] = item[\"_\".concat(option)];\n        }\n      });\n\n      if (item._children) {\n        newItem[2] = item._children.map(function (item) {\n          return _this2.convertItem(item);\n        });\n      }\n\n      return newItem;\n    },\n    getProps: function getProps(item) {\n      return Object.keys(item).reduce(function (itemProps, key) {\n        if (!key.includes('_')) {\n          itemProps[key] = item[key];\n        }\n\n        return itemProps;\n      }, {});\n    }\n  },\n  renderFunctionOptions: ['attrs', 'directives', 'on', 'nativeOn', 'class', 'style', 'domProps', 'scopedSlots', 'slot', 'key', 'ref', 'refInFor'],\n  render: function render(h) {\n    var _this3 = this;\n\n    var computeRenderFunction = function computeRenderFunction(renderFunction) {\n      return renderFunction.map(function (item) {\n        if (Array.isArray(item)) {\n          return item.map(function (child) {\n            if (typeof child === 'string') {\n              return child;\n            } else if (Array.isArray(child)) {\n              var el = computeRenderFunction(child);\n              return h.apply(void 0, _toConsumableArray(el));\n            } else if (child.slot) {\n              return _this3.$scopedSlots[child.slot]();\n            }\n          });\n        }\n\n        return item;\n      });\n    };\n\n    if (Array.isArray(this.content) && this.content.length) {\n      return h.apply(void 0, _toConsumableArray(computeRenderFunction(this.content)));\n    } else {\n      return h(false);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/render-function/CRenderFunction.vue?vue&type=script&lang=js&\n /* harmony default export */ var render_function_CRenderFunctionvue_type_script_lang_js_ = (CRenderFunctionvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/render-function/CRenderFunction.vue\nvar CRenderFunction_render, CRenderFunction_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CRenderFunction_component = Object(componentNormalizer[\"a\" /* default */])(\n  render_function_CRenderFunctionvue_type_script_lang_js_,\n  CRenderFunction_render,\n  CRenderFunction_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CRenderFunction = (CRenderFunction_component.exports);\n// CONCATENATED MODULE: ./src/components/render-function/index.js\n\n\n// CONCATENATED MODULE: ./node_modules/perfect-scrollbar/dist/perfect-scrollbar.esm.js\n/*!\n * perfect-scrollbar v1.5.0\n * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors\n * Licensed under MIT\n */\n\nfunction get(element) {\n  return getComputedStyle(element);\n}\n\nfunction set(element, obj) {\n  for (var key in obj) {\n    var val = obj[key];\n    if (typeof val === 'number') {\n      val = val + \"px\";\n    }\n    element.style[key] = val;\n  }\n  return element;\n}\n\nfunction div(className) {\n  var div = document.createElement('div');\n  div.className = className;\n  return div;\n}\n\nvar elMatches =\n  typeof Element !== 'undefined' &&\n  (Element.prototype.matches ||\n    Element.prototype.webkitMatchesSelector ||\n    Element.prototype.mozMatchesSelector ||\n    Element.prototype.msMatchesSelector);\n\nfunction matches(element, query) {\n  if (!elMatches) {\n    throw new Error('No element matching method supported');\n  }\n\n  return elMatches.call(element, query);\n}\n\nfunction remove(element) {\n  if (element.remove) {\n    element.remove();\n  } else {\n    if (element.parentNode) {\n      element.parentNode.removeChild(element);\n    }\n  }\n}\n\nfunction queryChildren(element, selector) {\n  return Array.prototype.filter.call(element.children, function (child) { return matches(child, selector); }\n  );\n}\n\nvar cls = {\n  main: 'ps',\n  rtl: 'ps__rtl',\n  element: {\n    thumb: function (x) { return (\"ps__thumb-\" + x); },\n    rail: function (x) { return (\"ps__rail-\" + x); },\n    consuming: 'ps__child--consume',\n  },\n  state: {\n    focus: 'ps--focus',\n    clicking: 'ps--clicking',\n    active: function (x) { return (\"ps--active-\" + x); },\n    scrolling: function (x) { return (\"ps--scrolling-\" + x); },\n  },\n};\n\n/*\n * Helper methods\n */\nvar scrollingClassTimeout = { x: null, y: null };\n\nfunction addScrollingClass(i, x) {\n  var classList = i.element.classList;\n  var className = cls.state.scrolling(x);\n\n  if (classList.contains(className)) {\n    clearTimeout(scrollingClassTimeout[x]);\n  } else {\n    classList.add(className);\n  }\n}\n\nfunction removeScrollingClass(i, x) {\n  scrollingClassTimeout[x] = setTimeout(\n    function () { return i.isAlive && i.element.classList.remove(cls.state.scrolling(x)); },\n    i.settings.scrollingThreshold\n  );\n}\n\nfunction setScrollingClassInstantly(i, x) {\n  addScrollingClass(i, x);\n  removeScrollingClass(i, x);\n}\n\nvar EventElement = function EventElement(element) {\n  this.element = element;\n  this.handlers = {};\n};\n\nvar prototypeAccessors = { isEmpty: { configurable: true } };\n\nEventElement.prototype.bind = function bind (eventName, handler) {\n  if (typeof this.handlers[eventName] === 'undefined') {\n    this.handlers[eventName] = [];\n  }\n  this.handlers[eventName].push(handler);\n  this.element.addEventListener(eventName, handler, false);\n};\n\nEventElement.prototype.unbind = function unbind (eventName, target) {\n    var this$1 = this;\n\n  this.handlers[eventName] = this.handlers[eventName].filter(function (handler) {\n    if (target && handler !== target) {\n      return true;\n    }\n    this$1.element.removeEventListener(eventName, handler, false);\n    return false;\n  });\n};\n\nEventElement.prototype.unbindAll = function unbindAll () {\n  for (var name in this.handlers) {\n    this.unbind(name);\n  }\n};\n\nprototypeAccessors.isEmpty.get = function () {\n    var this$1 = this;\n\n  return Object.keys(this.handlers).every(\n    function (key) { return this$1.handlers[key].length === 0; }\n  );\n};\n\nObject.defineProperties( EventElement.prototype, prototypeAccessors );\n\nvar EventManager = function EventManager() {\n  this.eventElements = [];\n};\n\nEventManager.prototype.eventElement = function eventElement (element) {\n  var ee = this.eventElements.filter(function (ee) { return ee.element === element; })[0];\n  if (!ee) {\n    ee = new EventElement(element);\n    this.eventElements.push(ee);\n  }\n  return ee;\n};\n\nEventManager.prototype.bind = function bind (element, eventName, handler) {\n  this.eventElement(element).bind(eventName, handler);\n};\n\nEventManager.prototype.unbind = function unbind (element, eventName, handler) {\n  var ee = this.eventElement(element);\n  ee.unbind(eventName, handler);\n\n  if (ee.isEmpty) {\n    // remove\n    this.eventElements.splice(this.eventElements.indexOf(ee), 1);\n  }\n};\n\nEventManager.prototype.unbindAll = function unbindAll () {\n  this.eventElements.forEach(function (e) { return e.unbindAll(); });\n  this.eventElements = [];\n};\n\nEventManager.prototype.once = function once (element, eventName, handler) {\n  var ee = this.eventElement(element);\n  var onceHandler = function (evt) {\n    ee.unbind(eventName, onceHandler);\n    handler(evt);\n  };\n  ee.bind(eventName, onceHandler);\n};\n\nfunction createEvent(name) {\n  if (typeof window.CustomEvent === 'function') {\n    return new CustomEvent(name);\n  } else {\n    var evt = document.createEvent('CustomEvent');\n    evt.initCustomEvent(name, false, false, undefined);\n    return evt;\n  }\n}\n\nfunction processScrollDiff(\n  i,\n  axis,\n  diff,\n  useScrollingClass,\n  forceFireReachEvent\n) {\n  if ( useScrollingClass === void 0 ) useScrollingClass = true;\n  if ( forceFireReachEvent === void 0 ) forceFireReachEvent = false;\n\n  var fields;\n  if (axis === 'top') {\n    fields = [\n      'contentHeight',\n      'containerHeight',\n      'scrollTop',\n      'y',\n      'up',\n      'down' ];\n  } else if (axis === 'left') {\n    fields = [\n      'contentWidth',\n      'containerWidth',\n      'scrollLeft',\n      'x',\n      'left',\n      'right' ];\n  } else {\n    throw new Error('A proper axis should be provided');\n  }\n\n  processScrollDiff$1(i, diff, fields, useScrollingClass, forceFireReachEvent);\n}\n\nfunction processScrollDiff$1(\n  i,\n  diff,\n  ref,\n  useScrollingClass,\n  forceFireReachEvent\n) {\n  var contentHeight = ref[0];\n  var containerHeight = ref[1];\n  var scrollTop = ref[2];\n  var y = ref[3];\n  var up = ref[4];\n  var down = ref[5];\n  if ( useScrollingClass === void 0 ) useScrollingClass = true;\n  if ( forceFireReachEvent === void 0 ) forceFireReachEvent = false;\n\n  var element = i.element;\n\n  // reset reach\n  i.reach[y] = null;\n\n  // 1 for subpixel rounding\n  if (element[scrollTop] < 1) {\n    i.reach[y] = 'start';\n  }\n\n  // 1 for subpixel rounding\n  if (element[scrollTop] > i[contentHeight] - i[containerHeight] - 1) {\n    i.reach[y] = 'end';\n  }\n\n  if (diff) {\n    element.dispatchEvent(createEvent((\"ps-scroll-\" + y)));\n\n    if (diff < 0) {\n      element.dispatchEvent(createEvent((\"ps-scroll-\" + up)));\n    } else if (diff > 0) {\n      element.dispatchEvent(createEvent((\"ps-scroll-\" + down)));\n    }\n\n    if (useScrollingClass) {\n      setScrollingClassInstantly(i, y);\n    }\n  }\n\n  if (i.reach[y] && (diff || forceFireReachEvent)) {\n    element.dispatchEvent(createEvent((\"ps-\" + y + \"-reach-\" + (i.reach[y]))));\n  }\n}\n\nfunction toInt(x) {\n  return parseInt(x, 10) || 0;\n}\n\nfunction isEditable(el) {\n  return (\n    matches(el, 'input,[contenteditable]') ||\n    matches(el, 'select,[contenteditable]') ||\n    matches(el, 'textarea,[contenteditable]') ||\n    matches(el, 'button,[contenteditable]')\n  );\n}\n\nfunction perfect_scrollbar_esm_outerWidth(element) {\n  var styles = get(element);\n  return (\n    toInt(styles.width) +\n    toInt(styles.paddingLeft) +\n    toInt(styles.paddingRight) +\n    toInt(styles.borderLeftWidth) +\n    toInt(styles.borderRightWidth)\n  );\n}\n\nvar env = {\n  isWebKit:\n    typeof document !== 'undefined' &&\n    'WebkitAppearance' in document.documentElement.style,\n  supportsTouch:\n    typeof window !== 'undefined' &&\n    ('ontouchstart' in window ||\n      ('maxTouchPoints' in window.navigator &&\n        window.navigator.maxTouchPoints > 0) ||\n      (window.DocumentTouch && document instanceof window.DocumentTouch)),\n  supportsIePointer:\n    typeof navigator !== 'undefined' && navigator.msMaxTouchPoints,\n  isChrome:\n    typeof navigator !== 'undefined' &&\n    /Chrome/i.test(navigator && navigator.userAgent),\n};\n\nfunction updateGeometry(i) {\n  var element = i.element;\n  var roundedScrollTop = Math.floor(element.scrollTop);\n  var rect = element.getBoundingClientRect();\n\n  i.containerWidth = Math.ceil(rect.width);\n  i.containerHeight = Math.ceil(rect.height);\n  i.contentWidth = element.scrollWidth;\n  i.contentHeight = element.scrollHeight;\n\n  if (!element.contains(i.scrollbarXRail)) {\n    // clean up and append\n    queryChildren(element, cls.element.rail('x')).forEach(function (el) { return remove(el); }\n    );\n    element.appendChild(i.scrollbarXRail);\n  }\n  if (!element.contains(i.scrollbarYRail)) {\n    // clean up and append\n    queryChildren(element, cls.element.rail('y')).forEach(function (el) { return remove(el); }\n    );\n    element.appendChild(i.scrollbarYRail);\n  }\n\n  if (\n    !i.settings.suppressScrollX &&\n    i.containerWidth + i.settings.scrollXMarginOffset < i.contentWidth\n  ) {\n    i.scrollbarXActive = true;\n    i.railXWidth = i.containerWidth - i.railXMarginWidth;\n    i.railXRatio = i.containerWidth / i.railXWidth;\n    i.scrollbarXWidth = getThumbSize(\n      i,\n      toInt((i.railXWidth * i.containerWidth) / i.contentWidth)\n    );\n    i.scrollbarXLeft = toInt(\n      ((i.negativeScrollAdjustment + element.scrollLeft) *\n        (i.railXWidth - i.scrollbarXWidth)) /\n        (i.contentWidth - i.containerWidth)\n    );\n  } else {\n    i.scrollbarXActive = false;\n  }\n\n  if (\n    !i.settings.suppressScrollY &&\n    i.containerHeight + i.settings.scrollYMarginOffset < i.contentHeight\n  ) {\n    i.scrollbarYActive = true;\n    i.railYHeight = i.containerHeight - i.railYMarginHeight;\n    i.railYRatio = i.containerHeight / i.railYHeight;\n    i.scrollbarYHeight = getThumbSize(\n      i,\n      toInt((i.railYHeight * i.containerHeight) / i.contentHeight)\n    );\n    i.scrollbarYTop = toInt(\n      (roundedScrollTop * (i.railYHeight - i.scrollbarYHeight)) /\n        (i.contentHeight - i.containerHeight)\n    );\n  } else {\n    i.scrollbarYActive = false;\n  }\n\n  if (i.scrollbarXLeft >= i.railXWidth - i.scrollbarXWidth) {\n    i.scrollbarXLeft = i.railXWidth - i.scrollbarXWidth;\n  }\n  if (i.scrollbarYTop >= i.railYHeight - i.scrollbarYHeight) {\n    i.scrollbarYTop = i.railYHeight - i.scrollbarYHeight;\n  }\n\n  updateCss(element, i);\n\n  if (i.scrollbarXActive) {\n    element.classList.add(cls.state.active('x'));\n  } else {\n    element.classList.remove(cls.state.active('x'));\n    i.scrollbarXWidth = 0;\n    i.scrollbarXLeft = 0;\n    element.scrollLeft = i.isRtl === true ? i.contentWidth : 0;\n  }\n  if (i.scrollbarYActive) {\n    element.classList.add(cls.state.active('y'));\n  } else {\n    element.classList.remove(cls.state.active('y'));\n    i.scrollbarYHeight = 0;\n    i.scrollbarYTop = 0;\n    element.scrollTop = 0;\n  }\n}\n\nfunction getThumbSize(i, thumbSize) {\n  if (i.settings.minScrollbarLength) {\n    thumbSize = Math.max(thumbSize, i.settings.minScrollbarLength);\n  }\n  if (i.settings.maxScrollbarLength) {\n    thumbSize = Math.min(thumbSize, i.settings.maxScrollbarLength);\n  }\n  return thumbSize;\n}\n\nfunction updateCss(element, i) {\n  var xRailOffset = { width: i.railXWidth };\n  var roundedScrollTop = Math.floor(element.scrollTop);\n\n  if (i.isRtl) {\n    xRailOffset.left =\n      i.negativeScrollAdjustment +\n      element.scrollLeft +\n      i.containerWidth -\n      i.contentWidth;\n  } else {\n    xRailOffset.left = element.scrollLeft;\n  }\n  if (i.isScrollbarXUsingBottom) {\n    xRailOffset.bottom = i.scrollbarXBottom - roundedScrollTop;\n  } else {\n    xRailOffset.top = i.scrollbarXTop + roundedScrollTop;\n  }\n  set(i.scrollbarXRail, xRailOffset);\n\n  var yRailOffset = { top: roundedScrollTop, height: i.railYHeight };\n  if (i.isScrollbarYUsingRight) {\n    if (i.isRtl) {\n      yRailOffset.right =\n        i.contentWidth -\n        (i.negativeScrollAdjustment + element.scrollLeft) -\n        i.scrollbarYRight -\n        i.scrollbarYOuterWidth -\n        9;\n    } else {\n      yRailOffset.right = i.scrollbarYRight - element.scrollLeft;\n    }\n  } else {\n    if (i.isRtl) {\n      yRailOffset.left =\n        i.negativeScrollAdjustment +\n        element.scrollLeft +\n        i.containerWidth * 2 -\n        i.contentWidth -\n        i.scrollbarYLeft -\n        i.scrollbarYOuterWidth;\n    } else {\n      yRailOffset.left = i.scrollbarYLeft + element.scrollLeft;\n    }\n  }\n  set(i.scrollbarYRail, yRailOffset);\n\n  set(i.scrollbarX, {\n    left: i.scrollbarXLeft,\n    width: i.scrollbarXWidth - i.railBorderXWidth,\n  });\n  set(i.scrollbarY, {\n    top: i.scrollbarYTop,\n    height: i.scrollbarYHeight - i.railBorderYWidth,\n  });\n}\n\nfunction clickRail(i) {\n  var element = i.element;\n\n  i.event.bind(i.scrollbarY, 'mousedown', function (e) { return e.stopPropagation(); });\n  i.event.bind(i.scrollbarYRail, 'mousedown', function (e) {\n    var positionTop =\n      e.pageY -\n      window.pageYOffset -\n      i.scrollbarYRail.getBoundingClientRect().top;\n    var direction = positionTop > i.scrollbarYTop ? 1 : -1;\n\n    i.element.scrollTop += direction * i.containerHeight;\n    updateGeometry(i);\n\n    e.stopPropagation();\n  });\n\n  i.event.bind(i.scrollbarX, 'mousedown', function (e) { return e.stopPropagation(); });\n  i.event.bind(i.scrollbarXRail, 'mousedown', function (e) {\n    var positionLeft =\n      e.pageX -\n      window.pageXOffset -\n      i.scrollbarXRail.getBoundingClientRect().left;\n    var direction = positionLeft > i.scrollbarXLeft ? 1 : -1;\n\n    i.element.scrollLeft += direction * i.containerWidth;\n    updateGeometry(i);\n\n    e.stopPropagation();\n  });\n}\n\nfunction dragThumb(i) {\n  bindMouseScrollHandler(i, [\n    'containerWidth',\n    'contentWidth',\n    'pageX',\n    'railXWidth',\n    'scrollbarX',\n    'scrollbarXWidth',\n    'scrollLeft',\n    'x',\n    'scrollbarXRail' ]);\n  bindMouseScrollHandler(i, [\n    'containerHeight',\n    'contentHeight',\n    'pageY',\n    'railYHeight',\n    'scrollbarY',\n    'scrollbarYHeight',\n    'scrollTop',\n    'y',\n    'scrollbarYRail' ]);\n}\n\nfunction bindMouseScrollHandler(\n  i,\n  ref\n) {\n  var containerHeight = ref[0];\n  var contentHeight = ref[1];\n  var pageY = ref[2];\n  var railYHeight = ref[3];\n  var scrollbarY = ref[4];\n  var scrollbarYHeight = ref[5];\n  var scrollTop = ref[6];\n  var y = ref[7];\n  var scrollbarYRail = ref[8];\n\n  var element = i.element;\n\n  var startingScrollTop = null;\n  var startingMousePageY = null;\n  var scrollBy = null;\n\n  function mouseMoveHandler(e) {\n    if (e.touches && e.touches[0]) {\n      e[pageY] = e.touches[0].pageY;\n    }\n    element[scrollTop] =\n      startingScrollTop + scrollBy * (e[pageY] - startingMousePageY);\n    addScrollingClass(i, y);\n    updateGeometry(i);\n\n    e.stopPropagation();\n    e.preventDefault();\n  }\n\n  function mouseUpHandler() {\n    removeScrollingClass(i, y);\n    i[scrollbarYRail].classList.remove(cls.state.clicking);\n    i.event.unbind(i.ownerDocument, 'mousemove', mouseMoveHandler);\n  }\n\n  function bindMoves(e, touchMode) {\n    startingScrollTop = element[scrollTop];\n    if (touchMode && e.touches) {\n      e[pageY] = e.touches[0].pageY;\n    }\n    startingMousePageY = e[pageY];\n    scrollBy =\n      (i[contentHeight] - i[containerHeight]) /\n      (i[railYHeight] - i[scrollbarYHeight]);\n    if (!touchMode) {\n      i.event.bind(i.ownerDocument, 'mousemove', mouseMoveHandler);\n      i.event.once(i.ownerDocument, 'mouseup', mouseUpHandler);\n      e.preventDefault();\n    } else {\n      i.event.bind(i.ownerDocument, 'touchmove', mouseMoveHandler);\n    }\n\n    i[scrollbarYRail].classList.add(cls.state.clicking);\n\n    e.stopPropagation();\n  }\n\n  i.event.bind(i[scrollbarY], 'mousedown', function (e) {\n    bindMoves(e);\n  });\n  i.event.bind(i[scrollbarY], 'touchstart', function (e) {\n    bindMoves(e, true);\n  });\n}\n\nfunction keyboard(i) {\n  var element = i.element;\n\n  var elementHovered = function () { return matches(element, ':hover'); };\n  var scrollbarFocused = function () { return matches(i.scrollbarX, ':focus') || matches(i.scrollbarY, ':focus'); };\n\n  function shouldPreventDefault(deltaX, deltaY) {\n    var scrollTop = Math.floor(element.scrollTop);\n    if (deltaX === 0) {\n      if (!i.scrollbarYActive) {\n        return false;\n      }\n      if (\n        (scrollTop === 0 && deltaY > 0) ||\n        (scrollTop >= i.contentHeight - i.containerHeight && deltaY < 0)\n      ) {\n        return !i.settings.wheelPropagation;\n      }\n    }\n\n    var scrollLeft = element.scrollLeft;\n    if (deltaY === 0) {\n      if (!i.scrollbarXActive) {\n        return false;\n      }\n      if (\n        (scrollLeft === 0 && deltaX < 0) ||\n        (scrollLeft >= i.contentWidth - i.containerWidth && deltaX > 0)\n      ) {\n        return !i.settings.wheelPropagation;\n      }\n    }\n    return true;\n  }\n\n  i.event.bind(i.ownerDocument, 'keydown', function (e) {\n    if (\n      (e.isDefaultPrevented && e.isDefaultPrevented()) ||\n      e.defaultPrevented\n    ) {\n      return;\n    }\n\n    if (!elementHovered() && !scrollbarFocused()) {\n      return;\n    }\n\n    var activeElement = document.activeElement\n      ? document.activeElement\n      : i.ownerDocument.activeElement;\n    if (activeElement) {\n      if (activeElement.tagName === 'IFRAME') {\n        activeElement = activeElement.contentDocument.activeElement;\n      } else {\n        // go deeper if element is a webcomponent\n        while (activeElement.shadowRoot) {\n          activeElement = activeElement.shadowRoot.activeElement;\n        }\n      }\n      if (isEditable(activeElement)) {\n        return;\n      }\n    }\n\n    var deltaX = 0;\n    var deltaY = 0;\n\n    switch (e.which) {\n      case 37: // left\n        if (e.metaKey) {\n          deltaX = -i.contentWidth;\n        } else if (e.altKey) {\n          deltaX = -i.containerWidth;\n        } else {\n          deltaX = -30;\n        }\n        break;\n      case 38: // up\n        if (e.metaKey) {\n          deltaY = i.contentHeight;\n        } else if (e.altKey) {\n          deltaY = i.containerHeight;\n        } else {\n          deltaY = 30;\n        }\n        break;\n      case 39: // right\n        if (e.metaKey) {\n          deltaX = i.contentWidth;\n        } else if (e.altKey) {\n          deltaX = i.containerWidth;\n        } else {\n          deltaX = 30;\n        }\n        break;\n      case 40: // down\n        if (e.metaKey) {\n          deltaY = -i.contentHeight;\n        } else if (e.altKey) {\n          deltaY = -i.containerHeight;\n        } else {\n          deltaY = -30;\n        }\n        break;\n      case 32: // space bar\n        if (e.shiftKey) {\n          deltaY = i.containerHeight;\n        } else {\n          deltaY = -i.containerHeight;\n        }\n        break;\n      case 33: // page up\n        deltaY = i.containerHeight;\n        break;\n      case 34: // page down\n        deltaY = -i.containerHeight;\n        break;\n      case 36: // home\n        deltaY = i.contentHeight;\n        break;\n      case 35: // end\n        deltaY = -i.contentHeight;\n        break;\n      default:\n        return;\n    }\n\n    if (i.settings.suppressScrollX && deltaX !== 0) {\n      return;\n    }\n    if (i.settings.suppressScrollY && deltaY !== 0) {\n      return;\n    }\n\n    element.scrollTop -= deltaY;\n    element.scrollLeft += deltaX;\n    updateGeometry(i);\n\n    if (shouldPreventDefault(deltaX, deltaY)) {\n      e.preventDefault();\n    }\n  });\n}\n\nfunction wheel(i) {\n  var element = i.element;\n\n  function shouldPreventDefault(deltaX, deltaY) {\n    var roundedScrollTop = Math.floor(element.scrollTop);\n    var isTop = element.scrollTop === 0;\n    var isBottom =\n      roundedScrollTop + element.offsetHeight === element.scrollHeight;\n    var isLeft = element.scrollLeft === 0;\n    var isRight =\n      element.scrollLeft + element.offsetWidth === element.scrollWidth;\n\n    var hitsBound;\n\n    // pick axis with primary direction\n    if (Math.abs(deltaY) > Math.abs(deltaX)) {\n      hitsBound = isTop || isBottom;\n    } else {\n      hitsBound = isLeft || isRight;\n    }\n\n    return hitsBound ? !i.settings.wheelPropagation : true;\n  }\n\n  function getDeltaFromEvent(e) {\n    var deltaX = e.deltaX;\n    var deltaY = -1 * e.deltaY;\n\n    if (typeof deltaX === 'undefined' || typeof deltaY === 'undefined') {\n      // OS X Safari\n      deltaX = (-1 * e.wheelDeltaX) / 6;\n      deltaY = e.wheelDeltaY / 6;\n    }\n\n    if (e.deltaMode && e.deltaMode === 1) {\n      // Firefox in deltaMode 1: Line scrolling\n      deltaX *= 10;\n      deltaY *= 10;\n    }\n\n    if (deltaX !== deltaX && deltaY !== deltaY /* NaN checks */) {\n      // IE in some mouse drivers\n      deltaX = 0;\n      deltaY = e.wheelDelta;\n    }\n\n    if (e.shiftKey) {\n      // reverse axis with shift key\n      return [-deltaY, -deltaX];\n    }\n    return [deltaX, deltaY];\n  }\n\n  function shouldBeConsumedByChild(target, deltaX, deltaY) {\n    // FIXME: this is a workaround for <select> issue in FF and IE #571\n    if (!env.isWebKit && element.querySelector('select:focus')) {\n      return true;\n    }\n\n    if (!element.contains(target)) {\n      return false;\n    }\n\n    var cursor = target;\n\n    while (cursor && cursor !== element) {\n      if (cursor.classList.contains(cls.element.consuming)) {\n        return true;\n      }\n\n      var style = get(cursor);\n\n      // if deltaY && vertical scrollable\n      if (deltaY && style.overflowY.match(/(scroll|auto)/)) {\n        var maxScrollTop = cursor.scrollHeight - cursor.clientHeight;\n        if (maxScrollTop > 0) {\n          if (\n            (cursor.scrollTop > 0 && deltaY < 0) ||\n            (cursor.scrollTop < maxScrollTop && deltaY > 0)\n          ) {\n            return true;\n          }\n        }\n      }\n      // if deltaX && horizontal scrollable\n      if (deltaX && style.overflowX.match(/(scroll|auto)/)) {\n        var maxScrollLeft = cursor.scrollWidth - cursor.clientWidth;\n        if (maxScrollLeft > 0) {\n          if (\n            (cursor.scrollLeft > 0 && deltaX < 0) ||\n            (cursor.scrollLeft < maxScrollLeft && deltaX > 0)\n          ) {\n            return true;\n          }\n        }\n      }\n\n      cursor = cursor.parentNode;\n    }\n\n    return false;\n  }\n\n  function mousewheelHandler(e) {\n    var ref = getDeltaFromEvent(e);\n    var deltaX = ref[0];\n    var deltaY = ref[1];\n\n    if (shouldBeConsumedByChild(e.target, deltaX, deltaY)) {\n      return;\n    }\n\n    var shouldPrevent = false;\n    if (!i.settings.useBothWheelAxes) {\n      // deltaX will only be used for horizontal scrolling and deltaY will\n      // only be used for vertical scrolling - this is the default\n      element.scrollTop -= deltaY * i.settings.wheelSpeed;\n      element.scrollLeft += deltaX * i.settings.wheelSpeed;\n    } else if (i.scrollbarYActive && !i.scrollbarXActive) {\n      // only vertical scrollbar is active and useBothWheelAxes option is\n      // active, so let's scroll vertical bar using both mouse wheel axes\n      if (deltaY) {\n        element.scrollTop -= deltaY * i.settings.wheelSpeed;\n      } else {\n        element.scrollTop += deltaX * i.settings.wheelSpeed;\n      }\n      shouldPrevent = true;\n    } else if (i.scrollbarXActive && !i.scrollbarYActive) {\n      // useBothWheelAxes and only horizontal bar is active, so use both\n      // wheel axes for horizontal bar\n      if (deltaX) {\n        element.scrollLeft += deltaX * i.settings.wheelSpeed;\n      } else {\n        element.scrollLeft -= deltaY * i.settings.wheelSpeed;\n      }\n      shouldPrevent = true;\n    }\n\n    updateGeometry(i);\n\n    shouldPrevent = shouldPrevent || shouldPreventDefault(deltaX, deltaY);\n    if (shouldPrevent && !e.ctrlKey) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  }\n\n  if (typeof window.onwheel !== 'undefined') {\n    i.event.bind(element, 'wheel', mousewheelHandler);\n  } else if (typeof window.onmousewheel !== 'undefined') {\n    i.event.bind(element, 'mousewheel', mousewheelHandler);\n  }\n}\n\nfunction touch(i) {\n  if (!env.supportsTouch && !env.supportsIePointer) {\n    return;\n  }\n\n  var element = i.element;\n\n  function shouldPrevent(deltaX, deltaY) {\n    var scrollTop = Math.floor(element.scrollTop);\n    var scrollLeft = element.scrollLeft;\n    var magnitudeX = Math.abs(deltaX);\n    var magnitudeY = Math.abs(deltaY);\n\n    if (magnitudeY > magnitudeX) {\n      // user is perhaps trying to swipe up/down the page\n\n      if (\n        (deltaY < 0 && scrollTop === i.contentHeight - i.containerHeight) ||\n        (deltaY > 0 && scrollTop === 0)\n      ) {\n        // set prevent for mobile Chrome refresh\n        return window.scrollY === 0 && deltaY > 0 && env.isChrome;\n      }\n    } else if (magnitudeX > magnitudeY) {\n      // user is perhaps trying to swipe left/right across the page\n\n      if (\n        (deltaX < 0 && scrollLeft === i.contentWidth - i.containerWidth) ||\n        (deltaX > 0 && scrollLeft === 0)\n      ) {\n        return true;\n      }\n    }\n\n    return true;\n  }\n\n  function applyTouchMove(differenceX, differenceY) {\n    element.scrollTop -= differenceY;\n    element.scrollLeft -= differenceX;\n\n    updateGeometry(i);\n  }\n\n  var startOffset = {};\n  var startTime = 0;\n  var speed = {};\n  var easingLoop = null;\n\n  function getTouch(e) {\n    if (e.targetTouches) {\n      return e.targetTouches[0];\n    } else {\n      // Maybe IE pointer\n      return e;\n    }\n  }\n\n  function shouldHandle(e) {\n    if (e.pointerType && e.pointerType === 'pen' && e.buttons === 0) {\n      return false;\n    }\n    if (e.targetTouches && e.targetTouches.length === 1) {\n      return true;\n    }\n    if (\n      e.pointerType &&\n      e.pointerType !== 'mouse' &&\n      e.pointerType !== e.MSPOINTER_TYPE_MOUSE\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  function touchStart(e) {\n    if (!shouldHandle(e)) {\n      return;\n    }\n\n    var touch = getTouch(e);\n\n    startOffset.pageX = touch.pageX;\n    startOffset.pageY = touch.pageY;\n\n    startTime = new Date().getTime();\n\n    if (easingLoop !== null) {\n      clearInterval(easingLoop);\n    }\n  }\n\n  function shouldBeConsumedByChild(target, deltaX, deltaY) {\n    if (!element.contains(target)) {\n      return false;\n    }\n\n    var cursor = target;\n\n    while (cursor && cursor !== element) {\n      if (cursor.classList.contains(cls.element.consuming)) {\n        return true;\n      }\n\n      var style = get(cursor);\n\n      // if deltaY && vertical scrollable\n      if (deltaY && style.overflowY.match(/(scroll|auto)/)) {\n        var maxScrollTop = cursor.scrollHeight - cursor.clientHeight;\n        if (maxScrollTop > 0) {\n          if (\n            (cursor.scrollTop > 0 && deltaY < 0) ||\n            (cursor.scrollTop < maxScrollTop && deltaY > 0)\n          ) {\n            return true;\n          }\n        }\n      }\n      // if deltaX && horizontal scrollable\n      if (deltaX && style.overflowX.match(/(scroll|auto)/)) {\n        var maxScrollLeft = cursor.scrollWidth - cursor.clientWidth;\n        if (maxScrollLeft > 0) {\n          if (\n            (cursor.scrollLeft > 0 && deltaX < 0) ||\n            (cursor.scrollLeft < maxScrollLeft && deltaX > 0)\n          ) {\n            return true;\n          }\n        }\n      }\n\n      cursor = cursor.parentNode;\n    }\n\n    return false;\n  }\n\n  function touchMove(e) {\n    if (shouldHandle(e)) {\n      var touch = getTouch(e);\n\n      var currentOffset = { pageX: touch.pageX, pageY: touch.pageY };\n\n      var differenceX = currentOffset.pageX - startOffset.pageX;\n      var differenceY = currentOffset.pageY - startOffset.pageY;\n\n      if (shouldBeConsumedByChild(e.target, differenceX, differenceY)) {\n        return;\n      }\n\n      applyTouchMove(differenceX, differenceY);\n      startOffset = currentOffset;\n\n      var currentTime = new Date().getTime();\n\n      var timeGap = currentTime - startTime;\n      if (timeGap > 0) {\n        speed.x = differenceX / timeGap;\n        speed.y = differenceY / timeGap;\n        startTime = currentTime;\n      }\n\n      if (shouldPrevent(differenceX, differenceY)) {\n        e.preventDefault();\n      }\n    }\n  }\n  function touchEnd() {\n    if (i.settings.swipeEasing) {\n      clearInterval(easingLoop);\n      easingLoop = setInterval(function() {\n        if (i.isInitialized) {\n          clearInterval(easingLoop);\n          return;\n        }\n\n        if (!speed.x && !speed.y) {\n          clearInterval(easingLoop);\n          return;\n        }\n\n        if (Math.abs(speed.x) < 0.01 && Math.abs(speed.y) < 0.01) {\n          clearInterval(easingLoop);\n          return;\n        }\n\n        applyTouchMove(speed.x * 30, speed.y * 30);\n\n        speed.x *= 0.8;\n        speed.y *= 0.8;\n      }, 10);\n    }\n  }\n\n  if (env.supportsTouch) {\n    i.event.bind(element, 'touchstart', touchStart);\n    i.event.bind(element, 'touchmove', touchMove);\n    i.event.bind(element, 'touchend', touchEnd);\n  } else if (env.supportsIePointer) {\n    if (window.PointerEvent) {\n      i.event.bind(element, 'pointerdown', touchStart);\n      i.event.bind(element, 'pointermove', touchMove);\n      i.event.bind(element, 'pointerup', touchEnd);\n    } else if (window.MSPointerEvent) {\n      i.event.bind(element, 'MSPointerDown', touchStart);\n      i.event.bind(element, 'MSPointerMove', touchMove);\n      i.event.bind(element, 'MSPointerUp', touchEnd);\n    }\n  }\n}\n\nvar defaultSettings = function () { return ({\n  handlers: ['click-rail', 'drag-thumb', 'keyboard', 'wheel', 'touch'],\n  maxScrollbarLength: null,\n  minScrollbarLength: null,\n  scrollingThreshold: 1000,\n  scrollXMarginOffset: 0,\n  scrollYMarginOffset: 0,\n  suppressScrollX: false,\n  suppressScrollY: false,\n  swipeEasing: true,\n  useBothWheelAxes: false,\n  wheelPropagation: true,\n  wheelSpeed: 1,\n}); };\n\nvar perfect_scrollbar_esm_handlers = {\n  'click-rail': clickRail,\n  'drag-thumb': dragThumb,\n  keyboard: keyboard,\n  wheel: wheel,\n  touch: touch,\n};\n\nvar PerfectScrollbar = function PerfectScrollbar(element, userSettings) {\n  var this$1 = this;\n  if ( userSettings === void 0 ) userSettings = {};\n\n  if (typeof element === 'string') {\n    element = document.querySelector(element);\n  }\n\n  if (!element || !element.nodeName) {\n    throw new Error('no element is specified to initialize PerfectScrollbar');\n  }\n\n  this.element = element;\n\n  element.classList.add(cls.main);\n\n  this.settings = defaultSettings();\n  for (var key in userSettings) {\n    this.settings[key] = userSettings[key];\n  }\n\n  this.containerWidth = null;\n  this.containerHeight = null;\n  this.contentWidth = null;\n  this.contentHeight = null;\n\n  var focus = function () { return element.classList.add(cls.state.focus); };\n  var blur = function () { return element.classList.remove(cls.state.focus); };\n\n  this.isRtl = get(element).direction === 'rtl';\n  if (this.isRtl === true) {\n    element.classList.add(cls.rtl);\n  }\n  this.isNegativeScroll = (function () {\n    var originalScrollLeft = element.scrollLeft;\n    var result = null;\n    element.scrollLeft = -1;\n    result = element.scrollLeft < 0;\n    element.scrollLeft = originalScrollLeft;\n    return result;\n  })();\n  this.negativeScrollAdjustment = this.isNegativeScroll\n    ? element.scrollWidth - element.clientWidth\n    : 0;\n  this.event = new EventManager();\n  this.ownerDocument = element.ownerDocument || document;\n\n  this.scrollbarXRail = div(cls.element.rail('x'));\n  element.appendChild(this.scrollbarXRail);\n  this.scrollbarX = div(cls.element.thumb('x'));\n  this.scrollbarXRail.appendChild(this.scrollbarX);\n  this.scrollbarX.setAttribute('tabindex', 0);\n  this.event.bind(this.scrollbarX, 'focus', focus);\n  this.event.bind(this.scrollbarX, 'blur', blur);\n  this.scrollbarXActive = null;\n  this.scrollbarXWidth = null;\n  this.scrollbarXLeft = null;\n  var railXStyle = get(this.scrollbarXRail);\n  this.scrollbarXBottom = parseInt(railXStyle.bottom, 10);\n  if (isNaN(this.scrollbarXBottom)) {\n    this.isScrollbarXUsingBottom = false;\n    this.scrollbarXTop = toInt(railXStyle.top);\n  } else {\n    this.isScrollbarXUsingBottom = true;\n  }\n  this.railBorderXWidth =\n    toInt(railXStyle.borderLeftWidth) + toInt(railXStyle.borderRightWidth);\n  // Set rail to display:block to calculate margins\n  set(this.scrollbarXRail, { display: 'block' });\n  this.railXMarginWidth =\n    toInt(railXStyle.marginLeft) + toInt(railXStyle.marginRight);\n  set(this.scrollbarXRail, { display: '' });\n  this.railXWidth = null;\n  this.railXRatio = null;\n\n  this.scrollbarYRail = div(cls.element.rail('y'));\n  element.appendChild(this.scrollbarYRail);\n  this.scrollbarY = div(cls.element.thumb('y'));\n  this.scrollbarYRail.appendChild(this.scrollbarY);\n  this.scrollbarY.setAttribute('tabindex', 0);\n  this.event.bind(this.scrollbarY, 'focus', focus);\n  this.event.bind(this.scrollbarY, 'blur', blur);\n  this.scrollbarYActive = null;\n  this.scrollbarYHeight = null;\n  this.scrollbarYTop = null;\n  var railYStyle = get(this.scrollbarYRail);\n  this.scrollbarYRight = parseInt(railYStyle.right, 10);\n  if (isNaN(this.scrollbarYRight)) {\n    this.isScrollbarYUsingRight = false;\n    this.scrollbarYLeft = toInt(railYStyle.left);\n  } else {\n    this.isScrollbarYUsingRight = true;\n  }\n  this.scrollbarYOuterWidth = this.isRtl ? perfect_scrollbar_esm_outerWidth(this.scrollbarY) : null;\n  this.railBorderYWidth =\n    toInt(railYStyle.borderTopWidth) + toInt(railYStyle.borderBottomWidth);\n  set(this.scrollbarYRail, { display: 'block' });\n  this.railYMarginHeight =\n    toInt(railYStyle.marginTop) + toInt(railYStyle.marginBottom);\n  set(this.scrollbarYRail, { display: '' });\n  this.railYHeight = null;\n  this.railYRatio = null;\n\n  this.reach = {\n    x:\n      element.scrollLeft <= 0\n        ? 'start'\n        : element.scrollLeft >= this.contentWidth - this.containerWidth\n        ? 'end'\n        : null,\n    y:\n      element.scrollTop <= 0\n        ? 'start'\n        : element.scrollTop >= this.contentHeight - this.containerHeight\n        ? 'end'\n        : null,\n  };\n\n  this.isAlive = true;\n\n  this.settings.handlers.forEach(function (handlerName) { return perfect_scrollbar_esm_handlers[handlerName](this$1); });\n\n  this.lastScrollTop = Math.floor(element.scrollTop); // for onScroll only\n  this.lastScrollLeft = element.scrollLeft; // for onScroll only\n  this.event.bind(this.element, 'scroll', function (e) { return this$1.onScroll(e); });\n  updateGeometry(this);\n};\n\nPerfectScrollbar.prototype.update = function update () {\n  if (!this.isAlive) {\n    return;\n  }\n\n  // Recalcuate negative scrollLeft adjustment\n  this.negativeScrollAdjustment = this.isNegativeScroll\n    ? this.element.scrollWidth - this.element.clientWidth\n    : 0;\n\n  // Recalculate rail margins\n  set(this.scrollbarXRail, { display: 'block' });\n  set(this.scrollbarYRail, { display: 'block' });\n  this.railXMarginWidth =\n    toInt(get(this.scrollbarXRail).marginLeft) +\n    toInt(get(this.scrollbarXRail).marginRight);\n  this.railYMarginHeight =\n    toInt(get(this.scrollbarYRail).marginTop) +\n    toInt(get(this.scrollbarYRail).marginBottom);\n\n  // Hide scrollbars not to affect scrollWidth and scrollHeight\n  set(this.scrollbarXRail, { display: 'none' });\n  set(this.scrollbarYRail, { display: 'none' });\n\n  updateGeometry(this);\n\n  processScrollDiff(this, 'top', 0, false, true);\n  processScrollDiff(this, 'left', 0, false, true);\n\n  set(this.scrollbarXRail, { display: '' });\n  set(this.scrollbarYRail, { display: '' });\n};\n\nPerfectScrollbar.prototype.onScroll = function onScroll (e) {\n  if (!this.isAlive) {\n    return;\n  }\n\n  updateGeometry(this);\n  processScrollDiff(this, 'top', this.element.scrollTop - this.lastScrollTop);\n  processScrollDiff(\n    this,\n    'left',\n    this.element.scrollLeft - this.lastScrollLeft\n  );\n\n  this.lastScrollTop = Math.floor(this.element.scrollTop);\n  this.lastScrollLeft = this.element.scrollLeft;\n};\n\nPerfectScrollbar.prototype.destroy = function destroy () {\n  if (!this.isAlive) {\n    return;\n  }\n\n  this.event.unbindAll();\n  remove(this.scrollbarX);\n  remove(this.scrollbarY);\n  remove(this.scrollbarXRail);\n  remove(this.scrollbarYRail);\n  this.removePsClasses();\n\n  // unset elements\n  this.element = null;\n  this.scrollbarX = null;\n  this.scrollbarY = null;\n  this.scrollbarXRail = null;\n  this.scrollbarYRail = null;\n\n  this.isAlive = false;\n};\n\nPerfectScrollbar.prototype.removePsClasses = function removePsClasses () {\n  this.element.className = this.element.className\n    .split(' ')\n    .filter(function (name) { return !name.match(/^ps([-_].+|)$/); })\n    .join(' ');\n};\n\n/* harmony default export */ var perfect_scrollbar_esm = (PerfectScrollbar);\n//# sourceMappingURL=perfect-scrollbar.esm.js.map\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/scrollbar/CScrollbar.vue?vue&type=script&lang=js&\n// this component is a refector of vue-perfect-scrollbar component https://github.com/lecion/vue-perfect-scrollbar\n\n/* harmony default export */ var CScrollbarvue_type_script_lang_js_ = ({\n  name: 'CScrollbar',\n  props: {\n    settings: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    switcher: {\n      type: Boolean,\n      default: true\n    },\n    tag: {\n      type: String,\n      default: 'div'\n    }\n  },\n  watch: {\n    switcher: function switcher(val) {\n      if (!val) {\n        this.__uninit();\n      } else {\n        this.__init();\n      }\n    }\n  },\n  mounted: function mounted() {\n    if (!this.$isServer && this.switcher) {\n      this.__init();\n    }\n  },\n  updated: function updated() {\n    this.$nextTick(this.__update);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.__uninit();\n  },\n  methods: {\n    __init: function __init() {\n      if (!this._ps_bar) {\n        this.__createPerfectScrollbar();\n      }\n    },\n    __createPerfectScrollbar: function __createPerfectScrollbar() {\n      this._ps_bar = new perfect_scrollbar_esm(this.$el, this.settings);\n    },\n    __uninit: function __uninit() {\n      if (this._ps_bar) {\n        this._ps_bar.destroy();\n\n        this._ps_bar = null;\n      }\n    },\n    __update: function __update() {\n      if (this._ps_bar) {\n        this._ps_bar.update();\n      }\n    }\n  },\n  render: function render(h) {\n    return h(this.tag, {\n      style: 'position: relative'\n    }, this.$slots.default);\n  }\n});\n// CONCATENATED MODULE: ./src/components/scrollbar/CScrollbar.vue?vue&type=script&lang=js&\n /* harmony default export */ var scrollbar_CScrollbarvue_type_script_lang_js_ = (CScrollbarvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./node_modules/perfect-scrollbar/css/perfect-scrollbar.css?vue&type=style&index=0&id=3738b722&scoped=true&lang=css&\nvar perfect_scrollbarvue_type_style_index_0_id_3738b722_scoped_true_lang_css_ = __webpack_require__(\"399a\");\n\n// CONCATENATED MODULE: ./src/components/scrollbar/CScrollbar.vue\nvar CScrollbar_render, CScrollbar_staticRenderFns\n\n\n\n\n\n/* normalize component */\n\nvar CScrollbar_component = Object(componentNormalizer[\"a\" /* default */])(\n  scrollbar_CScrollbarvue_type_script_lang_js_,\n  CScrollbar_render,\n  CScrollbar_staticRenderFns,\n  false,\n  null,\n  \"3738b722\",\n  null\n  \n)\n\n/* harmony default export */ var CScrollbar = (CScrollbar_component.exports);\n// CONCATENATED MODULE: ./src/components/scrollbar/index.js\n\n\n// CONCATENATED MODULE: ./src/components/spinner/index.js\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/switch/CSwitch.vue?vue&type=template&id=b3615da0&\nvar CSwitchvue_type_template_id_b3615da0_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{class:_vm.classList},[_c('input',_vm._b({staticClass:\"c-switch-input form-check-input\",attrs:{\"type\":_vm.type},domProps:{\"checked\":_vm.state},on:{\"change\":_vm.onChange}},'input',_vm.$attrs,false)),_c('span',{staticClass:\"c-switch-slider\",attrs:{\"data-checked\":_vm.labelOn,\"data-unchecked\":_vm.labelOff}})])}\nvar CSwitchvue_type_template_id_b3615da0_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/switch/CSwitch.vue?vue&type=script&lang=js&\nfunction CSwitchvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CSwitchvue_type_script_lang_js_ = ({\n  name: 'CSwitch',\n  inheritAttrs: false,\n  props: {\n    color: String,\n    variant: {\n      type: String,\n      validator: function validator(value) {\n        return ['', 'outline', 'opposite', '3d'].includes(value);\n      }\n    },\n    size: {\n      type: String,\n      validator: function validator(value) {\n        return ['', 'lg', 'sm'].includes(value);\n      }\n    },\n    shape: {\n      type: String,\n      validator: function validator(value) {\n        return ['', 'pill', 'square'].includes(value);\n      }\n    },\n    checked: Boolean,\n    labelOn: String,\n    labelOff: String,\n    type: {\n      type: String,\n      default: 'checkbox',\n      validator: function validator(type) {\n        return ['checkbox', 'radio'].includes(type);\n      }\n    }\n  },\n  data: function data() {\n    return {\n      state: undefined\n    };\n  },\n  watch: {\n    checked: {\n      immediate: true,\n      handler: function handler(val) {\n        this.state = val;\n      }\n    }\n  },\n  computed: {\n    classList: function classList() {\n      var _ref;\n\n      var variant = this.variant ? \"-\".concat(this.variant) : '';\n      return ['c-switch form-check-label', (_ref = {}, CSwitchvue_type_script_lang_js_defineProperty(_ref, \"c-switch-\".concat(this.size), this.size), CSwitchvue_type_script_lang_js_defineProperty(_ref, \"c-switch-\".concat(this.shape), this.shape), CSwitchvue_type_script_lang_js_defineProperty(_ref, \"c-switch\".concat(variant, \"-\").concat(this.color), this.color), CSwitchvue_type_script_lang_js_defineProperty(_ref, 'c-switch-label', this.labelOn || this.labelOff), _ref)];\n    }\n  },\n  methods: {\n    onChange: function onChange(e) {\n      this.state = e.target.checked;\n      this.$emit('update:checked', e.target.checked, e);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/switch/CSwitch.vue?vue&type=script&lang=js&\n /* harmony default export */ var switch_CSwitchvue_type_script_lang_js_ = (CSwitchvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/switch/CSwitch.vue\n\n\n\n\n\n/* normalize component */\n\nvar CSwitch_component = Object(componentNormalizer[\"a\" /* default */])(\n  switch_CSwitchvue_type_script_lang_js_,\n  CSwitchvue_type_template_id_b3615da0_render,\n  CSwitchvue_type_template_id_b3615da0_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CSwitch = (CSwitch_component.exports);\n// CONCATENATED MODULE: ./src/components/switch/index.js\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/table/CDataTable.vue?vue&type=template&id=2e6be878&scoped=true&\nvar CDataTablevue_type_template_id_2e6be878_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.itemsPerPageSelect || _vm.haveFilterOption)?_c('div',{staticClass:\"row my-2 mx-0\"},[(_vm.haveFilterOption)?_c('div',{staticClass:\"col-sm-6 form-inline p-0\"},[(_vm.tableFilter)?[_c('label',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm.tableFilterData.label))]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm.tableFilterData.placeholder,\"aria-label\":\"table filter input\"},domProps:{\"value\":_vm.tableFilterState},on:{\"input\":function($event){return _vm.tableFilterChange($event.target.value, 'input')},\"change\":function($event){return _vm.tableFilterChange($event.target.value, 'change')}}})]:_vm._e(),_vm._t(\"cleaner\",[(_vm.cleaner)?[(_vm.cleaner)?_c('CIcon',_vm._b({nativeOn:{\"click\":function($event){return _vm.clean($event)}}},'CIcon',_vm.cleanerProps,false)):_vm._e()]:_vm._e()],{\"clean\":_vm.clean,\"isFiltered\":_vm.isFiltered})],2):_vm._e(),(_vm.itemsPerPageSelect)?_c('div',{staticClass:\"col-sm-6 p-0\",class:{ 'offset-sm-6': !_vm.haveFilterOption }},[_c('div',{staticClass:\"form-inline justify-content-sm-end\"},[_c('label',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm.paginationSelect.label))]),_c('select',{staticClass:\"form-control\",attrs:{\"aria-label\":\"visible items amount change\"},on:{\"change\":_vm.paginationChange}},[_c('option',{attrs:{\"value\":\"\",\"selected\":\"\",\"disabled\":\"\",\"hidden\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.perPageItems)+\" \")]),_vm._l((_vm.paginationSelect.values),function(number,key){return _c('option',{key:key,attrs:{\"val\":number}},[_vm._v(\" \"+_vm._s(number)+\" \")])})],2)])]):_vm._e()]):_vm._e(),_vm._t(\"over-table\"),_c('div',{class:(\"position-relative \" + (_vm.responsive ? 'table-responsive' : ''))},[_c('table',{class:_vm.tableClasses},[_c('thead',[_vm._t(\"thead-top\"),(_vm.header)?_c('tr',[_vm._l((_vm.columnNames),function(name,index){return [_c('th',{key:index,class:[_vm.headerClass(index), _vm.sortingIconStyles],style:(_vm.headerStyles(index)),on:{\"click\":function($event){return _vm.changeSort(_vm.rawColumnNames[index], index)}}},[_vm._t(((_vm.rawColumnNames[index]) + \"-header\"),[_c('div',[_vm._v(_vm._s(name))])]),(_vm.isSortable(index))?_vm._t(\"sorting-icon\",[_c('CIcon',{class:_vm.iconClasses(index),attrs:{\"width\":\"18\",\"content\":_vm.$options.icons.cilArrowTop,\"aria-label\":(\"change column: '\" + name + \"' sorting\")}})],{\"state\":_vm.getIconState(index),\"classes\":_vm.iconClasses(index)}):_vm._e()],2)]})],2):_vm._e(),(_vm.columnFilter)?_c('tr',{staticClass:\"table-sm\"},[_vm._l((_vm.rawColumnNames),function(colName,index){return [_c('th',{key:index,class:_vm.headerClass(index)},[_vm._t(((_vm.rawColumnNames[index]) + \"-filter\"),[(_vm.itemsDataColumns.includes(colName) && \n                        (!_vm.fields || _vm.fields[index].filter !== false))?_c('input',{staticClass:\"form-control form-control-sm\",attrs:{\"aria-label\":(\"column name: '\" + colName + \"' filter input\")},domProps:{\"value\":_vm.columnFilterState[colName]},on:{\"input\":function($event){return _vm.columnFilterEvent(colName, $event.target.value, 'input')},\"change\":function($event){return _vm.columnFilterEvent(colName, $event.target.value, 'change')}}}):_vm._e()])],2)]})],2):_vm._e()],2),_c('tbody',{staticClass:\"position-relative\",style:(_vm.clickableRows ? 'cursor:pointer;': null)},[_vm._l((_vm.currentItems),function(item,itemIndex){return [_c('tr',{key:itemIndex,class:item._classes,attrs:{\"tabindex\":_vm.clickableRows ? 0 : null},on:{\"click\":function($event){return _vm.rowClicked(item, itemIndex + _vm.firstItemIndex, $event)}}},[_vm._l((_vm.rawColumnNames),function(colName,index){return [(_vm.$scopedSlots[colName])?_vm._t(colName,null,{\"item\":item,\"index\":itemIndex + _vm.firstItemIndex}):_c('td',{key:index,class:_vm.cellClass(item, colName, index)},[_vm._v(\" \"+_vm._s(String(item[colName]))+\" \")])]})],2),(_vm.$scopedSlots.details)?_c('tr',{key:'details' + itemIndex,staticClass:\"p-0\",staticStyle:{\"border\":\"none !important\"},on:{\"click\":function($event){return _vm.rowClicked(item, itemIndex + _vm.firstItemIndex, $event, true)}}},[_c('td',{staticClass:\"p-0\",staticStyle:{\"border\":\"none !important\"},attrs:{\"colspan\":_vm.colspan}},[_vm._t(\"details\",null,{\"item\":item,\"index\":itemIndex + _vm.firstItemIndex})],2)]):_vm._e()]}),(!_vm.currentItems.length)?_c('tr',[_c('td',{attrs:{\"colspan\":_vm.colspan}},[_vm._t(\"no-items-view\",[_c('div',{staticClass:\"text-center my-5\"},[_c('h2',[_vm._v(\" \"+_vm._s(_vm.noItemsText)+\" \"),_c('CIcon',{staticClass:\"text-danger mb-2\",attrs:{\"width\":\"30\",\"content\":_vm.$options.icons.cilBan}})],1)])])],2)]):_vm._e()],2),(_vm.footer && _vm.currentItems.length > 0)?_c('tfoot',[_c('tr',[_vm._l((_vm.columnNames),function(name,index){return [_c('th',{key:index,class:[_vm.headerClass(index), _vm.sortingIconStyles],style:(_vm.headerStyles(index)),on:{\"click\":function($event){return _vm.changeSort(_vm.rawColumnNames[index], index)}}},[_vm._t(((_vm.rawColumnNames[index]) + \"-header\"),[_c('div',[_vm._v(_vm._s(name))])]),(_vm.isSortable(index))?_vm._t(\"sorting-icon\",[_c('CIcon',{class:_vm.iconClasses(index),attrs:{\"width\":\"18\",\"content\":_vm.$options.icons.cilArrowTop}})],{\"state\":_vm.getIconState(index)}):_vm._e()],2)]})],2)]):_vm._e(),_vm._t(\"footer\",null,{\"itemsAmount\":_vm.currentItems.length}),_vm._t(\"caption\")],2),(_vm.loading)?_vm._t(\"loading\",[_c('CElementCover',{attrs:{\"boundaries\":[\n          { sides: ['top'], query: 'td' },\n          { sides: ['bottom'], query: 'tbody' }\n        ]}})]):_vm._e()],2),_vm._t(\"under-table\"),(_vm.pagination)?_c('CPagination',_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.totalPages > 1),expression:\"totalPages > 1\"}],attrs:{\"activePage\":_vm.page,\"pages\":_vm.totalPages},on:{\"update:activePage\":function($event){_vm.page=$event},\"update:active-page\":function($event){_vm.page=$event}}},'CPagination',typeof _vm.pagination === 'object' ? _vm.pagination : null,false)):_vm._e()],2)}\nvar CDataTablevue_type_template_id_2e6be878_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/table/CDataTable.vue?vue&type=template&id=2e6be878&scoped=true&\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@coreui/icons-vue/src/CIconRaw.vue?vue&type=template&id=a253365e&\nvar CIconRawvue_type_template_id_a253365e_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.src && !_vm.use)?_c('svg',{class:_vm.computedClasses,attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":_vm.viewBox,\"role\":\"img\"},domProps:{\"innerHTML\":_vm._s(_vm.titleCode + _vm.iconCode)}}):(_vm.src)?_c('img',{attrs:{\"src\":_vm.src,\"role\":\"img\"}}):(_vm.use)?_c('svg',{class:_vm.computedClasses,attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"role\":\"img\"}},[_c('use',{attrs:{\"href\":_vm.use}})]):_vm._e()}\nvar CIconRawvue_type_template_id_a253365e_staticRenderFns = []\n\n\n// EXTERNAL MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@coreui/icons-vue/src/CIconRaw.vue?vue&type=script&lang=js&\nvar CIconRawvue_type_script_lang_js_ = __webpack_require__(\"33c8\");\n\n// CONCATENATED MODULE: ./node_modules/@coreui/icons-vue/src/CIconRaw.vue?vue&type=script&lang=js&\n /* harmony default export */ var src_CIconRawvue_type_script_lang_js_ = (CIconRawvue_type_script_lang_js_[\"a\" /* default */]); \n// CONCATENATED MODULE: ./node_modules/@coreui/icons-vue/src/CIconRaw.vue\n\n\n\n\n\n/* normalize component */\n\nvar CIconRaw_component = Object(componentNormalizer[\"a\" /* default */])(\n  src_CIconRawvue_type_script_lang_js_,\n  CIconRawvue_type_template_id_a253365e_render,\n  CIconRawvue_type_template_id_a253365e_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CIconRaw = (CIconRaw_component.exports);\n// CONCATENATED MODULE: ./node_modules/@coreui/icons/js/free/cil-arrow-top.js\nvar cilArrowTop = [\"512 512\", \"<polygon fill='var(--ci-primary-color, currentColor)' points='390.624 150.625 256 16 121.376 150.625 144.004 173.252 240.001 77.254 240.001 495.236 272.001 495.236 272.001 77.257 367.996 173.252 390.624 150.625' class='ci-primary'/>\"];\n// CONCATENATED MODULE: ./node_modules/@coreui/icons/js/free/cil-ban.js\nvar cilBan = [\"512 512\", \"<path fill='var(--ci-primary-color, currentColor)' d='M425.706,86.294A240,240,0,0,0,86.294,425.705,240,240,0,0,0,425.706,86.294ZM256,48A207.1,207.1,0,0,1,391.528,98.345L98.345,391.528A207.1,207.1,0,0,1,48,256C48,141.309,141.309,48,256,48Zm0,416a207.084,207.084,0,0,1-134.986-49.887l293.1-293.1A207.084,207.084,0,0,1,464,256C464,370.691,370.691,464,256,464Z' class='ci-primary'/>\"];\n// CONCATENATED MODULE: ./node_modules/@coreui/icons/js/free/cil-filter-x.js\nvar cilFilterX = [\"512 512\", \"<polygon fill='var(--ci-primary-color, currentColor)' points='40 16 40 53.828 109.024 136 150.815 136 76.896 48 459.51 48 304 242.388 304 401.373 241.373 464 240 464 240 368 208 368 208 496 254.627 496 336 414.627 336 253.612 496 53.612 496 16 40 16' class='ci-primary'/><polygon fill='var(--ci-primary-color, currentColor)' points='166.403 248.225 226.864 187.763 204.237 165.135 143.775 225.597 83.313 165.135 60.687 187.763 121.148 248.225 60.687 308.687 83.313 331.314 143.775 270.852 204.237 331.314 226.864 308.687 166.403 248.225' class='ci-primary'/>\"];\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/table/CDataTable.vue?vue&type=script&lang=js&\nfunction CDataTablevue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || CDataTablevue_type_script_lang_js_unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction CDataTablevue_type_script_lang_js_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return CDataTablevue_type_script_lang_js_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return CDataTablevue_type_script_lang_js_arrayLikeToArray(o, minLen); }\n\nfunction CDataTablevue_type_script_lang_js_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ var CDataTablevue_type_script_lang_js_ = ({\n  name: 'CDataTable',\n  icons: {\n    cilArrowTop: cilArrowTop,\n    cilBan: cilBan,\n    cilFilterX: cilFilterX\n  },\n  components: {\n    CPagination: CPagination,\n    CElementCover: CElementCover,\n    CIcon: CIconRaw\n  },\n  props: {\n    items: Array,\n    fields: Array,\n    itemsPerPage: {\n      type: Number,\n      default: 10\n    },\n    activePage: Number,\n    pagination: [Boolean, Object],\n    addTableClasses: [String, Array, Object],\n    responsive: {\n      type: Boolean,\n      default: true\n    },\n    size: String,\n    dark: Boolean,\n    striped: Boolean,\n    fixed: Boolean,\n    hover: Boolean,\n    border: Boolean,\n    outlined: Boolean,\n    itemsPerPageSelect: [Boolean, Object],\n    sorter: [Boolean, Object],\n    tableFilter: [Boolean, Object],\n    columnFilter: [Boolean, Object],\n    sorterValue: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    tableFilterValue: String,\n    columnFilterValue: Object,\n    header: {\n      type: Boolean,\n      default: true\n    },\n    footer: Boolean,\n    loading: Boolean,\n    clickableRows: Boolean,\n    noItemsView: Object,\n    cleaner: Boolean\n  },\n  data: function data() {\n    return {\n      tableFilterState: this.tableFilterValue,\n      columnFilterState: {},\n      sorterState: {\n        column: null,\n        asc: true\n      },\n      page: this.activePage || 1,\n      perPageItems: this.itemsPerPage,\n      passedItems: this.items || []\n    };\n  },\n  watch: {\n    itemsPerPage: function itemsPerPage(val) {\n      this.perPageItems = val;\n    },\n    sorterValue: {\n      immediate: true,\n      handler: function handler(val) {\n        var asc = val.asc === false ? false : true;\n        this.sorterState = Object.assign({}, {\n          asc: asc,\n          column: val.column\n        });\n      }\n    },\n    tableFilterValue: function tableFilterValue(val) {\n      this.tableFilterState = val;\n    },\n    columnFilterValue: {\n      immediate: true,\n      handler: function handler(val) {\n        this.columnFilterState = Object.assign({}, val);\n      }\n    },\n    items: function items(val, oldVal) {\n      if (val && oldVal && this.objectsAreIdentical(val, oldVal)) {\n        return;\n      }\n\n      this.passedItems = val || [];\n    },\n    totalPages: {\n      immediate: true,\n      handler: function handler(val) {\n        this.$emit('pages-change', val);\n      }\n    },\n    computedPage: function computedPage(val) {\n      this.$emit('page-change', val);\n    },\n    sortedItems: {\n      immediate: true,\n      handler: function handler(val, oldVal) {\n        if (val && oldVal && this.objectsAreIdentical(val, oldVal)) {\n          return;\n        }\n\n        this.$emit('filtered-items-change', val);\n      }\n    }\n  },\n  computed: {\n    columnFiltered: function columnFiltered() {\n      var _this = this;\n\n      var items = this.passedItems;\n\n      if (this.columnFilter && this.columnFilter.external) {\n        return items;\n      }\n\n      Object.entries(this.columnFilterState).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            key = _ref2[0],\n            value = _ref2[1];\n\n        var columnFilter = String(value).toLowerCase();\n\n        if (columnFilter && _this.rawColumnNames.includes(key)) {\n          items = items.filter(function (item) {\n            return String(item[key]).toLowerCase().includes(columnFilter);\n          });\n        }\n      });\n      return items;\n    },\n    itemsDataColumns: function itemsDataColumns() {\n      var _this2 = this;\n\n      return this.rawColumnNames.filter(function (name) {\n        return _this2.generatedColumnNames.includes(name);\n      });\n    },\n    tableFiltered: function tableFiltered() {\n      var _this3 = this;\n\n      var items = this.columnFiltered;\n\n      if (!this.tableFilterState || this.tableFilter && this.tableFilter.external) {\n        return items;\n      }\n\n      var filter = this.tableFilterState.toLowerCase();\n\n      var hasFilter = function hasFilter(item) {\n        return String(item).toLowerCase().includes(filter);\n      };\n\n      items = items.filter(function (item) {\n        return _this3.itemsDataColumns.filter(function (key) {\n          return hasFilter(item[key]);\n        }).length;\n      });\n      return items;\n    },\n    sortedItems: function sortedItems() {\n      var col = this.sorterState.column;\n\n      if (!col || !this.rawColumnNames.includes(col) || this.sorter.external) {\n        return this.tableFiltered;\n      } //if values in column are to be sorted by numeric value they all have to be type number\n\n\n      var flip = this.sorterState.asc ? 1 : -1;\n      return this.tableFiltered.slice().sort(function (item, item2) {\n        var value = item[col];\n        var value2 = item2[col];\n        var a = typeof value === 'number' ? value : String(value).toLowerCase();\n        var b = typeof value2 === 'number' ? value2 : String(value2).toLowerCase();\n        return a > b ? 1 * flip : b > a ? -1 * flip : 0;\n      });\n    },\n    firstItemIndex: function firstItemIndex() {\n      return (this.computedPage - 1) * this.perPageItems || 0;\n    },\n    paginatedItems: function paginatedItems() {\n      return this.sortedItems.slice(this.firstItemIndex, this.firstItemIndex + this.perPageItems);\n    },\n    currentItems: function currentItems() {\n      return this.computedPage ? this.paginatedItems : this.sortedItems;\n    },\n    totalPages: function totalPages() {\n      return Math.ceil(this.sortedItems.length / this.perPageItems) || 1;\n    },\n    computedPage: function computedPage() {\n      return this.pagination ? this.page : this.activePage;\n    },\n    generatedColumnNames: function generatedColumnNames() {\n      return Object.keys(this.passedItems[0] || {}).filter(function (el) {\n        return el.charAt(0) !== '_';\n      });\n    },\n    rawColumnNames: function rawColumnNames() {\n      if (this.fields) {\n        return this.fields.map(function (el) {\n          return el.key || el;\n        });\n      }\n\n      return this.generatedColumnNames;\n    },\n    columnNames: function columnNames() {\n      var _this4 = this;\n\n      if (this.fields) {\n        return this.fields.map(function (f) {\n          return f.label !== undefined ? f.label : _this4.pretifyName(f.key || f);\n        });\n      }\n\n      return this.rawColumnNames.map(function (el) {\n        return _this4.pretifyName(el);\n      });\n    },\n    tableClasses: function tableClasses() {\n      var _ref3;\n\n      return ['table', this.addTableClasses, (_ref3 = {}, CDataTablevue_type_script_lang_js_defineProperty(_ref3, \"table-\".concat(this.size), this.size), CDataTablevue_type_script_lang_js_defineProperty(_ref3, 'table-dark', this.dark), CDataTablevue_type_script_lang_js_defineProperty(_ref3, 'table-striped', this.striped), CDataTablevue_type_script_lang_js_defineProperty(_ref3, 'table-fixed', this.fixed), CDataTablevue_type_script_lang_js_defineProperty(_ref3, 'table-hover', this.hover), CDataTablevue_type_script_lang_js_defineProperty(_ref3, 'table-bordered', this.border), CDataTablevue_type_script_lang_js_defineProperty(_ref3, 'border', this.outlined), _ref3)];\n    },\n    sortingIconStyles: function sortingIconStyles() {\n      return {\n        'position-relative pr-4': this.sorter\n      };\n    },\n    colspan: function colspan() {\n      return this.rawColumnNames.length;\n    },\n    tableFilterData: function tableFilterData() {\n      return {\n        label: this.tableFilter.label || 'Filter:',\n        placeholder: this.tableFilter.placeholder || 'type string...'\n      };\n    },\n    paginationSelect: function paginationSelect() {\n      return {\n        label: this.itemsPerPageSelect.label || 'Items per page:',\n        values: this.itemsPerPageSelect.values || [5, 10, 20, 50]\n      };\n    },\n    noItemsText: function noItemsText() {\n      var customValues = this.noItemsView || {};\n\n      if (this.passedItems.length) {\n        return customValues.noResults || 'No filtering results';\n      }\n\n      return customValues.noItems || 'No items';\n    },\n    isFiltered: function isFiltered() {\n      return this.tableFilterState || Object.values(this.columnFilterState).join('') || this.sorterState.column;\n    },\n    cleanerProps: function cleanerProps() {\n      return {\n        content: this.$options.icons.cilFilterX,\n        class: \"ml-2 \".concat(this.isFiltered ? 'text-danger' : 'transparent'),\n        role: this.isFiltered ? 'button' : null,\n        tabindex: this.isFiltered ? 0 : null\n      };\n    },\n    haveFilterOption: function haveFilterOption() {\n      return this.tableFilter || this.cleaner || this.$scopedSlots.cleaner;\n    }\n  },\n  methods: {\n    changeSort: function changeSort(column, index) {\n      if (!this.isSortable(index)) {\n        return;\n      } //if column changed or sort was descending change asc to true\n\n\n      var state = this.sorterState;\n      var columnRepeated = state.column === column;\n\n      if (!this.sorter || !this.sorter.resetable) {\n        state.column = column;\n      } else {\n        state.column = columnRepeated && state.asc === false ? null : column;\n      }\n\n      state.asc = !(columnRepeated && state.asc);\n      this.$emit('update:sorter-value', this.sorterState);\n    },\n    columnFilterEvent: function columnFilterEvent(colName, value, type) {\n      var isLazy = this.columnFilter && this.columnFilter.lazy === true;\n\n      if (isLazy && type === 'input' || !isLazy && type === 'change') {\n        return;\n      }\n\n      this.$set(this.columnFilterState, colName, value);\n      this.$emit('update:column-filter-value', this.columnFilterState);\n    },\n    tableFilterChange: function tableFilterChange(value, type) {\n      var isLazy = this.tableFilter && this.tableFilter.lazy === true;\n\n      if (isLazy && type === 'input' || !isLazy && type === 'change') {\n        return;\n      }\n\n      this.tableFilterState = value;\n      this.$emit('update:table-filter-value', this.tableFilterState);\n    },\n    pretifyName: function pretifyName(name) {\n      return name.replace(/[-_.]/g, ' ').replace(/ +/g, ' ').replace(/([a-z0-9])([A-Z])/g, '$1 $2').split(' ').map(function (word) {\n        return word.charAt(0).toUpperCase() + word.slice(1);\n      }).join(' ');\n    },\n    cellClass: function cellClass(item, colName, index) {\n      var classes = [];\n\n      if (item._cellClasses && item._cellClasses[colName]) {\n        classes.push(item._cellClasses[colName]);\n      }\n\n      if (this.fields && this.fields[index]._classes) {\n        classes.push(this.fields[index]._classes);\n      }\n\n      return classes;\n    },\n    isSortable: function isSortable(index) {\n      return this.sorter && (!this.fields || this.fields[index].sorter !== false) && this.itemsDataColumns.includes(this.rawColumnNames[index]);\n    },\n    headerClass: function headerClass(index) {\n      var fields = this.fields;\n      return fields && fields[index]._classes ? fields[index]._classes : '';\n    },\n    headerStyles: function headerStyles(index) {\n      var style = 'vertical-align:middle;overflow:hidden;';\n\n      if (this.isSortable(index)) {\n        style += \"cursor:pointer;\";\n      }\n\n      if (this.fields && this.fields[index] && this.fields[index]._style) {\n        style += this.fields[index]._style;\n      }\n\n      return style;\n    },\n    rowClicked: function rowClicked(item, index, e) {\n      var detailsClick = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      this.$emit('row-clicked', item, index, this.getClickedColumnName(e, detailsClick), e);\n    },\n    getClickedColumnName: function getClickedColumnName(e, detailsClick) {\n      if (detailsClick) {\n        return 'details';\n      } else {\n        var children = Array.from(e.target.closest('tr').children);\n        var clickedCell = children.filter(function (child) {\n          return child.contains(e.target);\n        })[0];\n        return this.rawColumnNames[children.indexOf(clickedCell)];\n      }\n    },\n    getIconState: function getIconState(index) {\n      var direction = this.sorterState.asc ? 'asc' : 'desc';\n      return this.rawColumnNames[index] === this.sorterState.column ? direction : 0;\n    },\n    iconClasses: function iconClasses(index) {\n      var state = this.getIconState(index);\n      return ['icon-transition position-absolute arrow-position', {\n        'transparent': !state,\n        'rotate-icon': state === 'desc'\n      }];\n    },\n    paginationChange: function paginationChange(e) {\n      this.$emit('pagination-change', Number(e.target.value));\n\n      if (this.itemsPerPageSelect.external) {\n        return;\n      }\n\n      this.perPageItems = Number(e.target.value);\n    },\n    objectsAreIdentical: function objectsAreIdentical(obj1, obj2) {\n      return obj1.length === obj2.length && JSON.stringify(obj1) === JSON.stringify(obj2);\n    },\n    clean: function clean() {\n      this.tableFilterState = \"\";\n      this.columnFilterState = {};\n      this.sorterState = {\n        column: \"\",\n        asc: true\n      };\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/table/CDataTable.vue?vue&type=script&lang=js&\n /* harmony default export */ var table_CDataTablevue_type_script_lang_js_ = (CDataTablevue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/components/table/CDataTable.vue?vue&type=style&index=0&id=2e6be878&scoped=true&lang=css&\nvar CDataTablevue_type_style_index_0_id_2e6be878_scoped_true_lang_css_ = __webpack_require__(\"e76b\");\n\n// CONCATENATED MODULE: ./src/components/table/CDataTable.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar CDataTable_component = Object(componentNormalizer[\"a\" /* default */])(\n  table_CDataTablevue_type_script_lang_js_,\n  CDataTablevue_type_template_id_2e6be878_scoped_true_render,\n  CDataTablevue_type_template_id_2e6be878_scoped_true_staticRenderFns,\n  false,\n  null,\n  \"2e6be878\",\n  null\n  \n)\n\n/* harmony default export */ var CDataTable = (CDataTable_component.exports);\n// CONCATENATED MODULE: ./src/components/table/index.js\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/tabs/CTab.vue?vue&type=template&id=295b6d9a&scoped=true&\nvar CTabvue_type_template_id_295b6d9a_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.distributed.header)?_c('li',{staticClass:\"nav-item\",on:{\"click\":_vm.navClick}},[_c('CLink',_vm._b({staticClass:\"nav-link\"},'CLink',_vm.navLinkProps,false),[_vm._t(\"title\",[_vm._v(_vm._s(_vm.title))])],2)],1):_c('transition',{attrs:{\"name\":_vm.tabs.fade ? 'fade' : '',\"mode\":\"out-in\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isActive),expression:\"isActive\"}],class:_vm.paneClasses},[_vm._t(\"default\")],2)])}\nvar CTabvue_type_template_id_295b6d9a_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/tabs/CTab.vue?vue&type=template&id=295b6d9a&scoped=true&\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/tabs/CTab.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar CTabvue_type_script_lang_js_props = Object.assign(propsFactory(), {\n  title: String\n});\n/* harmony default export */ var CTabvue_type_script_lang_js_ = ({\n  name: 'CTab',\n  inject: ['distributed', 'tabs', 'initialTab'],\n  components: {\n    CLink: CLink\n  },\n  beforeMount: function beforeMount() {\n    this.index = Array.from(this.$parent.$children).indexOf(this);\n\n    if (this.active && this.distributed.header && this.initialTab === undefined) {\n      this.distributed.changeTabTo(this.index);\n    }\n  },\n  data: function data() {\n    return {\n      index: null\n    };\n  },\n  props: CTabvue_type_script_lang_js_props,\n  computed: {\n    navLinkProps: function navLinkProps() {\n      return Object.assign({}, this._props, {\n        active: this.isActive\n      }, {\n        title: null\n      });\n    },\n    paneClasses: function paneClasses() {\n      return [this.distributed.addClasses, 'tab-pane', {\n        'active': this.isActive\n      }];\n    },\n    isActive: function isActive() {\n      return this.tabs.activeTab === this.index;\n    }\n  },\n  methods: {\n    navClick: function navClick() {\n      if (!this.isActive && !this.disabled) {\n        this.distributed.changeTabTo(this.index);\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/tabs/CTab.vue?vue&type=script&lang=js&\n /* harmony default export */ var tabs_CTabvue_type_script_lang_js_ = (CTabvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/components/tabs/CTab.vue?vue&type=style&index=0&id=295b6d9a&scoped=true&lang=css&\nvar CTabvue_type_style_index_0_id_295b6d9a_scoped_true_lang_css_ = __webpack_require__(\"4194\");\n\n// CONCATENATED MODULE: ./src/components/tabs/CTab.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar CTab_component = Object(componentNormalizer[\"a\" /* default */])(\n  tabs_CTabvue_type_script_lang_js_,\n  CTabvue_type_template_id_295b6d9a_scoped_true_render,\n  CTabvue_type_template_id_295b6d9a_scoped_true_staticRenderFns,\n  false,\n  null,\n  \"295b6d9a\",\n  null\n  \n)\n\n/* harmony default export */ var CTab = (CTab_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/tabs/CTabs.vue?vue&type=template&id=314e4687&\nvar CTabsvue_type_template_id_314e4687_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.wrapperClasses},[_c('div',{class:_vm.navWrapperClasses},[_c('CDistributor',{class:_vm.navClasses,attrs:{\"tag\":\"ul\",\"header\":true,\"changeTabTo\":_vm.changeTabTo}},[_vm._t(\"default\")],2)],1),_c('div',{class:[_vm.addTabsWrapperClasses, _vm.gridClasses.content]},[_c('CDistributor',{class:_vm.tabsClasses,attrs:{\"addClasses\":_vm.addTabClasses}},[_vm._t(\"default\")],2)],1)])}\nvar CTabsvue_type_template_id_314e4687_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/tabs/CDistributor.vue?vue&type=template&id=70b0f18f&\nvar CDistributorvue_type_template_id_70b0f18f_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.tag,{tag:\"component\"},[_vm._t(\"default\")],2)}\nvar CDistributorvue_type_template_id_70b0f18f_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/tabs/CDistributor.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CDistributorvue_type_script_lang_js_ = ({\n  name: 'CDistributor',\n  inheritAttrs: false,\n  props: {\n    tag: {\n      type: String,\n      default: 'div'\n    }\n  },\n  provide: function provide() {\n    return {\n      distributed: this.props\n    };\n  },\n  computed: {\n    props: function props() {\n      return this.$attrs;\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/tabs/CDistributor.vue?vue&type=script&lang=js&\n /* harmony default export */ var tabs_CDistributorvue_type_script_lang_js_ = (CDistributorvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/tabs/CDistributor.vue\n\n\n\n\n\n/* normalize component */\n\nvar CDistributor_component = Object(componentNormalizer[\"a\" /* default */])(\n  tabs_CDistributorvue_type_script_lang_js_,\n  CDistributorvue_type_template_id_70b0f18f_render,\n  CDistributorvue_type_template_id_70b0f18f_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CDistributor = (CDistributor_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/tabs/CTabs.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CTabsvue_type_script_lang_js_ = ({\n  name: 'CTabs',\n  components: {\n    CDistributor: CDistributor\n  },\n  provide: function provide() {\n    var _this = this;\n\n    var tabs = {};\n    Object.defineProperty(tabs, 'activeTab', {\n      get: function get() {\n        return _this.activeTabIndex;\n      }\n    });\n    Object.defineProperty(tabs, 'fade', {\n      get: function get() {\n        return _this.fade;\n      }\n    });\n    return {\n      tabs: tabs,\n      initialTab: this.activeTab\n    };\n  },\n  props: {\n    fill: Boolean,\n    justified: Boolean,\n    variant: {\n      type: String,\n      default: 'tabs',\n      validator: function validator(val) {\n        return ['', 'tabs', 'pills'].includes(val);\n      }\n    },\n    fade: {\n      type: Boolean,\n      default: true\n    },\n    vertical: [Boolean, Object],\n    addNavWrapperClasses: [String, Array, Object],\n    addNavClasses: [String, Array, Object],\n    addTabsWrapperClasses: [String, Array, Object],\n    addTabsClasses: [String, Array, Object],\n    addTabClasses: [String, Array, Object],\n    activeTab: Number\n  },\n  data: function data() {\n    return {\n      activeTabIndex: this.activeTab || 0\n    };\n  },\n  watch: {\n    activeTab: function activeTab(val) {\n      this.activeTabIndex = val || 0;\n    }\n  },\n  computed: {\n    wrapperClasses: function wrapperClasses() {\n      return {\n        'row no-gutters': this.vertical\n      };\n    },\n    navWrapperClasses: function navWrapperClasses() {\n      return [this.addNavWrapperClasses, this.gridClasses.navs];\n    },\n    navClasses: function navClasses() {\n      return [this.addNavClasses, {\n        'nav': true,\n        'nav-tabs': this.variant === 'tabs',\n        'nav-pills': this.variant === 'pills',\n        'flex-column': this.vertical,\n        'nav-fill': this.fill,\n        'nav-justified': this.justified,\n        'h-100': this.vertical\n      }];\n    },\n    tabsClasses: function tabsClasses() {\n      return [this.addTabsClasses, 'tab-content', {\n        'pl-3 p-0': this.vertical\n      }];\n    },\n    gridClasses: function gridClasses() {\n      if (this.vertical === true) {\n        return {\n          navs: 'col-sm-4',\n          content: 'col-sm-8'\n        };\n      } else {\n        return this.vertical || {};\n      }\n    }\n  },\n  methods: {\n    changeTabTo: function changeTabTo(tab) {\n      this.activeTabIndex = tab;\n      this.$emit('update:activeTab', tab);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/tabs/CTabs.vue?vue&type=script&lang=js&\n /* harmony default export */ var tabs_CTabsvue_type_script_lang_js_ = (CTabsvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/tabs/CTabs.vue\n\n\n\n\n\n/* normalize component */\n\nvar CTabs_component = Object(componentNormalizer[\"a\" /* default */])(\n  tabs_CTabsvue_type_script_lang_js_,\n  CTabsvue_type_template_id_314e4687_render,\n  CTabsvue_type_template_id_314e4687_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CTabs = (CTabs_component.exports);\n// CONCATENATED MODULE: ./src/components/tabs/index.js\n\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CFooter.vue?vue&type=template&id=2ec66e76&\nvar CFootervue_type_template_id_2ec66e76_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.tag,{tag:\"component\",class:_vm.classList},[_vm._t(\"default\")],2)}\nvar CFootervue_type_template_id_2ec66e76_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CFooter.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CFootervue_type_script_lang_js_ = ({\n  name: 'CFooter',\n  props: {\n    tag: {\n      type: String,\n      default: 'footer'\n    },\n    fixed: {\n      type: Boolean,\n      default: true\n    }\n  },\n  computed: {\n    classList: function classList() {\n      return ['c-footer', {\n        'c-footer-fixed': this.fixed\n      }];\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/template/CFooter.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CFootervue_type_script_lang_js_ = (CFootervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CFooter.vue\n\n\n\n\n\n/* normalize component */\n\nvar CFooter_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CFootervue_type_script_lang_js_,\n  CFootervue_type_template_id_2ec66e76_render,\n  CFootervue_type_template_id_2ec66e76_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CFooter = (CFooter_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CHeader.vue?vue&type=template&id=d560eb9c&\nvar CHeadervue_type_template_id_d560eb9c_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.tag,{tag:\"component\",class:_vm.classList},[_vm._t(\"default\")],2)}\nvar CHeadervue_type_template_id_d560eb9c_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CHeader.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CHeadervue_type_script_lang_js_ = ({\n  name: 'CHeader',\n  props: {\n    tag: {\n      type: String,\n      default: 'header'\n    },\n    colorScheme: {\n      type: String,\n      default: 'light'\n    },\n    fixed: {\n      type: Boolean,\n      default: true\n    },\n    withSubheader: Boolean\n  },\n  computed: {\n    classList: function classList() {\n      return ['c-header', \"c-header-\".concat(this.colorScheme), {\n        'c-header-fixed': this.fixed,\n        'c-header-with-subheader': this.withSubheader\n      }];\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/template/CHeader.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CHeadervue_type_script_lang_js_ = (CHeadervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CHeader.vue\n\n\n\n\n\n/* normalize component */\n\nvar CHeader_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CHeadervue_type_script_lang_js_,\n  CHeadervue_type_template_id_d560eb9c_render,\n  CHeadervue_type_template_id_d560eb9c_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CHeader = (CHeader_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CHeaderBrand.vue?vue&type=script&lang=js&\n\n\nvar CHeaderBrandvue_type_script_lang_js_props = Object.assign(propsFactory(), {\n  tag: {\n    type: String,\n    default: 'div'\n  }\n});\n/* harmony default export */ var CHeaderBrandvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CHeaderBrand',\n  props: CHeaderBrandvue_type_script_lang_js_props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    var isLink = props.href || props.to;\n    return h(isLink ? CLink : props.tag, a(data, {\n      staticClass: 'c-header-brand',\n      props: isLink ? props : {}\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/template/CHeaderBrand.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CHeaderBrandvue_type_script_lang_js_ = (CHeaderBrandvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CHeaderBrand.vue\nvar CHeaderBrand_render, CHeaderBrand_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CHeaderBrand_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CHeaderBrandvue_type_script_lang_js_,\n  CHeaderBrand_render,\n  CHeaderBrand_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CHeaderBrand = (CHeaderBrand_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CHeaderNav.vue?vue&type=template&id=5fc36f60&\nvar CHeaderNavvue_type_template_id_5fc36f60_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"c-header-nav\"},[_vm._t(\"default\")],2)}\nvar CHeaderNavvue_type_template_id_5fc36f60_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CHeaderNav.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CHeaderNavvue_type_script_lang_js_ = ({\n  name: 'CHeaderNav'\n});\n// CONCATENATED MODULE: ./src/components/template/CHeaderNav.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CHeaderNavvue_type_script_lang_js_ = (CHeaderNavvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CHeaderNav.vue\n\n\n\n\n\n/* normalize component */\n\nvar CHeaderNav_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CHeaderNavvue_type_script_lang_js_,\n  CHeaderNavvue_type_template_id_5fc36f60_render,\n  CHeaderNavvue_type_template_id_5fc36f60_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CHeaderNav = (CHeaderNav_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CHeaderNavItem.vue?vue&type=template&id=18913d68&\nvar CHeaderNavItemvue_type_template_id_18913d68_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"c-header-nav-item\"},[_vm._t(\"default\")],2)}\nvar CHeaderNavItemvue_type_template_id_18913d68_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CHeaderNavItem.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CHeaderNavItemvue_type_script_lang_js_ = ({\n  name: 'CHeaderNavItem'\n});\n// CONCATENATED MODULE: ./src/components/template/CHeaderNavItem.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CHeaderNavItemvue_type_script_lang_js_ = (CHeaderNavItemvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CHeaderNavItem.vue\n\n\n\n\n\n/* normalize component */\n\nvar CHeaderNavItem_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CHeaderNavItemvue_type_script_lang_js_,\n  CHeaderNavItemvue_type_template_id_18913d68_render,\n  CHeaderNavItemvue_type_template_id_18913d68_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CHeaderNavItem = (CHeaderNavItem_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CHeaderNavLink.vue?vue&type=template&id=1f542e7a&\nvar CHeaderNavLinkvue_type_template_id_1f542e7a_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CLink',_vm._b({staticClass:\"c-header-nav-link\"},'CLink',_vm.$props,false),[_vm._t(\"default\")],2)}\nvar CHeaderNavLinkvue_type_template_id_1f542e7a_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CHeaderNavLink.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CHeaderNavLinkvue_type_script_lang_js_ = ({\n  name: 'CHeaderNavLink',\n  components: {\n    CLink: CLink\n  },\n  props: CLinkvue_type_script_lang_js_props\n});\n// CONCATENATED MODULE: ./src/components/template/CHeaderNavLink.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CHeaderNavLinkvue_type_script_lang_js_ = (CHeaderNavLinkvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CHeaderNavLink.vue\n\n\n\n\n\n/* normalize component */\n\nvar CHeaderNavLink_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CHeaderNavLinkvue_type_script_lang_js_,\n  CHeaderNavLinkvue_type_template_id_1f542e7a_render,\n  CHeaderNavLinkvue_type_template_id_1f542e7a_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CHeaderNavLink = (CHeaderNavLink_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSubheader.vue?vue&type=template&id=6d918d32&\nvar CSubheadervue_type_template_id_6d918d32_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.tag,{tag:\"component\",staticClass:\"c-subheader\"},[_vm._t(\"default\")],2)}\nvar CSubheadervue_type_template_id_6d918d32_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSubheader.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CSubheadervue_type_script_lang_js_ = ({\n  name: 'CSubheader',\n  props: {\n    tag: {\n      type: String,\n      default: 'div'\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/template/CSubheader.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CSubheadervue_type_script_lang_js_ = (CSubheadervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CSubheader.vue\n\n\n\n\n\n/* normalize component */\n\nvar CSubheader_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CSubheadervue_type_script_lang_js_,\n  CSubheadervue_type_template_id_6d918d32_render,\n  CSubheadervue_type_template_id_6d918d32_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CSubheader = (CSubheader_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebar.vue?vue&type=template&id=28216474&\nvar CSidebarvue_type_template_id_28216474_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.sidebarClasses,on:{\"click\":_vm.sidebarClick}},[_vm._t(\"default\")],2)}\nvar CSidebarvue_type_template_id_28216474_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebar.vue?vue&type=script&lang=js&\nfunction CSidebarvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CSidebarvue_type_script_lang_js_ = ({\n  name: 'CSidebar',\n  props: {\n    fixed: {\n      type: Boolean,\n      default: true\n    },\n    unfoldable: Boolean,\n    overlaid: Boolean,\n    breakpoint: {\n      type: [String, Boolean],\n      default: 'lg',\n      validator: function validator(val) {\n        return [false, '', 'sm', 'md', 'lg', 'xl'].includes(val);\n      }\n    },\n    minimize: Boolean,\n    show: {\n      type: [Boolean, String],\n      default: 'responsive'\n    },\n    size: {\n      type: String,\n      validator: function validator(val) {\n        return ['', 'sm', 'lg', 'xl'].includes(val);\n      }\n    },\n    hideOnMobileClick: {\n      type: Boolean,\n      default: true\n    },\n    aside: Boolean,\n    colorScheme: {\n      type: String,\n      default: 'dark'\n    },\n    dropdownMode: {\n      type: String,\n      default: 'openActive',\n      validator: function validator(mode) {\n        return ['', 'openActive', 'close', 'closeInactive', 'noAction'].includes(mode);\n      }\n    }\n  },\n  provide: function provide() {\n    var _this = this;\n\n    var state = {};\n    Object.defineProperty(state, 'minimize', {\n      get: function get() {\n        return _this.minimize && !_this.unfoldable;\n      }\n    });\n    return {\n      state: state,\n      dropdownMode: this.dropdownMode\n    };\n  },\n  data: function data() {\n    return {\n      open: this.show\n    };\n  },\n  watch: {\n    show: function show(val) {\n      this.open = val;\n    },\n    open: {\n      immediate: true,\n      handler: function handler(val) {\n        val === true ? this.createBackdrop() : this.removeBackdrop();\n      }\n    }\n  },\n  // mounted () {\n  //   if (this.open === true) {\n  //     this.createBackdrop()\n  //   }\n  // },\n  beforeDestroy: function beforeDestroy() {\n    this.removeBackdrop();\n  },\n  computed: {\n    sidebarClasses: function sidebarClasses() {\n      var _ref;\n\n      var haveResponsiveClass = this.breakpoint && this.open === 'responsive';\n      return ['c-sidebar', \"c-sidebar-\".concat(this.colorScheme), (_ref = {\n        'c-sidebar-show': this.open === true\n      }, CSidebarvue_type_script_lang_js_defineProperty(_ref, \"c-sidebar-\".concat(this.breakpoint, \"-show\"), haveResponsiveClass), CSidebarvue_type_script_lang_js_defineProperty(_ref, 'c-sidebar-fixed', this.fixed && !this.overlaid), CSidebarvue_type_script_lang_js_defineProperty(_ref, 'c-sidebar-right', this.aside), CSidebarvue_type_script_lang_js_defineProperty(_ref, 'c-sidebar-minimized', this.minimize && !this.unfoldable), CSidebarvue_type_script_lang_js_defineProperty(_ref, 'c-sidebar-unfoldable', this.minimize && this.unfoldable), CSidebarvue_type_script_lang_js_defineProperty(_ref, 'c-sidebar-overlaid', this.overlaid), CSidebarvue_type_script_lang_js_defineProperty(_ref, \"c-sidebar-\".concat(this.size), this.size), _ref)];\n    }\n  },\n  methods: {\n    sidebarClick: function sidebarClick(e) {\n      if (this.hideOnMobileClick && this.isOnMobile()) {\n        e.target.closest('a.c-sidebar-nav-link') ? this.closeSidebar() : null;\n      }\n    },\n    closeSidebar: function closeSidebar() {\n      this.open = this.overlaid ? false : 'responsive';\n      this.$emit('update:show', this.open);\n    },\n    isOnMobile: function isOnMobile() {\n      return Boolean(getComputedStyle(this.$el).getPropertyValue('--is-mobile'));\n    },\n    sidebarCloseListener: function sidebarCloseListener(e) {\n      if (document.getElementById(this._uid + 'backdrop') && !this.$el.contains(e.target)) {\n        this.closeSidebar();\n      }\n    },\n    createBackdrop: function createBackdrop() {\n      var backdrop = document.createElement('div');\n\n      if (this.overlaid) {\n        document.addEventListener('click', this.sidebarCloseListener, true);\n      } else {\n        backdrop.addEventListener('click', this.closeSidebar);\n      }\n\n      backdrop.className = 'c-sidebar-backdrop c-show';\n      backdrop.id = this._uid + 'backdrop';\n      document.body.appendChild(backdrop);\n    },\n    removeBackdrop: function removeBackdrop() {\n      var backdrop = document.getElementById(this._uid + 'backdrop');\n\n      if (backdrop) {\n        document.removeEventListener('click', this.sidebarCloseListener);\n        backdrop.removeEventListener('click', this.closeSidebar);\n        document.body.removeChild(backdrop);\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/template/CSidebar.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CSidebarvue_type_script_lang_js_ = (CSidebarvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CSidebar.vue\n\n\n\n\n\n/* normalize component */\n\nvar CSidebar_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CSidebarvue_type_script_lang_js_,\n  CSidebarvue_type_template_id_28216474_render,\n  CSidebarvue_type_template_id_28216474_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CSidebar = (CSidebar_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarBrand.vue?vue&type=script&lang=js&\n//\n//\n\n\nvar CSidebarBrandvue_type_script_lang_js_props = Object.assign(propsFactory(), {\n  tag: {\n    type: String,\n    default: 'div'\n  }\n});\n/* harmony default export */ var CSidebarBrandvue_type_script_lang_js_ = ({\n  functional: true,\n  name: 'CSidebarBrand',\n  props: CSidebarBrandvue_type_script_lang_js_props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    var isLink = props.href || props.to;\n    return h(isLink ? CLink : props.tag, a(data, {\n      staticClass: 'c-sidebar-brand',\n      props: isLink ? props : {}\n    }), children);\n  }\n});\n// CONCATENATED MODULE: ./src/components/template/CSidebarBrand.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CSidebarBrandvue_type_script_lang_js_ = (CSidebarBrandvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CSidebarBrand.vue\nvar CSidebarBrand_render, CSidebarBrand_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CSidebarBrand_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CSidebarBrandvue_type_script_lang_js_,\n  CSidebarBrand_render,\n  CSidebarBrand_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CSidebarBrand = (CSidebarBrand_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarClose.vue?vue&type=template&id=7fce8dcf&\nvar CSidebarClosevue_type_template_id_7fce8dcf_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CButtonClose',{attrs:{\"buttonClasses\":\"c-sidebar-close\"}},[_c('svg',{staticClass:\"c-icon\",attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\"}},[_c('title',[_vm._v(\"x\")]),_c('path',{attrs:{\"d\":\"M20.030 5.030l-1.061-1.061-6.97 6.97-6.97-6.97-1.061 1.061 6.97 6.97-6.97 6.97 1.061 1.061 6.97-6.97 6.97 6.97 1.061-1.061-6.97-6.97 6.97-6.97z\"}})])])}\nvar CSidebarClosevue_type_template_id_7fce8dcf_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarClose.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CSidebarClosevue_type_script_lang_js_ = ({\n  name: 'CSidebarClose',\n  components: {\n    CButtonClose: CButtonClose\n  }\n});\n// CONCATENATED MODULE: ./src/components/template/CSidebarClose.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CSidebarClosevue_type_script_lang_js_ = (CSidebarClosevue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CSidebarClose.vue\n\n\n\n\n\n/* normalize component */\n\nvar CSidebarClose_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CSidebarClosevue_type_script_lang_js_,\n  CSidebarClosevue_type_template_id_7fce8dcf_render,\n  CSidebarClosevue_type_template_id_7fce8dcf_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CSidebarClose = (CSidebarClose_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarFooter.vue?vue&type=template&id=448e4ba6&\nvar CSidebarFootervue_type_template_id_448e4ba6_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-sidebar-footer\"},[_vm._t(\"default\")],2)}\nvar CSidebarFootervue_type_template_id_448e4ba6_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarFooter.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CSidebarFootervue_type_script_lang_js_ = ({\n  name: 'CSidebarFooter'\n});\n// CONCATENATED MODULE: ./src/components/template/CSidebarFooter.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CSidebarFootervue_type_script_lang_js_ = (CSidebarFootervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CSidebarFooter.vue\n\n\n\n\n\n/* normalize component */\n\nvar CSidebarFooter_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CSidebarFootervue_type_script_lang_js_,\n  CSidebarFootervue_type_template_id_448e4ba6_render,\n  CSidebarFootervue_type_template_id_448e4ba6_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CSidebarFooter = (CSidebarFooter_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarForm.vue?vue&type=template&id=1acfb844&\nvar CSidebarFormvue_type_template_id_1acfb844_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-sidebar-form\"},[_vm._t(\"default\")],2)}\nvar CSidebarFormvue_type_template_id_1acfb844_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarForm.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CSidebarFormvue_type_script_lang_js_ = ({\n  name: 'CSidebarForm'\n});\n// CONCATENATED MODULE: ./src/components/template/CSidebarForm.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CSidebarFormvue_type_script_lang_js_ = (CSidebarFormvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CSidebarForm.vue\n\n\n\n\n\n/* normalize component */\n\nvar CSidebarForm_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CSidebarFormvue_type_script_lang_js_,\n  CSidebarFormvue_type_template_id_1acfb844_render,\n  CSidebarFormvue_type_template_id_1acfb844_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CSidebarForm = (CSidebarForm_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarHeader.vue?vue&type=template&id=51b6153b&\nvar CSidebarHeadervue_type_template_id_51b6153b_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"c-sidebar-header\"},[_vm._t(\"default\")],2)}\nvar CSidebarHeadervue_type_template_id_51b6153b_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarHeader.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CSidebarHeadervue_type_script_lang_js_ = ({\n  name: 'CSidebarHeader'\n});\n// CONCATENATED MODULE: ./src/components/template/CSidebarHeader.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CSidebarHeadervue_type_script_lang_js_ = (CSidebarHeadervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CSidebarHeader.vue\n\n\n\n\n\n/* normalize component */\n\nvar CSidebarHeader_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CSidebarHeadervue_type_script_lang_js_,\n  CSidebarHeadervue_type_template_id_51b6153b_render,\n  CSidebarHeadervue_type_template_id_51b6153b_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CSidebarHeader = (CSidebarHeader_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarMinimizer.vue?vue&type=template&id=891a05e4&\nvar CSidebarMinimizervue_type_template_id_891a05e4_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"c-sidebar-minimizer\",attrs:{\"type\":\"button\"}})}\nvar CSidebarMinimizervue_type_template_id_891a05e4_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarMinimizer.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CSidebarMinimizervue_type_script_lang_js_ = ({\n  name: 'CSidebarMinimizer'\n});\n// CONCATENATED MODULE: ./src/components/template/CSidebarMinimizer.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CSidebarMinimizervue_type_script_lang_js_ = (CSidebarMinimizervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CSidebarMinimizer.vue\n\n\n\n\n\n/* normalize component */\n\nvar CSidebarMinimizer_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CSidebarMinimizervue_type_script_lang_js_,\n  CSidebarMinimizervue_type_template_id_891a05e4_render,\n  CSidebarMinimizervue_type_template_id_891a05e4_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CSidebarMinimizer = (CSidebarMinimizer_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarNav.vue?vue&type=template&id=4e4153de&\nvar CSidebarNavvue_type_template_id_4e4153de_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CScrollbar',{staticClass:\"c-sidebar-nav h-100\",attrs:{\"settings\":_vm.psSettings,\"switcher\":!_vm.state.minimize,\"tag\":\"ul\"}},[_vm._t(\"default\")],2)}\nvar CSidebarNavvue_type_template_id_4e4153de_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarNav.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CSidebarNavvue_type_script_lang_js_ = ({\n  name: 'CSidebarNav',\n  components: {\n    CScrollbar: CScrollbar\n  },\n  inject: {\n    state: {\n      default: false\n    }\n  },\n  computed: {\n    psSettings: function psSettings() {\n      // ToDo: find better rtl fix\n      return {\n        maxScrollbarLength: 200,\n        minScrollbarLength: 40,\n        suppressScrollX: getComputedStyle(document.querySelector('html')).direction !== 'rtl',\n        wheelPropagation: false\n      };\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/template/CSidebarNav.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CSidebarNavvue_type_script_lang_js_ = (CSidebarNavvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CSidebarNav.vue\n\n\n\n\n\n/* normalize component */\n\nvar CSidebarNav_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CSidebarNavvue_type_script_lang_js_,\n  CSidebarNavvue_type_template_id_4e4153de_render,\n  CSidebarNavvue_type_template_id_4e4153de_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CSidebarNav = (CSidebarNav_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarNavDivider.vue?vue&type=template&id=b1a40e70&\nvar CSidebarNavDividervue_type_template_id_b1a40e70_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"c-sidebar-nav-divider\"})}\nvar CSidebarNavDividervue_type_template_id_b1a40e70_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarNavDivider.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n/* harmony default export */ var CSidebarNavDividervue_type_script_lang_js_ = ({\n  name: 'CSidebarNavDivider'\n});\n// CONCATENATED MODULE: ./src/components/template/CSidebarNavDivider.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CSidebarNavDividervue_type_script_lang_js_ = (CSidebarNavDividervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CSidebarNavDivider.vue\n\n\n\n\n\n/* normalize component */\n\nvar CSidebarNavDivider_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CSidebarNavDividervue_type_script_lang_js_,\n  CSidebarNavDividervue_type_template_id_b1a40e70_render,\n  CSidebarNavDividervue_type_template_id_b1a40e70_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CSidebarNavDivider = (CSidebarNavDivider_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarNavDropdown.vue?vue&type=template&id=4e497851&\nvar CSidebarNavDropdownvue_type_template_id_4e497851_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{class:_vm.dropdownClasses},[_c('a',{staticClass:\"c-sidebar-nav-dropdown-toggle\",on:{\"click\":_vm.handleClick}},[(_vm.icon)?_c('CIcon',_vm._b({},'CIcon',_vm.computedIcon,false)):_vm._e(),(_vm.fontIcon)?_c('i',{class:['c-sidebar-nav-icon', _vm.fontIcon]}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.name)+\" \")],1),_c('ul',{staticClass:\"c-sidebar-nav-dropdown-items\",on:{\"click\":_vm.itemClicked}},[_vm._t(\"default\",[_vm._l((_vm.items),function(item,key){return [_c('CSidebarNavItem',_vm._b({key:key},'CSidebarNavItem',item,false))]})])],2)])}\nvar CSidebarNavDropdownvue_type_template_id_4e497851_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarNavItem.vue?vue&type=template&id=ad5dc7f6&\nvar CSidebarNavItemvue_type_template_id_ad5dc7f6_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"c-sidebar-nav-item\"},[_vm._t(\"default\",[_c('CLink',_vm._b({class:_vm.linkClasses},'CLink',_vm.computedLinkProps,false),[(_vm.icon)?_c('CIcon',_vm._b({},'CIcon',_vm.computedIcon,false)):_vm._e(),(_vm.fontIcon)?_c('i',{class:['c-sidebar-nav-icon', _vm.fontIcon]}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.name)+\" \"),(_vm.badge)?_c('CBadge',_vm._b({},'CBadge',Object.assign({}, _vm.badge, { text: null }),false),[_vm._v(\" \"+_vm._s(_vm.badge.text)+\" \")]):_vm._e()],1)])],2)}\nvar CSidebarNavItemvue_type_template_id_ad5dc7f6_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarNavItem.vue?vue&type=script&lang=js&\nfunction CSidebarNavItemvue_type_script_lang_js_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction CSidebarNavItemvue_type_script_lang_js_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { CSidebarNavItemvue_type_script_lang_js_ownKeys(Object(source), true).forEach(function (key) { CSidebarNavItemvue_type_script_lang_js_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { CSidebarNavItemvue_type_script_lang_js_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction CSidebarNavItemvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction CSidebarNavItemvue_type_script_lang_js_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { CSidebarNavItemvue_type_script_lang_js_typeof = function _typeof(obj) { return typeof obj; }; } else { CSidebarNavItemvue_type_script_lang_js_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return CSidebarNavItemvue_type_script_lang_js_typeof(obj); }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\nvar CSidebarNavItemvue_type_script_lang_js_props = Object.assign({}, CLinkvue_type_script_lang_js_props, {\n  exact: {\n    type: Boolean,\n    default: true\n  },\n  activeClass: {\n    type: String,\n    default: 'c-active'\n  }\n}, {\n  name: String,\n  icon: [String, Object],\n  fontIcon: String,\n  badge: Object,\n  addLinkClasses: [String, Array, Object],\n  label: Boolean,\n  color: String\n});\n/* harmony default export */ var CSidebarNavItemvue_type_script_lang_js_ = ({\n  name: 'CSidebarNavItem',\n  components: {\n    CLink: CLink,\n    CBadge: CBadge,\n    CIcon: CIconRaw\n  },\n  props: CSidebarNavItemvue_type_script_lang_js_props,\n  computed: {\n    computedLinkProps: function computedLinkProps() {\n      var _this = this;\n\n      return Object.keys(CLinkvue_type_script_lang_js_props).reduce(function (props, key) {\n        props[key] = _this[key];\n        return props;\n      }, {});\n    },\n    linkClasses: function linkClasses() {\n      return [this.label ? 'c-sidebar-nav-label' : 'c-sidebar-nav-link', this.color && \"c-sidebar-nav-link-\".concat(this.color), this.addLinkClasses];\n    },\n    computedIcon: function computedIcon() {\n      if (CSidebarNavItemvue_type_script_lang_js_typeof(this.icon) === 'object') {\n        var key = this.icon.size ? 'class' : 'customClasses';\n        return CSidebarNavItemvue_type_script_lang_js_objectSpread(CSidebarNavItemvue_type_script_lang_js_objectSpread({}, this.icon), {}, CSidebarNavItemvue_type_script_lang_js_defineProperty({}, \"\".concat(key), this.icon.customClasses || ['c-sidebar-nav-icon', this.icon.className]));\n      } else {\n        return {\n          customClasses: 'c-sidebar-nav-icon',\n          name: this.icon\n        };\n      }\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/template/CSidebarNavItem.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CSidebarNavItemvue_type_script_lang_js_ = (CSidebarNavItemvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CSidebarNavItem.vue\n\n\n\n\n\n/* normalize component */\n\nvar CSidebarNavItem_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CSidebarNavItemvue_type_script_lang_js_,\n  CSidebarNavItemvue_type_template_id_ad5dc7f6_render,\n  CSidebarNavItemvue_type_template_id_ad5dc7f6_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CSidebarNavItem = (CSidebarNavItem_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarNavDropdown.vue?vue&type=script&lang=js&\nfunction CSidebarNavDropdownvue_type_script_lang_js_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction CSidebarNavDropdownvue_type_script_lang_js_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { CSidebarNavDropdownvue_type_script_lang_js_ownKeys(Object(source), true).forEach(function (key) { CSidebarNavDropdownvue_type_script_lang_js_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { CSidebarNavDropdownvue_type_script_lang_js_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction CSidebarNavDropdownvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction CSidebarNavDropdownvue_type_script_lang_js_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { CSidebarNavDropdownvue_type_script_lang_js_typeof = function _typeof(obj) { return typeof obj; }; } else { CSidebarNavDropdownvue_type_script_lang_js_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return CSidebarNavDropdownvue_type_script_lang_js_typeof(obj); }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CSidebarNavDropdownvue_type_script_lang_js_ = ({\n  name: 'CSidebarNavDropdown',\n  components: {\n    CIcon: CIconRaw,\n    CSidebarNavItem: CSidebarNavItem\n  },\n  props: {\n    name: String,\n    route: {\n      type: String,\n      validator: function validator(val) {\n        return val.length > 0;\n      }\n    },\n    icon: [String, Object],\n    fontIcon: String,\n    show: Boolean,\n    items: Array\n  },\n  data: function data() {\n    return {\n      open: this.show\n    };\n  },\n  inject: {\n    dropdownMode: {\n      default: 'openActive'\n    }\n  },\n  watch: {\n    show: function show(val) {\n      this.open = val;\n    },\n    $route: {\n      immediate: true,\n      handler: function handler(route) {\n        var mode = this.dropdownMode;\n\n        if (mode === 'close') {\n          this.open = false;\n        } else if (mode === 'closeInactive' && this.route) {\n          this.open = route.fullPath.includes(this.route);\n        } else if (mode === 'openActive' && !this.open && this.route) {\n          this.open = route.fullPath.includes(this.route);\n        } // else if (mode === 'noAction') {\n        //   return\n        // }\n\n      }\n    }\n  },\n  computed: {\n    dropdownClasses: function dropdownClasses() {\n      return ['c-sidebar-nav-dropdown', {\n        'c-show': this.open\n      }];\n    },\n    computedIcon: function computedIcon() {\n      if (CSidebarNavDropdownvue_type_script_lang_js_typeof(this.icon) === 'object') {\n        var key = this.icon.size ? 'class' : 'customClasses';\n        return CSidebarNavDropdownvue_type_script_lang_js_objectSpread(CSidebarNavDropdownvue_type_script_lang_js_objectSpread({}, this.icon), {}, CSidebarNavDropdownvue_type_script_lang_js_defineProperty({}, \"\".concat(key), this.icon.customClasses || ['c-sidebar-nav-icon', this.icon.className]));\n      } else {\n        return {\n          customClasses: 'c-sidebar-nav-icon',\n          name: this.icon\n        };\n      }\n    }\n  },\n  methods: {\n    handleClick: function handleClick(e) {\n      e.preventDefault();\n      this.open = !this.open;\n      this.$emit('update:show', this.open);\n    },\n    itemClicked: function itemClicked(e) {\n      this.$emit('item-clicked', e);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/template/CSidebarNavDropdown.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CSidebarNavDropdownvue_type_script_lang_js_ = (CSidebarNavDropdownvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CSidebarNavDropdown.vue\n\n\n\n\n\n/* normalize component */\n\nvar CSidebarNavDropdown_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CSidebarNavDropdownvue_type_script_lang_js_,\n  CSidebarNavDropdownvue_type_template_id_4e497851_render,\n  CSidebarNavDropdownvue_type_template_id_4e497851_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CSidebarNavDropdown = (CSidebarNavDropdown_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarNavTitle.vue?vue&type=template&id=5331e5b0&\nvar CSidebarNavTitlevue_type_template_id_5331e5b0_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"c-sidebar-nav-title\"},[_vm._t(\"default\")],2)}\nvar CSidebarNavTitlevue_type_template_id_5331e5b0_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CSidebarNavTitle.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CSidebarNavTitlevue_type_script_lang_js_ = ({\n  name: 'CSidebarNavTitle'\n});\n// CONCATENATED MODULE: ./src/components/template/CSidebarNavTitle.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CSidebarNavTitlevue_type_script_lang_js_ = (CSidebarNavTitlevue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CSidebarNavTitle.vue\n\n\n\n\n\n/* normalize component */\n\nvar CSidebarNavTitle_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CSidebarNavTitlevue_type_script_lang_js_,\n  CSidebarNavTitlevue_type_template_id_5331e5b0_render,\n  CSidebarNavTitlevue_type_template_id_5331e5b0_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CSidebarNavTitle = (CSidebarNavTitle_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CWrapper.vue?vue&type=template&id=13351784&\nvar CWrappervue_type_template_id_13351784_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.tag,{tag:\"component\",class:_vm.classList},[_vm._t(\"default\")],2)}\nvar CWrappervue_type_template_id_13351784_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/template/CWrapper.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CWrappervue_type_script_lang_js_ = ({\n  name: 'CWrapper',\n  props: {\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    fluid: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    classList: function classList() {\n      return ['c-wrapper', {\n        'c-wrapper-fluid': this.fluid\n      }];\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/template/CWrapper.vue?vue&type=script&lang=js&\n /* harmony default export */ var template_CWrappervue_type_script_lang_js_ = (CWrappervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/template/CWrapper.vue\n\n\n\n\n\n/* normalize component */\n\nvar CWrapper_component = Object(componentNormalizer[\"a\" /* default */])(\n  template_CWrappervue_type_script_lang_js_,\n  CWrappervue_type_template_id_13351784_render,\n  CWrappervue_type_template_id_13351784_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CWrapper = (CWrapper_component.exports);\n// CONCATENATED MODULE: ./src/components/template/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/toast/CToast.vue?vue&type=template&id=7208152f&scoped=true&\nvar CToastvue_type_template_id_7208152f_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":_vm.props.fade ? 'fade' : null,\"appear\":true}},[(_vm.isShowed)?_c('div',{staticClass:\"toast\",attrs:{\"role\":\"alert\",\"aria-live\":\"assertive\",\"aria-atomic\":\"true\"}},[(_vm.header !== undefined || _vm.$slots.header)?_c('div',{staticClass:\"toast-header\"},[_vm._t(\"header\",[_c('strong',{staticClass:\"mr-auto\"},[_vm._v(_vm._s(_vm.header))])]),(_vm.props.closeButton)?_c('CButtonClose',{staticClass:\"ml-2 mb-1\",on:{\"click\":function($event){return _vm.close()}}}):_vm._e()],2):_vm._e(),_c('div',{staticClass:\"toast-body\"},[_vm._t(\"default\")],2)]):_vm._e()])}\nvar CToastvue_type_template_id_7208152f_scoped_true_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./src/components/toast/CToast.vue?vue&type=template&id=7208152f&scoped=true&\n\n// CONCATENATED MODULE: ./src/components/toast/toast-props.js\nvar toast_props_props = {\n  autohide: {\n    type: [Number, Boolean],\n    validator: function validator(val) {\n      return typeof val === 'number' || val === false;\n    }\n  },\n  closeButton: {\n    type: Boolean,\n    default: true\n  },\n  fade: {\n    type: Boolean,\n    default: true\n  }\n};\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/toast/CToast.vue?vue&type=script&lang=js&\nfunction CToastvue_type_script_lang_js_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction CToastvue_type_script_lang_js_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { CToastvue_type_script_lang_js_ownKeys(Object(source), true).forEach(function (key) { CToastvue_type_script_lang_js_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { CToastvue_type_script_lang_js_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction CToastvue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ var CToastvue_type_script_lang_js_ = ({\n  name: 'CToast',\n  components: {\n    CButtonClose: CButtonClose\n  },\n  props: CToastvue_type_script_lang_js_objectSpread(CToastvue_type_script_lang_js_objectSpread({}, toast_props_props), {}, {\n    show: Boolean,\n    header: String\n  }),\n  inject: {\n    toaster: {\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      isShowed: this.show,\n      hideTimeout: null,\n      closeTimeout: null\n    };\n  },\n  watch: {\n    show: {\n      immediate: true,\n      handler: function handler(val) {\n        val ? this.display() : this.close();\n      }\n    }\n  },\n  computed: {\n    directlyDeclaredProps: function directlyDeclaredProps() {\n      return Object.keys(this.$options.propsData);\n    },\n    injectedProps: function injectedProps() {\n      return this.toaster && this.toaster.props ? this.toaster.props : {};\n    },\n    props: function props() {\n      var _this = this;\n\n      return Object.keys(toast_props_props).reduce(function (computedProps, key) {\n        var propIsDirectlyDeclared = _this.directlyDeclaredProps.includes(key);\n\n        var parentPropExists = _this.injectedProps[key] !== undefined;\n        var propIsInherited = parentPropExists && !propIsDirectlyDeclared;\n        computedProps[key] = propIsInherited ? _this.injectedProps[key] : _this[key];\n        return computedProps;\n      }, {});\n    }\n  },\n  methods: {\n    display: function display() {\n      var _this2 = this;\n\n      this.isShowed = true;\n      this.$nextTick(function () {\n        if (_this2.props.autohide) {\n          _this2.setAutohide();\n        }\n      });\n    },\n    close: function close() {\n      this.isShowed = false;\n      this.$emit('update:show', false);\n      this.$el.removeEventListener('mouseover', this.onHover);\n      this.$el.removeEventListener('mouseover', this.restoreHiddingToast);\n      this.$el.removeEventListener('mouseout', this.onHoverOut);\n    },\n    setHiddingMode: function setHiddingMode() {\n      var _this3 = this;\n\n      this.isShowed = false;\n      this.$el.removeEventListener('mouseover', this.onHover);\n      this.closeTimeout = setTimeout(function () {\n        return _this3.close();\n      }, 1500);\n      this.$el.addEventListener('mouseover', this.restoreHiddingToast);\n    },\n    restoreHiddingToast: function restoreHiddingToast() {\n      clearTimeout(this.closeTimeout);\n      this.display();\n    },\n    onHover: function onHover() {\n      this.$el.removeEventListener('mouseover', this.onHover);\n      clearTimeout(this.hideTimeout);\n      this.$el.addEventListener('mouseout', this.onHoverOut);\n    },\n    onHoverOut: function onHoverOut() {\n      this.$el.removeEventListener('mouseout', this.onHoverOut);\n      this.setAutohide();\n    },\n    setAutohide: function setAutohide() {\n      var _this4 = this;\n\n      this.hideTimeout = setTimeout(function () {\n        _this4.setHiddingMode();\n      }, this.props.autohide);\n      this.$el.addEventListener('mouseover', this.onHover);\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/toast/CToast.vue?vue&type=script&lang=js&\n /* harmony default export */ var toast_CToastvue_type_script_lang_js_ = (CToastvue_type_script_lang_js_); \n// EXTERNAL MODULE: ./src/components/toast/CToast.vue?vue&type=style&index=0&id=7208152f&scoped=true&lang=css&\nvar CToastvue_type_style_index_0_id_7208152f_scoped_true_lang_css_ = __webpack_require__(\"38c0\");\n\n// CONCATENATED MODULE: ./src/components/toast/CToast.vue\n\n\n\n\n\n\n/* normalize component */\n\nvar CToast_component = Object(componentNormalizer[\"a\" /* default */])(\n  toast_CToastvue_type_script_lang_js_,\n  CToastvue_type_template_id_7208152f_scoped_true_render,\n  CToastvue_type_template_id_7208152f_scoped_true_staticRenderFns,\n  false,\n  null,\n  \"7208152f\",\n  null\n  \n)\n\n/* harmony default export */ var CToast = (CToast_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/toast/CToaster.vue?vue&type=template&id=0dc99056&\nvar CToastervue_type_template_id_0dc99056_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.toasterClasses},[_vm._t(\"default\")],2)}\nvar CToastervue_type_template_id_0dc99056_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/toast/CToaster.vue?vue&type=script&lang=js&\nfunction CToastervue_type_script_lang_js_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction CToastervue_type_script_lang_js_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { CToastervue_type_script_lang_js_ownKeys(Object(source), true).forEach(function (key) { CToastervue_type_script_lang_js_defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { CToastervue_type_script_lang_js_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction CToastervue_type_script_lang_js_defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CToastervue_type_script_lang_js_ = ({\n  name: 'CToaster',\n  provide: function provide() {\n    var _this = this;\n\n    var toaster = {};\n    Object.defineProperty(toaster, 'props', {\n      get: function get() {\n        return _this._props;\n      }\n    });\n    return {\n      toaster: toaster\n    };\n  },\n  props: CToastervue_type_script_lang_js_objectSpread(CToastervue_type_script_lang_js_objectSpread({}, toast_props_props), {}, {\n    position: {\n      type: String,\n      default: 'top-right',\n      validator: function validator(position) {\n        return ['', 'static', 'top-right', 'top-left', 'top-center', 'top-full', 'bottom-right', 'bottom-left', 'bottom-center', 'bottom-full'].includes(position);\n      }\n    }\n  }),\n  computed: {\n    toasterClasses: function toasterClasses() {\n      var hasFixedPosition = this.position && this.position !== 'static';\n      return ['toaster', CToastervue_type_script_lang_js_defineProperty({}, \"toaster-\".concat(this.position), hasFixedPosition)];\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/toast/CToaster.vue?vue&type=script&lang=js&\n /* harmony default export */ var toast_CToastervue_type_script_lang_js_ = (CToastervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/toast/CToaster.vue\n\n\n\n\n\n/* normalize component */\n\nvar CToaster_component = Object(componentNormalizer[\"a\" /* default */])(\n  toast_CToastervue_type_script_lang_js_,\n  CToastervue_type_template_id_0dc99056_render,\n  CToastervue_type_template_id_0dc99056_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CToaster = (CToaster_component.exports);\n// CONCATENATED MODULE: ./src/components/toast/index.js\n\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/toggler/CToggler.vue?vue&type=script&lang=js&\n\n/* harmony default export */ var CTogglervue_type_script_lang_js_ = ({\n  name: 'CToggler',\n  functional: true,\n  props: {\n    tag: {\n      type: String,\n      default: 'button'\n    },\n    inHeader: Boolean,\n    inNavbar: Boolean\n  },\n  render: function render(h, _ref) {\n    var data = _ref.data,\n        props = _ref.props,\n        slots = _ref.slots;\n    var attrs = props.tag === 'button' ? {\n      type: 'button'\n    } : null;\n    var type = props.inNavbar ? 'navbar' : props.inHeader ? 'c-header' : null;\n    var staticClass = type ? \"\".concat(type, \"-toggler\") : '';\n    var iconClass = type ? \"\".concat(staticClass, \"-icon\") : '';\n    return h(props.tag, a({\n      staticClass: staticClass,\n      attrs: attrs\n    }, data), [slots().default || h('span', {\n      class: iconClass\n    })]);\n  }\n});\n// CONCATENATED MODULE: ./src/components/toggler/CToggler.vue?vue&type=script&lang=js&\n /* harmony default export */ var toggler_CTogglervue_type_script_lang_js_ = (CTogglervue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/toggler/CToggler.vue\nvar CToggler_render, CToggler_staticRenderFns\n\n\n\n\n/* normalize component */\n\nvar CToggler_component = Object(componentNormalizer[\"a\" /* default */])(\n  toggler_CTogglervue_type_script_lang_js_,\n  CToggler_render,\n  CToggler_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CToggler = (CToggler_component.exports);\n// CONCATENATED MODULE: ./src/components/toggler/index.js\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/widgets/CWidgetProgress.vue?vue&type=template&id=503c0761&\nvar CWidgetProgressvue_type_template_id_503c0761_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.inverse ? (\"card text-white bg-\" + _vm.color) : 'card'},[_c('div',{staticClass:\"card-body\"},[(_vm.header)?_c('div',{staticClass:\"h4 m-0\"},[_vm._v(_vm._s(_vm.header))]):_vm._e(),(_vm.text)?_c('div',[_vm._v(_vm._s(_vm.text))]):_vm._e(),_vm._t(\"default\",[_c('CProgress',{staticClass:\"progress-xs my-3 mb-0\",class:{ 'progress-white' : _vm.inverse },attrs:{\"color\":!_vm.inverse ? _vm.color : '',\"value\":_vm.value}})]),(_vm.footer)?_c('small',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(_vm.footer)+\" \")]):_vm._e()],2)])}\nvar CWidgetProgressvue_type_template_id_503c0761_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/widgets/CWidgetProgress.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CWidgetProgressvue_type_script_lang_js_ = ({\n  name: 'CWidgetProgress',\n  components: {\n    CProgress: CProgress\n  },\n  props: {\n    header: String,\n    text: String,\n    footer: String,\n    color: String,\n    inverse: Boolean,\n    value: {\n      type: Number,\n      default: 25\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/widgets/CWidgetProgress.vue?vue&type=script&lang=js&\n /* harmony default export */ var widgets_CWidgetProgressvue_type_script_lang_js_ = (CWidgetProgressvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/widgets/CWidgetProgress.vue\n\n\n\n\n\n/* normalize component */\n\nvar CWidgetProgress_component = Object(componentNormalizer[\"a\" /* default */])(\n  widgets_CWidgetProgressvue_type_script_lang_js_,\n  CWidgetProgressvue_type_template_id_503c0761_render,\n  CWidgetProgressvue_type_template_id_503c0761_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CWidgetProgress = (CWidgetProgress_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/widgets/CWidgetIcon.vue?vue&type=template&id=0a72cfde&\nvar CWidgetIconvue_type_template_id_0a72cfde_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body d-flex align-items-center\",class:_vm.iconPadding ? 'p-3' : 'p-0'},[_c('div',{staticClass:\"mr-3 text-white\",class:[(\"bg-\" + _vm.color), _vm.iconPadding ? 'p-3' : 'p-4']},[_vm._t(\"default\")],2),_c('div',[(_vm.header)?_c('div',{class:(\"text-value text-\" + _vm.color)},[_vm._v(\" \"+_vm._s(_vm.header)+\" \")]):_vm._e(),(_vm.text)?_c('div',{staticClass:\"text-muted text-uppercase font-weight-bold small\"},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")]):_vm._e()])]),_vm._t(\"footer\")],2)}\nvar CWidgetIconvue_type_template_id_0a72cfde_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/widgets/CWidgetIcon.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CWidgetIconvue_type_script_lang_js_ = ({\n  name: 'CWidgetIcon',\n  props: {\n    header: String,\n    text: String,\n    iconPadding: {\n      type: Boolean,\n      default: true\n    },\n    color: String\n  }\n});\n// CONCATENATED MODULE: ./src/components/widgets/CWidgetIcon.vue?vue&type=script&lang=js&\n /* harmony default export */ var widgets_CWidgetIconvue_type_script_lang_js_ = (CWidgetIconvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/widgets/CWidgetIcon.vue\n\n\n\n\n\n/* normalize component */\n\nvar CWidgetIcon_component = Object(componentNormalizer[\"a\" /* default */])(\n  widgets_CWidgetIconvue_type_script_lang_js_,\n  CWidgetIconvue_type_template_id_0a72cfde_render,\n  CWidgetIconvue_type_template_id_0a72cfde_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CWidgetIcon = (CWidgetIcon_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/widgets/CWidgetBrand.vue?vue&type=template&id=42ecf084&\nvar CWidgetBrandvue_type_template_id_42ecf084_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header content-center text-white p-0\",class:[(\"bg-\" + _vm.color), _vm.addHeaderClasses]},[_vm._t(\"default\")],2),_vm._t(\"body\",[_c('div',{staticClass:\"card-body row text-center\"},[_c('div',{staticClass:\"col\"},[(_vm.rightHeader)?_c('div',{staticClass:\"text-value-lg\"},[_vm._v(\" \"+_vm._s(_vm.rightHeader)+\" \")]):_vm._e(),(_vm.rightFooter)?_c('div',{staticClass:\"text-uppercase text-muted small\"},[_vm._v(\" \"+_vm._s(_vm.rightFooter)+\" \")]):_vm._e()]),_c('div',{staticClass:\"c-vr\"}),_c('div',{staticClass:\"col\"},[(_vm.leftHeader)?_c('div',{staticClass:\"text-value-lg\"},[_vm._v(\" \"+_vm._s(_vm.leftHeader)+\" \")]):_vm._e(),(_vm.leftFooter)?_c('div',{staticClass:\"text-uppercase text-muted small\"},[_vm._v(\" \"+_vm._s(_vm.leftFooter)+\" \")]):_vm._e()])])])],2)}\nvar CWidgetBrandvue_type_template_id_42ecf084_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/widgets/CWidgetBrand.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CWidgetBrandvue_type_script_lang_js_ = ({\n  name: 'CWidgetBrand',\n  props: {\n    color: String,\n    rightHeader: String,\n    rightFooter: String,\n    leftHeader: String,\n    leftFooter: String,\n    addHeaderClasses: [String, Array, Object]\n  }\n});\n// CONCATENATED MODULE: ./src/components/widgets/CWidgetBrand.vue?vue&type=script&lang=js&\n /* harmony default export */ var widgets_CWidgetBrandvue_type_script_lang_js_ = (CWidgetBrandvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/widgets/CWidgetBrand.vue\n\n\n\n\n\n/* normalize component */\n\nvar CWidgetBrand_component = Object(componentNormalizer[\"a\" /* default */])(\n  widgets_CWidgetBrandvue_type_script_lang_js_,\n  CWidgetBrandvue_type_template_id_42ecf084_render,\n  CWidgetBrandvue_type_template_id_42ecf084_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CWidgetBrand = (CWidgetBrand_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/widgets/CWidgetProgressIcon.vue?vue&type=template&id=6b95ba9b&\nvar CWidgetProgressIconvue_type_template_id_6b95ba9b_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.inverse ? (\"card text-white bg-\" + _vm.color) : 'card'},[_c('div',{staticClass:\"card-body\"},[(_vm.$slots.default)?_c('div',{staticClass:\"h1 text-muted text-right mb-4\"},[_vm._t(\"default\")],2):_vm._e(),(_vm.header)?_c('div',{staticClass:\"h4 mb-0\"},[_vm._v(_vm._s(_vm.header))]):_vm._e(),(_vm.text)?_c('small',{staticClass:\"text-muted text-uppercase font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")]):_vm._e(),_vm._t(\"progress\",[_c('CProgress',{staticClass:\"progress-xs my-3 mb-0\",class:{ 'progress-white' : _vm.inverse },attrs:{\"color\":!_vm.inverse ? _vm.color : '',\"value\":_vm.value}})])],2)])}\nvar CWidgetProgressIconvue_type_template_id_6b95ba9b_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/widgets/CWidgetProgressIcon.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ var CWidgetProgressIconvue_type_script_lang_js_ = ({\n  name: 'CWidgetProgressIcon',\n  components: {\n    CProgress: CProgress\n  },\n  props: {\n    header: String,\n    text: String,\n    color: String,\n    inverse: Boolean,\n    value: {\n      type: Number,\n      default: 25\n    }\n  }\n});\n// CONCATENATED MODULE: ./src/components/widgets/CWidgetProgressIcon.vue?vue&type=script&lang=js&\n /* harmony default export */ var widgets_CWidgetProgressIconvue_type_script_lang_js_ = (CWidgetProgressIconvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/widgets/CWidgetProgressIcon.vue\n\n\n\n\n\n/* normalize component */\n\nvar CWidgetProgressIcon_component = Object(componentNormalizer[\"a\" /* default */])(\n  widgets_CWidgetProgressIconvue_type_script_lang_js_,\n  CWidgetProgressIconvue_type_template_id_6b95ba9b_render,\n  CWidgetProgressIconvue_type_template_id_6b95ba9b_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CWidgetProgressIcon = (CWidgetProgressIcon_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/widgets/CWidgetDropdown.vue?vue&type=template&id=46a617c6&\nvar CWidgetDropdownvue_type_template_id_46a617c6_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\",class:(\"bg-\" + _vm.color + \" text-white\")},[_c('div',{staticClass:\"card-body pb-0 d-flex justify-content-between\"},[_c('div',[(_vm.header)?_c('div',{staticClass:\"text-value-lg\"},[_vm._v(_vm._s(_vm.header))]):_vm._e(),(_vm.text)?_c('div',[_vm._v(_vm._s(_vm.text))]):_vm._e()]),_vm._t(\"default\")],2),_vm._t(\"footer\")],2)}\nvar CWidgetDropdownvue_type_template_id_46a617c6_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/widgets/CWidgetDropdown.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CWidgetDropdownvue_type_script_lang_js_ = ({\n  name: 'CWidgetDropdown',\n  props: {\n    color: String,\n    header: String,\n    text: String\n  }\n});\n// CONCATENATED MODULE: ./src/components/widgets/CWidgetDropdown.vue?vue&type=script&lang=js&\n /* harmony default export */ var widgets_CWidgetDropdownvue_type_script_lang_js_ = (CWidgetDropdownvue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/widgets/CWidgetDropdown.vue\n\n\n\n\n\n/* normalize component */\n\nvar CWidgetDropdown_component = Object(componentNormalizer[\"a\" /* default */])(\n  widgets_CWidgetDropdownvue_type_script_lang_js_,\n  CWidgetDropdownvue_type_template_id_46a617c6_render,\n  CWidgetDropdownvue_type_template_id_46a617c6_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CWidgetDropdown = (CWidgetDropdown_component.exports);\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{\"cacheDirectory\":\"node_modules/.cache/vue-loader\",\"cacheIdentifier\":\"487507b9-vue-loader-template\"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/widgets/CWidgetSimple.vue?vue&type=template&id=2a54f662&\nvar CWidgetSimplevue_type_template_id_2a54f662_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body text-center\"},[(_vm.header)?_c('div',{staticClass:\"text-muted small text-uppercase font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.header)+\" \")]):_vm._e(),(_vm.text)?_c('div',{staticClass:\"h2 py-3\"},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")]):_vm._e(),_vm._t(\"default\")],2)])}\nvar CWidgetSimplevue_type_template_id_2a54f662_staticRenderFns = []\n\n\n// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/widgets/CWidgetSimple.vue?vue&type=script&lang=js&\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n/* harmony default export */ var CWidgetSimplevue_type_script_lang_js_ = ({\n  name: 'CWidgetSimple',\n  props: {\n    header: String,\n    text: String\n  }\n});\n// CONCATENATED MODULE: ./src/components/widgets/CWidgetSimple.vue?vue&type=script&lang=js&\n /* harmony default export */ var widgets_CWidgetSimplevue_type_script_lang_js_ = (CWidgetSimplevue_type_script_lang_js_); \n// CONCATENATED MODULE: ./src/components/widgets/CWidgetSimple.vue\n\n\n\n\n\n/* normalize component */\n\nvar CWidgetSimple_component = Object(componentNormalizer[\"a\" /* default */])(\n  widgets_CWidgetSimplevue_type_script_lang_js_,\n  CWidgetSimplevue_type_template_id_2a54f662_render,\n  CWidgetSimplevue_type_template_id_2a54f662_staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* harmony default export */ var CWidgetSimple = (CWidgetSimple_component.exports);\n// CONCATENATED MODULE: ./src/components/widgets/index.js\n\n\n\n\n\n\n\n// CONCATENATED MODULE: ./src/components/index.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// CONCATENATED MODULE: ./src/directives/CEmitRootEvent.js\n/* harmony default export */ var CEmitRootEvent = ({\n  name: 'c-emit-root-event',\n  bind: function bind(el, binding, node) {\n    if (!binding.arg) {\n      return;\n    }\n\n    var customListeners = Object.keys(binding.modifiers);\n    var listeners = customListeners.length ? customListeners : ['click'];\n    listeners.map(function (listener) {\n      el.addEventListener(listener, function () {\n        node.context.$root.$emit(binding.arg, binding.value);\n      });\n    });\n  }\n});\n// EXTERNAL MODULE: ./node_modules/popper.js/dist/esm/popper.js\nvar esm_popper = __webpack_require__(\"f0bd\");\n\n// CONCATENATED MODULE: ./node_modules/tooltip.js/dist/esm/tooltip.js\n/**!\n * @fileOverview Kickass library to create and place poppers near their reference elements.\n * @version 1.3.3\n * @license\n * Copyright (c) 2016 Federico Zivolo and contributors\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n\n/**\n * Check if the given variable is a function\n * @method\n * @memberof Popper.Utils\n * @argument {Any} functionToCheck - variable to check\n * @returns {Boolean} answer to: is a function?\n */\nfunction isFunction(functionToCheck) {\n  var getType = {};\n  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n}\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar tooltip_DEFAULT_OPTIONS = {\n  container: false,\n  delay: 0,\n  html: false,\n  placement: 'top',\n  title: '',\n  template: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\n  trigger: 'hover focus',\n  offset: 0,\n  arrowSelector: '.tooltip-arrow, .tooltip__arrow',\n  innerSelector: '.tooltip-inner, .tooltip__inner'\n};\n\nvar tooltip_Tooltip = function () {\n  /**\n   * Create a new Tooltip.js instance\n   * @class Tooltip\n   * @param {HTMLElement} reference - The DOM node used as reference of the tooltip (it can be a jQuery element).\n   * @param {Object} options\n   * @param {String} options.placement='top'\n   *      Placement of the popper accepted values: `top(-start, -end), right(-start, -end), bottom(-start, -end),\n   *      left(-start, -end)`\n   * @param {String} [options.arrowSelector='.tooltip-arrow, .tooltip__arrow'] - className used to locate the DOM arrow element in the tooltip.\n   * @param {String} [options.innerSelector='.tooltip-inner, .tooltip__inner'] - className used to locate the DOM inner element in the tooltip.\n   * @param {HTMLElement|String|false} options.container=false - Append the tooltip to a specific element.\n   * @param {Number|Object} options.delay=0\n   *      Delay showing and hiding the tooltip (ms) - does not apply to manual trigger type.\n   *      If a number is supplied, delay is applied to both hide/show.\n   *      Object structure is: `{ show: 500, hide: 100 }`\n   * @param {Boolean} options.html=false - Insert HTML into the tooltip. If false, the content will inserted with `textContent`.\n   * @param {String} [options.template='<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>']\n   *      Base HTML to used when creating the tooltip.\n   *      The tooltip's `title` will be injected into the `.tooltip-inner` or `.tooltip__inner`.\n   *      `.tooltip-arrow` or `.tooltip__arrow` will become the tooltip's arrow.\n   *      The outermost wrapper element should have the `.tooltip` class.\n   * @param {String|HTMLElement|TitleFunction} options.title='' - Default title value if `title` attribute isn't present.\n   * @param {String} [options.trigger='hover focus']\n   *      How tooltip is triggered - click, hover, focus, manual.\n   *      You may pass multiple triggers; separate them with a space. `manual` cannot be combined with any other trigger.\n   * @param {Boolean} options.closeOnClickOutside=false - Close a popper on click outside of the popper and reference element. This has effect only when options.trigger is 'click'.\n   * @param {String|HTMLElement} options.boundariesElement\n   *      The element used as boundaries for the tooltip. For more information refer to Popper.js'\n   *      [boundariesElement docs](https://popper.js.org/popper-documentation.html)\n   * @param {Number|String} options.offset=0 - Offset of the tooltip relative to its reference. For more information refer to Popper.js'\n   *      [offset docs](https://popper.js.org/popper-documentation.html)\n   * @param {Object} options.popperOptions={} - Popper options, will be passed directly to popper instance. For more information refer to Popper.js'\n   *      [options docs](https://popper.js.org/popper-documentation.html)\n   * @return {Object} instance - The generated tooltip instance\n   */\n  function Tooltip(reference, options) {\n    classCallCheck(this, Tooltip);\n\n    _initialiseProps.call(this);\n\n    // apply user options over default ones\n    options = _extends({}, tooltip_DEFAULT_OPTIONS, options);\n\n    reference.jquery && (reference = reference[0]);\n\n    // cache reference and options\n    this.reference = reference;\n    this.options = options;\n\n    // get events list\n    var events = typeof options.trigger === 'string' ? options.trigger.split(' ').filter(function (trigger) {\n      return ['click', 'hover', 'focus'].indexOf(trigger) !== -1;\n    }) : [];\n\n    // set initial state\n    this._isOpen = false;\n    this._popperOptions = {};\n\n    // set event listeners\n    this._setEventListeners(reference, events, options);\n  }\n\n  //\n  // Public methods\n  //\n\n  /**\n   * Reveals an element's tooltip. This is considered a \"manual\" triggering of the tooltip.\n   * Tooltips with zero-length titles are never displayed.\n   * @method Tooltip#show\n   * @memberof Tooltip\n   */\n\n\n  /**\n   * Hides an element’s tooltip. This is considered a “manual” triggering of the tooltip.\n   * @method Tooltip#hide\n   * @memberof Tooltip\n   */\n\n\n  /**\n   * Hides and destroys an element’s tooltip.\n   * @method Tooltip#dispose\n   * @memberof Tooltip\n   */\n\n\n  /**\n   * Toggles an element’s tooltip. This is considered a “manual” triggering of the tooltip.\n   * @method Tooltip#toggle\n   * @memberof Tooltip\n   */\n\n\n  /**\n   * Updates the tooltip's title content\n   * @method Tooltip#updateTitleContent\n   * @memberof Tooltip\n   * @param {String|HTMLElement} title - The new content to use for the title\n   */\n\n\n  //\n  // Private methods\n  //\n\n  createClass(Tooltip, [{\n    key: '_create',\n\n\n    /**\n     * Creates a new tooltip node\n     * @memberof Tooltip\n     * @private\n     * @param {HTMLElement} reference\n     * @param {String} template\n     * @param {String|HTMLElement|TitleFunction} title\n     * @param {Boolean} allowHtml\n     * @return {HTMLElement} tooltipNode\n     */\n    value: function _create(reference, template, title, allowHtml) {\n      // create tooltip element\n      var tooltipGenerator = window.document.createElement('div');\n      tooltipGenerator.innerHTML = template.trim();\n      var tooltipNode = tooltipGenerator.childNodes[0];\n\n      // add unique ID to our tooltip (needed for accessibility reasons)\n      tooltipNode.id = 'tooltip_' + Math.random().toString(36).substr(2, 10);\n\n      // set initial `aria-hidden` state to `false` (it's visible!)\n      tooltipNode.setAttribute('aria-hidden', 'false');\n\n      // add title to tooltip\n      var titleNode = tooltipGenerator.querySelector(this.options.innerSelector);\n      this._addTitleContent(reference, title, allowHtml, titleNode);\n\n      // return the generated tooltip node\n      return tooltipNode;\n    }\n  }, {\n    key: '_addTitleContent',\n    value: function _addTitleContent(reference, title, allowHtml, titleNode) {\n      if (title.nodeType === 1 || title.nodeType === 11) {\n        // if title is a element node or document fragment, append it only if allowHtml is true\n        allowHtml && titleNode.appendChild(title);\n      } else if (isFunction(title)) {\n        // Recursively call ourself so that the return value of the function gets handled appropriately - either\n        // as a dom node, a string, or even as another function.\n        this._addTitleContent(reference, title.call(reference), allowHtml, titleNode);\n      } else {\n        // if it's just a simple text, set textContent or innerHtml depending by `allowHtml` value\n        allowHtml ? titleNode.innerHTML = title : titleNode.textContent = title;\n      }\n    }\n  }, {\n    key: '_show',\n    value: function _show(reference, options) {\n      // don't show if it's already visible\n      // or if it's not being showed\n      if (this._isOpen && !this._isOpening) {\n        return this;\n      }\n      this._isOpen = true;\n\n      // if the tooltipNode already exists, just show it\n      if (this._tooltipNode) {\n        this._tooltipNode.style.visibility = 'visible';\n        this._tooltipNode.setAttribute('aria-hidden', 'false');\n        this.popperInstance.update();\n        return this;\n      }\n\n      // get title\n      var title = reference.getAttribute('title') || options.title;\n\n      // don't show tooltip if no title is defined\n      if (!title) {\n        return this;\n      }\n\n      // create tooltip node\n      var tooltipNode = this._create(reference, options.template, title, options.html);\n\n      // Add `aria-describedby` to our reference element for accessibility reasons\n      reference.setAttribute('aria-describedby', tooltipNode.id);\n\n      // append tooltip to container\n      var container = this._findContainer(options.container, reference);\n\n      this._append(tooltipNode, container);\n\n      this._popperOptions = _extends({}, options.popperOptions, {\n        placement: options.placement\n      });\n\n      this._popperOptions.modifiers = _extends({}, this._popperOptions.modifiers, {\n        arrow: _extends({}, this._popperOptions.modifiers && this._popperOptions.modifiers.arrow, {\n          element: options.arrowSelector\n        }),\n        offset: _extends({}, this._popperOptions.modifiers && this._popperOptions.modifiers.offset, {\n          offset: options.offset || this._popperOptions.modifiers && this._popperOptions.modifiers.offset && this._popperOptions.modifiers.offset.offset || options.offset\n        })\n      });\n\n      if (options.boundariesElement) {\n        this._popperOptions.modifiers.preventOverflow = {\n          boundariesElement: options.boundariesElement\n        };\n      }\n\n      this.popperInstance = new esm_popper[\"a\" /* default */](reference, tooltipNode, this._popperOptions);\n\n      this._tooltipNode = tooltipNode;\n\n      return this;\n    }\n  }, {\n    key: '_hide',\n    value: function _hide() /*reference, options*/{\n      // don't hide if it's already hidden\n      if (!this._isOpen) {\n        return this;\n      }\n\n      this._isOpen = false;\n\n      // hide tooltipNode\n      this._tooltipNode.style.visibility = 'hidden';\n      this._tooltipNode.setAttribute('aria-hidden', 'true');\n\n      return this;\n    }\n  }, {\n    key: '_dispose',\n    value: function _dispose() {\n      var _this = this;\n\n      // remove event listeners first to prevent any unexpected behaviour\n      this._events.forEach(function (_ref) {\n        var func = _ref.func,\n            event = _ref.event;\n\n        _this.reference.removeEventListener(event, func);\n      });\n      this._events = [];\n\n      if (this._tooltipNode) {\n        this._hide();\n\n        // destroy instance\n        this.popperInstance.destroy();\n\n        // destroy tooltipNode if removeOnDestroy is not set, as popperInstance.destroy() already removes the element\n        if (!this.popperInstance.options.removeOnDestroy) {\n          this._tooltipNode.parentNode.removeChild(this._tooltipNode);\n          this._tooltipNode = null;\n        }\n      }\n      return this;\n    }\n  }, {\n    key: '_findContainer',\n    value: function _findContainer(container, reference) {\n      // if container is a query, get the relative element\n      if (typeof container === 'string') {\n        container = window.document.querySelector(container);\n      } else if (container === false) {\n        // if container is `false`, set it to reference parent\n        container = reference.parentNode;\n      }\n      return container;\n    }\n\n    /**\n     * Append tooltip to container\n     * @memberof Tooltip\n     * @private\n     * @param {HTMLElement} tooltipNode\n     * @param {HTMLElement|String|false} container\n     */\n\n  }, {\n    key: '_append',\n    value: function _append(tooltipNode, container) {\n      container.appendChild(tooltipNode);\n    }\n  }, {\n    key: '_setEventListeners',\n    value: function _setEventListeners(reference, events, options) {\n      var _this2 = this;\n\n      var directEvents = [];\n      var oppositeEvents = [];\n\n      events.forEach(function (event) {\n        switch (event) {\n          case 'hover':\n            directEvents.push('mouseenter');\n            oppositeEvents.push('mouseleave');\n            break;\n          case 'focus':\n            directEvents.push('focus');\n            oppositeEvents.push('blur');\n            break;\n          case 'click':\n            directEvents.push('click');\n            oppositeEvents.push('click');\n            break;\n        }\n      });\n\n      // schedule show tooltip\n      directEvents.forEach(function (event) {\n        var func = function func(evt) {\n          if (_this2._isOpening === true) {\n            return;\n          }\n          evt.usedByTooltip = true;\n          _this2._scheduleShow(reference, options.delay, options, evt);\n        };\n        _this2._events.push({ event: event, func: func });\n        reference.addEventListener(event, func);\n      });\n\n      // schedule hide tooltip\n      oppositeEvents.forEach(function (event) {\n        var func = function func(evt) {\n          if (evt.usedByTooltip === true) {\n            return;\n          }\n          _this2._scheduleHide(reference, options.delay, options, evt);\n        };\n        _this2._events.push({ event: event, func: func });\n        reference.addEventListener(event, func);\n        if (event === 'click' && options.closeOnClickOutside) {\n          document.addEventListener('mousedown', function (e) {\n            if (!_this2._isOpening) {\n              return;\n            }\n            var popper = _this2.popperInstance.popper;\n            if (reference.contains(e.target) || popper.contains(e.target)) {\n              return;\n            }\n            func(e);\n          }, true);\n        }\n      });\n    }\n  }, {\n    key: '_scheduleShow',\n    value: function _scheduleShow(reference, delay, options /*, evt */) {\n      var _this3 = this;\n\n      this._isOpening = true;\n      // defaults to 0\n      var computedDelay = delay && delay.show || delay || 0;\n      this._showTimeout = window.setTimeout(function () {\n        return _this3._show(reference, options);\n      }, computedDelay);\n    }\n  }, {\n    key: '_scheduleHide',\n    value: function _scheduleHide(reference, delay, options, evt) {\n      var _this4 = this;\n\n      this._isOpening = false;\n      // defaults to 0\n      var computedDelay = delay && delay.hide || delay || 0;\n      window.clearTimeout(this._showTimeout);\n      window.setTimeout(function () {\n        if (_this4._isOpen === false) {\n          return;\n        }\n        if (!document.body.contains(_this4._tooltipNode)) {\n          return;\n        }\n\n        // if we are hiding because of a mouseleave, we must check that the new\n        // reference isn't the tooltip, because in this case we don't want to hide it\n        if (evt.type === 'mouseleave') {\n          var isSet = _this4._setTooltipNodeEvent(evt, reference, delay, options);\n\n          // if we set the new event, don't hide the tooltip yet\n          // the new event will take care to hide it if necessary\n          if (isSet) {\n            return;\n          }\n        }\n\n        _this4._hide(reference, options);\n      }, computedDelay);\n    }\n  }, {\n    key: '_updateTitleContent',\n    value: function _updateTitleContent(title) {\n      if (typeof this._tooltipNode === 'undefined') {\n        if (typeof this.options.title !== 'undefined') {\n          this.options.title = title;\n        }\n        return;\n      }\n      var titleNode = this._tooltipNode.querySelector(this.options.innerSelector);\n      this._clearTitleContent(titleNode, this.options.html, this.reference.getAttribute('title') || this.options.title);\n      this._addTitleContent(this.reference, title, this.options.html, titleNode);\n      this.options.title = title;\n      this.popperInstance.update();\n    }\n  }, {\n    key: '_clearTitleContent',\n    value: function _clearTitleContent(titleNode, allowHtml, lastTitle) {\n      if (lastTitle.nodeType === 1 || lastTitle.nodeType === 11) {\n        allowHtml && titleNode.removeChild(lastTitle);\n      } else {\n        allowHtml ? titleNode.innerHTML = '' : titleNode.textContent = '';\n      }\n    }\n  }]);\n  return Tooltip;\n}();\n\n/**\n * Title function, its context is the Tooltip instance.\n * @memberof Tooltip\n * @callback TitleFunction\n * @return {String} placement - The desired title.\n */\n\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.show = function () {\n    return _this5._show(_this5.reference, _this5.options);\n  };\n\n  this.hide = function () {\n    return _this5._hide();\n  };\n\n  this.dispose = function () {\n    return _this5._dispose();\n  };\n\n  this.toggle = function () {\n    if (_this5._isOpen) {\n      return _this5.hide();\n    } else {\n      return _this5.show();\n    }\n  };\n\n  this.updateTitleContent = function (title) {\n    return _this5._updateTitleContent(title);\n  };\n\n  this._events = [];\n\n  this._setTooltipNodeEvent = function (evt, reference, delay, options) {\n    var relatedreference = evt.relatedreference || evt.toElement || evt.relatedTarget;\n\n    var callback = function callback(evt2) {\n      var relatedreference2 = evt2.relatedreference || evt2.toElement || evt2.relatedTarget;\n\n      // Remove event listener after call\n      _this5._tooltipNode.removeEventListener(evt.type, callback);\n\n      // If the new reference is not the reference element\n      if (!reference.contains(relatedreference2)) {\n        // Schedule to hide tooltip\n        _this5._scheduleHide(reference, options.delay, options, evt2);\n      }\n    };\n\n    if (_this5._tooltipNode.contains(relatedreference)) {\n      // listen to mouseleave on the tooltip element to be able to hide the tooltip\n      _this5._tooltipNode.addEventListener(evt.type, callback);\n      return true;\n    }\n\n    return false;\n  };\n};\n\n/* harmony default export */ var esm_tooltip = (tooltip_Tooltip);\n//# sourceMappingURL=tooltip.js.map\n\n// EXTERNAL MODULE: ./src/directives/old-popover.css\nvar old_popover = __webpack_require__(\"b0d3\");\n\n// CONCATENATED MODULE: ./src/directives/CPopover.js\n\n\n/* harmony default export */ var CPopover = ({\n  name: 'c-popover',\n  tooltip: null,\n  inserted: function inserted(el, binding) {\n    var tooltip = new esm_tooltip(el, binding.def.getTooltipConfig(binding));\n    binding.def._tooltip = tooltip;\n\n    if (binding.value.active) {\n      tooltip.show();\n    }\n  },\n  unbind: function unbind(el, binding) {\n    var tooltip = binding.def._tooltip;\n\n    if (tooltip) {\n      tooltip.dispose();\n      tooltip = null;\n    }\n  },\n  getTooltipConfig: function getTooltipConfig(binding) {\n    var props = binding.value;\n    var title = props.content || 'content'; // const modifiersTriggers = String(Object.keys(binding.modifiers)).replace(',',' ')\n\n    var closeOnClickOutside = props.closeOnClickOutside === false ? false : true;\n    var html = props.html === false ? false : true;\n    var popperOptions = props.popperOptions || {\n      modifiers: {\n        preventOverflow: {\n          boundariesElement: 'offsetParent'\n        }\n      }\n    };\n    return {\n      title: title,\n      trigger: 'click',\n      html: html,\n      placement: props.placement || 'right',\n      delay: props.delay || 0,\n      offset: props.offset || 0,\n      arrowSelector: '.arrow',\n      innerSelector: '.popover-old-body',\n      template: binding.def.getTemplate(props.header),\n      boundariesElement: document.getElementById(props.boundaries) || props.boundaries,\n      container: props.appendToBody ? document.body : false,\n      closeOnClickOutside: closeOnClickOutside,\n      popperOptions: popperOptions\n    };\n  },\n  getTemplate: function getTemplate(header) {\n    return \"<div class=\\\"popover-old bs-popover-old-auto fade show\\\" role=\\\"tooltip\\\">\\n              <div class=\\\"arrow\\\"></div>\\n              <h3 class=\\\"popover-old-header\\\">\".concat(header || 'header', \"</h3>\\n              <div class=\\\"popover-old-body\\\"></div>\\n            </div>\");\n  }\n});\n// EXTERNAL MODULE: ./src/directives/old-tooltip.css\nvar old_tooltip = __webpack_require__(\"415c\");\n\n// CONCATENATED MODULE: ./src/directives/CTooltip.js\n\n\n/* harmony default export */ var CTooltip = ({\n  name: 'c-tooltip',\n  inserted: function inserted(el, binding) {\n    binding.def._tooltip = new esm_tooltip(el, binding.def.getTooltipConfig(binding));\n\n    if (binding.value.active) {\n      binding.def._tooltip.show();\n    }\n  },\n  unbind: function unbind(el, binding) {\n    var tooltip = binding.def._tooltip;\n\n    if (tooltip) {\n      tooltip.dispose();\n      tooltip = null;\n    }\n  },\n  getTooltipConfig: function getTooltipConfig(binding) {\n    var props = binding.value;\n    var title = props.content || props;\n    var html = props.html === false ? false : true; // const modifiersTriggers = String(Object.keys(binding.modifiers)).replace(',',' ')\n\n    var closeOnClickOutside = props.closeOnClickOutside === false ? false : true;\n    var popperOptions = props.popperOptions || {\n      modifiers: {\n        preventOverflow: {\n          boundariesElement: 'offsetParent'\n        }\n      }\n    };\n    return {\n      title: title,\n      trigger: 'hover',\n      html: html,\n      placement: props.placement || 'top',\n      delay: props.delay || 0,\n      offset: props.offset || 0,\n      arrowSelector: '.arrow',\n      innerSelector: '.tooltip-old-inner',\n      template: binding.def.getTemplate(),\n      boundariesElement: document.getElementById(props.boundaries) || props.boundaries,\n      container: props.appendToBody ? document.body : false,\n      closeOnClickOutside: closeOnClickOutside,\n      popperOptions: popperOptions\n    };\n  },\n  getTemplate: function getTemplate() {\n    return \"<div class=\\\"tooltip-old bs-tooltip-old-auto fade show\\\" role=\\\"tooltip\\\">\\n              <div class=\\\"arrow\\\"></div>\\n              <div class=\\\"tooltip-old-inner\\\"></div>\\n            </div>\";\n  }\n});\n// CONCATENATED MODULE: ./src/directives/index.js\n\n\n\n\n\n// CONCATENATED MODULE: ./src/index.js\nfunction src_slicedToArray(arr, i) { return src_arrayWithHoles(arr) || src_iterableToArrayLimit(arr, i) || src_unsupportedIterableToArray(arr, i) || src_nonIterableRest(); }\n\nfunction src_nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction src_unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return src_arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return src_arrayLikeToArray(o, minLen); }\n\nfunction src_arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction src_iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction src_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n\n\n\nvar removeKeysFromObject = function removeKeysFromObject(object, keys) {\n  return Object.entries(object).reduce(function (obj, _ref) {\n    var _ref2 = src_slicedToArray(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n\n    if (!keys.includes(key) && !keys.includes(value.name)) {\n      obj[key] = value;\n    }\n\n    return obj;\n  }, {});\n};\n\nvar CoreuiVue = {\n  install: function install(Vue, options) {\n    var pluginComponents = components_namespaceObject;\n    var pluginDirectives = directives_namespaceObject;\n    var toRemove = options && options.remove ? options.remove : null;\n\n    if (toRemove && Array.isArray(toRemove)) {\n      pluginComponents = removeKeysFromObject(components_namespaceObject, toRemove);\n      pluginDirectives = removeKeysFromObject(directives_namespaceObject, toRemove);\n    }\n\n    for (var plugin in pluginComponents) {\n      Vue.component(plugin, components_namespaceObject[plugin]);\n    }\n\n    for (var directive in pluginDirectives) {\n      Vue.directive(directive, directives_namespaceObject[directive]);\n    }\n  }\n}; // Export library\n\n/* harmony default export */ var src_0 = (CoreuiVue); //Export components\n\n\n\n// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js\n\n\n/* harmony default export */ var entry_lib = __webpack_exports__[\"default\"] = (src_0);\n\n\n\n/***/ })\n\n/******/ });\n//# sourceMappingURL=coreui-vue.common.js.map"]}]}